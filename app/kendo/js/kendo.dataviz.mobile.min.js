/*
* Kendo UI Beta v2014.3.1029 (http://www.telerik.com/kendo-ui)
* Copyright 2014 Telerik AD. All rights reserved.
*
* Kendo UI Beta license terms available at
* http://www.telerik.com/purchase/license-agreement/kendo-ui-beta.aspx
*/

(function(f,define){define([],f)})(function(){"bundle all";!function(t,e,n){function i(){}function r(t,e){if(e)return"'"+t.split("'").join("\\'").split('\\"').join('\\\\\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t")+"'";var n=t.charAt(0),i=t.substring(1);return"="===n?"+("+i+")+":":"===n?"+e("+i+")+":";"+t+";o+="}function o(t,e,n){return t+="",e=e||2,n=e-t.length,n?V[e].substring(0,n)+t:t}function a(t){var e=t.css(ge.support.transitions.css+"box-shadow")||t.css("box-shadow"),n=e?e.match(Te)||[0,0,0,0,0]:[0,0,0,0,0],i=xe.max(+n[3],+(n[4]||0));return{left:-n[1]+i,right:+n[1]+i,bottom:+n[2]+i}}function s(e,n){var i,r,o,s,l,c,h,d,u=ke.browser,f="rtl"==e.css("direction");return e.parent().hasClass("k-animation-container")?(h=e.parent(".k-animation-container"),d=h[0].style,h.is(":hidden")&&h.show(),i=Ce.test(d.width)||Ce.test(d.height),i||h.css({width:e.outerWidth(),height:e.outerHeight(),boxSizing:"content-box",mozBoxSizing:"content-box",webkitBoxSizing:"content-box"})):(r=a(e),o=e[0].style.width,s=e[0].style.height,l=Ce.test(o),c=Ce.test(s),u.opera&&(r.left=r.right=r.bottom=5),i=l||c,!l&&(!n||n&&o)&&(o=e.outerWidth()),!c&&(!n||n&&s)&&(s=e.outerHeight()),e.wrap(t("<div/>").addClass("k-animation-container").css({width:o,height:s,marginLeft:r.left*(f?1:-1),paddingLeft:r.left,paddingRight:r.right,paddingBottom:r.bottom})),i&&e.css({width:"100%",height:"100%",boxSizing:"border-box",mozBoxSizing:"border-box",webkitBoxSizing:"border-box"})),u.msie&&xe.floor(u.version)<=7&&(e.css({zoom:1}),e.children(".k-menu").width(e.width())),e.parent()}function l(t){var e=1,n=arguments.length;for(e=1;n>e;e++)c(t,arguments[e]);return t}function c(t,e){var n,i,r,o,a,s=ge.data.ObservableArray,l=ge.data.LazyObservableArray,h=ge.data.DataSource,d=ge.data.HierarchicalDataSource;for(n in e)i=e[n],r=typeof i,o=r===Ee&&null!==i?i.constructor:null,o&&o!==Array&&o!==s&&o!==l&&o!==h&&o!==d?i instanceof Date?t[n]=new Date(i.getTime()):M(i.clone)?t[n]=i.clone():(a=t[n],t[n]=typeof a===Ee?a||{}:{},c(t[n],i)):r!==Be&&(t[n]=i);return t}function h(t,e,i){for(var r in e)if(e.hasOwnProperty(r)&&e[r].test(t))return r;return i!==n?i:t}function d(t){return t.replace(/([a-z][A-Z])/g,function(t){return t.charAt(0)+"-"+t.charAt(1).toLowerCase()})}function u(t){return t.replace(/\-(\w)/g,function(t,e){return e.toUpperCase()})}function f(e,n){var i,r={};return document.defaultView&&document.defaultView.getComputedStyle?(i=document.defaultView.getComputedStyle(e,""),n&&t.each(n,function(t,e){r[e]=i.getPropertyValue(e)})):(i=e.currentStyle,n&&t.each(n,function(t,e){r[e]=i[u(e)]})),ge.size(r)||(r=i),r}function p(t){var e,n=0;for(e in t)t.hasOwnProperty(e)&&"toJSON"!=e&&n++;return n}function g(t,n,i){n||(n="offset");var r=t[n]();return ke.browser.msie&&(ke.pointers||ke.msPointers)&&!i&&(r.top-=e.pageYOffset-document.documentElement.scrollTop,r.left-=e.pageXOffset-document.documentElement.scrollLeft),r}function m(t){var e={};return ve("string"==typeof t?t.split(" "):t,function(t){e[t]=this}),e}function v(t){return new ge.effects.Element(t)}function y(t,e,n,i){return typeof t===Pe&&(M(e)&&(i=e,e=400,n=!1),M(n)&&(i=n,n=!1),typeof e===Le&&(n=e,e=400),t={effects:t,duration:e,reverse:n,complete:i}),me({effects:{},duration:400,reverse:!1,init:we,teardown:we,hide:!1},t,{completeCallback:t.complete,complete:we})}function _(e,n,i,r,o){for(var a,s=0,l=e.length;l>s;s++)a=t(e[s]),a.queue(function(){U.promise(a,y(n,i,r,o))});return e}function w(t,e,n,i){return e&&(e=e.split(" "),ve(e,function(e,n){t.toggleClass(n,i)})),t}function x(t){return(""+t).replace(W,"&amp;").replace(j,"&lt;").replace($,"&gt;").replace(G,"&quot;").replace(q,"&#39;")}function b(t,e){var i;return 0===e.indexOf("data")&&(e=e.substring(4),e=e.charAt(0).toLowerCase()+e.substring(1)),e=e.replace(ne,"-$1"),i=t.getAttribute("data-"+ge.ns+e),null===i?i=n:"null"===i?i=null:"true"===i?i=!0:"false"===i?i=!1:De.test(i)?i=parseFloat(i):te.test(i)&&!ee.test(i)&&(i=Function("return ("+i+")")()),i}function k(e,i){var r,o,a={};for(r in i)o=b(e,r),o!==n&&(J.test(r)&&(o=ge.template(t("#"+o).html())),a[r]=o);return a}function C(e,n){return t.contains(e,n)?-1:1}function S(){var e=t(this);return t.inArray(e.attr("data-"+ge.ns+"role"),["slider","rangeslider"])>-1||e.is(":visible")}function T(t,e){var n=t.nodeName.toLowerCase();return(/input|select|textarea|button|object/.test(n)?!t.disabled:"a"===n?t.href||e:e)&&D(t)}function D(e){return!t(e).parents().addBack().filter(function(){return"hidden"===t.css(this,"visibility")||t.expr.filters.hidden(this)}).length}function A(t,e){return new A.fn.init(t,e)}var P,M,E,I,L,B,z,F,R,O,N,V,H,U,W,j,G,q,$,Y,X,Q,K,Z,J,te,ee,ne,ie,re,oe,ae,se,le,ce,he,de,ue,fe,pe,ge=e.kendo=e.kendo||{cultures:{}},me=t.extend,ve=t.each,ye=t.isArray,_e=t.proxy,we=t.noop,xe=Math,be=e.JSON||{},ke={},Ce=/%/,Se=/\{(\d+)(:[^\}]+)?\}/g,Te=/(\d+(?:\.?)\d*)px\s*(\d+(?:\.?)\d*)px\s*(\d+(?:\.?)\d*)px\s*(\d+)?/i,De=/^(\+|-?)\d+(\.?)\d*$/,Ae="function",Pe="string",Me="number",Ee="object",Ie="null",Le="boolean",Be="undefined",ze={},Fe={},Re=[].slice,Oe=e.Globalize;ge.version="2014.3.1029",i.extend=function(t){var e,n,i=function(){},r=this,o=t&&t.init?t.init:function(){r.apply(this,arguments)};i.prototype=r.prototype,n=o.fn=o.prototype=new i;for(e in t)n[e]=null!=t[e]&&t[e].constructor===Object?me(!0,{},i.prototype[e],t[e]):t[e];return n.constructor=o,o.extend=r.extend,o},i.prototype._initOptions=function(t){this.options=l({},this.options,t)},M=ge.isFunction=function(t){return"function"==typeof t},E=function(){this._defaultPrevented=!0},I=function(){return this._defaultPrevented===!0},L=i.extend({init:function(){this._events={}},bind:function(t,e,i){var r,o,a,s,l,c=this,h=typeof t===Pe?[t]:t,d=typeof e===Ae;if(e===n){for(r in t)c.bind(r,t[r]);return c}for(r=0,o=h.length;o>r;r++)t=h[r],s=d?e:e[t],s&&(i&&(a=s,s=function(){c.unbind(t,s),a.apply(c,arguments)},s.original=a),l=c._events[t]=c._events[t]||[],l.push(s));return c},one:function(t,e){return this.bind(t,e,!0)},first:function(t,e){var n,i,r,o,a=this,s=typeof t===Pe?[t]:t,l=typeof e===Ae;for(n=0,i=s.length;i>n;n++)t=s[n],r=l?e:e[t],r&&(o=a._events[t]=a._events[t]||[],o.unshift(r));return a},trigger:function(t,e){var n,i,r=this,o=r._events[t];if(o){for(e=e||{},e.sender=r,e._defaultPrevented=!1,e.preventDefault=E,e.isDefaultPrevented=I,o=o.slice(),n=0,i=o.length;i>n;n++)o[n].call(r,e);return e._defaultPrevented===!0}return!1},unbind:function(t,e){var i,r=this,o=r._events[t];if(t===n)r._events={};else if(o)if(e)for(i=o.length-1;i>=0;i--)(o[i]===e||o[i].original===e)&&o.splice(i,1);else r._events[t]=[];return r}}),B=/^\w+/,z=/\$\{([^}]*)\}/g,F=/\\\}/g,R=/__CURLY__/g,O=/\\#/g,N=/__SHARP__/g,V=["","0","00","000","0000"],P={paramName:"data",useWithBlock:!0,render:function(t,e){var n,i,r="";for(n=0,i=e.length;i>n;n++)r+=t(e[n]);return r},compile:function(t,e){var n,i,o,a=me({},this,e),s=a.paramName,l=s.match(B)[0],c=a.useWithBlock,h="var o,e=kendo.htmlEncode;";if(M(t))return t;for(h+=c?"with("+s+"){":"",h+="o=",i=t.replace(F,"__CURLY__").replace(z,"#=e($1)#").replace(R,"}").replace(O,"__SHARP__").split("#"),o=0;i.length>o;o++)h+=r(i[o],o%2===0);h+=c?";}":";",h+="return o;",h=h.replace(N,"#");try{return n=Function(l,h),n._slotCount=Math.floor(i.length/2),n}catch(d){throw Error(ge.format("Invalid template:'{0}' Generated code:'{1}'",t,h))}}},function(){function t(t){return a.lastIndex=0,a.test(t)?'"'+t.replace(a,function(t){var e=s[t];return typeof e===Pe?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function e(o,a){var s,c,h,d,u,f,p=n,g=a[o];if(g&&typeof g===Ee&&typeof g.toJSON===Ae&&(g=g.toJSON(o)),typeof r===Ae&&(g=r.call(a,o,g)),f=typeof g,f===Pe)return t(g);if(f===Me)return isFinite(g)?g+"":Ie;if(f===Le||f===Ie)return g+"";if(f===Ee){if(!g)return Ie;if(n+=i,u=[],"[object Array]"===l.apply(g)){for(d=g.length,s=0;d>s;s++)u[s]=e(s,g)||Ie;return h=0===u.length?"[]":n?"[\n"+n+u.join(",\n"+n)+"\n"+p+"]":"["+u.join(",")+"]",n=p,h}if(r&&typeof r===Ee)for(d=r.length,s=0;d>s;s++)typeof r[s]===Pe&&(c=r[s],h=e(c,g),h&&u.push(t(c)+(n?": ":":")+h));else for(c in g)Object.hasOwnProperty.call(g,c)&&(h=e(c,g),h&&u.push(t(c)+(n?": ":":")+h));return h=0===u.length?"{}":n?"{\n"+n+u.join(",\n"+n)+"\n"+p+"}":"{"+u.join(",")+"}",n=p,h}}var n,i,r,a=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,s={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},l={}.toString;typeof Date.prototype.toJSON!==Ae&&(Date.prototype.toJSON=function(){var t=this;return isFinite(t.valueOf())?o(t.getUTCFullYear(),4)+"-"+o(t.getUTCMonth()+1)+"-"+o(t.getUTCDate())+"T"+o(t.getUTCHours())+":"+o(t.getUTCMinutes())+":"+o(t.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}),typeof be.stringify!==Ae&&(be.stringify=function(t,o,a){var s;if(n="",i="",typeof a===Me)for(s=0;a>s;s+=1)i+=" ";else typeof a===Pe&&(i=a);if(r=o,o&&typeof o!==Ae&&(typeof o!==Ee||typeof o.length!==Me))throw Error("JSON.stringify");return e("",{"":t})})}(),function(){function e(t){if(t){if(t.numberFormat)return t;if(typeof t===Pe){var e=ge.cultures;return e[t]||e[t.split("-")[0]]||null}return null}return null}function i(t){return t&&(t=e(t)),t||ge.cultures.current}function r(t){t.groupSizes=t.groupSize,t.percent.groupSizes=t.percent.groupSize,t.currency.groupSizes=t.currency.groupSize}function a(t,e,r){r=i(r);var a=r.calendars.standard,s=a.days,l=a.months;return e=a.patterns[e]||e,e.replace(h,function(e){var i,r,c;return"d"===e?r=t.getDate():"dd"===e?r=o(t.getDate()):"ddd"===e?r=s.namesAbbr[t.getDay()]:"dddd"===e?r=s.names[t.getDay()]:"M"===e?r=t.getMonth()+1:"MM"===e?r=o(t.getMonth()+1):"MMM"===e?r=l.namesAbbr[t.getMonth()]:"MMMM"===e?r=l.names[t.getMonth()]:"yy"===e?r=o(t.getFullYear()%100):"yyyy"===e?r=o(t.getFullYear(),4):"h"===e?r=t.getHours()%12||12:"hh"===e?r=o(t.getHours()%12||12):"H"===e?r=t.getHours():"HH"===e?r=o(t.getHours()):"m"===e?r=t.getMinutes():"mm"===e?r=o(t.getMinutes()):"s"===e?r=t.getSeconds():"ss"===e?r=o(t.getSeconds()):"f"===e?r=xe.floor(t.getMilliseconds()/100):"ff"===e?(r=t.getMilliseconds(),r>99&&(r=xe.floor(r/10)),r=o(r)):"fff"===e?r=o(t.getMilliseconds(),3):"tt"===e?r=t.getHours()<12?a.AM[0]:a.PM[0]:"zzz"===e?(i=t.getTimezoneOffset(),c=0>i,r=(""+xe.abs(i/60)).split(".")[0],i=xe.abs(i)-60*r,r=(c?"+":"-")+o(r),r+=":"+o(i)):("zz"===e||"z"===e)&&(r=t.getTimezoneOffset()/60,c=0>r,r=(""+xe.abs(r)).split(".")[0],r=(c?"+":"-")+("zz"===e?o(r):r)),r!==n?r:e.slice(1,e.length-1)})}function s(t,e,r){r=i(r);var o,a,s,c,h,w,x,b,k,C,S,T,D,A,P,M,E,I,L,B,z,F,R,O=r.numberFormat,N=O.groupSize[0],V=O[m],H=O[g],U=O.decimals,W=O.pattern[0],j=[],G=0>t,q=p,$=p,Y=-1;if(t===n)return p;if(!isFinite(t))return t;if(!e)return r.name.length?t.toLocaleString():""+t;if(h=d.exec(e)){if(e=h[1].toLowerCase(),a="c"===e,s="p"===e,(a||s)&&(O=a?O.currency:O.percent,N=O.groupSize[0],V=O[m],H=O[g],U=O.decimals,o=O.symbol,W=O.pattern[G?0:1]),c=h[2],c&&(U=+c),"e"===e)return c?t.toExponential(U):t.toExponential();if(s&&(t*=100),t=l(t,U),G=0>t,t=t.split(g),w=t[0],x=t[1],G&&(w=w.substring(1)),$=w,b=w.length,b>=N)for($=p,C=0;b>C;C++)C>0&&(b-C)%N===0&&($+=V),$+=w.charAt(C);if(x&&($+=H+x),"n"===e&&!G)return $;for(t=p,C=0,S=W.length;S>C;C++)T=W.charAt(C),t+="n"===T?$:"$"===T||"%"===T?o:T;return t}if(G&&(t=-t),(e.indexOf("'")>-1||e.indexOf('"')>-1||e.indexOf("\\")>-1)&&(e=e.replace(u,function(t){var e=t.charAt(0).replace("\\",""),n=t.slice(1).replace(e,"");return j.push(n),_})),e=e.split(";"),G&&e[1])e=e[1],A=!0;else if(0===t){if(e=e[2]||e[0],-1==e.indexOf(v)&&-1==e.indexOf(y))return e}else e=e[0];if(B=e.indexOf("%"),z=e.indexOf("$"),s=-1!=B,a=-1!=z,s&&(t*=100),a&&"\\"===e[z-1]&&(e=e.split("\\").join(""),a=!1),(a||s)&&(O=a?O.currency:O.percent,N=O.groupSize[0],V=O[m],H=O[g],U=O.decimals,o=O.symbol),D=e.indexOf(m)>-1,D&&(e=e.replace(f,p)),P=e.indexOf(g),S=e.length,-1!=P?(x=(""+t).split("e"),x=x[1]?l(t,Math.abs(x[1])):x[0],x=x.split(g)[1]||p,E=e.lastIndexOf(y)-P,M=e.lastIndexOf(v)-P,I=E>-1,L=M>-1,C=x.length,I||L||(e=e.substring(0,P)+e.substring(P+1),S=e.length,P=-1,C=0),I&&E>M?C=E:M>E&&(L&&C>M?C=M:I&&E>C&&(C=E)),C>-1&&(t=l(t,C))):t=l(t),M=e.indexOf(v),F=E=e.indexOf(y),Y=-1==M&&-1!=E?E:-1!=M&&-1==E?M:M>E?E:M,M=e.lastIndexOf(v),E=e.lastIndexOf(y),R=-1==M&&-1!=E?E:-1!=M&&-1==E?M:M>E?M:E,Y==S&&(R=Y),-1!=Y){if($=(""+t).split(g),w=$[0],x=$[1]||p,b=w.length,k=x.length,G&&-1*t>=0&&(G=!1),D)if(b===N&&P-F>b)w=V+w;else if(b>N){for($=p,C=0;b>C;C++)C>0&&(b-C)%N===0&&($+=V),$+=w.charAt(C);w=$}for(t=e.substring(0,Y),G&&!A&&(t+="-"),C=Y;S>C;C++){if(T=e.charAt(C),-1==P){if(b>R-C){t+=w;break}}else if(-1!=E&&C>E&&(q=p),b>=P-C&&P-C>-1&&(t+=w,C=P),P===C){t+=(x?H:p)+x,C+=R-P+1;continue}T===y?(t+=T,q=T):T===v&&(t+=q)}if(R>=Y&&(t+=e.substring(R+1)),a||s){for($=p,C=0,S=t.length;S>C;C++)T=t.charAt(C),$+="$"===T||"%"===T?o:T;t=$}if(S=j.length)for(C=0;S>C;C++)t=t.replace(_,j[C])}return t}var l,c,h=/dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|HH|H|hh|h|mm|m|fff|ff|f|tt|ss|s|zzz|zz|z|"[^"]*"|'[^']*'/g,d=/^(n|c|p|e)(\d*)$/i,u=/(\\.)|(['][^']*[']?)|(["][^"]*["]?)/g,f=/\,/g,p="",g=".",m=",",v="#",y="0",_="??",w="en-US",x={}.toString;ge.cultures["en-US"]={name:w,numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSize:[3],percent:{pattern:["-n %","n %"],decimals:2,",":",",".":".",groupSize:[3],symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,",":",",".":".",groupSize:[3],symbol:"$"}},calendars:{standard:{days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December"],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},AM:["AM","am","AM"],PM:["PM","pm","PM"],patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",F:"dddd, MMMM dd, yyyy h:mm:ss tt",g:"M/d/yyyy h:mm tt",G:"M/d/yyyy h:mm:ss tt",m:"MMMM dd",M:"MMMM dd",s:"yyyy'-'MM'-'ddTHH':'mm':'ss",t:"h:mm tt",T:"h:mm:ss tt",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'",y:"MMMM, yyyy",Y:"MMMM, yyyy"},"/":"/",":":":",firstDay:0,twoDigitYearMax:2029}}},ge.culture=function(t){var i,o=ge.cultures;return t===n?o.current:(i=e(t)||o[w],i.calendar=i.calendars.standard,o.current=i,Oe&&!Oe.load&&r(i.numberFormat),n)},ge.findCulture=e,ge.getCulture=i,ge.culture(w),l=function(t,e){return e=e||0,t=(""+t).split("e"),t=Math.round(+(t[0]+"e"+(t[1]?+t[1]+e:e))),t=(""+t).split("e"),t=+(t[0]+"e"+(t[1]?+t[1]-e:-e)),t.toFixed(e)},c=function(t,e,i){if(e){if("[object Date]"===x.call(t))return a(t,e,i);if(typeof t===Me)return s(t,e,i)}return t!==n?t:""},Oe&&!Oe.load&&(c=function(e,n,i){return t.isPlainObject(i)&&(i=i.name),Oe.format(e,n,i)}),ge.format=function(t){var e=arguments;return t.replace(Se,function(t,n,i){var r=e[parseInt(n,10)+1];return c(r,i?i.substring(1):"")})},ge._extractFormat=function(t){return"{0:"===t.slice(0,3)&&(t=t.slice(3,t.length-1)),t},ge._activeElement=function(){try{return document.activeElement}catch(t){return document.documentElement.activeElement}},ge._round=l,ge.toString=c}(),function(){function e(t,e,n){return!(t>=e&&n>=t)}function i(t){return t.charAt(0)}function r(e){return t.map(e,i)}function o(t,e){e||23!==t.getHours()||t.setHours(t.getHours()+2)}function a(t){for(var e=0,n=t.length,i=[];n>e;e++)i[e]=(t[e]+"").toLowerCase();return i}function s(t){var e,n={};for(e in t)n[e]=a(t[e]);return n}function l(t,i,a){if(!t)return null;var l,c,h,d,p,g,m,y,_,w,x,b,k,C=function(t){for(var e=0;i[F]===t;)e++,F++;return e>0&&(F-=1),e},S=function(e){var n=v[e]||RegExp("^\\d{1,"+e+"}"),i=t.substr(R,e).match(n);return i?(i=i[0],R+=i.length,parseInt(i,10)):null},T=function(e,n){for(var i,r,o,a=0,s=e.length;s>a;a++)if(i=e[a],r=i.length,o=t.substr(R,r),n&&(o=o.toLowerCase()),o==i)return R+=r,a+1;return null},D=function(){var e=!1;return t.charAt(R)===i[F]&&(R++,e=!0),e},A=a.calendars.standard,P=null,M=null,E=null,I=null,L=null,B=null,z=null,F=0,R=0,O=!1,N=new Date,V=A.twoDigitYearMax||2029,H=N.getFullYear();for(i||(i="d"),d=A.patterns[i],d&&(i=d),i=i.split(""),h=i.length;h>F;F++)if(l=i[F],O)"'"===l?O=!1:D();else if("d"===l){if(c=C("d"),A._lowerDays||(A._lowerDays=s(A.days)),E=3>c?S(2):T(A._lowerDays[3==c?"namesAbbr":"names"],!0),null===E||e(E,1,31))return null}else if("M"===l){if(c=C("M"),A._lowerMonths||(A._lowerMonths=s(A.months)),M=3>c?S(2):T(A._lowerMonths[3==c?"namesAbbr":"names"],!0),null===M||e(M,1,12))return null;M-=1}else if("y"===l){if(c=C("y"),P=S(c),null===P)return null;2==c&&("string"==typeof V&&(V=H+parseInt(V,10)),P=H-H%100+P,P>V&&(P-=100))}else if("h"===l){if(C("h"),I=S(2),12==I&&(I=0),null===I||e(I,0,11))return null}else if("H"===l){if(C("H"),I=S(2),null===I||e(I,0,23))return null}else if("m"===l){if(C("m"),L=S(2),null===L||e(L,0,59))return null}else if("s"===l){if(C("s"),B=S(2),null===B||e(B,0,59))return null}else if("f"===l){if(c=C("f"),k=t.substr(R,c).match(v[3]),z=S(c),null!==z&&(k=k[0].length,3>k&&(z*=Math.pow(10,3-k)),c>3&&(z=parseInt((""+z).substring(0,3),10))),null===z||e(z,0,999))return null}else if("t"===l){if(c=C("t"),y=A.AM,_=A.PM,1===c&&(y=r(y),_=r(_)),p=T(_),!p&&!T(y))return null}else if("z"===l){if(g=!0,c=C("z"),"Z"===t.substr(R,1)){D();continue}if(m=t.substr(R,6).match(c>2?f:u),!m)return null;if(m=m[0].split(":"),w=m[0],x=m[1],!x&&w.length>3&&(R=w.length-2,x=w.substring(R),w=w.substring(0,R)),w=parseInt(w,10),e(w,-12,13))return null;if(c>2&&(x=parseInt(x,10),isNaN(x)||e(x,0,59)))return null}else if("'"===l)O=!0,D();else if(!D())return null;return b=null!==I||null!==L||B||null,null===P&&null===M&&null===E&&b?(P=H,M=N.getMonth(),E=N.getDate()):(null===P&&(P=H),null===E&&(E=1)),p&&12>I&&(I+=12),g?(w&&(I+=-w),x&&(L+=-x),t=new Date(Date.UTC(P,M,E,I,L,B,z))):(t=new Date(P,M,E,I,L,B,z),o(t,I)),100>P&&t.setFullYear(P),t.getDate()!==E&&g===n?null:t}function c(t){var e="-"===t.substr(0,1)?-1:1;return t=t.substring(1),t=60*parseInt(t.substr(0,2),10)+parseInt(t.substring(2),10),e*t}var h=/\u00A0/g,d=/[eE][\-+]?[0-9]+/,u=/[+|\-]\d{1,2}/,f=/[+|\-]\d{1,2}:?\d{2}/,p=/^\/Date\((.*?)\)\/$/,g=/[+-]\d*/,m=["G","g","d","F","D","y","m","T","t"],v={2:/^\d{1,2}/,3:/^\d{1,3}/,4:/^\d{4}/},y={}.toString;ge.parseDate=function(t,e,n){var i,r,o,a,s;if("[object Date]"===y.call(t))return t;if(i=0,r=null,t&&0===t.indexOf("/D")&&(r=p.exec(t)))return r=r[1],s=g.exec(r.substring(1)),r=new Date(parseInt(r,10)),s&&(s=c(s[0]),r=ge.timezone.apply(r,0),r=ge.timezone.convert(r,0,-1*s)),r;if(n=ge.getCulture(n),!e){for(e=[],a=n.calendar.patterns,o=m.length;o>i;i++)e[i]=a[m[i]];i=0,e=["yyyy/MM/dd HH:mm:ss","yyyy/MM/dd HH:mm","yyyy/MM/dd","ddd MMM dd yyyy HH:mm:ss","yyyy-MM-ddTHH:mm:ss.fffffffzzz","yyyy-MM-ddTHH:mm:ss.fffzzz","yyyy-MM-ddTHH:mm:sszzz","yyyy-MM-ddTHH:mm:ss.fffffff","yyyy-MM-ddTHH:mm:ss.fff","yyyy-MM-ddTHH:mmzzz","yyyy-MM-ddTHH:mmzz","yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mm","yyyy-MM-dd HH:mm:ss","yyyy-MM-dd HH:mm","yyyy-MM-dd","HH:mm:ss","HH:mm"].concat(e)}for(e=ye(e)?e:[e],o=e.length;o>i;i++)if(r=l(t,e[i],n))return r;return r},ge.parseInt=function(t,e){var n=ge.parseFloat(t,e);return n&&(n=0|n),n},ge.parseFloat=function(t,e,n){if(!t&&0!==t)return null;if(typeof t===Me)return t;t=""+t,e=ge.getCulture(e);var i,r,o=e.numberFormat,a=o.percent,s=o.currency,l=s.symbol,c=a.symbol,u=t.indexOf("-");return d.test(t)?(t=parseFloat(t.replace(o["."],".")),isNaN(t)&&(t=null),t):u>0?null:(u=u>-1,t.indexOf(l)>-1||n&&n.toLowerCase().indexOf("c")>-1?(o=s,i=o.pattern[0].replace("$",l).split("n"),t.indexOf(i[0])>-1&&t.indexOf(i[1])>-1&&(t=t.replace(i[0],"").replace(i[1],""),u=!0)):t.indexOf(c)>-1&&(r=!0,o=a,l=c),t=t.replace("-","").replace(l,"").replace(h," ").split(o[","].replace(h," ")).join("").replace(o["."],"."),t=parseFloat(t),isNaN(t)?t=null:u&&(t*=-1),t&&r&&(t/=100),t)},Oe&&!Oe.load&&(ge.parseDate=function(t,e,n){return"[object Date]"===y.call(t)?t:Oe.parseDate(t,e,n)},ge.parseFloat=function(e,i){return typeof e===Me?e:e===n||null===e?null:(t.isPlainObject(i)&&(i=i.name),e=Oe.parseFloat(e,i),isNaN(e)?null:e)})}(),function(){var i,r,o,a,s,l,c;ke._scrollbar=n,ke.scrollbar=function(t){if(isNaN(ke._scrollbar)||t){var e,n=document.createElement("div");return n.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both;display:block",n.innerHTML="&nbsp;",document.body.appendChild(n),ke._scrollbar=e=n.offsetWidth-n.scrollWidth,document.body.removeChild(n),e}return ke._scrollbar},ke.isRtl=function(e){return t(e).closest(".k-rtl").length>0},i=document.createElement("table");try{i.innerHTML="<tr><td></td></tr>",ke.tbodyInnerHtml=!0}catch(d){ke.tbodyInnerHtml=!1}ke.touch="ontouchstart"in e,ke.msPointers=e.MSPointerEvent,ke.pointers=e.PointerEvent,r=ke.transitions=!1,o=ke.transforms=!1,a="HTMLElement"in e?HTMLElement.prototype:[],ke.hasHW3D="WebKitCSSMatrix"in e&&"m11"in new e.WebKitCSSMatrix||"MozPerspective"in document.documentElement.style||"msPerspective"in document.documentElement.style,ve(["Moz","webkit","O","ms"],function(){var t,e=""+this,a=typeof i.style[e+"Transition"]===Pe;return a||typeof i.style[e+"Transform"]===Pe?(t=e.toLowerCase(),o={css:"ms"!=t?"-"+t+"-":"",prefix:e,event:"o"===t||"webkit"===t?t:""},a&&(r=o,r.event=r.event?r.event+"TransitionEnd":"transitionend"),!1):n}),i=null,ke.transforms=o,ke.transitions=r,ke.devicePixelRatio=e.devicePixelRatio===n?1:e.devicePixelRatio;try{ke.screenWidth=e.outerWidth||e.screen?e.screen.availWidth:e.innerWidth,ke.screenHeight=e.outerHeight||e.screen?e.screen.availHeight:e.innerHeight}catch(d){ke.screenWidth=e.screen.availWidth,ke.screenHeight=e.screen.availHeight}ke.detectOS=function(t){var n,i,r=!1,o=[],a=!/mobile safari/i.test(t),s={wp:/(Windows Phone(?: OS)?)\s(\d+)\.(\d+(\.\d+)?)/,fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)\.(\d+(\.\d+)?)/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,meego:/(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/,webos:/(webOS)\/(\d+)\.(\d+(\.\d+)?)/,blackberry:/(BlackBerry|BB10).*?Version\/(\d+)\.(\d+(\.\d+)?)/,playbook:/(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,windows:/(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/,tizen:/(tizen).*?Version\/(\d+)\.(\d+(\.\d+)?)/i,sailfish:/(sailfish).*rv:(\d+)\.(\d+(\.\d+)?).*firefox/i,ffos:/(Mobile).*rv:(\d+)\.(\d+(\.\d+)?).*Firefox/},l={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i,blackberry:/^blackberry|playbook/i,windows:/windows/,wp:/wp/,flat:/sailfish|ffos|tizen/i,meego:/meego/},c={tablet:/playbook|ipad|fire/i},d={omini:/Opera\sMini/i,omobile:/Opera\sMobi/i,firefox:/Firefox|Fennec/i,mobilesafari:/version\/.*safari/i,ie:/MSIE|Windows\sPhone/i,chrome:/chrome|crios/i,webkit:/webkit/i};for(i in s)if(s.hasOwnProperty(i)&&(o=t.match(s[i]))){if("windows"==i&&"plugins"in navigator)return!1;r={},r.device=i,r.tablet=h(i,c,!1),r.browser=h(t,d,"default"),r.name=h(i,l),r[r.name]=!0,r.majorVersion=o[2],r.minorVersion=o[3].replace("_","."),n=r.minorVersion.replace(".","").substr(0,2),r.flatVersion=r.majorVersion+n+Array(3-(3>n.length?n.length:2)).join("0"),r.cordova=typeof e.PhoneGap!==Be||typeof e.cordova!==Be,r.appMode=e.navigator.standalone||/file|local|wmapp/.test(e.location.protocol)||r.cordova,r.android&&(1.5>ke.devicePixelRatio&&400>r.flatVersion||a)&&(ke.screenWidth>800||ke.screenHeight>800)&&(r.tablet=i);break}return r},s=ke.mobileOS=ke.detectOS(navigator.userAgent),ke.wpDevicePixelRatio=s.wp?screen.width/320:0,ke.kineticScrollNeeded=s&&(ke.touch||ke.msPointers||ke.pointers),ke.hasNativeScrolling=!1,(s.ios||s.android&&s.majorVersion>2||s.wp)&&(ke.hasNativeScrolling=s),ke.mouseAndTouchPresent=ke.touch&&!(ke.mobileOS.ios||ke.mobileOS.android),ke.detectBrowser=function(t){var e,n=!1,i=[],r={webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};for(e in r)if(r.hasOwnProperty(e)&&(i=t.match(r[e]))){n={},n[e]=!0,n[i[1].toLowerCase().split(" ")[0].split("/")[0]]=!0,n.version=parseInt(document.documentMode||i[2],10);break}return n},ke.browser=ke.detectBrowser(navigator.userAgent),ke.zoomLevel=function(){try{return ke.touch?document.documentElement.clientWidth/e.innerWidth:ke.browser.msie&&ke.browser.version>=10?(top||e).document.documentElement.offsetWidth/(top||e).innerWidth:1}catch(t){return 1}},ke.cssBorderSpacing=n!==document.documentElement.style.borderSpacing&&!(ke.browser.msie&&8>ke.browser.version),function(e){var n="",i=t(document.documentElement),r=parseInt(e.version,10);e.msie?n="ie":e.mozilla?n="ff":e.safari?n="safari":e.webkit?n="webkit":e.opera&&(n="opera"),n&&(n="k-"+n+" k-"+n+r),ke.mobileOS&&(n+=" k-mobile"),i.addClass(n)}(ke.browser),ke.eventCapture=document.documentElement.addEventListener,l=document.createElement("input"),ke.placeholder="placeholder"in l,ke.propertyChangeEvent="onpropertychange"in l,ke.input=function(){for(var t,e=["number","date","time","month","week","datetime","datetime-local"],n=e.length,i="test",r={},o=0;n>o;o++)t=e[o],l.setAttribute("type",t),l.value=i,r[t.replace("-","")]="text"!==l.type&&l.value!==i;return r}(),l.style.cssText="float:left;",ke.cssFloat=!!l.style.cssFloat,l=null,ke.stableSort=function(){var t,e=513,n=[{index:0,field:"b"}];for(t=1;e>t;t++)n.push({index:t,field:"a"});return n.sort(function(t,e){return t.field>e.field?1:e.field>t.field?-1:0}),1===n[0].index}(),ke.matchesSelector=a.webkitMatchesSelector||a.mozMatchesSelector||a.msMatchesSelector||a.oMatchesSelector||a.matchesSelector||a.matches||function(e){for(var n=document.querySelectorAll?(this.parentNode||document).querySelectorAll(e)||[]:t(e),i=n.length;i--;)if(n[i]==this)return!0;return!1},ke.pushState=e.history&&e.history.pushState,c=document.documentMode,ke.hashChange="onhashchange"in e&&!(ke.browser.msie&&(!c||8>=c))}(),H={left:{reverse:"right"},right:{reverse:"left"},down:{reverse:"up"},up:{reverse:"down"},top:{reverse:"bottom"},bottom:{reverse:"top"},"in":{reverse:"out"},out:{reverse:"in"}},U={},t.extend(U,{enabled:!0,Element:function(e){this.element=t(e)},promise:function(t,e){t.is(":visible")||t.css({display:t.data("olddisplay")||"block"}).css("display"),e.hide&&t.data("olddisplay",t.css("display")).hide(),e.init&&e.init(),e.completeCallback&&e.completeCallback(t),t.dequeue()},disable:function(){this.enabled=!1,this.promise=this.promiseShim},enable:function(){this.enabled=!0,this.promise=this.animatedPromise}}),U.promiseShim=U.promise,"kendoAnimate"in t.fn||me(t.fn,{kendoStop:function(t,e){return this.stop(t,e)},kendoAnimate:function(t,e,n,i){return _(this,t,e,n,i)},kendoAddClass:function(t,e){return ge.toggleClass(this,t,e,!0)},kendoRemoveClass:function(t,e){return ge.toggleClass(this,t,e,!1)},kendoToggleClass:function(t,e,n){return ge.toggleClass(this,t,e,n)}}),W=/&/g,j=/</g,G=/"/g,q=/'/g,$=/>/g,Y=function(t){return t.target},ke.touch&&(Y=function(t){var e="originalEvent"in t?t.originalEvent.changedTouches:"changedTouches"in t?t.changedTouches:null;return e?document.elementFromPoint(e[0].clientX,e[0].clientY):t.target},ve(["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap"],function(e,n){t.fn[n]=function(t){return this.bind(n,t)}})),ke.touch?ke.mobileOS?(ke.mousedown="touchstart",ke.mouseup="touchend",ke.mousemove="touchmove",ke.mousecancel="touchcancel",ke.click="touchend",ke.resize="orientationchange"):(ke.mousedown="mousedown touchstart",ke.mouseup="mouseup touchend",ke.mousemove="mousemove touchmove",ke.mousecancel="mouseleave touchcancel",ke.click="click",ke.resize="resize"):ke.pointers?(ke.mousemove="pointermove",ke.mousedown="pointerdown",ke.mouseup="pointerup",ke.mousecancel="pointercancel",ke.click="pointerup",ke.resize="orientationchange resize"):ke.msPointers?(ke.mousemove="MSPointerMove",ke.mousedown="MSPointerDown",ke.mouseup="MSPointerUp",ke.mousecancel="MSPointerCancel",ke.click="MSPointerUp",ke.resize="orientationchange resize"):(ke.mousemove="mousemove",ke.mousedown="mousedown",ke.mouseup="mouseup",ke.mousecancel="mouseleave",ke.click="click",ke.resize="resize"),X=function(t,e){var n,i,r,o,a=e||"d",s=1;for(i=0,r=t.length;r>i;i++)o=t[i],""!==o&&(n=o.indexOf("["),0!==n&&(-1==n?o="."+o:(s++,o="."+o.substring(0,n)+" || {})"+o.substring(n))),s++,a+=o+(r-1>i?" || {})":")"));return Array(s).join("(")+a},Q=/^([a-z]+:)?\/\//i,me(ge,{ui:ge.ui||{},fx:ge.fx||v,effects:ge.effects||U,mobile:ge.mobile||{},data:ge.data||{},dataviz:ge.dataviz||{},keys:{INSERT:45,DELETE:46,BACKSPACE:8,TAB:9,ENTER:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,END:35,HOME:36,SPACEBAR:32,PAGEUP:33,PAGEDOWN:34,F2:113,F10:121,F12:123,NUMPAD_PLUS:107,NUMPAD_MINUS:109,NUMPAD_DOT:110},support:ge.support||ke,animate:ge.animate||_,ns:"",attr:function(t){return"data-"+ge.ns+t},getShadows:a,wrap:s,deepExtend:l,getComputedStyles:f,size:p,toCamelCase:u,toHyphens:d,getOffset:ge.getOffset||g,parseEffects:ge.parseEffects||m,toggleClass:ge.toggleClass||w,directions:ge.directions||H,Observable:L,Class:i,Template:P,template:_e(P.compile,P),render:_e(P.render,P),stringify:_e(be.stringify,be),eventTarget:Y,htmlEncode:x,isLocalUrl:function(t){return t&&!Q.test(t)},expr:function(t,e,n){return t=t||"",typeof e==Pe&&(n=e,e=!1),n=n||"d",t&&"["!==t.charAt(0)&&(t="."+t),t=e?X(t.split("."),n):n+t},getter:function(t,e){var n=t+e;return ze[n]=ze[n]||Function("d","return "+ge.expr(t,e))},setter:function(t){return Fe[t]=Fe[t]||Function("d,value",ge.expr(t)+"=value")},accessor:function(t){return{get:ge.getter(t),set:ge.setter(t)}},guid:function(){var t,e,n="";for(t=0;32>t;t++)e=16*xe.random()|0,(8==t||12==t||16==t||20==t)&&(n+="-"),n+=(12==t?4:16==t?3&e|8:e).toString(16);return n},roleSelector:function(t){return t.replace(/(\S+)/g,"["+ge.attr("role")+"=$1],").slice(0,-1)},directiveSelector:function(t){var e,n=t.split(" ");if(n)for(e=0;n.length>e;e++)"view"!=n[e]&&(n[e]=n[e].replace(/(\w*)(view|bar|strip|over)$/,"$1-$2"));return n.join(" ").replace(/(\S+)/g,"kendo-mobile-$1,").slice(0,-1)},triggeredByInput:function(t){return/^(label|input|textarea|select)$/i.test(t.target.tagName)},logToConsole:function(t){var i=e.console;!ge.suppressLog&&n!==i&&i.log&&i.log(t)}}),K=L.extend({init:function(t,e){var n,i=this;i.element=ge.jQuery(t).handler(i),i.angular("init",e),L.fn.init.call(i),n=e?e.dataSource:null,n&&(e=me({},e,{dataSource:{}})),e=i.options=me(!0,{},i.options,e),n&&(e.dataSource=n),i.element.attr(ge.attr("role"))||i.element.attr(ge.attr("role"),(e.name||"").toLowerCase()),i.element.data("kendo"+e.prefix+e.name,i),i.bind(i.events,e)},events:[],options:{prefix:""},_hasBindingTarget:function(){return!!this.element[0].kendoBindingTarget},_tabindex:function(t){t=t||this.wrapper;var e=this.element,n="tabindex",i=t.attr(n)||e.attr(n);e.removeAttr(n),t.attr(n,isNaN(i)?0:i)},setOptions:function(e){this._setEvents(e),t.extend(this.options,e)},_setEvents:function(t){for(var e,n=this,i=0,r=n.events.length;r>i;i++)e=n.events[i],n.options[e]&&t[e]&&n.unbind(e,n.options[e]);n.bind(n.events,t)},resize:function(t){var e=this.getSize(),n=this._size;(t||!n||e.width!==n.width||e.height!==n.height)&&(this._size=e,this._resize(e),this.trigger("resize",e))},getSize:function(){return ge.dimensions(this.element)},size:function(t){return t?(this.setSize(t),n):this.getSize()},setSize:t.noop,_resize:t.noop,destroy:function(){var t=this;t.element.removeData("kendo"+t.options.prefix+t.options.name),t.element.removeData("handler"),t.unbind()},angular:function(){}}),Z=K.extend({dataItems:function(){return this.dataSource.flatView()},_angularItems:function(e){var n=this;n.angular(e,function(){return{elements:n.items(),data:t.map(n.dataItems(),function(t){return{dataItem:t}})}})}}),ge.dimensions=function(t,e){var n=t[0];return e&&t.css(e),{width:n.offsetWidth,height:n.offsetHeight}},ge.notify=we,J=/template$/i,te=/^\s*(?:\{(?:.|\r\n|\n)*\}|\[(?:.|\r\n|\n)*\])\s*$/,ee=/^\{(\d+)(:[^\}]+)?\}|^\[[A-Za-z_]*\]$/,ne=/([A-Z])/g,ge.initWidget=function(i,r,o){var a,s,l,c,h,d,u,f,p,g,m,v,y;if(o?o.roles&&(o=o.roles):o=ge.ui.roles,i=i.nodeType?i:i[0],d=i.getAttribute("data-"+ge.ns+"role")){p=-1===d.indexOf("."),l=p?o[d]:ge.getter(d)(e),m=t(i).data(),v=l?"kendo"+l.fn.options.prefix+l.fn.options.name:"",g=p?RegExp("^kendo.*"+d+"$","i"):RegExp("^"+v+"$","i");
for(y in m)if(y.match(g)){if(y!==v)return m[y];a=m[y]}if(l){for(f=b(i,"dataSource"),r=t.extend({},k(i,l.fn.options),r),f&&(r.dataSource=typeof f===Pe?ge.getter(f)(e):f),c=0,h=l.fn.events.length;h>c;c++)s=l.fn.events[c],u=b(i,s),u!==n&&(r[s]=ge.getter(u)(e));return a?a.setOptions(r):a=new l(i,r),a}}},ge.rolesFromNamespaces=function(t){var e,n,i=[];for(t[0]||(t=[ge.ui,ge.dataviz.ui]),e=0,n=t.length;n>e;e++)i[e]=t[e].roles;return me.apply(null,[{}].concat(i.reverse()))},ge.init=function(e){var n=ge.rolesFromNamespaces(Re.call(arguments,1));t(e).find("[data-"+ge.ns+"role]").addBack().each(function(){ge.initWidget(this,{},n)})},ge.destroy=function(e){t(e).find("[data-"+ge.ns+"role]").addBack().each(function(){var e,n=t(this).data();for(e in n)0===e.indexOf("kendo")&&typeof n[e].destroy===Ae&&n[e].destroy()})},ge.resize=function(e,n){var i,r=t(e).find("[data-"+ge.ns+"role]").addBack().filter(S);r.length&&(i=t.makeArray(r),i.sort(C),t.each(i,function(){var e=ge.widgetInstance(t(this));e&&e.resize(n)}))},ge.parseOptions=k,me(ge.ui,{Widget:K,DataBoundWidget:Z,roles:{},progress:function(e,n){var i,r,o,a,s=e.find(".k-loading-mask"),l=ge.support,c=l.browser;n?s.length||(i=l.isRtl(e),r=i?"right":"left",a=e.scrollLeft(),o=c.webkit&&i?e[0].scrollWidth-e.width()-2*a:0,s=t("<div class='k-loading-mask'><span class='k-loading-text'>Loading...</span><div class='k-loading-image'/><div class='k-loading-color'/></div>").width("100%").height("100%").css("top",e.scrollTop()).css(r,Math.abs(a)+o).prependTo(e)):s&&s.remove()},plugin:function(e,i,r){var o,a=e.fn.options.name;i=i||ge.ui,r=r||"",i[a]=e,i.roles[a.toLowerCase()]=e,o="getKendo"+r+a,a="kendo"+r+a,t.fn[a]=function(i){var r,o=this;return typeof i===Pe?(r=Re.call(arguments,1),this.each(function(){var e,s,l=t.data(this,a);if(!l)throw Error(ge.format("Cannot call method '{0}' of {1} before it is initialized",i,a));if(e=l[i],typeof e!==Ae)throw Error(ge.format("Cannot find method '{0}' of {1}",i,a));return s=e.apply(l,r),s!==n?(o=s,!1):n})):this.each(function(){new e(this,i)}),o},t.fn[a].widget=e,t.fn[o]=function(){return this.data(a)}}}),ie={bind:function(){return this},nullObject:!0,options:{}},re=K.extend({init:function(t,e){K.fn.init.call(this,t,e),this.element.autoApplyNS(),this.wrapper=this.element,this.element.addClass("km-widget")},destroy:function(){K.fn.destroy.call(this),this.element.kendoDestroy()},options:{prefix:"Mobile"},events:[],view:function(){var t=this.element.closest(ge.roleSelector("view splitview modalview drawer"));return ge.widgetInstance(t,ge.mobile.ui)||ie},viewHasNativeScrolling:function(){var t=this.view();return t&&t.options.useNativeScrolling},container:function(){var t=this.element.closest(ge.roleSelector("view layout modalview drawer splitview"));return ge.widgetInstance(t.eq(0),ge.mobile.ui)||ie}}),me(ge.mobile,{init:function(t){ge.init(t,ge.mobile.ui,ge.ui,ge.dataviz.ui)},appLevelNativeScrolling:function(){return ge.mobile.application&&ge.mobile.application.options&&ge.mobile.application.options.useNativeScrolling},roles:{},ui:{Widget:re,DataBoundWidget:Z.extend(re.prototype),roles:{},plugin:function(t){ge.ui.plugin(t,ge.mobile.ui,"Mobile")}}}),l(ge.dataviz,{init:function(t){ge.init(t,ge.dataviz.ui)},ui:{roles:{},themes:{},views:[],plugin:function(t){ge.ui.plugin(t,ge.dataviz.ui)}},roles:{}}),ge.touchScroller=function(e,n){return t(e).map(function(e,i){return i=t(i),ke.kineticScrollNeeded&&ge.mobile.ui.Scroller&&!i.data("kendoMobileScroller")?(i.kendoMobileScroller(n),i.data("kendoMobileScroller")):!1})[0]},ge.preventDefault=function(t){t.preventDefault()},ge.widgetInstance=function(t,n){var i,r,o,a,s=t.data(ge.ns+"role"),l=[];if(s){if("content"===s&&(s="scroller"),n)if(n[0])for(i=0,r=n.length;r>i;i++)l.push(n[i].roles[s]);else l.push(n.roles[s]);else l=[ge.ui.roles[s],ge.dataviz.ui.roles[s],ge.mobile.ui.roles[s]];for(s.indexOf(".")>=0&&(l=[ge.getter(s)(e)]),i=0,r=l.length;r>i;i++)if(o=l[i],o&&(a=t.data("kendo"+o.fn.options.prefix+o.fn.options.name)))return a}},ge.onResize=function(n){var i=n;return ke.mobileOS.android&&(i=function(){setTimeout(n,600)}),t(e).on(ke.resize,i),i},ge.unbindResize=function(n){t(e).off(ke.resize,n)},ge.attrValue=function(t,e){return t.data(ge.ns+e)},ge.days={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6},t.extend(t.expr[":"],{kendoFocusable:function(e){var n=t.attr(e,"tabindex");return T(e,!isNaN(n)&&n>-1)}}),oe=["mousedown","mousemove","mouseenter","mouseleave","mouseover","mouseout","mouseup","click"],ae="label, input, [data-rel=external]",se={setupMouseMute:function(){var e,n=0,i=oe.length,r=document.documentElement;if(!se.mouseTrap&&ke.eventCapture)for(se.mouseTrap=!0,se.bustClick=!1,se.captureMouse=!1,e=function(e){se.captureMouse&&("click"===e.type?se.bustClick&&!t(e.target).is(ae)&&(e.preventDefault(),e.stopPropagation()):e.stopPropagation())};i>n;n++)r.addEventListener(oe[n],e,!0)},muteMouse:function(t){se.captureMouse=!0,t.data.bustClick&&(se.bustClick=!0),clearTimeout(se.mouseTrapTimeoutID)},unMuteMouse:function(){clearTimeout(se.mouseTrapTimeoutID),se.mouseTrapTimeoutID=setTimeout(function(){se.captureMouse=!1,se.bustClick=!1},400)}},le={down:"touchstart mousedown",move:"mousemove touchmove",up:"mouseup touchend touchcancel",cancel:"mouseleave touchcancel"},ke.touch&&(ke.mobileOS.ios||ke.mobileOS.android)?le={down:"touchstart",move:"touchmove",up:"touchend touchcancel",cancel:"touchcancel"}:ke.pointers?le={down:"pointerdown",move:"pointermove",up:"pointerup",cancel:"pointercancel pointerleave"}:ke.msPointers&&(le={down:"MSPointerDown",move:"MSPointerMove",up:"MSPointerUp",cancel:"MSPointerCancel MSPointerLeave"}),!ke.msPointers||"onmspointerenter"in e||t.each({MSPointerEnter:"MSPointerOver",MSPointerLeave:"MSPointerOut"},function(e,n){t.event.special[e]={delegateType:n,bindType:n,handle:function(e){var i,r=this,o=e.relatedTarget,a=e.handleObj;return(!o||o!==r&&!t.contains(r,o))&&(e.type=a.origType,i=a.handler.apply(this,arguments),e.type=n),i}}}),ce=function(t){return le[t]||t},he=/([^ ]+)/g,ge.applyEventMap=function(t,e){return t=t.replace(he,ce),e&&(t=t.replace(he,"$1."+e)),t},de=t.fn.on,me(!0,A,t),A.fn=A.prototype=new t,A.fn.constructor=A,A.fn.init=function(e,n){return n&&n instanceof t&&!(n instanceof A)&&(n=A(n)),t.fn.init.call(this,e,n,ue)},A.fn.init.prototype=A.fn,ue=A(document),me(A.fn,{handler:function(t){return this.data("handler",t),this},autoApplyNS:function(t){return this.data("kendoNS",t||ge.guid()),this},on:function(){var t,e,n,i,r,o,a=this,s=a.data("kendoNS");return 1===arguments.length?de.call(a,arguments[0]):(t=a,e=Re.call(arguments),typeof e[e.length-1]===Be&&e.pop(),n=e[e.length-1],i=ge.applyEventMap(e[0],s),ke.mouseAndTouchPresent&&i.search(/mouse|click/)>-1&&this[0]!==document.documentElement&&(se.setupMouseMute(),r=2===e.length?null:e[1],o=i.indexOf("click")>-1&&i.indexOf("touchend")>-1,de.call(this,{touchstart:se.muteMouse,touchend:se.unMuteMouse},r,{bustClick:o})),typeof n===Pe&&(t=a.data("handler"),n=t[n],e[e.length-1]=function(e){n.call(t,e)}),e[0]=i,de.apply(a,e),a)},kendoDestroy:function(t){return t=t||this.data("kendoNS"),t&&this.off("."+t),this}}),ge.jQuery=A,ge.eventMap=le,ge.timezone=function(){function t(t,e){var n,i,r,o=e[3],a=e[4],s=e[5],l=e[8];return l||(e[8]=l={}),l[t]?l[t]:(isNaN(a)?0===a.indexOf("last")?(n=new Date(Date.UTC(t,h[o]+1,1,s[0]-24,s[1],s[2],0)),i=d[a.substr(4,3)],r=n.getUTCDay(),n.setUTCDate(n.getUTCDate()+i-r-(i>r?7:0))):a.indexOf(">=")>=0&&(n=new Date(Date.UTC(t,h[o],a.substr(5),s[0],s[1],s[2],0)),i=d[a.substr(0,3)],r=n.getUTCDay(),n.setUTCDate(n.getUTCDate()+i-r+(r>i?7:0))):n=new Date(Date.UTC(t,h[o],a,s[0],s[1],s[2],0)),l[t]=n)}function e(e,n,i){var r,o,a,s;return(n=n[i])?(a=new Date(e).getUTCFullYear(),n=jQuery.grep(n,function(t){var e=t[0],n=t[1];return a>=e&&(n>=a||e==a&&"only"==n||"max"==n)}),n.push(e),n.sort(function(e,n){return"number"!=typeof e&&(e=+t(a,e)),"number"!=typeof n&&(n=+t(a,n)),e-n}),s=n[jQuery.inArray(e,n)-1]||n[n.length-1],isNaN(s)?s:null):(r=i.split(":"),o=0,r.length>1&&(o=60*r[0]+ +r[1]),[-1e6,"max","-","Jan",1,[0,0,0],o,"-"])}function n(t,e,n){var i,r,o,a=e[n];if("string"==typeof a&&(a=e[a]),!a)throw Error('Timezone "'+n+'" is either incorrect, or kendo.timezones.min.js is not included.');for(i=a.length-1;i>=0&&(r=a[i][3],!(r&&t>r));i--);if(o=a[i+1],!o)throw Error('Timezone "'+n+'" not found on '+t+".");return o}function i(t,i,r,o){typeof t!=Me&&(t=Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));var a=n(t,i,o);return{zone:a,rule:e(t,r,a[1])}}function r(t,e){var n,r,o;return"Etc/UTC"==e||"Etc/GMT"==e?0:(n=i(t,this.zones,this.rules,e),r=n.zone,o=n.rule,ge.parseFloat(o?r[0]-o[6]:r[0]))}function o(t,e){var n=i(t,this.zones,this.rules,e),r=n.zone,o=n.rule,a=r[2];return a.indexOf("/")>=0?a.split("/")[o&&+o[6]?1:0]:a.indexOf("%s")>=0?a.replace("%s",o&&"-"!=o[7]?o[7]:""):a}function a(t,e,n){var i,r;return typeof e==Pe&&(e=this.offset(t,e)),typeof n==Pe&&(n=this.offset(t,n)),i=t.getTimezoneOffset(),t=new Date(t.getTime()+6e4*(e-n)),r=t.getTimezoneOffset(),new Date(t.getTime()+6e4*(r-i))}function s(t,e){return this.convert(t,t.getTimezoneOffset(),e)}function l(t,e){return this.convert(t,e,t.getTimezoneOffset())}function c(t){return this.apply(new Date(t),"Etc/UTC")}var h={Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11},d={Sun:0,Mon:1,Tue:2,Wed:3,Thu:4,Fri:5,Sat:6};return{zones:{},rules:{},offset:r,convert:a,apply:s,remove:l,abbr:o,toLocalDate:c}}(),ge.date=function(){function t(t,e){return 0===e&&23===t.getHours()?(t.setHours(t.getHours()+2),!0):!1}function e(e,n,i){var r=e.getHours();i=i||1,n=(n-e.getDay()+7*i)%7,e.setDate(e.getDate()+n),t(e,r)}function n(t,n,i){return t=new Date(t),e(t,n,i),t}function i(t){return new Date(t.getFullYear(),t.getMonth(),1)}function r(t){var e=new Date(t.getFullYear(),t.getMonth()+1,0),n=i(t),r=Math.abs(e.getTimezoneOffset()-n.getTimezoneOffset());return r&&e.setHours(n.getHours()+r/60),e}function o(e){return e=new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0),t(e,0),e}function a(t){return Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}function s(t){return t.getTime()-o(t)}function l(t,e,n){var i,r=s(e),o=s(n);return t&&r!=o?(e>=n&&(n+=m),i=s(t),r>i&&(i+=m),r>o&&(o+=m),i>=r&&o>=i):!0}function c(t,e,n){var i,r=e.getTime(),o=n.getTime();return r>=o&&(o+=m),i=t.getTime(),i>=r&&o>=i}function h(e,n){var i=e.getHours();return e=new Date(e),d(e,n*m),t(e,i),e}function d(t,e,n){var i,r=t.getTimezoneOffset();t.setTime(t.getTime()+e),n||(i=t.getTimezoneOffset()-r,t.setTime(t.getTime()+i*g))}function u(){return o(new Date)}function f(t){return o(t).getTime()==u().getTime()}function p(t){var e=new Date(1980,1,1,0,0,0);return t&&e.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),e}var g=6e4,m=864e5;return{adjustDST:t,dayOfWeek:n,setDayOfWeek:e,getDate:o,isInDateRange:c,isInTimeRange:l,isToday:f,nextDay:function(t){return h(t,1)},previousDay:function(t){return h(t,-1)},toUtcTime:a,MS_PER_DAY:m,MS_PER_HOUR:60*g,MS_PER_MINUTE:g,setTime:d,addDays:h,today:u,toInvariantTime:p,firstDayOfMonth:i,lastDayOfMonth:r,getMilliseconds:s}}(),ge.stripWhitespace=function(t){var e,n,i;if(document.createNodeIterator)for(e=document.createNodeIterator(t,NodeFilter.SHOW_TEXT,function(e){return e.parentNode==t?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT},!1);e.nextNode();)e.referenceNode&&!e.referenceNode.textContent.trim()&&e.referenceNode.parentNode.removeChild(e.referenceNode);else for(n=0;t.childNodes.length>n;n++)i=t.childNodes[n],3!=i.nodeType||/\S/.test(i.nodeValue)||(t.removeChild(i),n--),1==i.nodeType&&ge.stripWhitespace(i)},fe=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(t){setTimeout(t,1e3/60)},ge.animationFrame=function(t){fe.call(e,t)},pe=[],ge.queueAnimation=function(t){pe[pe.length]=t,1===pe.length&&ge.runNextAnimation()},ge.runNextAnimation=function(){ge.animationFrame(function(){pe[0]&&(pe.shift()(),pe[0]&&ge.runNextAnimation())})},ge.parseQueryStringParams=function(t){for(var e=t.split("?")[1]||"",n={},i=e.split(/&|=/),r=i.length,o=0;r>o;o+=2)""!==i[o]&&(n[decodeURIComponent(i[o])]=decodeURIComponent(i[o+1]));return n},ge.elementUnderCursor=function(t){return document.elementFromPoint(t.x.client,t.y.client)},ge.wheelDeltaY=function(t){var e,i=t.originalEvent,r=i.wheelDeltaY;return i.wheelDelta?(r===n||r)&&(e=i.wheelDelta):i.detail&&i.axis===i.VERTICAL_AXIS&&(e=10*-i.detail),e},ge.throttle=function(t,e){var i,r=0;return!e||0>=e?t:function(){function o(){t.apply(a,l),r=+new Date}var a=this,s=+new Date-r,l=arguments;return r?(i&&clearTimeout(i),s>e?o():i=setTimeout(o,e-s),n):o()}},ge.caret=function(e,i,r){var o,a,s,l,c=i!==n;if(r===n&&(r=i),e[0]&&(e=e[0]),!c||!e.disabled){try{e.selectionStart!==n?c?(e.focus(),e.setSelectionRange(i,r)):i=[e.selectionStart,e.selectionEnd]:document.selection&&(t(e).is(":visible")&&e.focus(),o=e.createTextRange(),c?(o.collapse(!0),o.moveStart("character",i),o.moveEnd("character",r-i),o.select()):(a=o.duplicate(),o.moveToBookmark(document.selection.createRange().getBookmark()),a.setEndPoint("EndToStart",o),s=a.text.length,l=s+o.text.length,i=[s,l]))}catch(h){i=[]}return i}},ge.compileMobileDirective=function(t,n){var i=e.angular;return t.attr("data-"+ge.ns+"role",t[0].tagName.toLowerCase().replace("kendo-mobile-","").replace("-","")),i.element(t).injector().invoke(["$compile",function(e){var r=i.element(t).scope();n&&n(r),e(t)(r),r.$digest()}]),ge.widgetInstance(t,ge.mobile.ui)},function(){function n(e,n,i){var r=t("<form>").attr({action:i,method:"POST"}),o=e.split(";base64,");t("<input>").attr({value:o[0].replace("data:",""),name:"contentType",type:"hidden"}).appendTo(r),t("<input>").attr({value:o[1],name:"base64",type:"hidden"}).appendTo(r),t("<input>").attr({value:n,name:"fileName",type:"hidden"}).appendTo(r),r.appendTo("body").submit().remove()}function i(t,e){var n,i,r,o,a,s=t;if("string"==typeof t){for(n=t.split(";base64,"),i=n[0],r=atob(n[1]),o=new Uint8Array(r.length),a=0;r.length>a;a++)o[a]=r.charCodeAt(a);s=new Blob([o.buffer],{type:i})}navigator.msSaveBlob(s,e)}function r(t,n){e.Blob&&t instanceof Blob&&(t=URL.createObjectURL(t)),o.download=n,o.href=t;var i=document.createEvent("MouseEvents");i.initMouseEvent("click",!0,!1,e,0,0,0,0,0,!1,!1,!1,!1,0,null),o.dispatchEvent(i)}var o=document.createElement("a"),a="download"in o;ge.saveAs=function(t){var e=n;a?e=r:navigator.msSaveBlob&&(e=i),e(t.dataURI,t.fileName,t.proxyURL)}}()}(jQuery,window),function(t,e){function n(t){return parseInt(t,10)}function i(t,e){return n(t.css(e))}function r(t){var e,n=[];for(e in t)n.push(e);return n}function o(t){for(var e in t)-1!=U.indexOf(e)&&-1==W.indexOf(e)&&delete t[e];return t}function a(t,e){var n,i,r,o,a=[],s={};for(i in e)n=i.toLowerCase(),o=E&&-1!=U.indexOf(n),!P.hasHW3D&&o&&-1==W.indexOf(n)?delete e[i]:(r=e[i],o?a.push(i+"("+r+")"):s[i]=r);return a.length&&(s[se]=a.join(" ")),s}function s(t,e){var i,r,o;return E?(i=t.css(se),i==X?"scale"==e?1:0:(r=i.match(RegExp(e+"\\s*\\(([\\d\\w\\.]+)")),o=0,r?o=n(r[1]):(r=i.match(F)||[0,0,0,0,0],e=e.toLowerCase(),O.test(e)?o=parseFloat(r[3]/r[2]):"translatey"==e?o=parseFloat(r[4]/r[2]):"scale"==e?o=parseFloat(r[2]):"rotate"==e&&(o=parseFloat(Math.atan2(r[2],r[1])))),o)):parseFloat(t.css(e))}function l(t){return t.charAt(0).toUpperCase()+t.substring(1)}function c(t,e){var n=p.extend(e),i=n.prototype.directions;S[l(t)]=n,S.Element.prototype[t]=function(t,e,i,r){return new n(this.element,t,e,i,r)},T(i,function(e,i){S.Element.prototype[t+l(i)]=function(t,e,r){return new n(this.element,i,t,e,r)}})}function h(t,n,i,r){c(t,{directions:m,startValue:function(t){return this._startValue=t,this},endValue:function(t){return this._endValue=t,this},shouldHide:function(){return this._shouldHide},prepare:function(t,o){var a,s,l=this,c="out"===this._direction,h=l.element.data(n),d=!(isNaN(h)||h==i);a=d?h:e!==this._startValue?this._startValue:c?i:r,s=e!==this._endValue?this._endValue:c?r:i,this._reverse?(t[n]=s,o[n]=a):(t[n]=a,o[n]=s),l._shouldHide=o[n]===r}})}function d(t,e){var n=C.directions[e].vertical,i=t[n?Z:K]()/2+"px";return y[e].replace("$size",i)}var u,f,p,g,m,v,y,_,w,x,b,k,C=window.kendo,S=C.effects,T=t.each,D=t.extend,A=t.proxy,P=C.support,M=P.browser,E=P.transforms,I=P.transitions,L={scale:0,scalex:0,scaley:0,scale3d:0},B={translate:0,translatex:0,translatey:0,translate3d:0},z=e!==document.documentElement.style.zoom&&!E,F=/matrix3?d?\s*\(.*,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?/i,R=/^(-?[\d\.\-]+)?[\w\s]*,?\s*(-?[\d\.\-]+)?[\w\s]*/i,O=/translatex?$/i,N=/(zoom|fade|expand)(\w+)/,V=/(zoom|fade|expand)/,H=/[xy]$/i,U=["perspective","rotate","rotatex","rotatey","rotatez","rotate3d","scale","scalex","scaley","scalez","scale3d","skew","skewx","skewy","translate","translatex","translatey","translatez","translate3d","matrix","matrix3d"],W=["rotate","scale","scalex","scaley","skew","skewx","skewy","translate","translatex","translatey","matrix"],j={rotate:"deg",scale:"",skew:"px",translate:"px"},G=E.css,q=Math.round,$="",Y="px",X="none",Q="auto",K="width",Z="height",J="hidden",te="origin",ee="abortId",ne="overflow",ie="translate",re="position",oe="completeCallback",ae=G+"transition",se=G+"transform",le=G+"backface-visibility",ce=G+"perspective",he="1500px",de="perspective("+he+")",ue={left:{reverse:"right",property:"left",transition:"translatex",vertical:!1,modifier:-1},right:{reverse:"left",property:"left",transition:"translatex",vertical:!1,modifier:1},down:{reverse:"up",property:"top",transition:"translatey",vertical:!0,modifier:1},up:{reverse:"down",property:"top",transition:"translatey",vertical:!0,modifier:-1},top:{reverse:"bottom"},bottom:{reverse:"top"},"in":{reverse:"out",modifier:-1},out:{reverse:"in",modifier:1},vertical:{reverse:"vertical"},horizontal:{reverse:"horizontal"}};C.directions=ue,D(t.fn,{kendoStop:function(t,e){return I?S.stopQueue(this,t||!1,e||!1):this.stop(t,e)}}),E&&!I&&(T(W,function(n,i){t.fn[i]=function(n){if(e===n)return s(this,i);var r=t(this)[0],o=i+"("+n+j[i.replace(H,"")]+")";return-1==r.style.cssText.indexOf(se)?t(this).css(se,o):r.style.cssText=r.style.cssText.replace(RegExp(i+"\\(.*?\\)","i"),o),this},t.fx.step[i]=function(e){t(e.elem)[i](e.now)}}),u=t.fx.prototype.cur,t.fx.prototype.cur=function(){return-1!=W.indexOf(this.prop)?parseFloat(t(this.elem)[this.prop]()):u.apply(this,arguments)}),C.toggleClass=function(t,e,n,i){return e&&(e=e.split(" "),I&&(n=D({exclusive:"all",duration:400,ease:"ease-out"},n),t.css(ae,n.exclusive+" "+n.duration+"ms "+n.ease),setTimeout(function(){t.css(ae,"").css(Z)},n.duration)),T(e,function(e,n){t.toggleClass(n,i)})),t},C.parseEffects=function(t,e){var n={};return"string"==typeof t?T(t.split(" "),function(t,i){var r=!V.test(i),o=i.replace(N,function(t,e,n){return e+":"+n.toLowerCase()}),a=o.split(":"),s=a[1],l={};a.length>1&&(l.direction=e&&r?ue[s].reverse:s),n[a[0]]=l}):T(t,function(t){var i=this.direction;i&&e&&!V.test(t)&&(this.direction=ue[i].reverse),n[t]=this}),n},I&&D(S,{transition:function(e,n,i){var o,s,l,c,h=0,d=e.data("keys")||[];i=D({duration:200,ease:"ease-out",complete:null,exclusive:"all"},i),l=!1,c=function(){l||(l=!0,s&&(clearTimeout(s),s=null),e.removeData(ee).dequeue().css(ae,"").css(ae),i.complete.call(e))},i.duration=t.fx?t.fx.speeds[i.duration]||i.duration:i.duration,o=a(e,n),t.merge(d,r(o)),e.data("keys",t.unique(d)).height(),e.css(ae,i.exclusive+" "+i.duration+"ms "+i.ease).css(ae),e.css(o).css(se),I.event&&(e.one(I.event,c),0!==i.duration&&(h=500)),s=setTimeout(c,i.duration+h),e.data(ee,s),e.data(oe,c)},stopQueue:function(t,e,n){var i,r=t.data("keys"),o=!n&&r,a=t.data(oe);return o&&(i=C.getComputedStyles(t[0],r)),a&&a(),o&&t.css(i),t.removeData("keys").stop(e)}}),f=C.Class.extend({init:function(t,e){var n=this;n.element=t,n.effects=[],n.options=e,n.restore=[]},run:function(e){var n,i,r,s,l,c,h,d=this,u=e.length,f=d.element,p=d.options,g=t.Deferred(),m={},v={};for(d.effects=e,g.then(t.proxy(d,"complete")),f.data("animating",!0),i=0;u>i;i++)for(n=e[i],n.setReverse(p.reverse),n.setOptions(p),d.addRestoreProperties(n.restore),n.prepare(m,v),l=n.children(),r=0,c=l.length;c>r;r++)l[r].duration(p.duration).run();for(h in p.effects)D(v,p.effects[h].properties);for(f.is(":visible")||D(m,{display:f.data("olddisplay")||"block"}),E&&!p.reset&&(s=f.data("targetTransform"),s&&(m=D(s,m))),m=a(f,m),E&&!I&&(m=o(m)),f.css(m).css(se),i=0;u>i;i++)e[i].setup();return p.init&&p.init(),f.data("targetTransform",v),S.animate(f,v,D({},p,{complete:g.resolve})),g.promise()},stop:function(){t(this.element).kendoStop(!0,!0)},addRestoreProperties:function(t){for(var e,n=this.element,i=0,r=t.length;r>i;i++)e=t[i],this.restore.push(e),n.data(e)||n.data(e,n.css(e))},restoreCallback:function(){var t,e,n,i=this.element;for(t=0,e=this.restore.length;e>t;t++)n=this.restore[t],i.css(n,i.data(n))},complete:function(){var e=this,n=0,i=e.element,r=e.options,o=e.effects,a=o.length;for(i.removeData("animating").dequeue(),r.hide&&i.data("olddisplay",i.css("display")).hide(),this.restoreCallback(),z&&!E&&setTimeout(t.proxy(this,"restoreCallback"),0);a>n;n++)o[n].teardown();r.completeCallback&&r.completeCallback(i)}}),S.promise=function(t,e){var n,i,r,o=[],a=new f(t,e),s=C.parseEffects(e.effects);e.effects=s;for(r in s)n=S[l(r)],n&&(i=new n(t,s[r].direction),o.push(i));o[0]?a.run(o):(t.is(":visible")||t.css({display:t.data("olddisplay")||"block"}).css("display"),e.init&&e.init(),t.dequeue(),a.complete())},D(S,{animate:function(n,r,a){var s=a.transition!==!1;delete a.transition,I&&"transition"in S&&s?S.transition(n,r,a):E?n.animate(o(r),{queue:!1,show:!1,hide:!1,duration:a.duration,complete:a.complete}):n.each(function(){var n=t(this),o={};T(U,function(t,a){var s,l,c,h,d,u,f,p=r?r[a]+" ":null;p&&(l=r,a in L&&r[a]!==e?(s=p.match(R),E&&D(l,{scale:+s[0]})):a in B&&r[a]!==e&&(c=n.css(re),h="absolute"==c||"fixed"==c,n.data(ie)||(h?n.data(ie,{top:i(n,"top")||0,left:i(n,"left")||0,bottom:i(n,"bottom"),right:i(n,"right")}):n.data(ie,{top:i(n,"marginTop")||0,left:i(n,"marginLeft")||0})),d=n.data(ie),s=p.match(R),s&&(u=a==ie+"y"?0:+s[1],f=a==ie+"y"?+s[1]:+s[2],h?(isNaN(d.right)?isNaN(u)||D(l,{left:d.left+u}):isNaN(u)||D(l,{right:d.right-u}),isNaN(d.bottom)?isNaN(f)||D(l,{top:d.top+f}):isNaN(f)||D(l,{bottom:d.bottom-f})):(isNaN(u)||D(l,{marginLeft:d.left+u}),isNaN(f)||D(l,{marginTop:d.top+f})))),!E&&"scale"!=a&&a in l&&delete l[a],l&&D(o,l))}),M.msie&&delete o.scale,n.animate(o,{queue:!1,show:!1,hide:!1,duration:a.duration,complete:a.complete})})}}),S.animatedPromise=S.promise,p=C.Class.extend({init:function(t,e){var n=this;n.element=t,n._direction=e,n.options={},n._additionalEffects=[],n.restore||(n.restore=[])},reverse:function(){return this._reverse=!0,this.run()},play:function(){return this._reverse=!1,this.run()},add:function(t){return this._additionalEffects.push(t),this},direction:function(t){return this._direction=t,this},duration:function(t){return this._duration=t,this},compositeRun:function(){var t=this,e=new f(t.element,{reverse:t._reverse,duration:t._duration}),n=t._additionalEffects.concat([t]);return e.run(n)},run:function(){if(this._additionalEffects&&this._additionalEffects[0])return this.compositeRun();var e,n,i=this,r=i.element,s=0,l=i.restore,c=l.length,h=t.Deferred(),d={},u={},f=i.children(),p=f.length;for(h.then(t.proxy(i,"_complete")),r.data("animating",!0),s=0;c>s;s++)e=l[s],r.data(e)||r.data(e,r.css(e));for(s=0;p>s;s++)f[s].duration(i._duration).run();return i.prepare(d,u),r.is(":visible")||D(d,{display:r.data("olddisplay")||"block"}),E&&(n=r.data("targetTransform"),n&&(d=D(n,d))),d=a(r,d),E&&!I&&(d=o(d)),r.css(d).css(se),i.setup(),r.data("targetTransform",u),S.animate(r,u,{duration:i._duration,complete:h.resolve}),h.promise()},stop:function(){var e=0,n=this.children(),i=n.length;for(e=0;i>e;e++)n[e].stop();return t(this.element).kendoStop(!0,!0),this},restoreCallback:function(){var t,e,n,i=this.element;for(t=0,e=this.restore.length;e>t;t++)n=this.restore[t],i.css(n,i.data(n))},_complete:function(){var e=this,n=e.element;n.removeData("animating").dequeue(),e.restoreCallback(),e.shouldHide()&&n.data("olddisplay",n.css("display")).hide(),z&&!E&&setTimeout(t.proxy(e,"restoreCallback"),0),e.teardown()},setOptions:function(t){D(!0,this.options,t)},children:function(){return[]},shouldHide:t.noop,setup:t.noop,prepare:t.noop,teardown:t.noop,directions:[],setReverse:function(t){return this._reverse=t,this}}),g=["left","right","up","down"],m=["in","out"],c("slideIn",{directions:g,divisor:function(t){return this.options.divisor=t,this},prepare:function(t,e){var n,i=this,r=i.element,o=ue[i._direction],a=-o.modifier*(o.vertical?r.outerHeight():r.outerWidth()),s=a/(i.options&&i.options.divisor||1)+Y,l="0px";i._reverse&&(n=t,t=e,e=n),E?(t[o.transition]=s,e[o.transition]=l):(t[o.property]=s,e[o.property]=l)}}),c("tile",{directions:g,init:function(t,e,n){p.prototype.init.call(this,t,e),this.options={previous:n}},previousDivisor:function(t){return this.options.previousDivisor=t,this},children:function(){var t=this,e=t._reverse,n=t.options.previous,i=t.options.previousDivisor||1,r=t._direction,o=[C.fx(t.element).slideIn(r).setReverse(e)];return n&&o.push(C.fx(n).slideIn(ue[r].reverse).divisor(i).setReverse(!e)),o}}),h("fade","opacity",1,0),h("zoom","scale",1,.01),c("slideMargin",{prepare:function(t,e){var n,i=this,r=i.element,o=i.options,a=r.data(te),s=o.offset,l=i._reverse;l||null!==a||r.data(te,parseFloat(r.css("margin-"+o.axis))),n=r.data(te)||0,e["margin-"+o.axis]=l?n:n+s}}),c("slideTo",{prepare:function(t,e){var n=this,i=n.element,r=n.options,o=r.offset.split(","),a=n._reverse;E?(e.translatex=a?0:o[0],e.translatey=a?0:o[1]):(e.left=a?0:o[0],e.top=a?0:o[1]),i.css("left")}}),c("expand",{directions:["horizontal","vertical"],restore:[ne],prepare:function(t,n){var i=this,r=i.element,o=i.options,a=i._reverse,s="vertical"===i._direction?Z:K,l=r[0].style[s],c=r.data(s),h=parseFloat(c||l),d=q(r.css(s,Q)[s]());t.overflow=J,h=o&&o.reset?d||h:h||d,n[s]=(a?0:h)+Y,t[s]=(a?h:0)+Y,c===e&&r.data(s,l)},shouldHide:function(){return this._reverse},teardown:function(){var t=this,e=t.element,n="vertical"===t._direction?Z:K,i=e.data(n);(i==Q||i===$)&&setTimeout(function(){e.css(n,Q).css(n)},0)}}),v={position:"absolute",marginLeft:0,marginTop:0,scale:1},c("transfer",{init:function(t,e){this.element=t,this.options={target:e},this.restore=[]},setup:function(){this.element.appendTo(document.body)},prepare:function(t,e){var n=this,i=n.element,r=S.box(i),o=S.box(n.options.target),a=s(i,"scale"),l=S.fillScale(o,r),c=S.transformOrigin(o,r);D(t,v),e.scale=1,i.css(se,"scale(1)").css(se),i.css(se,"scale("+a+")"),t.top=r.top,t.left=r.left,t.transformOrigin=c.x+Y+" "+c.y+Y,n._reverse?t.scale=l:e.scale=l}}),y={top:"rect(auto auto $size auto)",bottom:"rect($size auto auto auto)",left:"rect(auto $size auto auto)",right:"rect(auto auto auto $size)"},_={top:{start:"rotatex(0deg)",end:"rotatex(180deg)"},bottom:{start:"rotatex(-180deg)",end:"rotatex(0deg)"},left:{start:"rotatey(0deg)",end:"rotatey(-180deg)"},right:{start:"rotatey(180deg)",end:"rotatey(0deg)"}},c("turningPage",{directions:g,init:function(t,e,n){p.prototype.init.call(this,t,e),this._container=n},prepare:function(t,e){var n=this,i=n._reverse,r=i?ue[n._direction].reverse:n._direction,o=_[r];t.zIndex=1,n._clipInHalf&&(t.clip=d(n._container,C.directions[r].reverse)),t[le]=J,e[se]=de+(i?o.start:o.end),t[se]=de+(i?o.end:o.start)},setup:function(){this._container.append(this.element)},face:function(t){return this._face=t,this},shouldHide:function(){var t=this,e=t._reverse,n=t._face;return e&&!n||!e&&n},clipInHalf:function(t){return this._clipInHalf=t,this},temporary:function(){return this.element.addClass("temp-page"),this}}),c("staticPage",{directions:g,init:function(t,e,n){p.prototype.init.call(this,t,e),this._container=n},restore:["clip"],prepare:function(t,e){var n=this,i=n._reverse?ue[n._direction].reverse:n._direction;t.clip=d(n._container,i),t.opacity=.999,e.opacity=1},shouldHide:function(){var t=this,e=t._reverse,n=t._face;return e&&!n||!e&&n},face:function(t){return this._face=t,this}}),c("pageturn",{directions:["horizontal","vertical"],init:function(t,e,n,i){p.prototype.init.call(this,t,e),this.options={},this.options.face=n,this.options.back=i},children:function(){var t,e=this,n=e.options,i="horizontal"===e._direction?"left":"top",r=C.directions[i].reverse,o=e._reverse,a=n.face.clone(!0).removeAttr("id"),s=n.back.clone(!0).removeAttr("id"),l=e.element;return o&&(t=i,i=r,r=t),[C.fx(n.face).staticPage(i,l).face(!0).setReverse(o),C.fx(n.back).staticPage(r,l).setReverse(o),C.fx(a).turningPage(i,l).face(!0).clipInHalf(!0).temporary().setReverse(o),C.fx(s).turningPage(r,l).clipInHalf(!0).temporary().setReverse(o)]},prepare:function(t,e){t[ce]=he,t.transformStyle="preserve-3d",t.opacity=.999,e.opacity=1},teardown:function(){this.element.find(".temp-page").remove()}}),c("flip",{directions:["horizontal","vertical"],init:function(t,e,n,i){p.prototype.init.call(this,t,e),this.options={},this.options.face=n,this.options.back=i},children:function(){var t,e=this,n=e.options,i="horizontal"===e._direction?"left":"top",r=C.directions[i].reverse,o=e._reverse,a=e.element;return o&&(t=i,i=r,r=t),[C.fx(n.face).turningPage(i,a).face(!0).setReverse(o),C.fx(n.back).turningPage(r,a).setReverse(o)]},prepare:function(t){t[ce]=he,t.transformStyle="preserve-3d"}}),w=!P.mobileOS.android,x=".km-touch-scrollbar, .km-actionsheet-wrapper",c("replace",{_before:t.noop,_after:t.noop,init:function(e,n,i){p.prototype.init.call(this,e),this._previous=t(n),this._transitionClass=i},duration:function(){throw Error("The replace effect does not support duration setting; the effect duration may be customized through the transition class rule")},beforeTransition:function(t){return this._before=t,this},afterTransition:function(t){return this._after=t,this},_both:function(){return t().add(this._element).add(this._previous)},_containerClass:function(){var t=this._direction,e="k-fx k-fx-start k-fx-"+this._transitionClass;return t&&(e+=" k-fx-"+t),this._reverse&&(e+=" k-fx-reverse"),e},complete:function(e){if(!(!this.deferred||e&&t(e.target).is(x))){var n=this.container;n.removeClass("k-fx-end").removeClass(this._containerClass()).off(I.event,this.completeProxy),this._previous.hide().removeClass("k-fx-current"),this.element.removeClass("k-fx-next"),w&&n.css(ne,""),this.isAbsolute||this._both().css(re,""),this.deferred.resolve(),delete this.deferred}},run:function(){if(this._additionalEffects&&this._additionalEffects[0])return this.compositeRun();var e,n=this,i=n.element,r=n._previous,o=i.parents().filter(r.parents()).first(),a=n._both(),s=t.Deferred(),l=i.css(re);return o.length||(o=i.parent()),this.container=o,this.deferred=s,this.isAbsolute="absolute"==l,this.isAbsolute||a.css(re,"absolute"),w&&(e=o.css(ne),o.css(ne,"hidden")),I?(i.addClass("k-fx-hidden"),o.addClass(this._containerClass()),this.completeProxy=t.proxy(this,"complete"),o.on(I.event,this.completeProxy),C.animationFrame(function(){i.removeClass("k-fx-hidden").addClass("k-fx-next"),r.css("display","").addClass("k-fx-current"),n._before(r,i),C.animationFrame(function(){o.removeClass("k-fx-start").addClass("k-fx-end"),n._after(r,i)})})):this.complete(),s.promise()},stop:function(){this.complete()}}),b=C.Class.extend({init:function(){var t=this;t._tickProxy=A(t._tick,t),t._started=!1},tick:t.noop,done:t.noop,onEnd:t.noop,onCancel:t.noop,start:function(){this.enabled()&&(this.done()?this.onEnd():(this._started=!0,C.animationFrame(this._tickProxy)))},enabled:function(){return!0},cancel:function(){this._started=!1,this.onCancel()},_tick:function(){var t=this;t._started&&(t.tick(),t.done()?(t._started=!1,t.onEnd()):C.animationFrame(t._tickProxy))}}),k=b.extend({init:function(t){var e=this;D(e,t),b.fn.init.call(e)},done:function(){return this.timePassed()>=this.duration
},timePassed:function(){return Math.min(this.duration,new Date-this.startDate)},moveTo:function(t){var e=this,n=e.movable;e.initial=n[e.axis],e.delta=t.location-e.initial,e.duration="number"==typeof t.duration?t.duration:300,e.tick=e._easeProxy(t.ease),e.startDate=new Date,e.start()},_easeProxy:function(t){var e=this;return function(){e.movable.moveAxis(e.axis,t(e.timePassed(),e.initial,e.delta,e.duration))}}}),D(k,{easeOutExpo:function(t,e,n,i){return t==i?e+n:n*(-Math.pow(2,-10*t/i)+1)+e},easeOutBack:function(t,e,n,i,r){return r=1.70158,n*((t=t/i-1)*t*((r+1)*t+r)+1)+e}}),S.Animation=b,S.Transition=k,S.createEffect=c,S.box=function(e){e=t(e);var n=e.offset();return n.width=e.outerWidth(),n.height=e.outerHeight(),n},S.transformOrigin=function(t,e){var n=(t.left-e.left)*e.width/(e.width-t.width),i=(t.top-e.top)*e.height/(e.height-t.height);return{x:isNaN(n)?0:n,y:isNaN(i)?0:i}},S.fillScale=function(t,e){return Math.min(t.width/e.width,t.height/e.height)},S.fitScale=function(t,e){return Math.max(t.width/e.width,t.height/e.height)}}(window.kendo.jQuery),function(t,e){function n(t,e){if(!e)return t;t+"/"===e&&(t=e);var n=RegExp("^"+e,"i");return n.test(t)||(t=e+"/"+t),f.protocol+"//"+(f.host+"/"+t).replace(/\/\/+/g,"/")}function i(t){return t?"#!":"#"}function r(t){var e=f.href;return"#!"===t&&e.indexOf("#")>-1&&e.indexOf("#!")<0?null:e.split(t)[1]||""}function o(t,e){return 0===e.indexOf(t)?e.substr(t.length).replace(/\/\//g,"/"):e}function a(t){return t.replace(/^(#)?/,"#")}function s(t){return t.replace(/^(#(!)?)?/,"#!")}var l=window.kendo,c="change",h="back",d="same",u=l.support,f=window.location,p=window.history,g=50,m=l.support.browser.msie,v=/^#*/,y=window.document,_=l.Class.extend({back:function(){m?setTimeout(function(){p.back()}):p.back()},forward:function(){m?setTimeout(function(){p.forward()}):p.forward()},length:function(){return p.length},replaceLocation:function(t){f.replace(t)}}),w=_.extend({init:function(t){this.root=t},navigate:function(t){p.pushState({},y.title,n(t,this.root))},replace:function(t){p.replaceState({},y.title,n(t,this.root))},normalize:function(t){return o(this.root,t)},current:function(){var t=f.pathname;return f.search&&(t+=f.search),o(this.root,t)},change:function(e){t(window).bind("popstate.kendo",e)},stop:function(){t(window).unbind("popstate.kendo")},normalizeCurrent:function(t){var e,o=t.root,a=f.pathname,s=r(i(t.hashBang));o===a+"/"&&(e=o),o===a&&s&&(e=n(s.replace(v,""),o)),e&&p.pushState({},y.title,e)}}),x=_.extend({init:function(t){this._id=l.guid(),this.prefix=i(t),this.fix=t?s:a},navigate:function(t){f.hash=this.fix(t)},replace:function(t){this.replaceLocation(this.fix(t))},normalize:function(t){return t.indexOf(this.prefix)<0?t:t.split(this.prefix)[1]},change:function(e){u.hashChange?t(window).on("hashchange."+this._id,e):this._interval=setInterval(e,g)},stop:function(){t(window).off("hashchange."+this._id),clearInterval(this._interval)},current:function(){return r(this.prefix)},normalizeCurrent:function(t){var e=f.pathname,n=t.root;return t.pushState&&n!==e?(this.replaceLocation(n+this.prefix+o(n,e)),!0):!1}}),b=l.Observable.extend({start:function(e){if(e=e||{},this.bind([c,h,d],e),!this._started){this._started=!0,e.root=e.root||"/";var n,i=this.createAdapter(e);i.normalizeCurrent(e)||(n=i.current(),t.extend(this,{adapter:i,root:e.root,historyLength:i.length(),current:n,locations:[n]}),i.change(t.proxy(this,"_checkUrl")))}},createAdapter:function(t){return u.pushState&&t.pushState?new w(t.root):new x(t.hashBang)},stop:function(){this._started&&(this.adapter.stop(),this.unbind(c),this._started=!1)},change:function(t){this.bind(c,t)},replace:function(t,e){this._navigate(t,e,function(e){e.replace(t),this.locations[this.locations.length-1]=this.current})},navigate:function(t,n){return"#:back"===t?(this.backCalled=!0,this.adapter.back(),e):(this._navigate(t,n,function(e){e.navigate(t),this.locations.push(this.current)}),e)},_navigate:function(t,n,i){var r=this.adapter;return t=r.normalize(t),this.current===t||this.current===decodeURIComponent(t)?(this.trigger(d),e):((n||!this.trigger(c,{url:t}))&&(this.current=t,i.call(this,r),this.historyLength=r.length()),e)},_checkUrl:function(){var t=this.adapter,n=t.current(),i=t.length(),r=this.historyLength===i,o=n===this.locations[this.locations.length-2]&&r,a=this.backCalled,s=this.current;return null===n||this.current===n||this.current===decodeURIComponent(n)?!0:(this.historyLength=i,this.backCalled=!1,this.current=n,o&&this.trigger("back",{url:s,to:n})?(t.forward(),this.current=s,e):this.trigger(c,{url:n,backButtonPressed:!a})?(o?t.forward():(t.back(),this.historyLength--),this.current=s,e):(o?this.locations.pop():this.locations.push(n),e))}});l.History=b,l.History.HistoryAdapter=_,l.History.HashAdapter=x,l.History.PushStateAdapter=w,l.absoluteURL=n,l.history=new b}(window.kendo.jQuery),function(){function t(t,e){return e?t:"([^/]+)"}function e(e){return RegExp("^"+e.replace(p,"\\$&").replace(d,"(?:$1)?").replace(u,t).replace(f,"(.*?)")+"$")}function n(t){return t.replace(/(\?.*)|(#.*)/g,"")}var i=window.kendo,r=i.history,o=i.Observable,a="init",s="routeMissing",l="change",c="back",h="same",d=/\((.*?)\)/g,u=/(\(\?)?:\w+/g,f=/\*\w+/g,p=/[\-{}\[\]+?.,\\\^$|#\s]/g,g=i.Class.extend({init:function(t,n){t instanceof RegExp||(t=e(t)),this.route=t,this._callback=n},callback:function(t){var e,r,o=0,a=i.parseQueryStringParams(t);for(t=n(t),e=this.route.exec(t).slice(1),r=e.length;r>o;o++)void 0!==e[o]&&(e[o]=decodeURIComponent(e[o]));e.push(a),this._callback.apply(null,e)},worksWith:function(t){return this.route.test(n(t))?(this.callback(t),!0):!1}}),m=o.extend({init:function(t){t||(t={}),o.fn.init.call(this),this.routes=[],this.pushState=t.pushState,this.hashBang=t.hashBang,this.root=t.root,this.bind([a,s,l,h],t)},destroy:function(){r.unbind(l,this._urlChangedProxy),r.unbind(h,this._sameProxy),r.unbind(c,this._backProxy),this.unbind()},start:function(){var t,e=this,n=function(){e._same()},i=function(t){e._back(t)},o=function(t){e._urlChanged(t)};r.start({same:n,change:o,back:i,pushState:e.pushState,hashBang:e.hashBang,root:e.root}),t={url:r.current||"/",preventDefault:$.noop},e.trigger(a,t)||e._urlChanged(t),this._urlChangedProxy=o,this._backProxy=i},route:function(t,e){this.routes.push(new g(t,e))},navigate:function(t,e){i.history.navigate(t,e)},replace:function(t,e){i.history.replace(t,e)},_back:function(t){this.trigger(c,{url:t.url,to:t.to})&&t.preventDefault()},_same:function(){this.trigger(h)},_urlChanged:function(t){var e,n,r,o,a=t.url;if(a||(a="/"),this.trigger(l,{url:t.url,params:i.parseQueryStringParams(t.url),backButtonPressed:t.backButtonPressed}))return void t.preventDefault();for(e=0,n=this.routes,o=n.length;o>e;e++)if(r=n[e],r.worksWith(a))return;this.trigger(s,{url:a,params:i.parseQueryStringParams(a),backButtonPressed:t.backButtonPressed})&&t.preventDefault()}});i.Router=m}(),function(t,e){function n(r){var a,s,l,c,h,d,u,f,p=[],g=r.logic||"and",m=r.filters;for(a=0,s=m.length;s>a;a++)r=m[a],l=r.field,u=r.value,d=r.operator,r.filters?r=n(r):(f=r.ignoreCase,l=l.replace(/\./g,"/"),r=o[d],r&&u!==e&&(c=t.type(u),"string"===c?(h="'{1}'",u=u.replace(/'/g,"''"),f===!0&&(l="tolower("+l+")")):h="date"===c?"datetime'{1:yyyy-MM-ddTHH:mm:ss}'":"{1}",r.length>3?"substringof"!==r?h="{0}({2},"+h+")":(h="{0}("+h+",{2})","doesnotcontain"===d&&(h+=" eq false")):h="{2} {0} "+h,r=i.format(h,r,u,l))),p.push(r);return r=p.join(" "+g+" "),p.length>1&&(r="("+r+")"),r}var i=window.kendo,r=t.extend,o={eq:"eq",neq:"ne",gt:"gt",gte:"ge",lt:"lt",lte:"le",contains:"substringof",doesnotcontain:"substringof",endswith:"endswith",startswith:"startswith"},a={pageSize:t.noop,page:t.noop,filter:function(t,e){e&&(t.$filter=n(e))},sort:function(e,n){var i=t.map(n,function(t){var e=t.field.replace(/\./g,"/");return"desc"===t.dir&&(e+=" desc"),e}).join(",");i&&(e.$orderby=i)},skip:function(t,e){e&&(t.$skip=e)},take:function(t,e){e&&(t.$top=e)}},s={read:{dataType:"jsonp"}};r(!0,i.data,{schemas:{odata:{type:"json",data:function(t){return t.d.results||[t.d]},total:"d.__count"}},transports:{odata:{read:{cache:!0,dataType:"jsonp",jsonp:"$callback"},update:{cache:!0,dataType:"json",contentType:"application/json",type:"PUT"},create:{cache:!0,dataType:"json",contentType:"application/json",type:"POST"},destroy:{cache:!0,dataType:"json",type:"DELETE"},parameterMap:function(t,e){var n,r,o,l;if(t=t||{},e=e||"read",l=(this.options||s)[e],l=l?l.dataType:"json","read"===e){n={$inlinecount:"allpages"},"json"!=l&&(n.$format="json");for(o in t)a[o]?a[o](n,t[o]):n[o]=t[o]}else{if("json"!==l)throw Error("Only json dataType can be used for "+e+" operation.");if("destroy"!==e){for(o in t)r=t[o],"number"==typeof r&&(t[o]=r+"");n=i.stringify(t)}}return n}}}})}(window.kendo.jQuery),function(t,e){var n=window.kendo,i=t.isArray,r=t.isPlainObject,o=t.map,a=t.each,s=t.extend,l=n.getter,c=n.Class,h=c.extend({init:function(t){var e,l,c,h,d=this,u=t.total,f=t.model,p=t.parse,g=t.errors,m=t.serialize,v=t.data;f&&(r(f)&&(e=t.modelBase||n.data.Model,f.fields&&a(f.fields,function(t,e){e=r(e)&&e.field?s(e,{field:d.getter(e.field)}):{field:d.getter(e)},f.fields[t]=e}),l=f.id,l&&(c={},c[d.xpathToMember(l,!0)]={field:d.getter(l)},f.fields=s(c,f.fields),f.id=d.xpathToMember(l)),f=e.define(f)),d.model=f),u&&("string"==typeof u?(u=d.getter(u),d.total=function(t){return parseInt(u(t),10)}):"function"==typeof u&&(d.total=u)),g&&("string"==typeof g?(g=d.getter(g),d.errors=function(t){return g(t)||null}):"function"==typeof g&&(d.errors=g)),v&&("string"==typeof v?(v=d.xpathToMember(v),d.data=function(t){var e,n=d.evaluate(t,v);return n=i(n)?n:[n],d.model&&f.fields?(e=new d.model,o(n,function(t){if(t){var n,i={};for(n in f.fields)i[n]=e._parse(n,f.fields[n].field(t));return i}})):n}):"function"==typeof v&&(d.data=v)),"function"==typeof p&&(h=d.parse,d.parse=function(t){var e=p.call(d,t);return h.call(d,e)}),"function"==typeof m&&(d.serialize=m)},total:function(t){return this.data(t).length},errors:function(t){return t?t.errors:null},serialize:function(t){return t},parseDOM:function(t){var n,r,o,a,s,l,c,h={},d=t.attributes,u=d.length;for(c=0;u>c;c++)l=d[c],h["@"+l.nodeName]=l.nodeValue;for(r=t.firstChild;r;r=r.nextSibling)o=r.nodeType,3===o||4===o?h["#text"]=r.nodeValue:1===o&&(n=this.parseDOM(r),a=r.nodeName,s=h[a],i(s)?s.push(n):s=s!==e?[s,n]:n,h[a]=s);return h},evaluate:function(t,e){for(var n,r,o,a,s,l=e.split(".");n=l.shift();)if(t=t[n],i(t)){for(r=[],e=l.join("."),s=0,o=t.length;o>s;s++)a=this.evaluate(t[s],e),a=i(a)?a:[a],r.push.apply(r,a);return r}return t},parse:function(e){var n,i,r={};return n=e.documentElement||t.parseXML(e).documentElement,i=this.parseDOM(n),r[n.nodeName]=i,r},xpathToMember:function(t,e){return t?(t=t.replace(/^\//,"").replace(/\//g,"."),t.indexOf("@")>=0?t.replace(/\.?(@.*)/,e?"$1":'["$1"]'):t.indexOf("text()")>=0?t.replace(/(\.?text\(\))/,e?"#text":'["#text"]'):t):""},getter:function(t){return l(this.xpathToMember(t),!0)}});t.extend(!0,n.data,{XmlDataReader:h,readers:{xml:h}})}(window.kendo.jQuery),function(t,e){function n(t,e,n,i){return function(r){var o,a={};for(o in r)a[o]=r[o];a.field=i?n+"."+r.field:n,e==we&&t._notifyChange&&t._notifyChange(a),t.trigger(e,a)}}function i(e,n){if(e===n)return!0;var r,o=t.type(e),a=t.type(n);if(o!==a)return!1;if("date"===o)return e.getTime()===n.getTime();if("object"!==o&&"array"!==o)return!1;for(r in e)if(!i(e[r],n[r]))return!1;return!0}function r(t,e){var n,i;for(i in t){if(n=t[i],ie(n)&&n.field&&n.field===e)return n;if(n===e)return n}return null}function o(t){this.data=t||[]}function a(t,n){if(t){var i=typeof t===pe?{field:t,dir:n}:t,r=oe(i)?i:i!==e?[i]:[];return ae(r,function(t){return!!t.dir})}}function s(t){var e,n,i,r,o=t.filters;if(o)for(e=0,n=o.length;n>e;e++)i=o[e],r=i.operator,r&&typeof r===pe&&(i.operator=W[r.toLowerCase()]||r),s(i)}function l(t){return t&&!re(t)?((oe(t)||!t.filters)&&(t={logic:"and",filters:oe(t)?t:[t]}),s(t),t):e}function c(t){return oe(t)?t:[t]}function h(t,n){var i=typeof t===pe?{field:t,dir:n}:t,r=oe(i)?i:i!==e?[i]:[];return N(r,function(t){return{field:t.field,dir:t.dir||"asc",aggregates:t.aggregates}})}function d(t,e){return t&&t.getTime&&e&&e.getTime?t.getTime()===e.getTime():t===e}function u(t,e,n,i,r,o){var a,s,l,c,h;for(e=e||[],c=e.length,a=0;c>a;a++)s=e[a],l=s.aggregate,h=s.field,t[h]=t[h]||{},o[h]=o[h]||{},o[h][l]=o[h][l]||{},t[h][l]=j[l.toLowerCase()](t[h][l],n,he.accessor(h),i,r,o[h][l])}function f(t){return"number"==typeof t&&!isNaN(t)}function p(t){return t&&t.getTime}function g(t){var e,n=t.length,i=Array(n);for(e=0;n>e;e++)i[e]=t[e].toJSON();return i}function m(t,e,n,i,r){var o,a,s,l,c;for(l=0,c=t.length;c>l;l++){o=t[l];for(a in e)s=r[a],s&&s!==a&&(o[s]=e[a](o),delete o[a])}}function v(t,e,n,i,r){var o,a,s,l,c;for(l=0,c=t.length;c>l;l++){o=t[l];for(a in e)o[a]=n._parse(a,e[a](o)),s=r[a],s&&s!==a&&delete o[s]}}function y(t,e,n,i,r){var o,a,s,l;for(a=0,l=t.length;l>a;a++)o=t[a],s=i[o.field],s&&s!=o.field&&(o.field=s),o.value=n._parse(o.field,o.value),o.hasSubgroups?y(o.items,e,n,i,r):v(o.items,e,n,i,r)}function _(t,e,n,i,r,o){return function(a){return a=t(a),a&&!re(i)&&("[object Array]"===Ne.call(a)||a instanceof je||(a=[a]),n(a,i,new e,r,o)),a||[]}}function w(t,e,n,i){for(var r,o,a,s=0;e.length&&i&&(r=e[s],o=r.items,a=o.length,t&&t.field===r.field&&t.value===r.value?(t.hasSubgroups&&t.items.length?w(t.items[t.items.length-1],r.items,n,i):(o=o.slice(n,n+i),t.items=t.items.concat(o)),e.splice(s--,1)):r.hasSubgroups&&o.length?w(r,o,n,i):(o=o.slice(n,n+i),r.items=o,r.items.length||e.splice(s--,1)),0===o.length?n-=a:(n=0,i-=o.length),!(++s>=e.length)););e.length>s&&e.splice(s,e.length-s)}function x(t){var e,n,i,r,o,a=[];for(e=0,n=t.length;n>e;e++)if(o=t.at(e),o.hasSubgroups)a=a.concat(x(o.items));else for(i=o.items,r=0;i.length>r;r++)a.push(i.at(r));return a}function b(t,e){var n,i,r;if(e)for(n=0,i=t.length;i>n;n++)r=t.at(n),r.hasSubgroups?b(r.items,e):r.items=new Ge(r.items,e)}function k(t,e){for(var n=0,i=t.length;i>n;n++)if(t[n].hasSubgroups){if(k(t[n].items,e))return!0}else if(e(t[n].items,t[n]))return!0}function C(t,e,n,i){for(var r=0;t.length>r&&t[r].data!==e&&!S(t[r].data,n,i);r++);}function S(t,e,n){for(var i=0,r=t.length;r>i;i++){if(t[i]&&t[i].hasSubgroups)return S(t[i].items,e,n);if(t[i]===e||t[i]===n)return t[i]=n,!0}}function T(t,n,i,r){var o,a,s,l;for(o=0,a=t.length;a>o;o++)if(s=t[o],s&&!(s instanceof r))if(s.hasSubgroups!==e)T(s.items,n,i,r);else for(l=0;n.length>l;l++)if(n[l]===s){t[o]=n.at(l),C(i,n,s,t[o]);break}}function D(t,e){var n,i,r;for(n=0,i=t.length;i>n;n++)if(r=t.at(n),r.uid==e.uid)return t.splice(n,1),r}function A(t,e){var n,i,r,o;for(r=t.length-1,o=0;r>=o;r--)i=t[r],n={value:e.get(i.field),field:i.field,items:n?[n]:[e],hasSubgroups:!!n,aggregates:{}};return n}function P(t,e){return e?E(t,function(t){return t.uid?t.uid==e.uid:t[e.idField]===e.id}):-1}function M(t,e){return e?E(t,function(t){return t.uid==e.uid}):-1}function E(t,e){var n,i;for(n=0,i=t.length;i>n;n++)if(e(t[n]))return n;return-1}function I(t,e){var n,i;return t&&!re(t)?(n=t[e],i=ie(n)?n.from||n.field||e:t[e]||e,de(i)?e:i):e}function L(t,e){var n,i,r,o={};for(r in t)"filters"!==r&&(o[r]=t[r]);if(t.filters)for(o.filters=[],n=0,i=t.filters.length;i>n;n++)o.filters[n]=L(t.filters[n],e);else o.field=I(e.fields,o.field);return o}function B(t,e){var n,i,r,o,a,s=[];for(n=0,i=t.length;i>n;n++){r={},o=t[n];for(a in o)r[a]=o[a];r.field=I(e.fields,r.field),r.aggregates&&oe(r.aggregates)&&(r.aggregates=B(r.aggregates,e)),s.push(r)}return s}function z(e,n){var i,r,o,a,s,l=t(e)[0].children,c=[],h=n[0],d=n[1];for(i=0,r=l.length;r>i;i++)o={},s=l[i],s.disabled||(o[h.field]=s.text,a=s.attributes.value,a=a&&a.specified?s.value:s.text,o[d.field]=a,c.push(o));return c}function F(e,n){var i,r,o,a,s,l,c,h=t(e)[0].tBodies[0],d=h?h.rows:[],u=n.length,f=[];for(i=0,r=d.length;r>i;i++){for(s={},c=!0,a=d[i].cells,o=0;u>o;o++)l=a[o],"th"!==l.nodeName.toLowerCase()&&(c=!1,s[n[o].field]=l.innerHTML);c||f.push(s)}return f}function R(t){return function(){var e=this._data,n=X.fn[t].apply(this,Re.call(arguments));return this._data!=e&&this._attachBubbleHandlers(),n}}function O(e,n){function i(t,e){return t.filter(e).add(t.find(e))}var r,o,a,s,l,c,h,d,u=t(e).children(),f=[],p=n[0].field,g=n[1]&&n[1].field,m=n[2]&&n[2].field,v=n[3]&&n[3].field;for(r=0,o=u.length;o>r;r++)a={_loaded:!0},s=u.eq(r),c=s[0].firstChild,d=s.children(),e=d.filter("ul"),d=d.filter(":not(ul)"),l=s.attr("data-id"),l&&(a.id=l),c&&(a[p]=3==c.nodeType?c.nodeValue:d.text()),g&&(a[g]=i(d,"a").attr("href")),v&&(a[v]=i(d,"img").attr("src")),m&&(h=i(d,".k-sprite").prop("className"),a[m]=h&&t.trim(h.replace("k-sprite",""))),e.length&&(a.items=O(e.eq(0),n)),"true"==s.attr("data-hasChildren")&&(a.hasChildren=!0),f.push(a);return f}var N,V,H,U,W,j,G,q,$,Y,X,Q,K,Z,J,te,ee=t.extend,ne=t.proxy,ie=t.isPlainObject,re=t.isEmptyObject,oe=t.isArray,ae=t.grep,se=t.ajax,le=t.each,ce=t.noop,he=window.kendo,de=he.isFunction,ue=he.Observable,fe=he.Class,pe="string",ge="function",me="create",ve="read",ye="update",_e="destroy",we="change",xe="sync",be="get",ke="error",Ce="requestStart",Se="progress",Te="requestEnd",De=[me,ve,ye,_e],Ae=function(t){return t},Pe=he.getter,Me=he.stringify,Ee=Math,Ie=[].push,Le=[].join,Be=[].pop,ze=[].splice,Fe=[].shift,Re=[].slice,Oe=[].unshift,Ne={}.toString,Ve=he.support.stableSort,He=/^\/Date\((.*?)\)\/$/,Ue=/(\r+|\n+)/g,We=/(?=['\\])/g,je=ue.extend({init:function(t,e){var n=this;n.type=e||qe,ue.fn.init.call(n),n.length=t.length,n.wrapAll(t,n)},at:function(t){return this[t]},toJSON:function(){var t,e,n=this.length,i=Array(n);for(t=0;n>t;t++)e=this[t],e instanceof qe&&(e=e.toJSON()),i[t]=e;return i},parent:ce,wrapAll:function(t,e){var n,i,r=this,o=function(){return r};for(e=e||[],n=0,i=t.length;i>n;n++)e[n]=r.wrap(t[n],o);return e},wrap:function(t,e){var n,i=this;return null!==t&&"[object Object]"===Ne.call(t)&&(n=t instanceof i.type||t instanceof Xe,n||(t=t instanceof qe?t.toJSON():t,t=new i.type(t)),t.parent=e,t.bind(we,function(t){i.trigger(we,{field:t.field,node:t.node,index:t.index,items:t.items||[this],action:t.node?t.action||"itemchange":"itemchange"})})),t},push:function(){var t,e=this.length,n=this.wrapAll(arguments);return t=Ie.apply(this,n),this.trigger(we,{action:"add",index:e,items:n}),t},slice:Re,sort:[].sort,join:Le,pop:function(){var t=this.length,e=Be.apply(this);return t&&this.trigger(we,{action:"remove",index:t-1,items:[e]}),e},splice:function(t,e,n){var i,r,o,a=this.wrapAll(Re.call(arguments,2));if(i=ze.apply(this,[t,e].concat(a)),i.length)for(this.trigger(we,{action:"remove",index:t,items:i}),r=0,o=i.length;o>r;r++)i[r].children&&i[r].unbind(we);return n&&this.trigger(we,{action:"add",index:t,items:a}),i},shift:function(){var t=this.length,e=Fe.apply(this);return t&&this.trigger(we,{action:"remove",index:0,items:[e]}),e},unshift:function(){var t,e=this.wrapAll(arguments);return t=Oe.apply(this,e),this.trigger(we,{action:"add",index:0,items:e}),t},indexOf:function(t){var e,n,i=this;for(e=0,n=i.length;n>e;e++)if(i[e]===t)return e;return-1},forEach:function(t){for(var e=0,n=this.length;n>e;e++)t(this[e],e,this)},map:function(t){for(var e=0,n=[],i=this.length;i>e;e++)n[e]=t(this[e],e,this);return n},filter:function(t){for(var e,n=0,i=[],r=this.length;r>n;n++)e=this[n],t(e,n,this)&&(i[i.length]=e);return i},find:function(t){for(var e,n=0,i=this.length;i>n;n++)if(e=this[n],t(e,n,this))return e},every:function(t){for(var e,n=0,i=this.length;i>n;n++)if(e=this[n],!t(e,n,this))return!1;return!0},some:function(t){for(var e,n=0,i=this.length;i>n;n++)if(e=this[n],t(e,n,this))return!0;return!1},remove:function(t){var e=this.indexOf(t);-1!==e&&this.splice(e,1)},empty:function(){this.splice(0,this.length)}}),Ge=je.extend({init:function(t,e){ue.fn.init.call(this),this.type=e||qe;for(var n=0;t.length>n;n++)this[n]=t[n];this.length=n,this._parent=ne(function(){return this},this)},at:function(t){var e=this[t];return e instanceof this.type?e.parent=this._parent:e=this[t]=this.wrap(e,this._parent),e}}),qe=ue.extend({init:function(t){var e,n,i=this,r=function(){return i};ue.fn.init.call(this);for(n in t)e=t[n],"object"==typeof e&&e&&!e.getTime&&"_"!=n.charAt(0)&&(e=i.wrap(e,n,r)),i[n]=e;i.uid=he.guid()},shouldSerialize:function(t){return this.hasOwnProperty(t)&&"_events"!==t&&typeof this[t]!==ge&&"uid"!==t},forEach:function(t){for(var e in this)this.shouldSerialize(e)&&t(this[e],e)},toJSON:function(){var t,e,n={};for(e in this)this.shouldSerialize(e)&&(t=this[e],(t instanceof qe||t instanceof je)&&(t=t.toJSON()),n[e]=t);return n},get:function(t){var e,n=this;return n.trigger(be,{field:t}),e="this"===t?n:he.getter(t,!0)(n)},_set:function(t,e){var n,i,r,o=this,a=t.indexOf(".")>=0;if(a)for(n=t.split("."),i="";n.length>1;){if(i+=n.shift(),r=he.getter(i,!0)(o),r instanceof qe)return r.set(n.join("."),e),a;i+="."}return he.setter(t)(o,e),a},set:function(t,e){var n=this,i=t.indexOf(".")>=0,r=he.getter(t,!0)(n);r!==e&&(n.trigger("set",{field:t,value:e})||(i||(e=n.wrap(e,t,function(){return n})),(!n._set(t,e)||t.indexOf("(")>=0||t.indexOf("[")>=0)&&n.trigger(we,{field:t})))},parent:ce,wrap:function(t,e,i){var r,o,a=this,s=Ne.call(t);return null==t||"[object Object]"!==s&&"[object Array]"!==s||(r=t instanceof je,o=t instanceof X,"[object Object]"!==s||o||r?("[object Array]"===s||r||o)&&(r||o||(t=new je(t)),t.parent()!=i()&&t.bind(we,n(a,we,e,!1))):(t instanceof qe||(t=new qe(t)),t.parent()!=i()&&(t.bind(be,n(a,be,e,!0)),t.bind(we,n(a,we,e,!0)))),t.parent=i),t}}),$e={number:function(t){return he.parseFloat(t)},date:function(t){return he.parseDate(t)},"boolean":function(t){return typeof t===pe?"true"===t.toLowerCase():null!=t?!!t:t},string:function(t){return null!=t?t+"":t},"default":function(t){return t}},Ye={string:"",number:0,date:new Date,"boolean":!1,"default":""},Xe=qe.extend({init:function(n){var i,r,o=this;if((!n||t.isEmptyObject(n))&&(n=t.extend({},o.defaults,n),o._initializers))for(i=0;o._initializers.length>i;i++)r=o._initializers[i],n[r]=o.defaults[r]();qe.fn.init.call(o,n),o.dirty=!1,o.idField&&(o.id=o.get(o.idField),o.id===e&&(o.id=o._defaultId))},shouldSerialize:function(t){return qe.fn.shouldSerialize.call(this,t)&&"uid"!==t&&!("id"!==this.idField&&"id"===t)&&"dirty"!==t&&"_accessors"!==t},_parse:function(t,e){var n,i=this,o=t,a=i.fields||{};return t=a[t],t||(t=r(a,o)),t&&(n=t.parse,!n&&t.type&&(n=$e[t.type.toLowerCase()])),n?n(e):e},_notifyChange:function(t){var e=t.action;("add"==e||"remove"==e)&&(this.dirty=!0)},editable:function(t){return t=(this.fields||{})[t],t?t.editable!==!1:!0},set:function(t,e,n){var r=this;r.editable(t)&&(e=r._parse(t,e),i(e,r.get(t))||(r.dirty=!0,qe.fn.set.call(r,t,e,n)))},accept:function(t){var e,n,i=this,r=function(){return i};for(e in t)n=t[e],"_"!=e.charAt(0)&&(n=i.wrap(t[e],e,r)),i._set(e,n);i.idField&&(i.id=i.get(i.idField)),i.dirty=!1},isNew:function(){return this.id===this._defaultId}});Xe.define=function(t,n){n===e&&(n=t,t=Xe);var i,r,o,a,s,l,c,h,d=ee({defaults:{}},n),u={},f=d.id,p=[];if(f&&(d.idField=f),d.id&&delete d.id,f&&(d.defaults[f]=d._defaultId=""),"[object Array]"===Ne.call(d.fields)){for(l=0,c=d.fields.length;c>l;l++)o=d.fields[l],typeof o===pe?u[o]={}:o.field&&(u[o.field]=o);d.fields=u}for(r in d.fields)o=d.fields[r],a=o.type||"default",s=null,h=r,r=typeof o.field===pe?o.field:r,o.nullable||(s=d.defaults[h!==r?h:r]=o.defaultValue!==e?o.defaultValue:Ye[a.toLowerCase()],"function"==typeof s&&p.push(r)),n.id===r&&(d._defaultId=s),d.defaults[h!==r?h:r]=s,o.parse=o.parse||$e[a];return p.length>0&&(d._initializers=p),i=t.extend(d),i.define=function(t){return Xe.define(i,t)},d.fields&&(i.fields=d.fields,i.idField=d.idField),i},V={selector:function(t){return de(t)?t:Pe(t)},compare:function(t){var e=this.selector(t);return function(t,n){return t=e(t),n=e(n),null==t&&null==n?0:null==t?-1:null==n?1:t.localeCompare?t.localeCompare(n):t>n?1:n>t?-1:0}},create:function(t){var e=t.compare||this.compare(t.field);return"desc"==t.dir?function(t,n){return e(n,t,!0)}:e},combine:function(t){return function(e,n){var i,r,o=t[0](e,n);for(i=1,r=t.length;r>i;i++)o=o||t[i](e,n);return o}}},H=ee({},V,{asc:function(t){var e=this.selector(t);return function(t,n){var i=e(t),r=e(n);return i&&i.getTime&&r&&r.getTime&&(i=i.getTime(),r=r.getTime()),i===r?t.__position-n.__position:null==i?-1:null==r?1:i.localeCompare?i.localeCompare(r):i>r?1:-1}},desc:function(t){var e=this.selector(t);return function(t,n){var i=e(t),r=e(n);return i&&i.getTime&&r&&r.getTime&&(i=i.getTime(),r=r.getTime()),i===r?t.__position-n.__position:null==i?1:null==r?-1:r.localeCompare?r.localeCompare(i):r>i?1:-1}},create:function(t){return this[t.dir](t.field)}}),N=function(t,e){var n,i=t.length,r=Array(i);for(n=0;i>n;n++)r[n]=e(t[n],n,t);return r},U=function(){function t(t){return t.replace(We,"\\").replace(Ue,"")}function e(e,n,i,r){var o;return null!=i&&(typeof i===pe&&(i=t(i),o=He.exec(i),o?i=new Date(+o[1]):r?(i="'"+i.toLowerCase()+"'",n="("+n+" || '').toLowerCase()"):i="'"+i+"'"),i.getTime&&(n="("+n+"?"+n+".getTime():"+n+")",i=i.getTime())),n+" "+e+" "+i}return{eq:function(t,n,i){return e("==",t,n,i)},neq:function(t,n,i){return e("!=",t,n,i)},gt:function(t,n,i){return e(">",t,n,i)},gte:function(t,n,i){return e(">=",t,n,i)},lt:function(t,n,i){return e("<",t,n,i)},lte:function(t,n,i){return e("<=",t,n,i)},startswith:function(e,n,i){return i&&(e="("+e+" || '').toLowerCase()",n&&(n=n.toLowerCase())),n&&(n=t(n)),e+".lastIndexOf('"+n+"', 0) == 0"},endswith:function(e,n,i){return i&&(e="("+e+" || '').toLowerCase()",n&&(n=n.toLowerCase())),n&&(n=t(n)),e+".indexOf('"+n+"', "+e+".length - "+(n||"").length+") >= 0"},contains:function(e,n,i){return i&&(e="("+e+" || '').toLowerCase()",n&&(n=n.toLowerCase())),n&&(n=t(n)),e+".indexOf('"+n+"') >= 0"},doesnotcontain:function(e,n,i){return i&&(e="("+e+" || '').toLowerCase()",n&&(n=n.toLowerCase())),n&&(n=t(n)),e+".indexOf('"+n+"') == -1"}}}(),o.filterExpr=function(t){var n,i,r,a,s,l,c=[],h={and:" && ",or:" || "},d=[],u=[],f=t.filters;for(n=0,i=f.length;i>n;n++)r=f[n],s=r.field,l=r.operator,r.filters?(a=o.filterExpr(r),r=a.expression.replace(/__o\[(\d+)\]/g,function(t,e){return e=+e,"__o["+(u.length+e)+"]"}).replace(/__f\[(\d+)\]/g,function(t,e){return e=+e,"__f["+(d.length+e)+"]"}),u.push.apply(u,a.operators),d.push.apply(d,a.fields)):(typeof s===ge?(a="__f["+d.length+"](d)",d.push(s)):a=he.expr(s),typeof l===ge?(r="__o["+u.length+"]("+a+", "+r.value+")",u.push(l)):r=U[(l||"eq").toLowerCase()](a,r.value,r.ignoreCase!==e?r.ignoreCase:!0)),c.push(r);return{expression:"("+c.join(h[t.logic])+")",fields:d,operators:u}},W={"==":"eq",equals:"eq",isequalto:"eq",equalto:"eq",equal:"eq","!=":"neq",ne:"neq",notequals:"neq",isnotequalto:"neq",notequalto:"neq",notequal:"neq","<":"lt",islessthan:"lt",lessthan:"lt",less:"lt","<=":"lte",le:"lte",islessthanorequalto:"lte",lessthanequal:"lte",">":"gt",isgreaterthan:"gt",greaterthan:"gt",greater:"gt",">=":"gte",isgreaterthanorequalto:"gte",greaterthanequal:"gte",ge:"gte",notsubstringof:"doesnotcontain"},o.normalizeFilter=l,o.prototype={toArray:function(){return this.data},range:function(t,e){return new o(this.data.slice(t,t+e))},skip:function(t){return new o(this.data.slice(t))},take:function(t){return new o(this.data.slice(0,t))},select:function(t){return new o(N(this.data,t))},order:function(t,e){var n={dir:e};return t&&(t.compare?n.compare=t.compare:n.field=t),new o(this.data.slice(0).sort(V.create(n)))},orderBy:function(t){return this.order(t,"asc")},orderByDescending:function(t){return this.order(t,"desc")},sort:function(t,e,n){var i,r,o=a(t,e),s=[];if(n=n||V,o.length){for(i=0,r=o.length;r>i;i++)s.push(n.create(o[i]));return this.orderBy({compare:n.combine(s)})}return this},filter:function(t){var e,n,i,r,a,s,c,h,d=this.data,u=[];if(t=l(t),!t||0===t.filters.length)return this;for(r=o.filterExpr(t),s=r.fields,c=r.operators,a=h=Function("d, __f, __o","return "+r.expression),(s.length||c.length)&&(h=function(t){return a(t,s,c)}),e=0,i=d.length;i>e;e++)n=d[e],h(n)&&u.push(n);return new o(u)},group:function(t,e){t=h(t||[]),e=e||this.data;var n,i=this,r=new o(i.data);return t.length>0&&(n=t[0],r=r.groupBy(n).select(function(i){var r=new o(e).filter([{field:i.field,operator:"eq",value:i.value,ignoreCase:!1}]);return{field:i.field,value:i.value,items:t.length>1?new o(i.items).group(t.slice(1),r.toArray()).toArray():i.items,hasSubgroups:t.length>1,aggregates:r.aggregate(n.aggregates)}})),r},groupBy:function(t){if(re(t)||!this.data.length)return new o([]);var e,n,i,r,a=t.field,s=this._sortForGrouping(a,t.dir||"asc"),l=he.accessor(a),c=l.get(s[0],a),h={field:a,value:c,items:[]},u=[h];for(i=0,r=s.length;r>i;i++)e=s[i],n=l.get(e,a),d(c,n)||(c=n,h={field:a,value:c,items:[]},u.push(h)),h.items.push(e);return new o(u)},_sortForGrouping:function(t,e){var n,i,r=this.data;if(!Ve){for(n=0,i=r.length;i>n;n++)r[n].__position=n;for(r=new o(r).sort(t,e,H).toArray(),n=0,i=r.length;i>n;n++)delete r[n].__position;return r}return this.sort(t,e).toArray()},aggregate:function(t){var e,n,i={},r={};if(t&&t.length)for(e=0,n=this.data.length;n>e;e++)u(i,t,this.data[e],e,n,r);return i}},j={sum:function(t,e,n){var i=n.get(e);return f(t)?f(i)&&(t+=i):t=i,t},count:function(t){return(t||0)+1},average:function(t,n,i,r,o,a){var s=i.get(n);return a.count===e&&(a.count=0),f(t)?f(s)&&(t+=s):t=s,f(s)&&a.count++,r==o-1&&f(t)&&(t/=a.count),t},max:function(t,e,n){var i=n.get(e);return f(t)||p(t)||(t=i),i>t&&(f(i)||p(i))&&(t=i),t},min:function(t,e,n){var i=n.get(e);return f(t)||p(t)||(t=i),t>i&&(f(i)||p(i))&&(t=i),t}},o.process=function(t,n){n=n||{};var i,r=new o(t),s=n.group,l=h(s||[]).concat(a(n.sort||[])),c=n.filterCallback,d=n.filter,u=n.skip,f=n.take;return d&&(r=r.filter(d),c&&(r=c(r)),i=r.toArray().length),l&&(r=r.sort(l),s&&(t=r.toArray())),u!==e&&f!==e&&(r=r.range(u,f)),s&&(r=r.group(s,t)),{total:i,data:r.toArray()}},G=fe.extend({init:function(t){this.data=t.data},read:function(t){t.success(this.data)},update:function(t){t.success(t.data)},create:function(t){t.success(t.data)},destroy:function(t){t.success(t.data)}}),q=fe.extend({init:function(t){var e,n=this;t=n.options=ee({},n.options,t),le(De,function(e,n){typeof t[n]===pe&&(t[n]={url:t[n]})}),n.cache=t.cache?$.create(t.cache):{find:ce,add:ce},e=t.parameterMap,de(t.push)&&(n.push=t.push),n.push||(n.push=Ae),n.parameterMap=de(e)?e:function(t){var n={};return le(t,function(t,i){t in e&&(t=e[t],ie(t)&&(i=t.value(i),t=t.key)),n[t]=i}),n}},options:{parameterMap:Ae},create:function(t){return se(this.setup(t,me))},read:function(n){var i,r,o,a=this,s=a.cache;n=a.setup(n,ve),i=n.success||ce,r=n.error||ce,o=s.find(n.data),o!==e?i(o):(n.success=function(t){s.add(n.data,t),i(t)},t.ajax(n))},update:function(t){return se(this.setup(t,ye))},destroy:function(t){return se(this.setup(t,_e))},setup:function(t,e){t=t||{};var n,i=this,r=i.options[e],o=de(r.data)?r.data(t.data):r.data;return t=ee(!0,{},r,t),n=ee(!0,{},o,t.data),t.data=i.parameterMap(n,e),de(t.url)&&(t.url=t.url(n)),t}}),$=fe.extend({init:function(){this._store={}},add:function(t,n){t!==e&&(this._store[Me(t)]=n)},find:function(t){return this._store[Me(t)]},clear:function(){this._store={}},remove:function(t){delete this._store[Me(t)]}}),$.create=function(t){var e={inmemory:function(){return new $}};return ie(t)&&de(t.find)?t:t===!0?new $:e[t]()},Y=fe.extend({init:function(t){var e,n,i,r,o,a,s,l,c,h,d,u,f,p=this;t=t||{};for(e in t)n=t[e],p[e]=typeof n===pe?Pe(n):n;r=t.modelBase||Xe,ie(p.model)&&(p.model=i=r.define(p.model)),o=ne(p.data,p),p._dataAccessFunction=o,p.model&&(a=ne(p.groups,p),s=ne(p.serialize,p),l={},c={},h={},d={},u=!1,i=p.model,i.fields&&(le(i.fields,function(t,e){var n;f=t,ie(e)&&e.field?f=e.field:typeof e===pe&&(f=e),ie(e)&&e.from&&(n=e.from),u=u||n&&n!==t||f!==t,c[t]=Pe(n||f),h[t]=Pe(t),l[n||f]=t,d[t]=n||f}),!t.serialize&&u&&(p.serialize=_(s,i,m,h,l,d))),p._dataAccessFunction=o,p.data=_(o,i,v,c,l,d),p.groups=_(a,i,y,c,l,d))},errors:function(t){return t?t.errors:null},parse:Ae,data:Ae,total:function(t){return t.length
},groups:Ae,aggregates:function(){return{}},serialize:function(t){return t}}),X=ue.extend({init:function(t){var n,i,r,o=this;t&&(i=t.data),t=o.options=ee({},o.options,t),o._map={},o._prefetch={},o._data=[],o._pristineData=[],o._ranges=[],o._view=[],o._pristineTotal=0,o._destroyed=[],o._pageSize=t.pageSize,o._page=t.page||(t.pageSize?1:e),o._sort=a(t.sort),o._filter=l(t.filter),o._group=h(t.group),o._aggregate=t.aggregate,o._total=t.total,ue.fn.init.call(o),o.transport=Q.create(t,i),de(o.transport.push)&&o.transport.push({pushCreate:ne(o._pushCreate,o),pushUpdate:ne(o._pushUpdate,o),pushDestroy:ne(o._pushDestroy,o)}),null!=t.offlineStorage&&("string"==typeof t.offlineStorage?(r=t.offlineStorage,o._storage={getItem:function(){return JSON.parse(localStorage.getItem(r))},setItem:function(t){localStorage.setItem(r,Me(t))}}):o._storage=t.offlineStorage),o.reader=new he.data.readers[t.schema.type||"json"](t.schema),n=o.reader.model||{},o._detachObservableParents(),o._data=o._observe(o._data),o._online=!0,o.bind(["push",ke,we,Ce,xe,Te,Se],t)},options:{data:null,schema:{modelBase:Xe},offlineStorage:null,serverSorting:!1,serverPaging:!1,serverFiltering:!1,serverGrouping:!1,serverAggregates:!1,batch:!1},online:function(t){return t===e?this._online:(this._online!=t&&(this._online=t,t&&this.sync()),e)},offlineData:function(t){return null==this.options.offlineStorage?null:t!==e?this._storage.setItem(t):this._storage.getItem()||{}},_isServerGrouped:function(){var t=this.group()||[];return this.options.serverGrouping&&t.length},_pushCreate:function(t){this._push(t,"pushCreate")},_pushUpdate:function(t){this._push(t,"pushUpdate")},_pushDestroy:function(t){this._push(t,"pushDestroy")},_push:function(t,e){var n=this._readData(t);n||(n=t),this[e](n)},_flatData:function(t,e){if(t){if(this._isServerGrouped())return x(t);if(!e)for(var n=0;t.length>n;n++)t.at(n)}return t},parent:ce,get:function(t){var e,n,i=this._flatData(this._data);for(e=0,n=i.length;n>e;e++)if(i[e].id==t)return i[e]},getByUid:function(t){var e,n,i=this._flatData(this._data);if(i)for(e=0,n=i.length;n>e;e++)if(i[e].uid==t)return i[e]},indexOf:function(t){return M(this._data,t)},at:function(t){return this._data.at(t)},data:function(t){var n,i=this;if(t===e){if(i._data)for(n=0;i._data.length>n;n++)i._data.at(n);return i._data}i._detachObservableParents(),i._data=this._observe(t),i._pristineData=t.slice(0),i._storeData(),i._ranges=[],i.trigger("reset"),i._addRange(i._data),i._total=i._data.length,i._pristineTotal=i._total,i._process(i._data)},view:function(t){return t===e?this._view:(this._view=this._observeView(t),e)},_observeView:function(t){return T(t,this._data,this._ranges,this.reader.model||qe),new Ge(t,this.reader.model)},flatView:function(){var t=this.group()||[];return t.length?x(this._view):this._view},add:function(t){return this.insert(this._data.length,t)},_createNewModel:function(t){return this.reader.model?new this.reader.model(t):t instanceof qe?t:new qe(t)},insert:function(t,e){return e||(e=t,t=0),e instanceof Xe||(e=this._createNewModel(e)),this._isServerGrouped()?this._data.splice(t,0,A(this.group(),e)):this._data.splice(t,0,e),e},pushCreate:function(t){var e,n,i,r,o,a;oe(t)||(t=[t]),e=[],n=this.options.autoSync,this.options.autoSync=!1;try{for(i=0;t.length>i;i++)r=t[i],o=this.add(r),e.push(o),a=o.toJSON(),this._isServerGrouped()&&(a=A(this.group(),a)),this._pristineData.push(a)}finally{this.options.autoSync=n}e.length&&this.trigger("push",{type:"create",items:e})},pushUpdate:function(t){var e,n,i,r,o;for(oe(t)||(t=[t]),e=[],n=0;t.length>n;n++)i=t[n],r=this._createNewModel(i),o=this.get(r.id),o?(e.push(o),o.accept(i),o.trigger("change"),this._updatePristineForModel(o,i)):this.pushCreate(i);e.length&&this.trigger("push",{type:"update",items:e})},pushDestroy:function(t){var e=this._removeItems(t);e.length&&this.trigger("push",{type:"destroy",items:e})},_removeItems:function(t){var e,n,i,r,o,a;oe(t)||(t=[t]),e=[],n=this.options.autoSync,this.options.autoSync=!1;try{for(i=0;t.length>i;i++)r=t[i],o=this._createNewModel(r),a=!1,this._eachItem(this._data,function(t){var n,i;for(n=0;t.length>n;n++)if(i=t.at(n),i.id===o.id){e.push(i),t.splice(n,1),a=!0;break}}),a&&(this._removePristineForModel(o),this._destroyed.pop())}finally{this.options.autoSync=n}return e},remove:function(t){var n,i=this,r=i._isServerGrouped();return this._eachItem(i._data,function(o){return n=D(o,t),n&&r?(n.isNew&&n.isNew()||i._destroyed.push(n),!0):e}),this._removeModelFromRanges(t),this._updateRangesLength(),t},sync:function(){var e,n,i,r,o=this,a=[],s=[],l=o._destroyed,c=o._flatData(o._data);if(o.online()){if(!o.reader.model)return;for(e=0,n=c.length;n>e;e++)c[e].isNew()?a.push(c[e]):c[e].dirty&&s.push(c[e]);r=[],r.push.apply(r,o._send("create",a)),r.push.apply(r,o._send("update",s)),r.push.apply(r,o._send("destroy",l)),i=t.when.apply(null,r).then(function(){var t,e;for(t=0,e=arguments.length;e>t;t++)o._accept(arguments[t]);o._storeData(!0),o._change({action:"sync"}),o.trigger(xe)})}else o._storeData(!0),o._change({action:"sync"}),i=t.Deferred().resolve().promise();return i},cancelChanges:function(t){var e=this;t instanceof he.data.Model?e._cancelModel(t):(e._destroyed=[],e._detachObservableParents(),e._data=e._observe(e._pristineData),e.options.serverPaging&&(e._total=e._pristineTotal),e._change())},hasChanges:function(){var t,e,n=this._data;if(this._destroyed.length)return!0;for(t=0,e=n.length;e>t;t++)if(n[t].isNew()||n[t].dirty)return!0;return!1},_accept:function(e){var n,i=this,r=e.models,o=e.response,a=0,s=i._isServerGrouped(),l=i._pristineData,c=e.type;if(i.trigger(Te,{response:o,type:c}),o&&!re(o)){if(o=i.reader.parse(o),i._handleCustomErrors(o))return;o=i.reader.data(o),oe(o)||(o=[o])}else o=t.map(r,function(t){return t.toJSON()});for("destroy"===c&&(i._destroyed=[]),a=0,n=r.length;n>a;a++)"destroy"!==c?(r[a].accept(o[a]),"create"===c?l.push(s?A(i.group(),r[a]):o[a]):"update"===c&&i._updatePristineForModel(r[a],o[a])):i._removePristineForModel(r[a])},_updatePristineForModel:function(t,e){this._executeOnPristineForModel(t,function(t,n){he.deepExtend(n[t],e)})},_executeOnPristineForModel:function(t,n){this._eachPristineItem(function(i){var r=P(i,t);return r>-1?(n(r,i),!0):e})},_removePristineForModel:function(t){this._executeOnPristineForModel(t,function(t,e){e.splice(t,1)})},_readData:function(t){var e=this._isServerGrouped()?this.reader.groups:this.reader.data;return e.call(this.reader,t)},_eachPristineItem:function(t){this._eachItem(this._pristineData,t)},_eachItem:function(t,e){t&&t.length&&(this._isServerGrouped()?k(t,e):e(t))},_pristineForModel:function(t){var n,i,r=function(r){return i=P(r,t),i>-1?(n=r[i],!0):e};return this._eachPristineItem(r),n},_cancelModel:function(t){var e=this._pristineForModel(t);this._eachItem(this._data,function(n){var i=M(n,t);i>=0&&(!e||t.isNew()&&!e.__state__?n.splice(i,1):n[i].accept(e))})},_promise:function(e,n,i){var r=this;return t.Deferred(function(t){r.trigger(Ce,{type:i}),r.transport[i].call(r.transport,ee({success:function(e){t.resolve({response:e,models:n,type:i})},error:function(e,n,i){t.reject(e),r.error(e,n,i)}},e))}).promise()},_send:function(t,e){var n,i,r=this,o=[],a=r.reader.serialize(g(e));if(r.options.batch)e.length&&o.push(r._promise({data:{models:a}},e,t));else for(n=0,i=e.length;i>n;n++)o.push(r._promise({data:a[n]},[e[n]],t));return o},read:function(e){var n=this,i=n._params(e),r=t.Deferred();return n._queueRequest(i,function(){n.trigger(Ce,{type:"read"})?(n._dequeueRequest(),r.resolve()):(n.trigger(Se),n._ranges=[],n.trigger("reset"),n.online()?n.transport.read({data:i,success:function(t){n.success(t),r.resolve()},error:function(){var t=Re.call(arguments);n.error.apply(n,t),r.reject.apply(r,t)}}):null!=n.options.offlineStorage&&(n.success(n.offlineData()),r.resolve()))}),r.promise()},success:function(t){var n,i,r,o,a=this,s=a.options;if(a.trigger(Te,{response:t,type:"read"}),a.online()){if(t=a.reader.parse(t),a._handleCustomErrors(t))return a._dequeueRequest(),e;a._total=a.reader.total(t),a._aggregate&&s.serverAggregates&&(a._aggregateResult=a.reader.aggregates(t)),t=a._readData(t)}else{for(t=a._readData(t),n=[],i=0;t.length>i;i++)r=t[i],o=r.__state__,"destroy"==o?this._destroyed.push(this._createNewModel(r)):n.push(r);t=n,a._total=t.length}a._pristineTotal=a._total,a._pristineData=t.slice(0),a._detachObservableParents(),a._data=a._observe(t),null!=a.options.offlineStorage&&a._eachItem(a._data,function(t){var e,n;for(e=0;t.length>e;e++)n=t.at(e),"update"==n.__state__&&(n.dirty=!0)}),a._storeData(),a._addRange(a._data),a._process(a._data),a._dequeueRequest()},_detachObservableParents:function(){if(this._data)for(var t=0;this._data.length>t;t++)this._data[t].parent=null},_storeData:function(t){function e(t){var n,i,r,s=[];for(n=0;t.length>n;n++)i=t.at(n),r=i.toJSON(),o&&i.items?r.items=e(i.items):(r.uid=i.uid,a&&(i.isNew()?r.__state__="create":i.dirty&&(r.__state__="update"))),s.push(r);return s}var n,i,r,o=this._isServerGrouped(),a=this.reader.model;if(null!=this.options.offlineStorage){for(n=e(this._data),i=0;this._destroyed.length>i;i++)r=this._destroyed[i].toJSON(),r.__state__="destroy",n.push(r);this.offlineData(n),t&&(this._pristineData=n)}},_addRange:function(t){var e=this,n=e._skip||0,i=n+e._flatData(t,!0).length;e._ranges.push({start:n,end:i,data:t}),e._ranges.sort(function(t,e){return t.start-e.start})},error:function(t,e,n){this._dequeueRequest(),this.trigger(Te,{}),this.trigger(ke,{xhr:t,status:e,errorThrown:n})},_params:function(t){var e=this,n=ee({take:e.take(),skip:e.skip(),page:e.page(),pageSize:e.pageSize(),sort:e._sort,filter:e._filter,group:e._group,aggregate:e._aggregate},t);return e.options.serverPaging||(delete n.take,delete n.skip,delete n.page,delete n.pageSize),e.options.serverGrouping?e.reader.model&&n.group&&(n.group=B(n.group,e.reader.model)):delete n.group,e.options.serverFiltering?e.reader.model&&n.filter&&(n.filter=L(n.filter,e.reader.model)):delete n.filter,e.options.serverSorting?e.reader.model&&n.sort&&(n.sort=B(n.sort,e.reader.model)):delete n.sort,e.options.serverAggregates?e.reader.model&&n.aggregate&&(n.aggregate=B(n.aggregate,e.reader.model)):delete n.aggregate,n},_queueRequest:function(t,n){var i=this;i._requestInProgress?i._pending={callback:ne(n,i),options:t}:(i._requestInProgress=!0,i._pending=e,n())},_dequeueRequest:function(){var t=this;t._requestInProgress=!1,t._pending&&t._queueRequest(t._pending.options,t._pending.callback)},_handleCustomErrors:function(t){if(this.reader.errors){var e=this.reader.errors(t);if(e)return this.trigger(ke,{xhr:null,status:"customerror",errorThrown:"custom error",errors:e}),!0}return!1},_observe:function(t){var e,n=this,i=n.reader.model,r=!1;return i&&t.length&&(r=!(t[0]instanceof i)),t instanceof je?r&&(t.type=n.reader.model,t.wrapAll(t,t)):(e=n.pageSize()?Ge:je,t=new e(t,n.reader.model),t.parent=function(){return n.parent()}),n._isServerGrouped()&&b(t,i),n._changeHandler&&n._data&&n._data instanceof je?n._data.unbind(we,n._changeHandler):n._changeHandler=ne(n._change,n),t.bind(we,n._changeHandler)},_change:function(t){var e,n,i,r=this,o=t?t.action:"";if("remove"===o)for(e=0,n=t.items.length;n>e;e++)t.items[e].isNew&&t.items[e].isNew()||r._destroyed.push(t.items[e]);!r.options.autoSync||"add"!==o&&"remove"!==o&&"itemchange"!==o?(i=parseInt(r._total,10),f(r._total)||(i=parseInt(r._pristineTotal,10)),"add"===o?i+=t.items.length:"remove"===o?i-=t.items.length:"itemchange"===o||"sync"===o||r.options.serverPaging?"sync"===o&&(i=r._pristineTotal=parseInt(r._total,10)):i=r._pristineTotal,r._total=i,r._process(r._data,t)):r.sync()},_calculateAggregates:function(t,e){e=e||{};var n=new o(t),i=e.aggregate,r=e.filter;return r&&(n=n.filter(r)),n.aggregate(i)},_process:function(t,n){var i,r=this,o={};r.options.serverPaging!==!0&&(o.skip=r._skip,o.take=r._take||r._pageSize,o.skip===e&&r._page!==e&&r._pageSize!==e&&(o.skip=(r._page-1)*r._pageSize)),r.options.serverSorting!==!0&&(o.sort=r._sort),r.options.serverFiltering!==!0&&(o.filter=r._filter),r.options.serverGrouping!==!0&&(o.group=r._group),r.options.serverAggregates!==!0&&(o.aggregate=r._aggregate,r._aggregateResult=r._calculateAggregates(t,o)),i=r._queryProcess(t,o),r.view(i.data),i.total===e||r.options.serverFiltering||(r._total=i.total),n=n||{},n.items=n.items||r._view,r.trigger(we,n)},_queryProcess:function(t,e){return o.process(t,e)},_mergeState:function(t){var n=this;return t!==e&&(n._pageSize=t.pageSize,n._page=t.page,n._sort=t.sort,n._filter=t.filter,n._group=t.group,n._aggregate=t.aggregate,n._skip=t.skip,n._take=t.take,n._skip===e&&(n._skip=n.skip(),t.skip=n.skip()),n._take===e&&n._pageSize!==e&&(n._take=n._pageSize,t.take=n._take),t.sort&&(n._sort=t.sort=a(t.sort)),t.filter&&(n._filter=t.filter=l(t.filter)),t.group&&(n._group=t.group=h(t.group)),t.aggregate&&(n._aggregate=t.aggregate=c(t.aggregate))),t},query:function(n){var i,r=this.options.serverSorting||this.options.serverPaging||this.options.serverFiltering||this.options.serverGrouping||this.options.serverAggregates;return r||(this._data===e||0===this._data.length)&&!this._destroyed.length?this.read(this._mergeState(n)):(this.trigger(Ce,{type:"read"})||(this.trigger(Se),i=this._queryProcess(this._data,this._mergeState(n)),this.options.serverFiltering||(this._total=i.total!==e?i.total:this._data.length),this._aggregateResult=this._calculateAggregates(this._data,n),this.view(i.data),this.trigger(Te,{}),this.trigger(we,{items:i.data})),t.Deferred().resolve().promise())},fetch:function(t){return this._query().then(ne(t,this))},_query:function(t){var e=this;return e.query(ee({},{page:e.page(),pageSize:e.pageSize(),sort:e.sort(),filter:e.filter(),group:e.group(),aggregate:e.aggregate()},t))},next:function(t){var n=this,i=n.page(),r=n.total();return t=t||{},!i||r&&i+1>n.totalPages()?e:(n._skip=i*n.take(),i+=1,t.page=i,n._query(t),i)},prev:function(t){var n=this,i=n.page();return t=t||{},i&&1!==i?(n._skip=n._skip-n.take(),i-=1,t.page=i,n._query(t),i):e},page:function(t){var n,i=this;return t!==e?(t=Ee.max(Ee.min(Ee.max(t,1),i.totalPages()),1),i._query({page:t}),e):(n=i.skip(),n!==e?Ee.round((n||0)/(i.take()||1))+1:e)},pageSize:function(t){var n=this;return t!==e?(n._query({pageSize:t,page:1}),e):n.take()},sort:function(t){var n=this;return t!==e?(n._query({sort:t}),e):n._sort},filter:function(t){var n=this;return t===e?n._filter:(n._query({filter:t,page:1}),e)},group:function(t){var n=this;return t!==e?(n._query({group:t}),e):n._group},total:function(){return parseInt(this._total||0,10)},aggregate:function(t){var n=this;return t!==e?(n._query({aggregate:t}),e):n._aggregate},aggregates:function(){return this._aggregateResult},totalPages:function(){var t=this,e=t.pageSize()||t.total();return Ee.ceil((t.total()||0)/e)},inRange:function(t,e){var n=this,i=Ee.min(t+e,n.total());return!n.options.serverPaging&&n._data.length>0?!0:n._findRange(t,i).length>0},lastRange:function(){var t=this._ranges;return t[t.length-1]||{start:0,end:0,data:[]}},firstItemUid:function(){var t=this._ranges;return t.length&&t[0].data.length&&t[0].data[0].uid},enableRequestsInProgress:function(){this._skipRequestsInProgress=!1},range:function(t,n){var i,r,o,a,s,l,c,h;if(t=Ee.min(t||0,this.total()),i=this,r=Ee.max(Ee.floor(t/n),0)*n,o=Ee.min(r+n,i.total()),i._skipRequestsInProgress=!1,a=i._findRange(t,Ee.min(t+n,i.total())),a.length){i._skipRequestsInProgress=!0,i._pending=e,i._skip=t>i.skip()?Ee.min(o,(i.totalPages()-1)*i.take()):r,i._take=n,s=i.options.serverPaging,l=i.options.serverSorting,c=i.options.serverFiltering,h=i.options.serverAggregates;try{i.options.serverPaging=!0,i._isServerGrouped()||i.group()&&i.group().length||(i.options.serverSorting=!0),i.options.serverFiltering=!0,i.options.serverPaging=!0,i.options.serverAggregates=!0,s&&(i._detachObservableParents(),i._data=a=i._observe(a)),i._process(a)}finally{i.options.serverPaging=s,i.options.serverSorting=l,i.options.serverFiltering=c,i.options.serverAggregates=h}}else n!==e&&(i._rangeExists(r,o)?t>r&&i.prefetch(o,n,function(){i.range(t,n)}):i.prefetch(r,n,function(){t>r&&o<i.total()&&!i._rangeExists(o,Ee.min(o+n,i.total()))?i.prefetch(o,n,function(){i.range(t,n)}):i.range(t,n)}))},_findRange:function(t,n){var i,r,o,s,l,c,d,u,f,p,g,m,v=this,y=v._ranges,_=[],w=v.options,x=w.serverSorting||w.serverPaging||w.serverFiltering||w.serverGrouping||w.serverAggregates;for(r=0,g=y.length;g>r;r++)if(i=y[r],t>=i.start&&i.end>=t){for(p=0,o=r;g>o;o++)if(i=y[o],f=v._flatData(i.data,!0),f.length&&t+p>=i.start&&(c=i.data,d=i.end,x||(m=h(v.group()||[]).concat(a(v.sort()||[])),u=v._queryProcess(i.data,{sort:m,filter:v.filter()}),f=c=u.data,u.total!==e&&(d=u.total)),s=0,t+p>i.start&&(s=t+p-i.start),l=f.length,d>n&&(l-=d-n),p+=l-s,_=v._mergeGroups(_,c,s,l),i.end>=n&&p==n-t))return _;break}return[]},_mergeGroups:function(t,e,n,i){if(this._isServerGrouped()){var r,o=e.toJSON();return t.length&&(r=t[t.length-1]),w(r,o,n,i),t.concat(o)}return t.concat(e.slice(n,i))},skip:function(){var t=this;return t._skip===e?t._page!==e?(t._page-1)*(t.take()||1):e:t._skip},take:function(){return this._take||this._pageSize},_prefetchSuccessHandler:function(t,e,n){var i=this;return function(r){var o,a,s,l=!1,c={start:t,end:e,data:[]};if(i._dequeueRequest(),i.trigger(Te,{response:r,type:"read"}),r=i.reader.parse(r),s=i._readData(r),s.length){for(o=0,a=i._ranges.length;a>o;o++)if(i._ranges[o].start===t){l=!0,c=i._ranges[o];break}l||i._ranges.push(c)}c.data=i._observe(s),c.end=c.start+i._flatData(c.data,!0).length,i._ranges.sort(function(t,e){return t.start-e.start}),i._total=i.reader.total(r),i._skipRequestsInProgress||(n&&s.length?n():i.trigger(we,{}))}},prefetch:function(t,e,n){var i=this,r=Ee.min(t+e,i.total()),o={take:e,skip:t,page:t/e+1,pageSize:e,sort:i._sort,filter:i._filter,group:i._group,aggregate:i._aggregate};i._rangeExists(t,r)?n&&n():(clearTimeout(i._timeout),i._timeout=setTimeout(function(){i._queueRequest(o,function(){i.trigger(Ce,{type:"read"})?i._dequeueRequest():i.transport.read({data:i._params(o),success:i._prefetchSuccessHandler(t,r,n)})})},100))},_rangeExists:function(t,e){var n,i,r=this,o=r._ranges;for(n=0,i=o.length;i>n;n++)if(t>=o[n].start&&o[n].end>=e)return!0;return!1},_removeModelFromRanges:function(t){var e,n,i,r,o;for(r=0,o=this._ranges.length;o>r&&(i=this._ranges[r],this._eachItem(i.data,function(i){e=D(i,t),e&&(n=!0)}),!n);r++);},_updateRangesLength:function(){var t,e,n,i,r=0;for(n=0,i=this._ranges.length;i>n;n++)t=this._ranges[n],t.start=t.start-r,e=this._flatData(t.data,!0).length,r=t.end-e,t.end=t.start+e}}),Q={},Q.create=function(t,e){var n,i=t.transport;return i?(i.read=typeof i.read===pe?{url:i.read}:i.read,t.type&&(he.data.transports[t.type]&&!ie(he.data.transports[t.type])?n=new he.data.transports[t.type](ee(i,{data:e})):i=ee(!0,{},he.data.transports[t.type],i),t.schema=ee(!0,{},he.data.schemas[t.type],t.schema)),n||(n=de(i.read)?i:new q(i))):n=new G({data:t.data||[]}),n},X.create=function(t){(oe(t)||t instanceof je)&&(t={data:t});var e,n,i,r=t||{},o=r.data,a=r.fields,s=r.table,l=r.select,c={};if(o||!a||r.transport||(s?o=F(s,a):l&&(o=z(l,a))),he.data.Model&&a&&(!r.schema||!r.schema.model)){for(e=0,n=a.length;n>e;e++)i=a[e],i.type&&(c[i.field]=i);re(c)||(r.schema=ee(!0,r.schema,{model:{fields:c}}))}return r.data=o,s=null,r.table=null,r instanceof X?r:new X(r)},K=Xe.define({init:function(t){var e=this,n=e.hasChildren||t&&t.hasChildren,i="items",r={};he.data.Model.fn.init.call(e,t),typeof e.children===pe&&(i=e.children),r={schema:{data:i,model:{hasChildren:n,id:e.idField,fields:e.fields}}},typeof e.children!==pe&&ee(r,e.children),r.data=t,n||(n=r.schema.data),typeof n===pe&&(n=he.getter(n)),de(n)&&(e.hasChildren=!!n.call(e,e)),e._childrenOptions=r,e.hasChildren&&e._initChildren(),e._loaded=!(!t||!t[i]&&!t._loaded)},_initChildren:function(){var t,e,n,i=this;i.children instanceof Z||(t=i.children=new Z(i._childrenOptions),e=t.transport,n=e.parameterMap,e.parameterMap=function(t,e){return t[i.idField||"id"]=i.id,n&&(t=n(t,e)),t},t.parent=function(){return i},t.bind(we,function(t){t.node=t.node||i,i.trigger(we,t)}),t.bind(ke,function(t){var e=i.parent();e&&(t.node=t.node||i,e.trigger(ke,t))}),i._updateChildrenField())},append:function(t){this._initChildren(),this.loaded(!0),this.children.add(t)},hasChildren:!1,level:function(){for(var t=this.parentNode(),e=0;t&&t.parentNode;)e++,t=t.parentNode?t.parentNode():null;return e},_updateChildrenField:function(){var t=this._childrenOptions.schema.data;this[t||"items"]=this.children.data()},_childrenLoaded:function(){this._loaded=!0,this._updateChildrenField()},load:function(){var t,n={},i="_query";this.hasChildren?(this._initChildren(),t=this.children,n[this.idField||"id"]=this.id,this._loaded||(t._data=e,i="read"),t.one(we,ne(this._childrenLoaded,this)),t[i](n)):this.loaded(!0)},parentNode:function(){var t=this.parent();return t.parent()},loaded:function(t){return t===e?this._loaded:(this._loaded=t,e)},shouldSerialize:function(t){return Xe.fn.shouldSerialize.call(this,t)&&"children"!==t&&"_loaded"!==t&&"hasChildren"!==t&&"_childrenOptions"!==t}}),Z=X.extend({init:function(t){var e=K.define({children:t});X.fn.init.call(this,ee(!0,{},{schema:{modelBase:e,model:e}},t)),this._attachBubbleHandlers()},_attachBubbleHandlers:function(){var t=this;t._data.bind(ke,function(e){t.trigger(ke,e)})},remove:function(t){var e,n=t.parentNode(),i=this;return n&&n._initChildren&&(i=n.children),e=X.fn.remove.call(i,t),n&&!i.data().length&&(n.hasChildren=!1),e},success:R("success"),data:R("data"),insert:function(t,e){var n=this.parent();return n&&n._initChildren&&(n.hasChildren=!0,n._initChildren()),X.fn.insert.call(this,t,e)},_find:function(t,e){var n,i,r,o,a;if(r=X.fn[t].call(this,e))return r;if(o=this._flatData(this._data))for(n=0,i=o.length;i>n;n++)if(a=o[n].children,a instanceof Z&&(r=a[t](e)))return r},get:function(t){return this._find("get",t)},getByUid:function(t){return this._find("getByUid",t)}}),Z.create=function(t){t=t&&t.push?{data:t}:t;var e=t||{},n=e.data,i=e.fields,r=e.list;return n&&n._dataSource?n._dataSource:(n||!i||e.transport||r&&(n=O(r,i)),e.data=n,e instanceof Z?e:new Z(e))},J=he.Observable.extend({init:function(t,e,n){he.Observable.fn.init.call(this),this._prefetching=!1,this.dataSource=t,this.prefetch=!n;var i=this;t.bind("change",function(){i._change()}),t.bind("reset",function(){i._reset()}),this._syncWithDataSource(),this.setViewSize(e)},setViewSize:function(t){this.viewSize=t,this._recalculate()},at:function(t){var n=this.pageSize,i=!0;return t>=this.total()?(this.trigger("endreached",{index:t}),e):this.useRanges?this.useRanges?((this.dataOffset>t||t>=this.skip+n)&&(i=this.range(Math.floor(t/n)*n)),t===this.prefetchThreshold&&this._prefetch(),t===this.midPageThreshold?this.range(this.nextMidRange,!0):t===this.nextPageThreshold?this.range(this.nextFullRange):t===this.pullBackThreshold&&this.range(this.offset===this.skip?this.previousMidRange:this.previousFullRange),i?this.dataSource.at(t-this.dataOffset):(this.trigger("endreached",{index:t}),null)):e:this.dataSource.view()[t]},indexOf:function(t){return this.dataSource.data().indexOf(t)+this.dataOffset},total:function(){return parseInt(this.dataSource.total(),10)},next:function(){var t=this,e=t.pageSize,n=t.skip-t.viewSize+e,i=Ee.max(Ee.floor(n/e),0)*e;this.offset=n,this.dataSource.prefetch(i,e,function(){t._goToRange(n,!0)})},range:function(t,e){if(this.offset===t)return!0;var n=this,i=this.pageSize,r=Ee.max(Ee.floor(t/i),0)*i,o=this.dataSource;return e&&(r+=i),o.inRange(t,i)?(this.offset=t,this._recalculate(),this._goToRange(t),!0):this.prefetch?(o.prefetch(r,i,function(){n.offset=t,n._recalculate(),n._goToRange(t,!0)}),!1):!0},syncDataSource:function(){var t=this.offset;this.offset=null,this.range(t)},destroy:function(){this.unbind()},_prefetch:function(){var t=this,e=this.pageSize,n=this.skip+e,i=this.dataSource;i.inRange(n,e)||this._prefetching||!this.prefetch||(this._prefetching=!0,this.trigger("prefetching",{skip:n,take:e}),i.prefetch(n,e,function(){t._prefetching=!1,t.trigger("prefetched",{skip:n,take:e})}))},_goToRange:function(t,e){this.offset===t&&(this.dataOffset=t,this._expanding=e,this.dataSource.range(t,this.pageSize),this.dataSource.enableRequestsInProgress())},_reset:function(){this._syncPending=!0},_change:function(){var t=this.dataSource;this.length=this.useRanges?t.lastRange().end:t.view().length,this._syncPending&&(this._syncWithDataSource(),this._recalculate(),this._syncPending=!1,this.trigger("reset",{offset:this.offset})),this.trigger("resize"),this._expanding&&this.trigger("expand"),delete this._expanding},_syncWithDataSource:function(){var t=this.dataSource;this._firstItemUid=t.firstItemUid(),this.dataOffset=this.offset=t.skip()||0,this.pageSize=t.pageSize(),this.useRanges=t.options.serverPaging},_recalculate:function(){var t=this.pageSize,e=this.offset,n=this.viewSize,i=Math.ceil(e/t)*t;this.skip=i,this.midPageThreshold=i+t-1,this.nextPageThreshold=i+n-1,this.prefetchThreshold=i+Math.floor(t/3*2),this.pullBackThreshold=this.offset-1,this.nextMidRange=i+t-n,this.nextFullRange=i,this.previousMidRange=e-n,this.previousFullRange=i-t}}),te=he.Observable.extend({init:function(t,e){var n=this;he.Observable.fn.init.call(n),this.dataSource=t,this.batchSize=e,this._total=0,this.buffer=new J(t,3*e),this.buffer.bind({endreached:function(t){n.trigger("endreached",{index:t.index})},prefetching:function(t){n.trigger("prefetching",{skip:t.skip,take:t.take})},prefetched:function(t){n.trigger("prefetched",{skip:t.skip,take:t.take})},reset:function(){n._total=0,n.trigger("reset")},resize:function(){n._total=Math.ceil(this.length/n.batchSize),n.trigger("resize",{total:n.total(),offset:this.offset})}})},syncDataSource:function(){this.buffer.syncDataSource()},at:function(t){var n,i,r=this.buffer,o=t*this.batchSize,a=this.batchSize,s=[];for(r.offset>o&&r.at(r.offset-1),i=0;a>i&&(n=r.at(o+i),n!==e);i++)s.push(n);return s},total:function(){return this._total},destroy:function(){this.buffer.destroy(),this.unbind()}}),ee(!0,he.data,{readers:{json:Y},Query:o,DataSource:X,HierarchicalDataSource:Z,Node:K,ObservableObject:qe,ObservableArray:je,LazyObservableArray:Ge,LocalTransport:G,RemoteTransport:q,Cache:$,DataReader:Y,Model:Xe,Buffer:J,BatchBuffer:te})}(window.kendo.jQuery),function(t,e){function n(e,n,i){return v.extend({init:function(t,e,n){var i=this;v.fn.init.call(i,t.element[0],e,n),i.widget=t,i._dataBinding=M(i.dataBinding,i),i._dataBound=M(i.dataBound,i),i._itemChange=M(i.itemChange,i)},itemChange:function(t){a(t.item[0],t.data,this._ns(t.ns),[t.data].concat(this.bindings[e]._parents()))},dataBinding:function(t){var e,n,i=this.widget,r=t.removedItems||i.items();for(e=0,n=r.length;n>e;e++)c(r[e])},_ns:function(e){e=e||k.ui;var n=[k.ui,k.dataviz.ui,k.mobile.ui];return n.splice(t.inArray(e,n),1),n.unshift(e),k.rolesFromNamespaces(n)},dataBound:function(t){{var i,r,o,s,l=this.widget,c=t.addedItems||l.items(),h=l[n];h.group()||[]}if(c.length)for(o=t.addedDataItems||h.flatView(),s=this.bindings[e]._parents(),i=0,r=o.length;r>i;i++)a(c[i],o[i],this._ns(t.ns),[o[i]].concat(s))},refresh:function(t){var r,o=this,a=o.widget;t=t||{},t.action||(o.destroy(),a.bind("dataBinding",o._dataBinding),a.bind("dataBound",o._dataBound),a.bind("itemChange",o._itemChange),r=o.bindings[e].get(),a[n]instanceof k.data.DataSource&&a[n]!=r&&(r instanceof k.data.DataSource?a[i](r):r&&r._dataSource?a[i](r._dataSource):a[n].data(r)))},destroy:function(){var t=this.widget;t.unbind("dataBinding",this._dataBinding),t.unbind("dataBound",this._dataBound),t.unbind("itemChange",this._itemChange)}})}function i(t,n){var i=k.initWidget(t,{},n);return i?new w(i):e}function r(t){var e,n,i,o,a,s,l,c={};for(l=t.match(x),e=0,n=l.length;n>e;e++)i=l[e],o=i.indexOf(":"),a=i.substring(0,o),s=i.substring(o+1),"{"==s.charAt(0)&&(s=r(s)),c[a]=s;return c}function o(t,e,n){var i,r={};for(i in t)r[i]=new n(e,t[i]);return r}function a(t,e,n,s){var c,h,d,u=t.getAttribute("data-"+k.ns+"role"),f=t.getAttribute("data-"+k.ns+"bind"),v=t.children,y=[],w=!0,x={};if(s=s||[e],(u||f)&&l(t),u&&(d=i(t,n)),f&&(f=r(f.replace(b,"")),d||(x=k.parseOptions(t,{textField:"",valueField:"",template:"",valueUpdate:F,valuePrimitive:!1,autoBind:!0}),x.roles=n,d=new _(t,x)),d.source=e,h=o(f,s,p),x.template&&(h.template=new m(s,"",x.template)),h.click&&(f.events=f.events||{},f.events.click=f.click,h.click.destroy(),delete h.click),h.source&&(w=!1),f.attr&&(h.attr=o(f.attr,s,p)),f.style&&(h.style=o(f.style,s,p)),f.events&&(h.events=o(f.events,s,g)),d.bind(h)),d&&(t.kendoBindingTarget=d),w&&v){for(c=0;v.length>c;c++)y[c]=v[c];for(c=0;y.length>c;c++)a(y[c],e,n,s)}}function s(e,n){var i,r,o,s=k.rolesFromNamespaces([].slice.call(arguments,2));for(n=k.observable(n),e=t(e),i=0,r=e.length;r>i;i++)o=e[i],1===o.nodeType&&a(o,n,s)}function l(t){var e=t.kendoBindingTarget;e&&(e.destroy(),z?delete t.kendoBindingTarget:t.removeAttribute?t.removeAttribute("kendoBindingTarget"):t.kendoBindingTarget=null)}function c(t){l(t),h(t)}function h(t){var e,n,i=t.children;if(i)for(e=0,n=i.length;n>e;e++)c(i[e])}function d(e){var n,i;for(e=t(e),n=0,i=e.length;i>n;n++)c(e[n])}function u(t,e){var n=t.element,i=n[0].kendoBindingTarget;i&&s(n,i.source,e)}var f,p,g,m,v,y,_,w,x,b,k=window.kendo,C=k.Observable,S=k.data.ObservableObject,T=k.data.ObservableArray,D={}.toString,A={},P=k.Class,M=t.proxy,E="value",I="source",L="events",B="checked",z=!0,F="change";!function(){var t=document.createElement("a");t.innerText!==e?f="innerText":t.textContent!==e&&(f="textContent");try{delete t.test}catch(n){z=!1}}(),p=C.extend({init:function(t,e){var n=this;C.fn.init.call(n),n.source=t[0],n.parents=t,n.path=e,n.dependencies={},n.dependencies[e]=!0,n.observable=n.source instanceof C,n._access=function(t){n.dependencies[t.field]=!0},n.observable&&(n._change=function(t){n.change(t)},n.source.bind(F,n._change))},_parents:function(){var e,n=this.parents,i=this.get();return i&&"function"==typeof i.parent&&(e=i.parent(),t.inArray(e,n)<0&&(n=[e].concat(n))),n},change:function(t){var e,n,i=t.field,r=this;if("this"===r.path)r.trigger(F,t);else for(e in r.dependencies)if(0===e.indexOf(i)&&(n=e.charAt(i.length),!n||"."===n||"["===n)){r.trigger(F,t);break}},start:function(t){t.bind("get",this._access)},stop:function(t){t.unbind("get",this._access)},get:function(){var t=this,n=t.source,i=0,r=t.path,o=n;if(!t.observable)return o;for(t.start(t.source),o=n.get(r);o===e&&n;)n=t.parents[++i],n instanceof S&&(o=n.get(r));if(o===e)for(n=t.source;o===e&&n;)n=n.parent(),n instanceof S&&(o=n.get(r));return"function"==typeof o&&(i=r.lastIndexOf("."),i>0&&(n=n.get(r.substring(0,i))),t.start(n),o=n!==t.source?o.call(n,t.source):o.call(n),t.stop(n)),n&&n!==t.source&&(t.currentSource=n,n.unbind(F,t._change).bind(F,t._change)),t.stop(t.source),o},set:function(t){var e=this.currentSource||this.source,n=k.getter(this.path)(e);"function"==typeof n?e!==this.source?n.call(e,this.source,t):n.call(e,t):e.set(this.path,t)},destroy:function(){this.observable&&(this.source.unbind(F,this._change),this.currentSource&&this.currentSource.unbind(F,this._change)),this.unbind()}}),g=p.extend({get:function(){var t,e=this.source,n=this.path,i=0;for(t=e.get(n);!t&&e;)e=this.parents[++i],e instanceof S&&(t=e.get(n));return M(t,e)}}),m=p.extend({init:function(t,e,n){var i=this;p.fn.init.call(i,t,e),i.template=n},render:function(t){var e;return this.start(this.source),e=k.render(this.template,t),this.stop(this.source),e}}),v=P.extend({init:function(t,e,n){this.element=t,this.bindings=e,this.options=n},bind:function(t,e){var n=this;t=e?t[e]:t,t.bind(F,function(t){n.refresh(e||t)}),n.refresh(e)},destroy:function(){}}),A.attr=v.extend({refresh:function(t){this.element.setAttribute(t,this.bindings.attr[t].get())}}),A.style=v.extend({refresh:function(t){this.element.style[t]=this.bindings.style[t].get()||""}}),A.enabled=v.extend({refresh:function(){this.bindings.enabled.get()?this.element.removeAttribute("disabled"):this.element.setAttribute("disabled","disabled")}}),A.readonly=v.extend({refresh:function(){this.bindings.readonly.get()?this.element.setAttribute("readonly","readonly"):this.element.removeAttribute("readonly")
}}),A.disabled=v.extend({refresh:function(){this.bindings.disabled.get()?this.element.setAttribute("disabled","disabled"):this.element.removeAttribute("disabled")}}),A.events=v.extend({init:function(t,e,n){v.fn.init.call(this,t,e,n),this.handlers={}},refresh:function(e){var n=t(this.element),i=this.bindings.events[e],r=this.handlers[e];r&&n.off(e,r),r=this.handlers[e]=i.get(),n.on(e,i.source,r)},destroy:function(){var e,n=t(this.element);for(e in this.handlers)n.off(e,this.handlers[e])}}),A.text=v.extend({refresh:function(){var t=this.bindings.text.get();null==t&&(t=""),this.element[f]=t}}),A.visible=v.extend({refresh:function(){this.element.style.display=this.bindings.visible.get()?"":"none"}}),A.invisible=v.extend({refresh:function(){this.element.style.display=this.bindings.invisible.get()?"none":""}}),A.html=v.extend({refresh:function(){this.element.innerHTML=this.bindings.html.get()}}),A.value=v.extend({init:function(e,n,i){v.fn.init.call(this,e,n,i),this._change=M(this.change,this),this.eventName=i.valueUpdate||F,t(this.element).on(this.eventName,this._change),this._initChange=!1},change:function(){var t,e;this._initChange=this.eventName!=F,t=this.element.value,e=this.element.type,"date"==e?t=k.parseDate(t,"yyyy-MM-dd"):"datetime-local"==e?t=k.parseDate(t,["yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mm"]):"number"==e&&(t=k.parseFloat(t)),this.bindings[E].set(t),this._initChange=!1},refresh:function(){var t,e;this._initChange||(t=this.bindings[E].get(),null==t&&(t=""),e=this.element.type,"date"==e?t=k.toString(t,"yyyy-MM-dd"):"datetime-local"==e&&(t=k.toString(t,"yyyy-MM-ddTHH:mm:ss")),this.element.value=t),this._initChange=!1},destroy:function(){t(this.element).off(this.eventName,this._change)}}),A.source=v.extend({init:function(t,e,n){v.fn.init.call(this,t,e,n);var i=this.bindings.source.get();i instanceof k.data.DataSource&&n.autoBind!==!1&&i.fetch()},refresh:function(t){var e=this,n=e.bindings.source.get();n instanceof T||n instanceof k.data.DataSource?(t=t||{},"add"==t.action?e.add(t.index,t.items):"remove"==t.action?e.remove(t.index,t.items):"itemchange"!=t.action&&e.render()):e.render()},container:function(){var t=this.element;return"table"==t.nodeName.toLowerCase()&&(t.tBodies[0]||t.appendChild(document.createElement("tbody")),t=t.tBodies[0]),t},template:function(){var t=this.options,e=t.template,n=this.container().nodeName.toLowerCase();return e||(e="select"==n?t.valueField||t.textField?k.format('<option value="#:{0}#">#:{1}#</option>',t.valueField||t.textField,t.textField||t.valueField):"<option>#:data#</option>":"tbody"==n?"<tr><td>#:data#</td></tr>":"ul"==n||"ol"==n?"<li>#:data#</li>":"#:data#",e=k.template(e)),e},add:function(e,n){var i,r,o,s,l=this.container(),c=l.cloneNode(!1),h=l.children[e];if(t(c).html(k.render(this.template(),n)),c.children.length)for(i=this.bindings.source._parents(),r=0,o=n.length;o>r;r++)s=c.children[0],l.insertBefore(s,h||null),a(s,n[r],this.options.roles,[n[r]].concat(i))},remove:function(t,e){var n,i,r=this.container();for(n=0;e.length>n;n++)i=r.children[t],c(i),r.removeChild(i)},render:function(){var e,n,i,r=this.bindings.source.get(),o=this.container(),s=this.template();if(r instanceof k.data.DataSource&&(r=r.view()),r instanceof T||"[object Array]"===D.call(r)||(r=[r]),this.bindings.template){if(h(o),t(o).html(this.bindings.template.render(r)),o.children.length)for(e=this.bindings.source._parents(),n=0,i=r.length;i>n;n++)a(o.children[n],r[n],this.options.roles,[r[n]].concat(e))}else t(o).html(k.render(s,r))}}),A.input={checked:v.extend({init:function(e,n,i){v.fn.init.call(this,e,n,i),this._change=M(this.change,this),t(this.element).change(this._change)},change:function(){var t,e,n=this.element,i=this.value();"radio"==n.type?this.bindings[B].set(i):"checkbox"==n.type&&(t=this.bindings[B].get(),t instanceof T?(i=this.element.value,"on"!==i&&"off"!==i&&(e=t.indexOf(i),e>-1?t.splice(e,1):t.push(i))):this.bindings[B].set(i))},refresh:function(){var t=this.bindings[B].get(),e=t,n=this.element;"checkbox"==n.type?(e instanceof T&&(t=this.element.value,e.indexOf(t)>=0&&(t=!0)),n.checked=t===!0):"radio"==n.type&&null!=t&&n.value===""+t&&(n.checked=!0)},value:function(){var t=this.element,e=t.value;return"checkbox"==t.type&&(e=t.checked),e},destroy:function(){t(this.element).off(F,this._change)}})},A.select={value:v.extend({init:function(e,n,i){v.fn.init.call(this,e,n,i),this._change=M(this.change,this),t(this.element).change(this._change)},change:function(){var t,e,n,i,r,o,a=[],s=this.element,l=this.options.valueField||this.options.textField,c=this.options.valuePrimitive;for(r=0,o=s.options.length;o>r;r++)e=s.options[r],e.selected&&(i=e.attributes.value,i=i&&i.specified?e.value:e.text,a.push(i));if(l)for(t=this.bindings.source.get(),n=0;a.length>n;n++)for(r=0,o=t.length;o>r;r++)if(t[r].get(l)==a[n]){a[n]=t[r];break}i=this.bindings[E].get(),i instanceof T?i.splice.apply(i,[0,i.length].concat(a)):this.bindings[E].set(c||!(i instanceof S)&&l?a[0].get(l):a[0])},refresh:function(){var t,e,n,i=this.element,r=i.options,o=this.bindings[E].get(),a=o,s=this.options.valueField||this.options.textField,l=!1;for(a instanceof T||(a=new T([o])),i.selectedIndex=-1,n=0;a.length>n;n++)for(o=a[n],s&&o instanceof S&&(o=o.get(s)),t=0;r.length>t;t++)e=r[t].value,""===e&&""!==o&&(e=r[t].text),e==o&&(r[t].selected=!0,l=!0)},destroy:function(){t(this.element).off(F,this._change)}})},A.widget={events:v.extend({init:function(t,e,n){v.fn.init.call(this,t.element[0],e,n),this.widget=t,this.handlers={}},refresh:function(t){var e=this.bindings.events[t],n=this.handlers[t];n&&this.widget.unbind(t,n),n=e.get(),this.handlers[t]=function(t){t.data=e.source,n(t),t.data===e.source&&delete t.data},this.widget.bind(t,this.handlers[t])},destroy:function(){var t;for(t in this.handlers)this.widget.unbind(t,this.handlers[t])}}),checked:v.extend({init:function(t,e,n){v.fn.init.call(this,t.element[0],e,n),this.widget=t,this._change=M(this.change,this),this.widget.bind(F,this._change)},change:function(){this.bindings[B].set(this.value())},refresh:function(){this.widget.check(this.bindings[B].get()===!0)},value:function(){var t=this.element,e=t.value;return("on"==e||"off"==e)&&(e=t.checked),e},destroy:function(){this.widget.unbind(F,this._change)}}),visible:v.extend({init:function(t,e,n){v.fn.init.call(this,t.element[0],e,n),this.widget=t},refresh:function(){var t=this.bindings.visible.get();this.widget.wrapper[0].style.display=t?"":"none"}}),invisible:v.extend({init:function(t,e,n){v.fn.init.call(this,t.element[0],e,n),this.widget=t},refresh:function(){var t=this.bindings.invisible.get();this.widget.wrapper[0].style.display=t?"none":""}}),enabled:v.extend({init:function(t,e,n){v.fn.init.call(this,t.element[0],e,n),this.widget=t},refresh:function(){this.widget.enable&&this.widget.enable(this.bindings.enabled.get())}}),disabled:v.extend({init:function(t,e,n){v.fn.init.call(this,t.element[0],e,n),this.widget=t},refresh:function(){this.widget.enable&&this.widget.enable(!this.bindings.disabled.get())}}),source:n("source","dataSource","setDataSource"),value:v.extend({init:function(e,n,i){v.fn.init.call(this,e.element[0],n,i),this.widget=e,this._change=t.proxy(this.change,this),this.widget.first(F,this._change);var r=this.bindings.value.get();this._valueIsObservableObject=!i.valuePrimitive&&(null==r||r instanceof S),this._valueIsObservableArray=r instanceof T,this._initChange=!1},change:function(){var t,e,n,i,r,o,a,s=this.widget.value(),l=this.options.dataValueField||this.options.dataTextField,c="[object Array]"===D.call(s),h=this._valueIsObservableObject,d=[];if(this._initChange=!0,l)if(this.bindings.source&&(a=this.bindings.source.get()),""===s&&(h||this.options.valuePrimitive))s=null;else{for((!a||a instanceof k.data.DataSource)&&(a=this.widget.dataSource.view()),c&&(e=s.length,d=s.slice(0)),r=0,o=a.length;o>r;r++)if(n=a[r],i=n.get(l),c){for(t=0;e>t;t++)if(i==d[t]){d[t]=n;break}}else if(i==s){s=h?n:i;break}d[0]&&(s=this._valueIsObservableArray?d:h||!l?d[0]:d[0].get(l))}this.bindings.value.set(s),this._initChange=!1},refresh:function(){if(!this._initChange){var t,n=this.options.dataValueField||this.options.dataTextField,i=this.bindings.value.get(),r=0,o=[];if(i===e&&(i=null),n)if(i instanceof T){for(t=i.length;t>r;r++)o[r]=i[r].get(n);i=o}else i instanceof S&&(i=i.get(n));this.widget.value(i)}this._initChange=!1},destroy:function(){this.widget.unbind(F,this._change)}}),gantt:{dependencies:n("dependencies","dependencies","setDependenciesDataSource")},multiselect:{value:v.extend({init:function(e,n,i){v.fn.init.call(this,e.element[0],n,i),this.widget=e,this._change=t.proxy(this.change,this),this.widget.first(F,this._change),this._initChange=!1},change:function(){var t,e,n,i,r,o,a,s,l,c=this,h=c.bindings[E].get(),d=c.options.valuePrimitive,u=d?c.widget.value():c.widget.dataItems(),f=this.options.dataValueField||this.options.dataTextField;if(u=u.slice(0),c._initChange=!0,h instanceof T){for(t=[],e=u.length,n=0,i=0,r=h[n],o=!1;r;){for(l=!1,i=0;e>i;i++)if(d?o=u[i]==r:(s=u[i],s=s.get?s.get(f):s,o=s==(r.get?r.get(f):r)),o){u.splice(i,1),e-=1,l=!0;break}l?n+=1:(t.push(r),y(h,n,1),a=n),r=h[n]}y(h,h.length,0,u),t.length&&h.trigger("change",{action:"remove",items:t,index:a}),u.length&&h.trigger("change",{action:"add",items:u,index:h.length-1})}else c.bindings[E].set(u);c._initChange=!1},refresh:function(){if(!this._initChange){var t,n,i=this.options.dataValueField||this.options.dataTextField,r=this.bindings.value.get(),o=0,a=[];if(r===e&&(r=null),i)if(r instanceof T){for(t=r.length;t>o;o++)n=r[o],a[o]=n.get?n.get(i):n;r=a}else r instanceof S&&(r=r.get(i));this.widget.value(r)}},destroy:function(){this.widget.unbind(F,this._change)}})},scheduler:{source:n("source","dataSource","setDataSource").extend({dataBound:function(t){{var e,n,i,r,o=this.widget,s=o.view(),l=t.addedItems||o.items(),c=o.dataSource;c.group()||[]}if(l.length)for(i=t.addedDataItems||c.expand(s.startDate(),s.endDate()),r=this.bindings.source._parents(),e=0,n=i.length;n>e;e++)a(l[e],i[e],this._ns(t.ns),[i[e]].concat(r))}})}},y=function(t,e,n,i){var r,o,a,s,l;if(i=i||[],n=n||0,r=i.length,o=t.length,a=[].slice.call(t,e+n),s=a.length,r){for(r=e+r,l=0;r>e;e++)t[e]=i[l],l++;t.length=r}else if(n)for(t.length=e,n+=e;n>e;)delete t[--n];if(s){for(s=e+s,l=0;s>e;e++)t[e]=a[l],l++;t.length=s}for(e=t.length;o>e;)delete t[e],e++},_=P.extend({init:function(t,e){this.target=t,this.options=e,this.toDestroy=[]},bind:function(t){var e,n,i,r,o=this.target.nodeName.toLowerCase(),a=A[o]||{};for(e in t)e==E?n=!0:e==I?i=!0:e==L?r=!0:this.applyBinding(e,t,a);i&&this.applyBinding(I,t,a),n&&this.applyBinding(E,t,a),r&&this.applyBinding(L,t,a)},applyBinding:function(t,e,n){var i,r=n[t]||A[t],o=this.toDestroy,a=e[t];if(r)if(r=new r(this.target,e,this.options),o.push(r),a instanceof p)r.bind(a),o.push(a);else for(i in a)r.bind(a,i),o.push(a[i]);else if("template"!==t)throw Error("The "+t+" binding is not supported by the "+this.target.nodeName.toLowerCase()+" element")},destroy:function(){var t,e,n=this.toDestroy;for(t=0,e=n.length;e>t;t++)n[t].destroy()}}),w=_.extend({bind:function(t){var e,n=this,i=!1,r=!1,o=A.widget[n.target.options.name.toLowerCase()]||{};for(e in t)e==E?i=!0:e==I?r=!0:n.applyBinding(e,t,o);r&&n.applyBinding(I,t,o),i&&n.applyBinding(E,t,o)},applyBinding:function(t,e,n){var i,r=n[t]||A.widget[t],o=this.toDestroy,a=e[t];if(!r)throw Error("The "+t+" binding is not supported by the "+this.target.options.name+" widget");if(r=new r(this.target,e,this.target.options),o.push(r),a instanceof p)r.bind(a),o.push(a);else for(i in a)r.bind(a,i),o.push(a[i])}}),x=/[A-Za-z0-9_\-]+:(\{([^}]*)\}|[^,}]+)/g,b=/\s/g,k.unbind=d,k.bind=s,k.data.binders=A,k.data.Binder=v,k.notify=u,k.observable=function(t){return t instanceof S||(t=new S(t)),t},k.observableHierarchy=function(t){function e(t){var n,i;for(n=0;t.length>n;n++)t[n]._initChildren(),i=t[n].children,i.fetch(),t[n].items=i.data(),e(t[n].items)}var n=k.data.HierarchicalDataSource.create(t);return n.fetch(),e(n.data()),n._data._dataSource=n,n._data}}(window.kendo.jQuery),function(t){function e(t){if(!t)return{};var e=t.match(v)||[];return{type:e[1],direction:e[3],reverse:"reverse"===e[5]}}var n=window.kendo,i=n.Observable,r="SCRIPT",o="init",a="show",s="hide",l="transitionStart",c="transitionEnd",h="attach",d="detach",u=/unrecognized expression/,f=i.extend({init:function(t,e){var r=this;e=e||{},i.fn.init.call(r),r.content=t,r.id=n.guid(),r.tagName=e.tagName||"div",r.model=e.model,r._wrap=e.wrap!==!1,this._evalTemplate=e.evalTemplate||!1,r._fragments={},r.bind([o,a,s,l,c],e)},render:function(e){var i=this,r=!i.element;return r&&(i.element=i._createElement()),e&&t(e).append(i.element),r&&(n.bind(i.element,i.model),i.trigger(o)),e&&(i._eachFragment(h),i.trigger(a)),i.element},clone:function(){return new p(this)},triggerBeforeShow:function(){return!0},showStart:function(){this.element.css("display","")},showEnd:function(){},hideStart:function(){},hideEnd:function(){this.hide()},beforeTransition:function(t){this.trigger(l,{type:t})},afterTransition:function(t){this.trigger(c,{type:t})},hide:function(){this._eachFragment(d),this.element.detach(),this.trigger(s)},destroy:function(){var t=this.element;t&&(n.unbind(t),n.destroy(t),t.remove())},fragments:function(e){t.extend(this._fragments,e)},_eachFragment:function(t){for(var e in this._fragments)this._fragments[e][t](this,e)},_createElement:function(){var e,i,o=this,a="<"+o.tagName+" />";try{i=t(document.getElementById(o.content)||o.content),i[0].tagName===r&&(i=i.html())}catch(s){u.test(s.message)&&(i=o.content)}return"string"==typeof i?(i=i.replace(/^\s+|\s+$/g,""),o._evalTemplate&&(i=n.template(i)(o.model||{})),e=t(a).append(i),o._wrap||(e=e.contents())):(e=i,o._wrap&&(e=e.wrapAll(a).parent())),e}}),p=n.Class.extend({init:function(e){t.extend(this,{element:e.element.clone(!0),transition:e.transition,id:e.id}),e.element.parent().append(this.element)},hideStart:t.noop,hideEnd:function(){this.element.remove()},beforeTransition:t.noop,afterTransition:t.noop}),g=f.extend({init:function(t,e){f.fn.init.call(this,t,e),this.containers={}},container:function(t){var e=this.containers[t];return e||(e=this._createContainer(t),this.containers[t]=e),e},showIn:function(t,e,n){this.container(t).show(e,n)},_createContainer:function(t){var e,n=this.render(),i=n.find(t);if(!i.length&&n.is(t)){if(!n.is(t))throw Error("can't find a container with the specified "+t+" selector");i=n}return e=new y(i),e.bind("accepted",function(t){t.view.render(i)}),e}}),m=f.extend({attach:function(t,e){t.element.find(e).replaceWith(this.render())},detach:function(){}}),v=/^(\w+)(:(\w+))?( (\w+))?$/,y=i.extend({init:function(t){i.fn.init.call(this),this.container=t,this.history=[],this.view=null,this.running=!1},after:function(){this.running=!1,this.trigger("complete",{view:this.view}),this.trigger("after")},end:function(){this.view.showEnd(),this.previous.hideEnd(),this.after()},show:function(t,i,r){if(!t.triggerBeforeShow())return this.trigger("after"),!1;r=r||t.id;var o=this,a=t===o.view?t.clone():o.view,s=o.history,l=s[s.length-2]||{},c=l.id===r,h=i||(c?s[s.length-1].transition:t.transition),d=e(h);return o.running&&o.effect.stop(),"none"===h&&(h=null),o.trigger("accepted",{view:t}),o.view=t,o.previous=a,o.running=!0,c?s.pop():s.push({id:r,transition:h}),a?(a.hideStart(),h&&n.effects.enabled?(t.element.addClass("k-fx-hidden"),t.showStart(),c&&!i&&(d.reverse=!d.reverse),o.effect=n.fx(t.element).replace(a.element,d.type).beforeTransition(function(){t.beforeTransition("show"),a.beforeTransition("hide")}).afterTransition(function(){t.afterTransition("show"),a.afterTransition("hide")}).direction(d.direction).setReverse(d.reverse),o.effect.run().then(function(){o.end()})):(t.showStart(),o.end()),!0):(t.showStart(),t.showEnd(),o.after(),!0)}});n.ViewContainer=y,n.Fragment=m,n.Layout=g,n.View=f,n.ViewClone=p}(window.kendo.jQuery),function(){kendo.data.transports.signalr=kendo.data.RemoteTransport.extend({init:function(t){var e,n=t&&t.signalr?t.signalr:{},i=n.promise;if(!i)throw Error('The "promise" option must be set.');if("function"!=typeof i.done||"function"!=typeof i.fail)throw Error('The "promise" option must be a Promise.');if(this.promise=i,e=n.hub,!e)throw Error('The "hub" option must be set.');if("function"!=typeof e.on||"function"!=typeof e.invoke)throw Error('The "hub" option is not a valid SignalR hub proxy.');this.hub=e,kendo.data.RemoteTransport.fn.init.call(this,t)},push:function(t){var e=this.options.signalr.client||{};e.create&&this.hub.on(e.create,t.pushCreate),e.update&&this.hub.on(e.update,t.pushUpdate),e.destroy&&this.hub.on(e.destroy,t.pushDestroy)},_crud:function(t,e){var n,i,r=this.hub,o=this.options.signalr.server;if(!o||!o[e])throw Error(kendo.format('The "server.{0}" option must be set.',e));n=[o[e]],i=this.parameterMap(t.data,e),$.isEmptyObject(i)||n.push(i),this.promise.done(function(){r.invoke.apply(r,n).done(t.success).fail(t.error)})},read:function(t){this._crud(t,"read")},create:function(t){this._crud(t,"create")},update:function(t){this._crud(t,"update")},destroy:function(t){this._crud(t,"destroy")}})}(),function(t){function e(t,e){var n=t.x.location,i=t.y.location,r=e.x.location,o=e.y.location,a=n-r,s=i-o;return{center:{x:(n+r)/2,y:(i+o)/2},distance:Math.sqrt(a*a+s*s)}}function n(t){var e,n,i,r=[],a=t.originalEvent,s=t.currentTarget,l=0;if(t.api)r.push({id:2,event:t,target:t.target,currentTarget:t.target,location:t,type:"api"});else if(t.type.match(/touch/))for(n=a?a.changedTouches:[],e=n.length;e>l;l++)i=n[l],r.push({location:i,event:t,target:i.target,currentTarget:s,id:i.identifier,type:"touch"});else r.push(o.pointers||o.msPointers?{location:a,event:t,target:t.target,currentTarget:s,id:a.pointerId,type:"pointer"}:{id:1,event:t,target:t.target,currentTarget:s,location:t,type:"mouse"});return r}function i(t){for(var e=r.eventMap.up.split(" "),n=0,i=e.length;i>n;n++)t(e[n])}var r=window.kendo,o=r.support,a=window.document,s=r.Class,l=r.Observable,c=t.now,h=t.extend,d=o.mobileOS,u=d&&d.android,f=800,p=o.browser.msie?5:0,g="press",m="hold",v="select",y="start",_="move",w="end",x="cancel",b="tap",k="release",C="gesturestart",S="gesturechange",T="gestureend",D="gesturetap",A={api:0,touch:0,mouse:9,pointer:9},P=s.extend({init:function(t,e){var n=this;n.axis=t,n._updateLocationData(e),n.startLocation=n.location,n.velocity=n.delta=0,n.timeStamp=c()},move:function(t){var e=this,n=t["page"+e.axis],i=c(),r=i-e.timeStamp||1;(n||!u)&&(e.delta=n-e.location,e._updateLocationData(t),e.initialDelta=n-e.startLocation,e.velocity=e.delta/r,e.timeStamp=i)},_updateLocationData:function(t){var e=this,n=e.axis;e.location=t["page"+n],e.client=t["client"+n],e.screen=t["screen"+n]}}),M=s.extend({init:function(t,e,n){h(this,{x:new P("X",n.location),y:new P("Y",n.location),type:n.type,threshold:t.threshold||A[n.type],userEvents:t,target:e,currentTarget:n.currentTarget,initialTouch:n.target,id:n.id,pressEvent:n,_moved:!1,_finished:!1})},press:function(){this._holdTimeout=setTimeout(t.proxy(this,"_hold"),this.userEvents.minHold),this._trigger(g,this.pressEvent)},_hold:function(){this._trigger(m,this.pressEvent)},move:function(t){var e=this;if(!e._finished){if(e.x.move(t.location),e.y.move(t.location),!e._moved){if(e._withinIgnoreThreshold())return;if(E.current&&E.current!==e.userEvents)return e.dispose();e._start(t)}e._finished||e._trigger(_,t)}},end:function(t){var e=this;e.endTime=c(),e._finished||(e._finished=!0,e._trigger(k,t),e._moved?e._trigger(w,t):e._trigger(b,t),clearTimeout(e._holdTimeout),e.dispose())},dispose:function(){var e=this.userEvents,n=e.touches;this._finished=!0,this.pressEvent=null,clearTimeout(this._holdTimeout),n.splice(t.inArray(this,n),1)},skip:function(){this.dispose()},cancel:function(){this.dispose()},isMoved:function(){return this._moved},_start:function(t){clearTimeout(this._holdTimeout),this.startTime=c(),this._moved=!0,this._trigger(y,t)},_trigger:function(t,e){var n=this,i=e.event,r={touch:n,x:n.x,y:n.y,target:n.target,event:i};n.userEvents.notify(t,r)&&i.preventDefault()},_withinIgnoreThreshold:function(){var t=this.x.initialDelta,e=this.y.initialDelta;return Math.sqrt(t*t+e*e)<=this.threshold}}),E=l.extend({init:function(e,n){var s,c,d,u=this,A=r.guid();n=n||{},s=u.filter=n.filter,u.threshold=n.threshold||p,u.minHold=n.minHold||f,u.touches=[],u._maxTouches=n.multiTouch?2:1,u.allowSelection=n.allowSelection,u.captureUpIfMoved=n.captureUpIfMoved,u.eventNS=A,e=t(e).handler(u),l.fn.init.call(u),h(u,{element:e,surface:t(n.global?a.documentElement:n.surface||e),stopPropagation:n.stopPropagation,pressed:!1}),u.surface.handler(u).on(r.applyEventMap("move",A),"_move").on(r.applyEventMap("up cancel",A),"_end"),e.on(r.applyEventMap("down",A),s,"_start"),(o.pointers||o.msPointers)&&e.css("-ms-touch-action","pinch-zoom double-tap-zoom"),n.preventDragEvent&&e.on(r.applyEventMap("dragstart",A),r.preventDefault),e.on(r.applyEventMap("mousedown",A),s,{root:e},"_select"),u.captureUpIfMoved&&o.eventCapture&&(c=u.surface[0],d=t.proxy(u.preventIfMoving,u),i(function(t){c.addEventListener(t,d,!0)})),u.bind([g,m,b,y,_,w,k,x,C,S,T,D,v],n)},preventIfMoving:function(t){this._isMoved()&&t.preventDefault()},destroy:function(){var t,e=this;e._destroyed||(e._destroyed=!0,e.captureUpIfMoved&&o.eventCapture&&(t=e.surface[0],i(function(n){t.removeEventListener(n,e.preventIfMoving)})),e.element.kendoDestroy(e.eventNS),e.surface.kendoDestroy(e.eventNS),e.element.removeData("handler"),e.surface.removeData("handler"),e._disposeAll(),e.unbind(),delete e.surface,delete e.element,delete e.currentTarget)},capture:function(){E.current=this},cancel:function(){this._disposeAll(),this.trigger(x)},notify:function(t,n){var i=this,r=i.touches;if(this._isMultiTouch()){switch(t){case _:t=S;break;case w:t=T;break;case b:t=D}h(n,{touches:r},e(r[0],r[1]))}return this.trigger(t,h(n,{type:t}))},press:function(t,e,n){this._apiCall("_start",t,e,n)},move:function(t,e){this._apiCall("_move",t,e)},end:function(t,e){this._apiCall("_end",t,e)},_isMultiTouch:function(){return this.touches.length>1},_maxTouchesReached:function(){return this.touches.length>=this._maxTouches},_disposeAll:function(){for(var t=this.touches;t.length>0;)t.pop().dispose()},_isMoved:function(){return t.grep(this.touches,function(t){return t.isMoved()}).length},_select:function(t){(!this.allowSelection||this.trigger(v,{event:t}))&&t.preventDefault()},_start:function(e){var i,r,o=this,a=0,s=o.filter,l=n(e),c=l.length,h=e.which;if(!(h&&h>1||o._maxTouchesReached()))for(E.current=null,o.currentTarget=e.currentTarget,o.stopPropagation&&e.stopPropagation();c>a&&!o._maxTouchesReached();a++)r=l[a],i=s?t(r.currentTarget):o.element,i.length&&(r=new M(o,i,r),o.touches.push(r),r.press(),o._isMultiTouch()&&o.notify("gesturestart",{}))},_move:function(t){this._eachTouch("move",t)},_end:function(t){this._eachTouch("end",t)},_eachTouch:function(t,e){var i,r,o,a,s=this,l={},c=n(e),h=s.touches;for(i=0;h.length>i;i++)r=h[i],l[r.id]=r;for(i=0;c.length>i;i++)o=c[i],a=l[o.id],a&&a[t](o)},_apiCall:function(e,n,i,r){this[e]({api:!0,pageX:n,pageY:i,clientX:n,clientY:i,target:t(r||this.element)[0],stopPropagation:t.noop,preventDefault:t.noop})}});E.defaultThreshold=function(t){p=t},E.minHold=function(t){f=t},r.getTouches=n,r.touchDelta=e,r.UserEvents=E}(window.kendo.jQuery),function(t,e){function n(e,n){try{return t.contains(e,n)||e==n}catch(i){return!1}}function i(t,e){return parseInt(t.css(e),10)||0}function r(t,e){return Math.min(Math.max(t,e.min),e.max)}function o(t,e){var n=b(t),r=n.left+i(t,"borderLeftWidth")+i(t,"paddingLeft"),o=n.top+i(t,"borderTopWidth")+i(t,"paddingTop"),a=r+t.width()-e.outerWidth(!0),s=o+t.height()-e.outerHeight(!0);return{x:{min:r,max:a},y:{min:o,max:s}}}function a(t,n,i){for(var r,o,a=0,s=n&&n.length,l=i&&i.length;t&&t.parentNode;){for(a=0;s>a;a++)if(r=n[a],r.element[0]===t)return{target:r,targetElement:t};for(a=0;l>a;a++)if(o=i[a],p.matchesSelector.call(t,o.options.filter))return{target:o,targetElement:t};t=t.parentNode}return e}var s,l,c,h,d,u,f=window.kendo,p=f.support,g=window.document,m=f.Class,v=f.ui.Widget,y=f.Observable,_=f.UserEvents,w=t.proxy,x=t.extend,b=f.getOffset,k={},C={},S={},T=f.elementUnderCursor,D="keyup",A="change",P="dragstart",M="hold",E="drag",I="dragend",L="dragcancel",B="dragenter",z="dragleave",F="drop",R=y.extend({init:function(e,n){var i=this,r=e[0];i.capture=!1,r.addEventListener?(t.each(f.eventMap.down.split(" "),function(){r.addEventListener(this,w(i._press,i),!0)}),t.each(f.eventMap.up.split(" "),function(){r.addEventListener(this,w(i._release,i),!0)})):(t.each(f.eventMap.down.split(" "),function(){r.attachEvent(this,w(i._press,i))}),t.each(f.eventMap.up.split(" "),function(){r.attachEvent(this,w(i._release,i))})),y.fn.init.call(i),i.bind(["press","release"],n||{})},captureNext:function(){this.capture=!0},cancelCapture:function(){this.capture=!1},_press:function(t){var e=this;e.trigger("press"),e.capture&&t.preventDefault()},_release:function(t){var e=this;e.trigger("release"),e.capture&&(t.preventDefault(),e.cancelCapture())}}),O=y.extend({init:function(e){var n=this;y.fn.init.call(n),n.forcedEnabled=!1,t.extend(n,e),n.scale=1,n.horizontal?(n.measure="offsetWidth",n.scrollSize="scrollWidth",n.axis="x"):(n.measure="offsetHeight",n.scrollSize="scrollHeight",n.axis="y")},makeVirtual:function(){t.extend(this,{virtual:!0,forcedEnabled:!0,_virtualMin:0,_virtualMax:0})},virtualSize:function(t,e){(this._virtualMin!==t||this._virtualMax!==e)&&(this._virtualMin=t,this._virtualMax=e,this.update())},outOfBounds:function(t){return t>this.max||this.min>t},forceEnabled:function(){this.forcedEnabled=!0},getSize:function(){return this.container[0][this.measure]},getTotal:function(){return this.element[0][this.scrollSize]},rescale:function(t){this.scale=t},update:function(t){var e=this,n=e.virtual?e._virtualMax:e.getTotal(),i=n*e.scale,r=e.getSize();0!==n&&(e.max=e.virtual?-e._virtualMin:0,e.size=r,e.total=i,e.min=Math.min(e.max,r-i),e.minScale=r/n,e.centerOffset=(i-r)/2,e.enabled=e.forcedEnabled||i>r,t||e.trigger(A,e))}}),N=y.extend({init:function(t){var e=this;y.fn.init.call(e),e.x=new O(x({horizontal:!0},t)),e.y=new O(x({horizontal:!1},t)),e.container=t.container,e.forcedMinScale=t.minScale,e.maxScale=t.maxScale||100,e.bind(A,t)},rescale:function(t){this.x.rescale(t),this.y.rescale(t),this.refresh()},centerCoordinates:function(){return{x:Math.min(0,-this.x.centerOffset),y:Math.min(0,-this.y.centerOffset)}},refresh:function(){var t=this;t.x.update(),t.y.update(),t.enabled=t.x.enabled||t.y.enabled,t.minScale=t.forcedMinScale||Math.min(t.x.minScale,t.y.minScale),t.fitScale=Math.max(t.x.minScale,t.y.minScale),t.trigger(A)}}),V=y.extend({init:function(t){var e=this;x(e,t),y.fn.init.call(e)},outOfBounds:function(){return this.dimension.outOfBounds(this.movable[this.axis])},dragMove:function(t){var e=this,n=e.dimension,i=e.axis,r=e.movable,o=r[i]+t;n.enabled&&((n.min>o&&0>t||o>n.max&&t>0)&&(t*=e.resistance),r.translateAxis(i,t),e.trigger(A,e))}}),H=m.extend({init:function(t){var e,n,i,r,o=this;x(o,{elastic:!0},t),i=o.elastic?.5:0,r=o.movable,o.x=e=new V({axis:"x",dimension:o.dimensions.x,resistance:i,movable:r}),o.y=n=new V({axis:"y",dimension:o.dimensions.y,resistance:i,movable:r}),o.userEvents.bind(["move","end","gesturestart","gesturechange"],{gesturestart:function(t){o.gesture=t,o.offset=o.dimensions.container.offset()},gesturechange:function(t){var i,a,s,l=o.gesture,c=l.center,h=t.center,d=t.distance/l.distance,u=o.dimensions.minScale,f=o.dimensions.maxScale;u>=r.scale&&1>d&&(d+=.8*(1-d)),r.scale*d>=f&&(d=f/r.scale),a=r.x+o.offset.left,s=r.y+o.offset.top,i={x:(a-c.x)*d+h.x-a,y:(s-c.y)*d+h.y-s},r.scaleWith(d),e.dragMove(i.x),n.dragMove(i.y),o.dimensions.rescale(r.scale),o.gesture=t,t.preventDefault()},move:function(t){t.event.target.tagName.match(/textarea|input/i)||(e.dimension.enabled||n.dimension.enabled?(e.dragMove(t.x.delta),n.dragMove(t.y.delta),t.preventDefault()):t.touch.skip())},end:function(t){t.preventDefault()}})}}),U=p.transitions.prefix+"Transform";l=p.hasHW3D?function(t,e,n){return"translate3d("+t+"px,"+e+"px,0) scale("+n+")"}:function(t,e,n){return"translate("+t+"px,"+e+"px) scale("+n+")"},c=y.extend({init:function(e){var n=this;y.fn.init.call(n),n.element=t(e),n.element[0].style.webkitTransformOrigin="left top",n.x=0,n.y=0,n.scale=1,n._saveCoordinates(l(n.x,n.y,n.scale))},translateAxis:function(t,e){this[t]+=e,this.refresh()},scaleTo:function(t){this.scale=t,this.refresh()},scaleWith:function(t){this.scale*=t,this.refresh()},translate:function(t){this.x+=t.x,this.y+=t.y,this.refresh()},moveAxis:function(t,e){this[t]=e,this.refresh()},moveTo:function(t){x(this,t),this.refresh()},refresh:function(){var t,e=this,n=e.x,i=e.y;e.round&&(n=Math.round(n),i=Math.round(i)),t=l(n,i,e.scale),t!=e.coordinates&&(f.support.browser.msie&&10>f.support.browser.version?(e.element[0].style.position="absolute",e.element[0].style.left=e.x+"px",e.element[0].style.top=e.y+"px"):e.element[0].style[U]=t,e._saveCoordinates(t),e.trigger(A))},_saveCoordinates:function(t){this.coordinates=t}}),h=v.extend({init:function(t,e){var n,i=this;v.fn.init.call(i,t,e),n=i.options.group,n in C?C[n].push(i):C[n]=[i]},events:[B,z,F],options:{name:"DropTarget",group:"default"},destroy:function(){var t,e=this.options.group,n=C[e]||S[e];if(n.length>1){for(v.fn.destroy.call(this),t=0;n.length>t;t++)if(n[t]==this){n.splice(t,1);break}}else h.destroyGroup(e)},_trigger:function(t,n){var i=this,r=k[i.options.group];return r?i.trigger(t,x({},n.event,{draggable:r,dropTarget:n.dropTarget})):e},_over:function(t){this._trigger(B,t)},_out:function(t){this._trigger(z,t)},_drop:function(t){var e=this,n=k[e.options.group];n&&(n.dropped=!e._trigger(F,t))}}),h.destroyGroup=function(t){var e,n=C[t]||S[t];if(n){for(e=0;n.length>e;e++)v.fn.destroy.call(n[e]);n.length=0,delete C[t],delete S[t]}},h._cache=C,d=h.extend({init:function(t,e){var n,i=this;v.fn.init.call(i,t,e),n=i.options.group,n in S?S[n].push(i):S[n]=[i]},options:{name:"DropTargetArea",group:"default",filter:null}}),u=v.extend({init:function(t,e){var n=this;v.fn.init.call(n,t,e),n._activated=!1,n.userEvents=new _(n.element,{global:!0,allowSelection:!0,filter:n.options.filter,threshold:n.options.distance,start:w(n._start,n),hold:w(n._hold,n),move:w(n._drag,n),end:w(n._end,n),cancel:w(n._cancel,n),select:w(n._select,n)}),n._afterEndHandler=w(n._afterEnd,n),n._captureEscape=w(n._captureEscape,n)},events:[M,P,E,I,L],options:{name:"Draggable",distance:5,group:"default",cursorOffset:null,axis:null,container:null,filter:null,ignore:null,holdToDrag:!1,dropped:!1},cancelHold:function(){this._activated=!1},_captureEscape:function(t){var e=this;t.keyCode===f.keys.ESC&&(e._trigger(L,{event:t}),e.userEvents.cancel())},_updateHint:function(e){var n,i=this,o=i.options,a=i.boundaries,s=o.axis,l=i.options.cursorOffset;l?n={left:e.x.location+l.left,top:e.y.location+l.top}:(i.hintOffset.left+=e.x.delta,i.hintOffset.top+=e.y.delta,n=t.extend({},i.hintOffset)),a&&(n.top=r(n.top,a.y),n.left=r(n.left,a.x)),"x"===s?delete n.top:"y"===s&&delete n.left,i.hint.css(n)},_shouldIgnoreTarget:function(e){var n=this.options.ignore;return n&&t(e).is(n)},_select:function(t){this._shouldIgnoreTarget(t.event.target)||t.preventDefault()},_start:function(n){var i,r=this,a=r.options,s=a.container,l=a.hint;return this._shouldIgnoreTarget(n.touch.initialTouch)||a.holdToDrag&&!r._activated?(r.userEvents.cancel(),e):(r.currentTarget=n.target,r.currentTargetOffset=b(r.currentTarget),l&&(r.hint&&r.hint.stop(!0,!0).remove(),r.hint=f.isFunction(l)?t(l.call(r,r.currentTarget)):l,i=b(r.currentTarget),r.hintOffset=i,r.hint.css({position:"absolute",zIndex:2e4,left:i.left,top:i.top}).appendTo(g.body),r.angular("compile",function(){return r.hint.removeAttr("ng-repeat"),{elements:r.hint.get(),scopeFrom:n.target}})),k[a.group]=r,r.dropped=!1,s&&(r.boundaries=o(s,r.hint)),r._trigger(P,n)&&(r.userEvents.cancel(),r._afterEnd()),t(g).on(D,r._captureEscape),e)},_hold:function(t){this.currentTarget=t.target,this._trigger(M,t)?this.userEvents.cancel():this._activated=!0
},_drag:function(n){var i=this;n.preventDefault(),i._withDropTarget(n,function(i,r){if(!i)return s&&(s._trigger(z,x(n,{dropTarget:t(s.targetElement)})),s=null),e;if(s){if(r===s.targetElement)return;s._trigger(z,x(n,{dropTarget:t(s.targetElement)}))}i._trigger(B,x(n,{dropTarget:t(r)})),s=x(i,{targetElement:r})}),i._trigger(E,x(n,{dropTarget:s})),i.hint&&i._updateHint(n)},_end:function(e){var n=this;n._withDropTarget(e,function(n,i){n&&(n._drop(x({},e,{dropTarget:t(i)})),s=null)}),n._trigger(I,e),n._cancel(e.event)},_cancel:function(){var t=this;t._activated=!1,t.hint&&!t.dropped?setTimeout(function(){t.hint.stop(!0,!0).animate(t.currentTargetOffset,"fast",t._afterEndHandler)},0):t._afterEnd()},_trigger:function(t,e){var n=this;return n.trigger(t,x({},e.event,{x:e.x,y:e.y,currentTarget:n.currentTarget,dropTarget:e.dropTarget}))},_withDropTarget:function(t,e){var i,r,o=this,s=o.options,l=C[s.group],c=S[s.group];(l&&l.length||c&&c.length)&&(i=T(t),o.hint&&n(o.hint[0],i)&&(o.hint.hide(),i=T(t),i||(i=T(t)),o.hint.show()),r=a(i,l,c),r?e(r.target,r.targetElement):e())},destroy:function(){var t=this;v.fn.destroy.call(t),t._afterEnd(),t.userEvents.destroy(),t.currentTarget=null},_afterEnd:function(){var e=this;e.hint&&e.hint.remove(),delete k[e.options.group],e.trigger("destroy"),t(g).off(D,e._captureEscape)}}),f.ui.plugin(h),f.ui.plugin(d),f.ui.plugin(u),f.TapCapture=R,f.containerBoundaries=o,x(f.ui,{Pane:H,PaneDimensions:N,Movable:c})}(window.kendo.jQuery),function(t,e){var n=window.kendo,i=n.mobile,r=n.effects,o=i.ui,a=t.proxy,s=t.extend,l=o.Widget,c=n.Class,h=n.ui.Movable,d=n.ui.Pane,u=n.ui.PaneDimensions,f=r.Transition,p=r.Animation,g=Math.abs,m=500,v=.7,y=.96,_=10,w=55,x=.5,b=5,k="km-scroller-release",C="km-scroller-refresh",S="pull",T="change",D="resize",A="scroll",P=2,M=p.extend({init:function(t){var e=this;p.fn.init.call(e),s(e,t),e.userEvents.bind("gestureend",a(e.start,e)),e.tapCapture.bind("press",a(e.cancel,e))},enabled:function(){return this.dimensions.minScale>this.movable.scale},done:function(){return.01>this.dimensions.minScale-this.movable.scale},tick:function(){var t=this.movable;t.scaleWith(1.1),this.dimensions.rescale(t.scale)},onEnd:function(){var t=this.movable;t.scaleTo(this.dimensions.minScale),this.dimensions.rescale(t.scale)}}),E=p.extend({init:function(t){var e=this;p.fn.init.call(e),s(e,t,{transition:new f({axis:t.axis,movable:t.movable,onEnd:function(){e._end()}})}),e.tapCapture.bind("press",function(){e.cancel()}),e.userEvents.bind("end",a(e.start,e)),e.userEvents.bind("gestureend",a(e.start,e)),e.userEvents.bind("tap",a(e.onEnd,e))},onCancel:function(){this.transition.cancel()},freeze:function(t){var e=this;e.cancel(),e._moveTo(t)},onEnd:function(){var t=this;t.paneAxis.outOfBounds()?t._snapBack():t._end()},done:function(){return g(this.velocity)<1},start:function(t){var e,n=this;n.dimension.enabled&&(n.paneAxis.outOfBounds()?n._snapBack():(e=t.touch.id===P?0:t.touch[n.axis].velocity,n.velocity=Math.max(Math.min(e*n.velocityMultiplier,w),-w),n.tapCapture.captureNext(),p.fn.start.call(n)))},tick:function(){var t=this,e=t.dimension,n=t.paneAxis.outOfBounds()?x:t.friction,i=t.velocity*=n,r=t.movable[t.axis]+i;!t.elastic&&e.outOfBounds(r)&&(r=Math.max(Math.min(r,e.max),e.min),t.velocity=0),t.movable.moveAxis(t.axis,r)},_end:function(){this.tapCapture.cancelCapture(),this.end()},_snapBack:function(){var t=this,e=t.dimension,n=t.movable[t.axis]>e.max?e.max:e.min;t._moveTo(n)},_moveTo:function(t){this.transition.moveTo({location:t,duration:m,ease:f.easeOutExpo})}}),I=p.extend({init:function(t){var e=this;n.effects.Animation.fn.init.call(this),s(e,t,{origin:{},destination:{},offset:{}})},tick:function(){this._updateCoordinates(),this.moveTo(this.origin)},done:function(){return g(this.offset.y)<b&&g(this.offset.x)<b},onEnd:function(){this.moveTo(this.destination),this.callback&&this.callback.call()},setCoordinates:function(t,e){this.offset={},this.origin=t,this.destination=e},setCallback:function(t){t&&n.isFunction(t)?this.callback=t:t=e},_updateCoordinates:function(){this.offset={x:(this.destination.x-this.origin.x)/4,y:(this.destination.y-this.origin.y)/4},this.origin={y:this.origin.y+this.offset.y,x:this.origin.x+this.offset.x}}}),L=c.extend({init:function(e){var n=this,i="x"===e.axis,r=t('<div class="km-touch-scrollbar km-'+(i?"horizontal":"vertical")+'-scrollbar" />');s(n,e,{element:r,elementSize:0,movable:new h(r),scrollMovable:e.movable,alwaysVisible:e.alwaysVisible,size:i?"width":"height"}),n.scrollMovable.bind(T,a(n.refresh,n)),n.container.append(r),e.alwaysVisible&&n.show()},refresh:function(){var t=this,e=t.axis,n=t.dimension,i=n.size,r=t.scrollMovable,o=i/n.total,a=Math.round(-r[e]*o),s=Math.round(i*o);o>=1?this.element.css("display","none"):this.element.css("display",""),a+s>i?s=i-a:0>a&&(s+=a,a=0),t.elementSize!=s&&(t.element.css(t.size,s+"px"),t.elementSize=s),t.movable.moveAxis(e,a)},show:function(){this.element.css({opacity:v,visibility:"visible"})},hide:function(){this.alwaysVisible||this.element.css({opacity:0})}}),B=l.extend({init:function(i,r){var o,c,f,p,m,v,y,_,w,x=this;return l.fn.init.call(x,i,r),i=x.element,(x._native=x.options.useNative&&n.support.hasNativeScrolling)?(i.addClass("km-native-scroller").prepend('<div class="km-scroll-header"/>'),s(x,{scrollElement:i,fixedContainer:i.children().first()}),e):(i.css("overflow","hidden").addClass("km-scroll-wrapper").wrapInner('<div class="km-scroll-container"/>').prepend('<div class="km-scroll-header"/>'),o=i.children().eq(1),c=new n.TapCapture(i),f=new h(o),p=new u({element:o,container:i,forcedEnabled:x.options.zoom}),m=this.options.avoidScrolling,v=new n.UserEvents(i,{allowSelection:!0,preventDragEvent:!0,captureUpIfMoved:!0,multiTouch:x.options.zoom,start:function(e){p.refresh();var n=g(e.x.velocity),i=g(e.y.velocity),r=2*n>=i,o=t.contains(x.fixedContainer[0],e.event.target),a=2*i>=n;!o&&!m(e)&&x.enabled&&(p.x.enabled&&r||p.y.enabled&&a)?v.capture():v.cancel()}}),y=new d({movable:f,dimensions:p,userEvents:v,elastic:x.options.elastic}),_=new M({movable:f,dimensions:p,userEvents:v,tapCapture:c}),w=new I({moveTo:function(t){x.scrollTo(t.x,t.y)}}),f.bind(T,function(){x.scrollTop=-f.y,x.scrollLeft=-f.x,x.trigger(A,{scrollTop:x.scrollTop,scrollLeft:x.scrollLeft})}),x.options.mousewheelScrolling&&i.on("DOMMouseScroll mousewheel",a(this,"_wheelScroll")),s(x,{movable:f,dimensions:p,zoomSnapBack:_,animatedScroller:w,userEvents:v,pane:y,tapCapture:c,pulled:!1,enabled:!0,scrollElement:o,scrollTop:0,scrollLeft:0,fixedContainer:i.children().first()}),x._initAxis("x"),x._initAxis("y"),x._wheelEnd=function(){x._wheel=!1,x.userEvents.end(0,x._wheelY)},p.refresh(),x.options.pullToRefresh&&x._initPullToRefresh(),e)},_wheelScroll:function(t){this._wheel||(this._wheel=!0,this._wheelY=0,this.userEvents.press(0,this._wheelY)),clearTimeout(this._wheelTimeout),this._wheelTimeout=setTimeout(this._wheelEnd,50);var e=n.wheelDeltaY(t);e&&(this._wheelY+=e,this.userEvents.move(0,this._wheelY)),t.preventDefault()},makeVirtual:function(){this.dimensions.y.makeVirtual()},virtualSize:function(t,e){this.dimensions.y.virtualSize(t,e)},height:function(){return this.dimensions.y.size},scrollHeight:function(){return this.scrollElement[0].scrollHeight},scrollWidth:function(){return this.scrollElement[0].scrollWidth},options:{name:"Scroller",zoom:!1,pullOffset:140,visibleScrollHints:!1,elastic:!0,useNative:!1,mousewheelScrolling:!0,avoidScrolling:function(){return!1},pullToRefresh:!1,messages:{pullTemplate:"Pull to refresh",releaseTemplate:"Release to refresh",refreshTemplate:"Refreshing"}},events:[S,A,D],_resize:function(){this._native||this.contentResized()},setOptions:function(t){var e=this;l.fn.setOptions.call(e,t),t.pullToRefresh&&e._initPullToRefresh()},reset:function(){this._native?this.scrollElement.scrollTop(0):(this.movable.moveTo({x:0,y:0}),this._scale(1))},contentResized:function(){this.dimensions.refresh(),this.pane.x.outOfBounds()&&this.movable.moveAxis("x",this.dimensions.x.min),this.pane.y.outOfBounds()&&this.movable.moveAxis("y",this.dimensions.y.min)},zoomOut:function(){var t=this.dimensions;t.refresh(),this._scale(t.fitScale),this.movable.moveTo(t.centerCoordinates())},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},scrollTo:function(t,e){this._native?(this.scrollElement.scrollLeft(g(t)),this.scrollElement.scrollTop(g(e))):(this.dimensions.refresh(),this.movable.moveTo({x:t,y:e}))},animatedScrollTo:function(t,e,n){var i,r;this._native?this.scrollTo(t,e):(i={x:this.movable.x,y:this.movable.y},r={x:t,y:e},this.animatedScroller.setCoordinates(i,r),this.animatedScroller.setCallback(n),this.animatedScroller.start())},pullHandled:function(){var t=this;t.refreshHint.removeClass(C),t.hintContainer.html(t.pullTemplate({})),t.yinertia.onEnd(),t.xinertia.onEnd(),t.userEvents.cancel()},destroy:function(){l.fn.destroy.call(this),this.userEvents&&this.userEvents.destroy()},_scale:function(t){this.dimensions.rescale(t),this.movable.scaleTo(t)},_initPullToRefresh:function(){var t=this;t.dimensions.y.forceEnabled(),t.pullTemplate=n.template(t.options.messages.pullTemplate),t.releaseTemplate=n.template(t.options.messages.releaseTemplate),t.refreshTemplate=n.template(t.options.messages.refreshTemplate),t.scrollElement.prepend('<span class="km-scroller-pull"><span class="km-icon"></span><span class="km-loading-left"></span><span class="km-loading-right"></span><span class="km-template">'+t.pullTemplate({})+"</span></span>"),t.refreshHint=t.scrollElement.children().first(),t.hintContainer=t.refreshHint.children(".km-template"),t.pane.y.bind("change",a(t._paneChange,t)),t.userEvents.bind("end",a(t._dragEnd,t))},_dragEnd:function(){var t=this;t.pulled&&(t.pulled=!1,t.refreshHint.removeClass(k).addClass(C),t.hintContainer.html(t.refreshTemplate({})),t.yinertia.freeze(t.options.pullOffset/2),t.trigger("pull"))},_paneChange:function(){var t=this;t.movable.y/x>t.options.pullOffset?t.pulled||(t.pulled=!0,t.refreshHint.removeClass(C).addClass(k),t.hintContainer.html(t.releaseTemplate({}))):t.pulled&&(t.pulled=!1,t.refreshHint.removeClass(k),t.hintContainer.html(t.pullTemplate({})))},_initAxis:function(t){var e=this,n=e.movable,i=e.dimensions[t],r=e.tapCapture,o=e.pane[t],a=new L({axis:t,movable:n,dimension:i,container:e.element,alwaysVisible:e.options.visibleScrollHints});i.bind(T,function(){a.refresh()}),o.bind(T,function(){a.show()}),e[t+"inertia"]=new E({axis:t,paneAxis:o,movable:n,tapCapture:r,userEvents:e.userEvents,dimension:i,elastic:e.options.elastic,friction:e.options.friction||y,velocityMultiplier:e.options.velocityMultiplier||_,end:function(){a.hide(),e.trigger("scrollEnd",{axis:t,scrollTop:e.scrollTop,scrollLeft:e.scrollLeft})}})}});o.plugin(B)}(window.kendo.jQuery),function(t){function e(e,n){return e===n||t.contains(e,n)}var n=window.kendo,i=n.ui,r=i.Widget,o=n.support,a=n.getOffset,s=n._activeElement,l="open",c="close",h="deactivate",d="activate",u="center",f="left",p="right",g="top",m="bottom",v="absolute",y="hidden",_="body",w="location",x="position",b="visible",k="effects",C="k-state-active",S="k-state-border",T=/k-state-border-(\w+)/,D=".k-picker-wrap, .k-dropdown-wrap, .k-link",A="down",P=t(document.documentElement),M=t(window),E="scroll",I="resize scroll",L=o.transitions.css,B=L+"transform",z=t.extend,F=".kendoPopup",R=["font-size","font-family","font-stretch","font-style","font-weight","line-height"],O=r.extend({init:function(e,i){var o,a=this;i=i||{},i.isRtl&&(i.origin=i.origin||m+" "+p,i.position=i.position||g+" "+p),r.fn.init.call(a,e,i),e=a.element,i=a.options,a.collisions=i.collision?i.collision.split(" "):[],a.downEvent=n.applyEventMap(A,n.guid()),1===a.collisions.length&&a.collisions.push(a.collisions[0]),o=t(a.options.anchor).closest(".k-popup,.k-group").filter(":not([class^=km-])"),i.appendTo=t(t(i.appendTo)[0]||o[0]||_),a.element.hide().addClass("k-popup k-group k-reset").toggleClass("k-rtl",!!i.isRtl).css({position:v}).appendTo(i.appendTo).on("mouseenter"+F,function(){a._hovered=!0}).on("mouseleave"+F,function(){a._hovered=!1}),a.wrapper=t(),i.animation===!1&&(i.animation={open:{effects:{}},close:{hide:!0,effects:{}}}),z(i.animation.open,{complete:function(){a.wrapper.css({overflow:b}),a._trigger(d)}}),z(i.animation.close,{complete:function(){a._animationClose()}}),a._mousedownProxy=function(t){a._mousedown(t)},a._resizeProxy=function(t){a._resize(t)},i.toggleTarget&&t(i.toggleTarget).on(i.toggleEvent+F,t.proxy(a.toggle,a))},events:[l,d,c,h],options:{name:"Popup",toggleEvent:"click",origin:m+" "+f,position:g+" "+f,anchor:_,appendTo:null,collision:"flip fit",viewport:window,copyAnchorStyles:!0,autosize:!1,modal:!1,animation:{open:{effects:"slideIn:down",transition:!0,duration:200},close:{duration:100,hide:!0}}},_animationClose:function(){var e,i,r,o,a=this,s=a.options;a.wrapper.hide(),e=a.wrapper.data(w),i=t(s.anchor),e&&a.wrapper.css(e),s.anchor!=_&&(r=(i[0].className.match(T)||["","down"])[1],o=S+"-"+r,i.removeClass(o).children(D).removeClass(C).removeClass(o),a.element.removeClass(S+"-"+n.directions[r].reverse)),a._closing=!1,a._trigger(h)},destroy:function(){var e,i=this,o=i.options,a=i.element.off(F);r.fn.destroy.call(i),o.toggleTarget&&t(o.toggleTarget).off(F),o.modal||(P.unbind(i.downEvent,i._mousedownProxy),i._scrollableParents().unbind(E,i._resizeProxy),M.unbind(I,i._resizeProxy)),n.destroy(i.element.children()),a.removeData(),o.appendTo[0]===document.body&&(e=a.parent(".k-animation-container"),e[0]?e.remove():a.remove())},open:function(e,i){var r,a,s,c=this,h={isFixed:!isNaN(parseInt(i,10)),x:e,y:i},d=c.element,u=c.options,f="down",p=t(u.anchor),m=d[0]&&d.hasClass("km-widget");if(!c.visible()){if(u.copyAnchorStyles&&(m&&"font-size"==R[0]&&R.shift(),d.css(n.getComputedStyles(p[0],R))),d.data("animating")||c._trigger(l))return;u.modal||(P.unbind(c.downEvent,c._mousedownProxy).bind(c.downEvent,c._mousedownProxy),o.mobileOS.ios||o.mobileOS.android||(c._scrollableParents().unbind(E,c._resizeProxy).bind(E,c._resizeProxy),M.unbind(I,c._resizeProxy).bind(I,c._resizeProxy))),c.wrapper=a=n.wrap(d,u.autosize).css({overflow:y,display:"block",position:v}),o.mobileOS.android&&a.css(B,"translatez(0)"),a.css(x),t(u.appendTo)[0]==document.body&&a.css(g,"-10000px"),r=z(!0,{},u.animation.open),c.flipped=c._position(h),r.effects=n.parseEffects(r.effects,c.flipped),f=r.effects.slideIn?r.effects.slideIn.direction:f,u.anchor!=_&&(s=S+"-"+f,d.addClass(S+"-"+n.directions[f].reverse),p.addClass(s).children(D).addClass(C).addClass(s)),d.data(k,r.effects).kendoStop(!0).kendoAnimate(r)}},toggle:function(){var t=this;t[t.visible()?c:l]()},visible:function(){return this.element.is(":"+b)},close:function(e){var i,r,o,a,s=this,l=s.options;if(s.visible()){if(i=s.wrapper[0]?s.wrapper:n.wrap(s.element).hide(),s._closing||s._trigger(c))return;s.element.find(".k-popup").each(function(){var n=t(this),i=n.data("kendoPopup");i&&i.close(e)}),P.unbind(s.downEvent,s._mousedownProxy),s._scrollableParents().unbind(E,s._resizeProxy),M.unbind(I,s._resizeProxy),e?r={hide:!0,effects:{}}:(r=z(!0,{},l.animation.close),o=s.element.data(k),a=r.effects,!a&&!n.size(a)&&o&&n.size(o)&&(r.effects=o,r.reverse=!0),s._closing=!0),s.element.kendoStop(!0),i.css({overflow:y}),s.element.kendoAnimate(r)}},_trigger:function(t){return this.trigger(t,{type:t})},_resize:function(t){var n=this;"resize"===t.type?(clearTimeout(n._resizeTimeout),n._resizeTimeout=setTimeout(function(){n._position(),n._resizeTimeout=null},50)):n._hovered||e(n.element[0],s())||n.close()},_mousedown:function(i){var r=this,o=r.element[0],a=r.options,s=t(a.anchor)[0],l=a.toggleTarget,c=n.eventTarget(i),h=t(c).closest(".k-popup"),d=h.parent().parent(".km-shim").length;h=h[0],(d||!h||h===r.element[0])&&"popover"!==t(i.target).closest("a").data("rel")&&(e(o,c)||e(s,c)||l&&e(t(l)[0],c)||r.close())},_fit:function(t,e,n){var i=0;return t+e>n&&(i=n-(t+e)),0>t&&(i=-t),i},_flip:function(t,e,n,i,r,o,a){var s=0;return a=a||e,o!==r&&o!==u&&r!==u&&(t+a>i&&(s+=-(n+e)),0>t+s&&(s+=n+e)),s},_scrollableParents:function(){return t(this.options.anchor).parentsUntil("body").filter(function(t,e){var i=n.getComputedStyles(e,["overflow"]);return"visible"!=i.overflow})},_position:function(e){var n,i,r,s,l,c,h,d,u,f=this,p=f.element.css(x,""),g=f.wrapper,m=f.options,y=t(m.viewport),_=y.offset(),b=t(m.anchor),k=m.origin.toLowerCase().split(" "),C=m.position.toLowerCase().split(" "),S=f.collisions,T=o.zoomLevel(),D=10002,A=!!(y[0]==window&&window.innerWidth&&1.02>=T),P=0,M=A?window.innerWidth:y.width(),E=A?window.innerHeight:y.height(),I=b.parents().filter(g.siblings());if(I[0])if(i=Math.max(+I.css("zIndex"),0))D=i+10;else for(n=b.parentsUntil(I),r=n.length;r>P;P++)i=+t(n[P]).css("zIndex"),i&&i>D&&(D=i+10);return g.css("zIndex",D),g.css(e&&e.isFixed?{left:e.x,top:e.y}:f._align(k,C)),s=a(g,x,b[0]===g.offsetParent()[0]),l=a(g),c=b.offsetParent().parent(".k-animation-container,.k-popup,.k-group"),c.length&&(s=a(g,x,!0),l=a(g)),y[0]===window?(l.top-=window.pageYOffset||document.documentElement.scrollTop||0,l.left-=window.pageXOffset||document.documentElement.scrollLeft||0):(l.top-=_.top,l.left-=_.left),f.wrapper.data(w)||g.data(w,z({},s)),h=z({},l),d=z({},s),"fit"===S[0]&&(d.top+=f._fit(h.top,g.outerHeight(),E/T)),"fit"===S[1]&&(d.left+=f._fit(h.left,g.outerWidth(),M/T)),u=z({},d),"flip"===S[0]&&(d.top+=f._flip(h.top,p.outerHeight(),b.outerHeight(),E/T,k[0],C[0],g.outerHeight())),"flip"===S[1]&&(d.left+=f._flip(h.left,p.outerWidth(),b.outerWidth(),M/T,k[1],C[1],g.outerWidth())),p.css(x,v),g.css(d),d.left!=u.left||d.top!=u.top},_align:function(e,n){var i,r=this,o=r.wrapper,s=t(r.options.anchor),l=e[0],c=e[1],h=n[0],d=n[1],f=a(s),g=t(r.options.appendTo),v=o.outerWidth(),y=o.outerHeight(),_=s.outerWidth(),w=s.outerHeight(),x=f.top,b=f.left,k=Math.round;return g[0]!=document.body&&(i=a(g),x-=i.top,b-=i.left),l===m&&(x+=w),l===u&&(x+=k(w/2)),h===m&&(x-=y),h===u&&(x-=k(y/2)),c===p&&(b+=_),c===u&&(b+=k(_/2)),d===p&&(b-=v),d===u&&(b-=k(v/2)),{top:x,left:b}}});i.plugin(O)}(window.kendo.jQuery),function(t){function e(t){for(;t.length;)n(t),t=t.parent()}function n(t){var e=t.data(o.ns+"title");e&&(t.attr("title",e),t.removeData(o.ns+"title"))}function i(t){var e=t.attr("title");e&&(t.data(o.ns+"title",e),t.attr("title",""))}function r(t){for(;t.length&&!t.is("body");)i(t),t=t.parent()}var o=window.kendo,a=o.ui.Widget,s=o.ui.Popup,l=o.isFunction,c=t.isPlainObject,h=t.extend,d=t.proxy,u=t(document),f=o.isLocalUrl,p="_tt_active",g="aria-describedby",m="show",v="hide",y="error",_="contentLoad",w="requestStart",x="k-content-frame",b='<div role="tooltip" class="k-widget k-tooltip#if (!autoHide) {# k-tooltip-closable#}#">#if (!autoHide) {# <div class="k-tooltip-button"><a href="\\#" class="k-icon k-i-close">close</a></div> #}#<div class="k-tooltip-content"></div>#if (callout){ #<div class="k-callout k-callout-#=dir#"></div>#}#</div>',k=o.template("<iframe frameborder='0' class='"+x+"' src='#= content.url #'>This page requires frames in order to show content</iframe>"),C=".kendoTooltip",S={bottom:{origin:"bottom center",position:"top center"},top:{origin:"top center",position:"bottom center"},left:{origin:"center left",position:"center right",collision:"fit flip"},right:{origin:"center right",position:"center left",collision:"fit flip"},center:{position:"center center",origin:"center center"}},T={top:"bottom",bottom:"top",left:"right",right:"left",center:"center"},D={bottom:"n",top:"s",left:"e",right:"w",center:"n"},A={horizontal:{offset:"top",size:"outerHeight"},vertical:{offset:"left",size:"outerWidth"}},P=function(t){return t.target.data(o.ns+"title")},M=a.extend({init:function(t,e){var n,i=this;a.fn.init.call(i,t,e),n=i.options.position.match(/left|right/)?"horizontal":"vertical",i.dimensions=A[n],i._documentKeyDownHandler=d(i._documentKeyDown,i),i.element.on(i.options.showOn+C,i.options.filter,d(i._showOn,i)).on("mouseenter"+C,i.options.filter,d(i._mouseenter,i)),this.options.autoHide&&i.element.on("mouseleave"+C,i.options.filter,d(i._mouseleave,i))},options:{name:"Tooltip",filter:"",content:P,showAfter:100,callout:!0,position:"bottom",showOn:"mouseenter",autoHide:!0,width:null,height:null,animation:{open:{effects:"fade:in",duration:0},close:{effects:"fade:out",duration:40,hide:!0}}},events:[m,v,_,y,w],_mouseenter:function(e){r(t(e.currentTarget))},_showOn:function(e){var n=this,i=t(e.currentTarget);n.options.showOn&&n.options.showOn.match(/click|focus/)?n._show(i):(clearTimeout(n.timeout),n.timeout=setTimeout(function(){n._show(i)},n.options.showAfter))},_appendContent:function(t){var e,n=this,i=n.options.content,r=n.content,a=n.options.iframe;c(i)&&i.url?("iframe"in n.options||(a=!f(i.url)),n.trigger(w,{options:i,target:t}),a?(r.hide(),e=r.find("."+x)[0],e?e.src=i.url||e.src:r.html(k({content:i})),r.find("."+x).off("load"+C).on("load"+C,function(){n.trigger(_),r.show()})):(r.empty(),o.ui.progress(r,!0),n._ajaxRequest(i))):i&&l(i)?(i=i({sender:this,target:t}),r.html(i||"")):r.html(i),n.angular("compile",function(){return{elements:r}})},_ajaxRequest:function(t){var e=this;jQuery.ajax(h({type:"GET",dataType:"html",cache:!1,error:function(t,n){o.ui.progress(e.content,!1),e.trigger(y,{status:n,xhr:t})},success:d(function(t){o.ui.progress(e.content,!1),e.content.html(t),e.trigger(_)},e)},t))},_documentKeyDown:function(t){t.keyCode===o.keys.ESC&&this.hide()},refresh:function(){var t=this,e=t.popup;e&&e.options.anchor&&t._appendContent(e.options.anchor)},hide:function(){this.popup&&this.popup.close()},show:function(t){t=t||this.element,r(t),this._show(t)},_show:function(t){var n=this,i=n.target();n.popup||n._initPopup(),i&&i[0]!=t[0]&&(n.popup.close(),n.popup.element.kendoStop(!0,!0)),i&&i[0]==t[0]||(n._appendContent(t),n.popup.options.anchor=t),n.popup.one("deactivate",function(){e(t),t.removeAttr(g),this.element.removeAttr("id").attr("aria-hidden",!0),u.off("keydown"+C,n._documentKeyDownHandler)}),n.popup.open()},_initPopup:function(){var e=this,n=e.options,i=t(o.template(b)({callout:n.callout&&"center"!==n.position,dir:D[n.position],autoHide:n.autoHide}));e.popup=new s(i,h({activate:function(){var t=this.options.anchor,i=t[0].id||e.element[0].id;i&&(t.attr(g,i+p),this.element.attr("id",i+p)),n.callout&&e._positionCallout(),this.element.removeAttr("aria-hidden"),u.on("keydown"+C,e._documentKeyDownHandler),e.trigger(m)},close:function(){e.trigger(v)},copyAnchorStyles:!1,animation:n.animation},S[n.position])),i.css({width:n.width,height:n.height}),e.content=i.find(".k-tooltip-content"),e.arrow=i.find(".k-callout"),n.autoHide?i.on("mouseleave"+C,d(e._mouseleave,e)):i.on("click"+C,".k-tooltip-button",d(e._closeButtonClick,e))},_closeButtonClick:function(t){t.preventDefault(),this.hide()},_mouseleave:function(n){if(this.popup){var i=t(n.currentTarget),r=i.offset(),o=n.pageX,a=n.pageY;if(r.right=r.left+i[0].clientWidth,r.bottom=r.top+i[0].clientHeight,o>r.left&&r.right>o&&a>r.top&&r.bottom>a)return;this.popup.close()}else e(t(n.currentTarget));clearTimeout(this.timeout)},_positionCallout:function(){var e=this,n=e.options.position,i=e.dimensions,r=i.offset,o=e.popup,a=o.options.anchor,s=t(a).offset(),l=parseInt(e.arrow.css("border-top-width"),10),c=t(o.element).offset(),h=D[o.flipped?T[n]:n],d=s[r]-c[r]+t(a)[i.size]()/2-l;e.arrow.removeClass("k-callout-n k-callout-s k-callout-w k-callout-e").addClass("k-callout-"+h).css(r,d)},target:function(){return this.popup?this.popup.options.anchor:null},destroy:function(){var t=this.popup;t&&(t.element.off(C),t.destroy()),this.element.off(C),u.off("keydown"+C,this._documentKeyDownHandler),a.fn.destroy.call(this)}});o.ui.plugin(M)}(window.kendo.jQuery),function(t,e,n){function i(t,i){if(null==t||"none"==t)return null;if("transparent"==t)return new a(0,0,0,0);if(t instanceof o)return t;t=t.toLowerCase(),c.namedColors.hasOwnProperty(t)&&(t=c.namedColors[t]);var r=/^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i.exec(t);if(r)return new s(n(r[1],16),n(r[2],16),n(r[3],16),1);if(r=/^#?([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(t))return new s(n(r[1]+r[1],16),n(r[2]+r[2],16),n(r[3]+r[3],16),1);if(r=/^rgb\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/.exec(t))return new s(n(r[1],10),n(r[2],10),n(r[3],10),1);if(r=/^rgba\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9.]+)\s*\)/.exec(t))return new s(n(r[1],10),n(r[2],10),n(r[3],10),e(r[4]));if(r=/^rgb\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*\)/.exec(t))return new a(e(r[1])/100,e(r[2])/100,e(r[3])/100,1);if(r=/^rgba\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9.]+)\s*\)/.exec(t))return new a(e(r[1])/100,e(r[2])/100,e(r[3])/100,e(r[4]));if(!i)throw Error("Cannot parse color: "+t);return void 0}function r(t,e,n){for(n||(n="0"),t=t.toString(16);e>t.length;)t="0"+t;return t}var o,a,s,l,c=function(t){var e,n,i,r,o,a=this,s=c.formats;if(1===arguments.length)for(t=a.resolveColor(t),r=0;s.length>r;r++)e=s[r].re,n=s[r].process,i=e.exec(t),i&&(o=n(i),a.r=o[0],a.g=o[1],a.b=o[2]);else a.r=arguments[0],a.g=arguments[1],a.b=arguments[2];a.r=a.normalizeByte(a.r),a.g=a.normalizeByte(a.g),a.b=a.normalizeByte(a.b)};c.prototype={toHex:function(){var t=this,e=t.padDigit,n=t.r.toString(16),i=t.g.toString(16),r=t.b.toString(16);return"#"+e(n)+e(i)+e(r)},resolveColor:function(t){return t=t||"black","#"==t.charAt(0)&&(t=t.substr(1,6)),t=t.replace(/ /g,""),t=t.toLowerCase(),t=c.namedColors[t]||t},normalizeByte:function(t){return 0>t||isNaN(t)?0:t>255?255:t},padDigit:function(t){return 1===t.length?"0"+t:t},brightness:function(t){var e=this,n=Math.round;return e.r=n(e.normalizeByte(e.r*t)),e.g=n(e.normalizeByte(e.g*t)),e.b=n(e.normalizeByte(e.b*t)),e},percBrightness:function(){var t=this;return Math.sqrt(.241*t.r*t.r+.691*t.g*t.g+.068*t.b*t.b)}},c.formats=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(t){return[n(t[1],10),n(t[2],10),n(t[3],10)]}},{re:/^(\w{2})(\w{2})(\w{2})$/,process:function(t){return[n(t[1],16),n(t[2],16),n(t[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,process:function(t){return[n(t[1]+t[1],16),n(t[2]+t[2],16),n(t[3]+t[3],16)]}}],c.namedColors={aqua:"00ffff",azure:"f0ffff",beige:"f5f5dc",black:"000000",blue:"0000ff",brown:"a52a2a",coral:"ff7f50",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgray:"a9a9a9",darkgreen:"006400",darkorange:"ff8c00",darkred:"8b0000",dimgray:"696969",fuchsia:"ff00ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lightblue:"add8e6",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumblue:"0000cd",navy:"000080",olive:"808000",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",pink:"ffc0cb",plum:"dda0dd",purple:"800080",red:"ff0000",royalblue:"4169e1",salmon:"fa8072",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",steelblue:"4682b4",tan:"d2b48c",teal:"008080",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"},o=kendo.Class.extend({toHSV:function(){return this},toRGB:function(){return this},toHex:function(){return this.toBytes().toHex()},toBytes:function(){return this},toCss:function(){return"#"+this.toHex()},toCssRgba:function(){var t=this.toBytes();return"rgba("+t.r+", "+t.g+", "+t.b+", "+e((+this.a).toFixed(3))+")"},toDisplay:function(){return kendo.support.browser.msie&&9>kendo.support.browser.version?this.toCss():this.toCssRgba()},equals:function(t){return t===this||null!==t&&this.toCssRgba()==i(t).toCssRgba()},diff:function(t){if(null==t)return 0/0;var e=this.toBytes();return t=t.toBytes(),Math.sqrt(Math.pow(.3*(e.r-t.r),2)+Math.pow(.59*(e.g-t.g),2)+Math.pow(.11*(e.b-t.b),2))},clone:function(){var t=this.toBytes();return t===this&&(t=new s(t.r,t.g,t.b,t.a)),t}}),a=o.extend({init:function(t,e,n,i){this.r=t,this.g=e,this.b=n,this.a=i},toHSV:function(){var t,e,n=this.r,i=this.g,r=this.b,o=Math.min(n,i,r),a=Math.max(n,i,r),s=a,c=a-o;return 0===c?new l(0,0,s,this.a):(0!==a?(e=c/a,t=n==a?(i-r)/c:i==a?2+(r-n)/c:4+(n-i)/c,t*=60,0>t&&(t+=360)):(e=0,t=-1),new l(t,e,s,this.a))},toBytes:function(){return new s(255*this.r,255*this.g,255*this.b,this.a)}}),s=a.extend({init:function(t,e,n,i){this.r=Math.round(t),this.g=Math.round(e),this.b=Math.round(n),this.a=i},toRGB:function(){return new a(this.r/255,this.g/255,this.b/255,this.a)},toHSV:function(){return this.toRGB().toHSV()},toHex:function(){return r(this.r,2)+r(this.g,2)+r(this.b,2)},toBytes:function(){return this}}),l=o.extend({init:function(t,e,n,i){this.h=t,this.s=e,this.v=n,this.a=i},toRGB:function(){var t,e,n,i,r,o,s,l,c=this.h,h=this.s,d=this.v;if(0===h)e=n=i=d;else switch(c/=60,t=Math.floor(c),r=c-t,o=d*(1-h),s=d*(1-h*r),l=d*(1-h*(1-r)),t){case 0:e=d,n=l,i=o;break;case 1:e=s,n=d,i=o;break;case 2:e=o,n=d,i=l;break;case 3:e=o,n=s,i=d;break;case 4:e=l,n=o,i=d;break;default:e=d,n=o,i=s}return new a(e,n,i,this.a)},toBytes:function(){return this.toRGB().toBytes()}}),c.fromBytes=function(t,e,n,i){return new s(t,e,n,null!=i?i:1)},c.fromRGB=function(t,e,n,i){return new a(t,e,n,null!=i?i:1)},c.fromHSV=function(t,e,n,i){return new l(t,e,n,null!=i?i:1)},kendo.Color=c,kendo.parseColor=i}(window.kendo.jQuery,parseFloat,parseInt),function(t){function e(t){return typeof t!==z}function n(t,e){var n=i(e);return P.round(t*n)/n}function i(t){return t?P.pow(10,t):1}function r(t,e,n){return P.max(P.min(t,n),e)}function o(t){return t*I}function a(t){return t/I}function s(t){return P.round(t)+.5}function l(t){return"number"==typeof t&&!isNaN(t)}function c(t,n){return e(t)?t:n}function h(t){return t*t}function d(t){var e,n=[];for(e in t)n.push(e+t[e]);return n.sort().join("")}function u(t){var e,n=2166136261;for(e=0;t.length>e;++e)n+=(n<<1)+(n<<4)+(n<<7)+(n<<8)+(n<<24),n^=t.charCodeAt(e);return n>>>0}function f(t){return u(d(t))}function p(t){var e,n=t.length,i=L,r=B;for(e=0;n>e;e++)r=P.max(r,t[e]),i=P.min(i,t[e]);return{min:i,max:r}}function g(t){return p(t).min}function m(t){return p(t).max}function v(t){return _(t).min}function y(t){return _(t).max}function _(t){var e,n,i,r=L,o=B;for(e=0,n=t.length;n>e;e++)i=t[e],null!==i&&isFinite(i)&&(r=P.min(r,i),o=P.max(o,i));return{min:r===L?void 0:r,max:o===B?void 0:o}}function w(t){return t?t[t.length-1]:void 0}function x(t,e){return t.push.apply(t,e),t}function b(t){return M.template(t,{useWithBlock:!1,paramName:"d"})}function k(t,n){return e(n)&&null!==n?" "+t+"='"+n+"' ":""}function C(t){var e,n="";for(e=0;t.length>e;e++)n+=k(t[e][0],t[e][1]);return n}function S(t){var n,i,r="";for(n=0;t.length>n;n++)i=t[n][1],e(i)&&(r+=t[n][0]+":"+i+";");return""!==r?r:void 0}function T(t){return"string"!=typeof t&&(t+="px"),t}function D(t){var e,n,i=[];if(t)for(e=M.toHyphens(t).split("-"),n=0;e.length>n;n++)i.push("k-pos-"+e[n]);return i.join(" ")}function A(t){return""===t||null===t||"none"===t||"transparent"===t||!e(t)}var P=Math,M=window.kendo,E=M.deepExtend,I=P.PI/180,L=Number.MAX_VALUE,B=-Number.MAX_VALUE,z="undefined";E(M,{util:{MAX_NUM:L,MIN_NUM:B,alignToPixel:s,append:x,arrayLimits:p,arrayMin:g,arrayMax:m,defined:e,deg:a,hashKey:u,hashObject:f,isNumber:l,isTransparent:A,last:w,limitValue:r,objectKey:d,round:n,rad:o,renderAttr:k,renderAllAttr:C,renderPos:D,renderSize:T,renderStyle:S,renderTemplate:b,sparseArrayLimits:_,sparseArrayMin:v,sparseArrayMax:y,sqr:h,valueOrDefault:c}}),M.dataviz.util=M.util}(window.kendo.jQuery),function(t){var e=Math,n=window.kendo,i=n.deepExtend,r=t.inArray,o={observers:function(){return this._observers=this._observers||[]},addObserver:function(t){var e=this.observers();return e.push(t),this},removeObserver:function(t){var e=this.observers(),n=r(t,e);return-1!=n&&e.splice(n,1),this},trigger:function(t,e){var n,i,r=this._observers;if(r&&!this._suspended)for(i=0;r.length>i;i++)n=r[i],n[t]&&n[t](e);return this},optionsChange:function(t){this.trigger("optionsChange",t)},geometryChange:function(t){this.trigger("geometryChange",t)},suspend:function(){return this._suspended=(this._suspended||0)+1,this
},resume:function(){return this._suspended=e.max((this._suspended||0)-1,0),this},_observerField:function(t,e){this[t]&&this[t].removeObserver(this),this[t]=e,e.addObserver(this)}};i(n,{mixins:{ObserversMixin:o}})}(window.kendo.jQuery),function(t){function e(t){return null===t?null:t instanceof m?t:new m(t)}function n(t){return t&&_.isFunction(t.matrix)?t.matrix():t}function i(t,e,n,i){var r=0,o=0;return i&&(r=v.atan2(i.c*n,i.a*e),0!==i.b&&(o=v.atan2(i.d*n,i.b*e))),{x:r,y:o}}function r(t,e){for(;e>t;)t+=90;return t}function o(t,e){var n,i,r;for(n=0;e.length>n;n++)i=e[n],r=i.charAt(0).toUpperCase()+i.substring(1,i.length),t["set"+r]=a(i),t["get"+r]=s(i)}function a(t){return function(e){return this[t]!==e&&(this[t]=e,this.geometryChange()),this}}function s(t){return function(){return this[t]}}function l(t,e,n){t>e&&(e+=360);var i=v.abs(e-t);return n||(i=360-i),i}function c(t,e,n,i,r,o){var a=D((r-t)/n,3),s=D((o-e)/i,3);return D(T(v.atan2(s,a)))}function h(t,e,n,i,r,o,a,s){var h,d,u,f,p,g,m,_,w,x,b,k,C,S,T,D,A,P;if(e!==i)w=n-t,x=i-e,b=y(r,2),k=y(o,2),C=(k*w*(t+n)+b*x*(e+i))/(2*b*x),S=C-i,T=-(w*k)/(b*x),p=1/b+y(T,2)/k,g=2*(T*S/k-n/b),m=y(n,2)/b+y(S,2)/k-1,_=v.sqrt(y(g,2)-4*p*m),h=(-g-_)/(2*p),d=C+T*h,u=(-g+_)/(2*p),f=C+T*u;else{if(t===n)return!1;g=-2*i,m=y((n-t)*o/(2*r),2)+y(i,2)-y(o,2),_=v.sqrt(y(g,2)-4*m),h=u=(t+n)/2,d=(-g-_)/2,f=(-g+_)/2}return D=c(h,d,r,o,t,e),A=c(h,d,r,o,n,i),P=l(D,A,s),(a&&180>=P||!a&&P>180)&&(h=u,d=f,D=c(h,d,r,o,t,e),A=c(h,d,r,o,n,i)),{center:new E(h,d),startAngle:D,endAngle:A}}var d,u,f,p,g,m,v=Math,y=v.pow,_=window.kendo,w=_.Class,x=_.deepExtend,b=_.mixins.ObserversMixin,k=_.util,C=k.defined,S=k.rad,T=k.deg,D=k.round,A=v.PI/2,P=k.MIN_NUM,M=k.MAX_NUM,E=w.extend({init:function(t,e){this.x=t||0,this.y=e||0},equals:function(t){return t&&t.x===this.x&&t.y===this.y},clone:function(){return new E(this.x,this.y)},rotate:function(t,n){return this.transform(e().rotate(t,n))},translate:function(t,e){return this.x+=t,this.y+=e,this.geometryChange(),this},translateWith:function(t){return this.translate(t.x,t.y)},move:function(t,e){return this.x=this.y=0,this.translate(t,e)},scale:function(t,e){return C(e)||(e=t),this.x*=t,this.y*=e,this.geometryChange(),this},scaleCopy:function(t,e){return this.clone().scale(t,e)},transform:function(t){var e=n(t),i=this.x,r=this.y;return this.x=e.a*i+e.c*r+e.e,this.y=e.b*i+e.d*r+e.f,this.geometryChange(),this},transformCopy:function(t){var e=this.clone();return t&&e.transform(t),e},distanceTo:function(t){var e=this.x-t.x,n=this.y-t.y;return v.sqrt(e*e+n*n)},round:function(t){return this.x=D(this.x,t),this.y=D(this.y,t),this.geometryChange(),this},toArray:function(t){var e=C(t),n=e?D(this.x,t):this.x,i=e?D(this.y,t):this.y;return[n,i]}});o(E.fn,["x","y"]),x(E.fn,b),E.fn.toString=function(t,e){var n=this.x,i=this.y;return C(t)&&(n=D(n,t),i=D(i,t)),e=e||" ",n+e+i},E.create=function(t,e){return C(t)?t instanceof E?t:1===arguments.length&&2===t.length?new E(t[0],t[1]):new E(t,e):void 0},E.min=function(){var t,e,n=k.MAX_NUM,i=k.MAX_NUM;for(t=0;arguments.length>t;t++)e=arguments[t],n=v.min(e.x,n),i=v.min(e.y,i);return new E(n,i)},E.max=function(){var t,e,n=k.MIN_NUM,i=k.MIN_NUM;for(t=0;arguments.length>t;t++)e=arguments[t],n=v.max(e.x,n),i=v.max(e.y,i);return new E(n,i)},E.minPoint=function(){return new E(P,P)},E.maxPoint=function(){return new E(M,M)},E.ZERO=new E(0,0),d=w.extend({init:function(t,e){this.width=t||0,this.height=e||0},equals:function(t){return t&&t.width===this.width&&t.height===this.height},clone:function(){return new d(this.width,this.height)}}),o(d.fn,["width","height"]),x(d.fn,b),d.create=function(t,e){return C(t)?t instanceof d?t:1===arguments.length&&2===t.length?new d(t[0],t[1]):new d(t,e):void 0},d.ZERO=new d(0,0),u=w.extend({init:function(t,e){this.setOrigin(t||new E),this.setSize(e||new d)},clone:function(){return new u(this.origin.clone(),this.size.clone())},equals:function(t){return t&&t.origin.equals(this.origin)&&t.size.equals(this.size)},setOrigin:function(t){return this._observerField("origin",E.create(t)),this.geometryChange(),this},getOrigin:function(){return this.origin},setSize:function(t){return this._observerField("size",d.create(t)),this.geometryChange(),this},getSize:function(){return this.size},width:function(){return this.size.width},height:function(){return this.size.height},topLeft:function(){return this.origin.clone()},bottomRight:function(){return this.origin.clone().translate(this.width(),this.height())},topRight:function(){return this.origin.clone().translate(this.width(),0)},bottomLeft:function(){return this.origin.clone().translate(0,this.height())},center:function(){return this.origin.clone().translate(this.width()/2,this.height()/2)},bbox:function(t){var e=this.topLeft().transformCopy(t),n=this.topRight().transformCopy(t),i=this.bottomRight().transformCopy(t),r=this.bottomLeft().transformCopy(t);return u.fromPoints(e,n,i,r)}}),x(u.fn,b),u.fromPoints=function(){var t=E.min.apply(this,arguments),e=E.max.apply(this,arguments),n=new d(e.x-t.x,e.y-t.y);return new u(t,n)},u.union=function(t,e){return u.fromPoints(E.min(t.topLeft(),e.topLeft()),E.max(t.bottomRight(),e.bottomRight()))},u.intersect=function(t,e){return t={left:t.topLeft().x,top:t.topLeft().y,right:t.bottomRight().x,bottom:t.bottomRight().y},e={left:e.topLeft().x,top:e.topLeft().y,right:e.bottomRight().x,bottom:e.bottomRight().y},e.right>=t.left&&t.right>=e.left&&e.bottom>=t.top&&t.bottom>=e.top?u.fromPoints(new E(v.max(t.left,e.left),v.max(t.top,e.top)),new E(v.min(t.right,e.right),v.min(t.bottom,e.bottom))):void 0},f=w.extend({init:function(t,e){this.setCenter(t||new E),this.setRadius(e||0)},setCenter:function(t){return this._observerField("center",E.create(t)),this.geometryChange(),this},getCenter:function(){return this.center},equals:function(t){return t&&t.center.equals(this.center)&&t.radius===this.radius},clone:function(){return new f(this.center.clone(),this.radius)},pointAt:function(t){return this._pointAt(S(t))},bbox:function(t){var e,n,r,o,a=E.maxPoint(),s=E.minPoint(),l=i(this.center,this.radius,this.radius,t);for(e=0;4>e;e++)n=this._pointAt(l.x+e*A).transformCopy(t),r=this._pointAt(l.y+e*A).transformCopy(t),o=new E(n.x,r.y),a=E.min(a,o),s=E.max(s,o);return u.fromPoints(a,s)},_pointAt:function(t){var e=this.center,n=this.radius;return new E(e.x-n*v.cos(t),e.y-n*v.sin(t))}}),o(f.fn,["radius"]),x(f.fn,b),p=w.extend({init:function(t,e){this.setCenter(t||new E),e=e||{},this.radiusX=e.radiusX,this.radiusY=e.radiusY||e.radiusX,this.startAngle=e.startAngle,this.endAngle=e.endAngle,this.anticlockwise=e.anticlockwise||!1},setCenter:function(t){return this._observerField("center",E.create(t)),this.geometryChange(),this},getCenter:function(){return this.center},MAX_INTERVAL:45,pointAt:function(t){var e=this.center,n=S(t);return new E(e.x+this.radiusX*v.cos(n),e.y+this.radiusY*v.sin(n))},curvePoints:function(){var t,e,n,i=this.startAngle,r=this.anticlockwise?-1:1,o=[this.pointAt(i)],a=i,s=this._arcInterval(),l=s.endAngle-s.startAngle,c=v.ceil(l/this.MAX_INTERVAL),h=l/c;for(t=1;c>=t;t++)e=a+r*h,n=this._intervalCurvePoints(a,e),o.push(n.cp1,n.cp2,n.p2),a=e;return o},bbox:function(t){for(var e,n,o=this,a=o._arcInterval(),s=a.startAngle,l=a.endAngle,c=i(this.center,this.radiusX,this.radiusY,t),h=T(c.x),d=T(c.y),f=o.pointAt(s).transformCopy(t),p=o.pointAt(l).transformCopy(t),g=E.min(f,p),m=E.max(f,p),v=r(h,s),y=r(d,s);l>v||l>y;)l>v&&(e=o.pointAt(v).transformCopy(t),v+=90),l>y&&(n=o.pointAt(y).transformCopy(t),y+=90),f=new E(e.x,n.y),g=E.min(g,f),m=E.max(m,f);return u.fromPoints(g,m)},_arcInterval:function(){var t,e=this.startAngle,n=this.endAngle,i=this.anticlockwise;return i&&(t=e,e=n,n=t),(e>n||i&&e===n)&&(n+=360),{startAngle:e,endAngle:n}},_intervalCurvePoints:function(t,e){var n=this,i=n.pointAt(t),r=n.pointAt(e),o=n._derivativeAt(t),a=n._derivativeAt(e),s=(S(e)-S(t))/3,l=new E(i.x+s*o.x,i.y+s*o.y),c=new E(r.x-s*a.x,r.y-s*a.y);return{p1:i,cp1:l,cp2:c,p2:r}},_derivativeAt:function(t){var e=this,n=S(t);return new E(-e.radiusX*v.sin(n),e.radiusY*v.cos(n))}}),o(p.fn,["radiusX","radiusY","startAngle","endAngle","anticlockwise"]),x(p.fn,b),p.fromPoints=function(t,e,n,i,r,o){var a=h(t.x,t.y,e.x,e.y,n,i,r,o);return new p(a.center,{startAngle:a.startAngle,endAngle:a.endAngle,radiusX:n,radiusY:i,anticlockwise:0===o})},g=w.extend({init:function(t,e,n,i,r,o){this.a=t||0,this.b=e||0,this.c=n||0,this.d=i||0,this.e=r||0,this.f=o||0},multiplyCopy:function(t){return new g(this.a*t.a+this.c*t.b,this.b*t.a+this.d*t.b,this.a*t.c+this.c*t.d,this.b*t.c+this.d*t.d,this.a*t.e+this.c*t.f+this.e,this.b*t.e+this.d*t.f+this.f)},clone:function(){return new g(this.a,this.b,this.c,this.d,this.e,this.f)},equals:function(t){return t?this.a===t.a&&this.b===t.b&&this.c===t.c&&this.d===t.d&&this.e===t.e&&this.f===t.f:!1},round:function(t){return this.a=D(this.a,t),this.b=D(this.b,t),this.c=D(this.c,t),this.d=D(this.d,t),this.e=D(this.e,t),this.f=D(this.f,t),this},toArray:function(t){var e,n=[this.a,this.b,this.c,this.d,this.e,this.f];if(C(t))for(e=0;n.length>e;e++)n[e]=D(n[e],t);return n}}),g.fn.toString=function(t,e){return this.toArray(t).join(e||",")},g.translate=function(t,e){return new g(1,0,0,1,t,e)},g.unit=function(){return new g(1,0,0,1,0,0)},g.rotate=function(t,e,n){var i=new g;return i.a=v.cos(S(t)),i.b=v.sin(S(t)),i.c=-i.b,i.d=i.a,i.e=e-e*i.a+n*i.b||0,i.f=n-n*i.a-e*i.b||0,i},g.scale=function(t,e){return new g(t,0,0,e,0,0)},g.IDENTITY=g.unit(),m=w.extend({init:function(t){this._matrix=t||g.unit()},clone:function(){return new m(this._matrix.clone())},equals:function(t){return t&&t._matrix.equals(this._matrix)},_optionsChange:function(){this.optionsChange({field:"transform",value:this})},translate:function(t,e){return this._matrix=this._matrix.multiplyCopy(g.translate(t,e)),this._optionsChange(),this},scale:function(t,e,n){return C(e)||(e=t),n&&(n=E.create(n),this._matrix=this._matrix.multiplyCopy(g.translate(n.x,n.y))),this._matrix=this._matrix.multiplyCopy(g.scale(t,e)),n&&(this._matrix=this._matrix.multiplyCopy(g.translate(-n.x,-n.y))),this._optionsChange(),this},rotate:function(t,e){return e=E.create(e)||E.ZERO,this._matrix=this._matrix.multiplyCopy(g.rotate(t,e.x,e.y)),this._optionsChange(),this},multiply:function(t){var e=n(t);return this._matrix=this._matrix.multiplyCopy(e),this._optionsChange(),this},matrix:function(){return this._matrix}}),x(m.fn,b),x(_,{geometry:{Arc:p,Circle:f,Matrix:g,Point:E,Rect:u,Size:d,Transformation:m,transform:e,toMatrix:n}}),_.dataviz.geometry=_.geometry}(window.kendo.jQuery),function(t){var e,n,i,r=t.noop,o=Object.prototype.toString,a=window.kendo,s=a.Class,l=a.ui.Widget,c=a.deepExtend,h=a.util,d=h.defined,u=a.Observable.extend({init:function(e,n){a.Observable.fn.init.call(this),this.options=c({},this.options,n),this.bind(this.events,this.options),this._click=this._handler("click"),this._mouseenter=this._handler("mouseenter"),this._mouseleave=this._handler("mouseleave"),this.element=t(e),this.options.width&&this.element.css("width",this.options.width),this.options.height&&this.element.css("height",this.options.height)},options:{},events:["click","mouseenter","mouseleave","resize"],draw:r,clear:r,destroy:r,resize:l.fn.resize,size:l.fn.size,getSize:function(){return{width:this.element.width(),height:this.element.height()}},setSize:function(t){this.element.css({width:t.width,height:t.height}),this._size=t,this._resize()},eventTarget:function(e){for(var n,i=t(e.touch?e.touch.initialTouch:e.target);!n&&i.length>0&&(n=i[0]._kendoNode,!i.is(this.element)&&0!==i.length);)i=i.parent();return n?n.srcElement:void 0},_resize:r,_handler:function(t){var e=this;return function(n){var i=e.eventTarget(n);i&&e.trigger(t,{element:i,originalEvent:n})}}});u.create=function(t,e){return i.current.create(t,e)},e=s.extend({init:function(t){this.childNodes=[],this.parent=null,t&&(this.srcElement=t,this.observe())},destroy:function(){var t,e;for(this.srcElement&&this.srcElement.removeObserver(this),t=this.childNodes,e=0;t.length>e;e++)this.childNodes[e].destroy();this.parent=null},load:r,observe:function(){this.srcElement&&this.srcElement.addObserver(this)},append:function(t){this.childNodes.push(t),t.parent=this},insertAt:function(t,e){this.childNodes.splice(e,0,t),t.parent=this},remove:function(t,e){var n,i=t+e;for(n=t;i>n;n++)this.childNodes[n].removeSelf();this.childNodes.splice(t,e)},removeSelf:function(){this.clear(),this.destroy()},clear:function(){this.remove(0,this.childNodes.length)},invalidate:function(){this.parent&&this.parent.invalidate()},geometryChange:function(){this.invalidate()},optionsChange:function(){this.invalidate()},childrenChange:function(t){"add"===t.action?this.load(t.items,t.index):"remove"===t.action&&this.remove(t.index,t.items.length),this.invalidate()}}),n=s.extend({init:function(t,e){var n,i;this.prefix=e||"";for(n in t)i=t[n],i=this._wrap(i,n),this[n]=i},get:function(t){return a.getter(t,!0)(this)},set:function(t,e){var n,i=a.getter(t,!0)(this);i!==e&&(n=this._set(t,this._wrap(e,t)),n||this.optionsChange({field:this.prefix+t,value:e}))},_set:function(t,e){var i,r,o,s=t.indexOf(".")>=0;if(s)for(i=t.split("."),r="";i.length>1;){if(r+=i.shift(),o=a.getter(r,!0)(this),o||(o=new n({},r+"."),o.addObserver(this),this[r]=o),o instanceof n)return o.set(i.join("."),e),s;r+="."}return this._clear(t),a.setter(t)(this,e),s},_clear:function(t){var e=a.getter(t,!0)(this);e&&e.removeObserver&&e.removeObserver(this)},_wrap:function(t,e){var i=o.call(t);return null!==t&&d(t)&&"[object Object]"===i&&(t instanceof n||t instanceof s||(t=new n(t,this.prefix+e+".")),t.addObserver(this)),t}}),c(n.fn,a.mixins.ObserversMixin),i=function(){this._items=[]},i.prototype={register:function(t,e,n){var i=this._items,r=i[0],o={name:t,type:e,order:n};!r||r.order>n?i.unshift(o):i.push(o)},create:function(t,e){var n,i,r=this._items,o=r[0];if(e&&e.type)for(n=e.type.toLowerCase(),i=0;r.length>i;i++)if(r[i].name===n){o=r[i];break}return o?new o.type(t,e):void a.logToConsole("Warning: Unable to create Kendo UI Drawing Surface. Possible causes:\n- The browser does not support SVG, VML and Canvas. User agent: "+navigator.userAgent+"\n- The Kendo UI scripts are not fully loaded")}},i.current=new i,c(a,{drawing:{DASH_ARRAYS:{dot:[1.5,3.5],dash:[4,3.5],longdash:[8,3.5],dashdot:[3.5,3.5,1.5,3.5],longdashdot:[8,3.5,1.5,3.5],longdashdotdot:[8,3.5,1.5,3.5,1.5,3.5]},Color:a.Color,BaseNode:e,OptionsStore:n,Surface:u,SurfaceFactory:i}}),a.dataviz.drawing=a.drawing}(window.kendo.jQuery),function(){var t=window.kendo,e=t.deepExtend,n=t.util.defined,i="gradient",r={extend:function(t){t.fill=this.fill,t.stroke=this.stroke},fill:function(t,e){var r,o=this.options;return n(t)?(t&&t.nodeType!=i?(r={color:t},n(e)&&(r.opacity=e),o.set("fill",r)):o.set("fill",t),this):o.get("fill")},stroke:function(t,e,i){return n(t)?(this.options.set("stroke.color",t),n(e)&&this.options.set("stroke.width",e),n(i)&&this.options.set("stroke.opacity",i),this):this.options.get("stroke")}},o={extend:function(t,e){t.traverse=function(t){var n,i,r=this[e];for(n=0;r.length>n;n++)i=r[n],i.traverse?i.traverse(t):t(i);return this}}};e(t.drawing,{mixins:{Paintable:r,Traversable:o}})}(window.kendo.jQuery),function(t){function e(t,e){return h.current.measure(t,e)}var n=document,i=window.kendo,r=i.Class,o=i.deepExtend,a=i.util,s=a.defined,l=1,c=r.extend({init:function(t){this._size=t,this._length=0,this._map={}},put:function(t,e){var n=this,i=n._map,r={key:t,value:e};i[t]=r,n._head?(n._tail.newer=r,r.older=n._tail,n._tail=r):n._head=n._tail=r,n._length>=n._size?(i[n._head.key]=null,n._head=n._head.newer,n._head.older=null):n._length++},get:function(t){var e=this,n=e._map[t];return n?(n===e._head&&n!==e._tail&&(e._head=n.newer,e._head.older=null),n!==e._tail&&(n.older&&(n.older.newer=n.newer,n.newer.older=n.older),n.older=e._tail,n.newer=null,e._tail.newer=n,e._tail=n),n.value):void 0}}),h=r.extend({init:function(){this._cache=new c(1e3)},measure:function(t,e){var i,r,o,c,h,d=a.objectKey(e),u=a.hashKey(t+d),f=this._cache.get(u);if(f)return f;i={width:0,height:0,baseline:0},r=this._measureBox,o=this._baselineMarker.cloneNode(!1);for(c in e)h=e[c],s(h)&&(r.style[c]=h);return r.innerHTML=t,r.appendChild(o),n.body.appendChild(r),(t+"").length&&(i.width=r.offsetWidth-l,i.height=r.offsetHeight,i.baseline=o.offsetTop+l),this._cache.put(u,i),r.parentNode.removeChild(r),i}});h.fn._baselineMarker=t("<div class='k-baseline-marker' style='display: inline-block; vertical-align: baseline;width: "+l+"px; height: "+l+"px;overflow: hidden;' />")[0],h.fn._measureBox=t("<div style='position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;padding: 0 !important; margin: 0 !important; border: 0 !important;line-height: normal !important; visibility: hidden !important; white-space:nowrap !important;' />")[0],h.current=new h,o(i.drawing,{util:{TextMetrics:h,LRUCache:c,measureText:e}})}(window.kendo.jQuery),function(t){function e(t,e,n){var i,r,o,a;for(r=0;t.length>r;r++)o=t[r],o.visible()&&(a=e?o.bbox(n):o.rawBBox(),a&&(i=i?E.union(i,a):a));return i}function n(t,e,n){var i,r,o,a;for(r=0;t.length>r;r++)o=t[r],o.visible()&&(a=e?o.clippedBBox(n):o.rawBBox(),a&&(i=i?E.union(i,a):a));return i}function i(t,e){for(var n=0;t.length>n;n++)t[n].parent=e}function r(t,e){t.origin.x-=e,t.origin.y-=e,t.size.width+=2*e,t.size.height+=2*e}function o(t,e){for(var n=0;e.length>n;n++)t[e[n]]=a(e[n])}function a(t){var e="_"+t;return function(t){return U(t)?(this._observerField(e,t),this.geometryChange(),this):this[e]}}function s(t,e){for(var n=0;e.length>n;n++)t[e[n]]=l(e[n])}function l(t){var e="_"+t;return function(t){return U(t)?(this._observerField(e,M.create(t)),this.geometryChange(),this):this[e]}}function c(t,e){for(var n=0;e.length>n;n++)t[e[n]]=h(e[n])}function h(t){return function(e){return U(e)?(this.options.set(t,e),this):this.options.get(t)}}var d,u,f,p,g,m,v,y,_,w,x,b,k,C,S,T=window.kendo,D=T.Class,A=T.deepExtend,P=T.geometry,M=P.Point,E=P.Rect,I=P.Size,L=P.Matrix,B=P.toMatrix,z=T.drawing,F=z.OptionsStore,R=Math,O=R.pow,N=T.util,V=N.append,H=N.arrayLimits,U=N.defined,W=N.last,j=N.valueOrDefault,G=T.mixins.ObserversMixin,q=t.inArray,$=[].push,Y=[].pop,X=[].splice,Q=[].shift,K=[].slice,Z=[].unshift,J=D.extend({nodeType:"Element",init:function(t){this._initOptions(t)},_initOptions:function(t){var e,n;t=t||{},e=t.transform,n=t.clip,e&&(t.transform=P.transform(e)),n&&!n.id&&(n.id=T.guid()),this.options=new F(t),this.options.addObserver(this)},transform:function(t){return U(t)?void this.options.set("transform",P.transform(t)):this.options.get("transform")},parentTransform:function(){for(var t,e,n=this;n.parent;)n=n.parent,t=n.transform(),t&&(e=t.matrix().multiplyCopy(e||L.unit()));return e?P.transform(e):void 0},currentTransform:function(t){var e,n,i=this.transform(),r=B(i);return U(t)||(t=this.parentTransform()),e=B(t),n=r&&e?e.multiplyCopy(r):r||e,n?P.transform(n):void 0},visible:function(t){return U(t)?(this.options.set("visible",t),this):this.options.get("visible")!==!1},clip:function(t){var e=this.options;return U(t)?(t&&!t.id&&(t.id=T.guid()),e.set("clip",t),this):e.get("clip")},opacity:function(t){return U(t)?(this.options.set("opacity",t),this):j(this.options.get("opacity"),1)},clippedBBox:function(t){var e,n=this._clippedBBox(t);return n?(e=this.clip(),e?E.intersect(n,e.bbox(t)):n):void 0},_clippedBBox:function(t){return this.bbox(t)}});A(J.fn,G),d=D.extend({init:function(t){t=t||[],this.length=0,this._splice(0,t.length,t)},elements:function(t){return t?(this._splice(0,this.length,t),this._change(),this):this.slice(0)},push:function(){var t=arguments,e=$.apply(this,t);return this._add(t),e},slice:K,pop:function(){var t=this.length,e=Y.apply(this);return t&&this._remove([e]),e},splice:function(t,e){var n=K.call(arguments,2),i=this._splice(t,e,n);return this._change(),i},shift:function(){var t=this.length,e=Q.apply(this);return t&&this._remove([e]),e},unshift:function(){var t=arguments,e=Z.apply(this,t);return this._add(t),e},indexOf:function(t){var e,n,i=this;for(e=0,n=i.length;n>e;e++)if(i[e]===t)return e;return-1},_splice:function(t,e,n){var i=X.apply(this,[t,e].concat(n));return this._clearObserver(i),this._setObserver(n),i},_add:function(t){this._setObserver(t),this._change()},_remove:function(t){this._clearObserver(t),this._change()},_setObserver:function(t){for(var e=0;t.length>e;e++)t[e].addObserver(this)},_clearObserver:function(t){for(var e=0;t.length>e;e++)t[e].removeObserver(this)},_change:function(){}}),A(d.fn,G),u=J.extend({nodeType:"Group",init:function(t){J.fn.init.call(this,t),this.children=[]},childrenChange:function(t,e,n){this.trigger("childrenChange",{action:t,items:e,index:n})},append:function(){return V(this.children,arguments),i(arguments,this),this.childrenChange("add",arguments),this},insertAt:function(t,e){return this.children.splice(e,0,t),t.parent=this,this.childrenChange("add",[t],e),this},remove:function(t){var e=q(t,this.children);return e>=0&&(this.children.splice(e,1),t.parent=null,this.childrenChange("remove",[t],e)),this},removeAt:function(t){if(t>=0&&this.children.length>t){var e=this.children[t];this.children.splice(t,1),e.parent=null,this.childrenChange("remove",[e],t)}return this},clear:function(){var t=this.children;return this.children=[],i(t,null),this.childrenChange("remove",t,0),this},bbox:function(t){return e(this.children,!0,this.currentTransform(t))},rawBBox:function(){return e(this.children,!1)},_clippedBBox:function(t){return n(this.children,this.currentTransform(t))},currentTransform:function(t){return J.fn.currentTransform.call(this,t)||null}}),z.mixins.Traversable.extend(u.fn,"children"),f=J.extend({nodeType:"Text",init:function(t,e,n){J.fn.init.call(this,n),this.content(t),this.position(e||new P.Point),this.options.font||(this.options.font="12px sans-serif"),U(this.options.fill)||this.fill("#000")},content:function(t){return U(t)?(this.options.set("content",t),this):this.options.get("content")},measure:function(){var t=z.util.measureText(this.content(),{font:this.options.get("font")});return t},rect:function(){var t=this.measure(),e=this.position().clone();return new P.Rect(e,[t.width,t.height])},bbox:function(t){var e=B(this.currentTransform(t));return this.rect().bbox(e)},rawBBox:function(){return this.rect().bbox()}}),z.mixins.Paintable.extend(f.fn),s(f.fn,["position"]),p=J.extend({nodeType:"Circle",init:function(t,e){J.fn.init.call(this,e),this.geometry(t||new P.Circle),U(this.options.stroke)||this.stroke("#000")},bbox:function(t){var e=B(this.currentTransform(t)),n=this._geometry.bbox(e),i=this.options.get("stroke.width");return i&&r(n,i/2),n},rawBBox:function(){return this._geometry.bbox()}}),z.mixins.Paintable.extend(p.fn),o(p.fn,["geometry"]),g=J.extend({nodeType:"Arc",init:function(t,e){J.fn.init.call(this,e),this.geometry(t||new P.Arc),U(this.options.stroke)||this.stroke("#000")},bbox:function(t){var e=B(this.currentTransform(t)),n=this.geometry().bbox(e),i=this.options.get("stroke.width");return i&&r(n,i/2),n},rawBBox:function(){return this.geometry().bbox()},toPath:function(){var t,e=new y,n=this.geometry().curvePoints();if(n.length>0)for(e.moveTo(n[0].x,n[0].y),t=1;n.length>t;t+=3)e.curveTo(n[t],n[t+1],n[t+2]);return e}}),z.mixins.Paintable.extend(g.fn),o(g.fn,["geometry"]),m=d.extend({_change:function(){this.geometryChange()}}),v=D.extend({init:function(t,e,n){this.anchor(t||new M),this.controlIn(e),this.controlOut(n)},bboxTo:function(t,e){var n,i=this.anchor().transformCopy(e),r=t.anchor().transformCopy(e);return n=this.controlOut()&&t.controlIn()?this._curveBoundingBox(i,this.controlOut().transformCopy(e),t.controlIn().transformCopy(e),r):this._lineBoundingBox(i,r)},_lineBoundingBox:function(t,e){return E.fromPoints(t,e)},_curveBoundingBox:function(t,e,n,i){var r=[t,e,n,i],o=this._curveExtremesFor(r,"x"),a=this._curveExtremesFor(r,"y"),s=H([o.min,o.max,t.x,i.x]),l=H([a.min,a.max,t.y,i.y]);return E.fromPoints(new M(s.min,l.min),new M(s.max,l.max))},_curveExtremesFor:function(t,e){var n=this._curveExtremes(t[0][e],t[1][e],t[2][e],t[3][e]);return{min:this._calculateCurveAt(n.min,e,t),max:this._calculateCurveAt(n.max,e,t)}},_calculateCurveAt:function(t,e,n){var i=1-t;return O(i,3)*n[0][e]+3*O(i,2)*t*n[1][e]+3*O(t,2)*i*n[2][e]+O(t,3)*n[3][e]},_curveExtremes:function(t,e,n,i){var r,o,a=t-3*e+3*n-i,s=-2*(t-2*e+n),l=t-e,c=R.sqrt(s*s-4*a*l),h=0,d=1;return 0===a?0!==s&&(h=d=-l/s):isNaN(c)||(h=(-s+c)/(2*a),d=(-s-c)/(2*a)),r=R.max(R.min(h,d),0),(0>r||r>1)&&(r=0),o=R.min(R.max(h,d),1),(o>1||0>o)&&(o=1),{min:r,max:o}}}),s(v.fn,["anchor","controlIn","controlOut"]),A(v.fn,G),y=J.extend({nodeType:"Path",init:function(t){J.fn.init.call(this,t),this.segments=new m,this.segments.addObserver(this),U(this.options.stroke)||(this.stroke("#000"),U(this.options.stroke.lineJoin)||this.options.set("stroke.lineJoin","miter"))},moveTo:function(t,e){return this.suspend(),this.segments.elements([]),this.resume(),this.lineTo(t,e),this},lineTo:function(t,e){var n=U(e)?new M(t,e):t,i=new v(n);return this.segments.push(i),this},curveTo:function(t,e,n){var i,r;return this.segments.length>0&&(i=W(this.segments),r=new v(n,e),this.suspend(),i.controlOut(t),this.resume(),this.segments.push(r)),this},arc:function(t,e,n,i,r){var o,a,s,l,c;return this.segments.length>0&&(o=W(this.segments),a=o.anchor(),s=N.rad(t),l=new M(a.x-n*R.cos(s),a.y-i*R.sin(s)),c=new P.Arc(l,{startAngle:t,endAngle:e,radiusX:n,radiusY:i,anticlockwise:r}),this._addArcSegments(c)),this},arcTo:function(t,e,n,i,r){var o,a,s;return this.segments.length>0&&(o=W(this.segments),a=o.anchor(),s=P.Arc.fromPoints(a,t,e,n,i,r),this._addArcSegments(s)),this},_addArcSegments:function(t){var e,n;for(this.suspend(),e=t.curvePoints(),n=1;e.length>n;n+=3)this.curveTo(e[n],e[n+1],e[n+2]);this.resume(),this.geometryChange()},close:function(){return this.options.closed=!0,this.geometryChange(),this},bbox:function(t){var e=B(this.currentTransform(t)),n=this._bbox(e),i=this.options.get("stroke.width");return i&&r(n,i/2),n},rawBBox:function(){return this._bbox()},_bbox:function(t){var e,n,i,r,o=this.segments,a=o.length;if(1===a)n=o[0].anchor().transformCopy(t),e=new E(n,I.ZERO);else if(a>0)for(i=1;a>i;i++)r=o[i-1].bboxTo(o[i],t),e=e?E.union(e,r):r;return e}}),z.mixins.Paintable.extend(y.fn),y.fromRect=function(t,e){return new y(e).moveTo(t.topLeft()).lineTo(t.topRight()).lineTo(t.bottomRight()).lineTo(t.bottomLeft()).close()},y.fromPoints=function(t,e){var n,i,r;if(t){for(n=new y(e),i=0;t.length>i;i++)r=M.create(t[i]),r&&(0===i?n.moveTo(r):n.lineTo(r));return n}},y.fromArc=function(t,e){var n=new y(e),i=t.startAngle,r=t.pointAt(i);return n.moveTo(r.x,r.y),n.arc(i,t.endAngle,t.radiusX,t.radiusY,t.anticlockwise),n},_=J.extend({nodeType:"MultiPath",init:function(t){J.fn.init.call(this,t),this.paths=new m,this.paths.addObserver(this),U(this.options.stroke)||this.stroke("#000")},moveTo:function(t,e){var n=new y;return n.moveTo(t,e),this.paths.push(n),this},lineTo:function(t,e){return this.paths.length>0&&W(this.paths).lineTo(t,e),this},curveTo:function(t,e,n){return this.paths.length>0&&W(this.paths).curveTo(t,e,n),this},arc:function(t,e,n,i,r){return this.paths.length>0&&W(this.paths).arc(t,e,n,i,r),this},arcTo:function(t,e,n,i,r){return this.paths.length>0&&W(this.paths).arcTo(t,e,n,i,r),this},close:function(){return this.paths.length>0&&W(this.paths).close(),this},bbox:function(t){return e(this.paths,!0,this.currentTransform(t))},rawBBox:function(){return e(this.paths,!1)},_clippedBBox:function(t){return n(this.paths,this.currentTransform(t))}}),z.mixins.Paintable.extend(_.fn),w=J.extend({nodeType:"Image",init:function(t,e,n){J.fn.init.call(this,n),this.src(t),this.rect(e||new P.Rect)},src:function(t){return U(t)?(this.options.set("src",t),this):this.options.get("src")},bbox:function(t){var e=B(this.currentTransform(t));return this._rect.bbox(e)},rawBBox:function(){return this._rect.bbox()}}),o(w.fn,["rect"]),x=D.extend({init:function(t,e,n){this.options=new F({offset:t,color:e,opacity:U(n)?n:1}),this.options.addObserver(this)}}),c(x.fn,["offset","color","opacity"]),A(x.fn,G),x.create=function(t){if(U(t)){var e;return e=t instanceof x?t:t.length>1?new x(t[0],t[1],t[2]):new x(t.offset,t.color,t.opacity)}},b=d.extend({_change:function(){this.optionsChange({field:"stops"})}}),k=D.extend({nodeType:"gradient",init:function(t){this.stops=new b(this._createStops(t.stops)),this.stops.addObserver(this),this._userSpace=t.userSpace,this.id=T.guid()},userSpace:function(t){return U(t)?(this._userSpace=t,this.optionsChange(),this):this._userSpace},_createStops:function(t){var e,n=[];for(t=t||[],e=0;t.length>e;e++)n.push(x.create(t[e]));return n},addStop:function(t,e,n){this.stops.push(new x(t,e,n))},removeStop:function(t){var e=this.stops.indexOf(t);e>=0&&this.stops.splice(e,1)}}),A(k.fn,G,{optionsChange:function(t){this.trigger("optionsChange",{field:"gradient"+(t?"."+t.field:""),value:this})},geometryChange:function(){this.optionsChange()}}),C=k.extend({init:function(t){t=t||{},k.fn.init.call(this,t),this.start(t.start||new M),this.end(t.end||new M(1,0))}}),s(C.fn,["start","end"]),S=k.extend({init:function(t){t=t||{},k.fn.init.call(this,t),this.center(t.center||new M),this._radius=U(t.radius)?t.radius:1,this._fallbackFill=t.fallbackFill},radius:function(t){return U(t)?(this._radius=t,this.geometryChange(),this):this._radius},fallbackFill:function(t){return U(t)?(this._fallbackFill=t,this.optionsChange(),this):this._fallbackFill}}),s(S.fn,["center"]),A(z,{Arc:g,Circle:p,Element:J,ElementsArray:d,Gradient:k,GradientStop:x,Group:u,Image:w,LinearGradient:C,MultiPath:_,Path:y,RadialGradient:S,Segment:v,Text:f})}(window.kendo.jQuery),function(t){function e(t){var e=[];return t.replace(g,function(t,n){e.push(parseFloat(n))}),e}function n(t,e,n){var i,r=e?0:1;for(i=0;t.length>i;i+=2)t.splice(i+r,0,n)}function i(t,e){return t&&e?e.scaleCopy(2).translate(-t.x,-t.y):void 0}function r(t,e,n){var i=1/3;return e=e.clone().scale(2/3),{controlOut:e.clone().translateWith(t.scaleCopy(i)),controlIn:e.translateWith(n.scaleCopy(i))}}var o=window.kendo,a=o.drawing,s=o.geometry,l=o.Class,c=s.Point,h=o.deepExtend,d=t.trim,u=o.util,f=u.last,p=/([a-z]{1})([^a-z]*)(z)?/gi,g=/[,\s]?(-?(?:\d+\.)?\d+)/g,m="m",v="z",y=l.extend({parse:function(t,n){var i,r=new a.MultiPath(n),o=new c;return t.replace(p,function(t,n,a,s){var l=n.toLowerCase(),c=l===n,h=e(d(a));if(l===m&&(c?(o.x+=h[0],o.y+=h[1]):(o.x=h[0],o.y=h[1]),r.moveTo(o.x,o.y),h.length>2&&(l="l",h.splice(0,2))),_[l])_[l](r,{parameters:h,position:o,isRelative:c,previousCommand:i}),s&&s.toLowerCase()===v&&r.close();else if(l!==m)throw Error("Error while parsing SVG path. Unsupported command: "+l);i=l}),r}}),_={l:function(t,e){var n,i,r=e.parameters,o=e.position;for(n=0;r.length>n;n+=2)i=new c(r[n],r[n+1]),e.isRelative&&i.translateWith(o),t.lineTo(i.x,i.y),o.x=i.x,o.y=i.y},c:function(t,e){var n,i,r,o,a=e.parameters,s=e.position;for(o=0;a.length>o;o+=6)n=new c(a[o],a[o+1]),i=new c(a[o+2],a[o+3]),r=new c(a[o+4],a[o+5]),e.isRelative&&(i.translateWith(s),n.translateWith(s),r.translateWith(s)),t.curveTo(n,i,r),s.x=r.x,s.y=r.y},v:function(t,e){var i=e.isRelative?0:e.position.x;n(e.parameters,!0,i),this.l(t,e)},h:function(t,e){var i=e.isRelative?0:e.position.y;n(e.parameters,!1,i),this.l(t,e)},a:function(t,e){var n,i,r,o,a,s,l=e.parameters,h=e.position;for(n=0;l.length>n;n+=7)i=l[n],r=l[n+1],o=l[n+3],a=l[n+4],s=new c(l[n+5],l[n+6]),e.isRelative&&s.translateWith(h),t.arcTo(s,i,r,o,a),h.x=s.x,h.y=s.y},s:function(t,e){var n,r,o,a,s,l=e.parameters,h=e.position,d=e.previousCommand;for(("s"==d||"c"==d)&&(a=f(f(t.paths).segments).controlIn()),s=0;l.length>s;s+=4)o=new c(l[s],l[s+1]),r=new c(l[s+2],l[s+3]),e.isRelative&&(o.translateWith(h),r.translateWith(h)),n=a?i(a,h):h.clone(),a=o,t.curveTo(n,o,r),h.x=r.x,h.y=r.y},q:function(t,e){var n,i,o,a,s=e.parameters,l=e.position;for(a=0;s.length>a;a+=4)o=new c(s[a],s[a+1]),i=new c(s[a+2],s[a+3]),e.isRelative&&(o.translateWith(l),i.translateWith(l)),n=r(l,o,i),t.curveTo(n.controlOut,n.controlIn,i),l.x=i.x,l.y=i.y
},t:function(t,e){var n,o,a,s,l,h=e.parameters,d=e.position,u=e.previousCommand;for(("q"==u||"t"==u)&&(s=f(f(t.paths).segments),o=s.controlIn().clone().translateWith(d.scaleCopy(-1/3)).scale(1.5)),l=0;h.length>l;l+=2)a=new c(h[l],h[l+1]),e.isRelative&&a.translateWith(d),o=o?i(o,d):d.clone(),n=r(d,o,a),t.curveTo(n.controlOut,n.controlIn,a),d.x=a.x,d.y=a.y}};y.current=new y,a.Path.parse=function(t,e){return y.current.parse(t,e)},h(a,{PathParser:y})}(window.kendo.jQuery),function(t){function e(t){var e,n,i,r;try{e=t.getScreenCTM?t.getScreenCTM():null}catch(o){}e&&(n=-e.e%1,i=-e.f%1,r=t.style,(0!==n||0!==i)&&(r.left=n+"px",r.top=i+"px"))}function n(){var t=document.getElementsByTagName("base")[0],e="",n=document.location.href,i=n.indexOf("#");return t&&!c.support.browser.msie&&(-1!==i&&(n=n.substring(0,i)),e=n),e}function i(t){return"url("+n()+"#"+t+")"}function r(e,n){var i,r=new M(t("<div />"),{encodeText:!0});return r.draw(e),i=r.svg(),n&&n.raw||(i="data:image/svg+xml;chartset=UTF-8,"+i),t.Deferred().resolve(i).promise()}function o(t,e){return"clip"==t||"fill"==t&&(!e||e.nodeType==b)}function a(t){if(!t||!t.indexOf||t.indexOf("&")<0)return t;var e=a._element;return e.innerHTML=t,e.textContent||e.innerText}var s,l=document,c=window.kendo,h=c.deepExtend,d=c.drawing,u=d.BaseNode,f=c.util,p=f.defined,g=f.isTransparent,m=f.renderAttr,v=f.renderAllAttr,y=f.renderTemplate,_=t.inArray,w="butt",x=d.DASH_ARRAYS,b="gradient",k="none",C=".kendo",S="solid",T=" ",D="http://www.w3.org/2000/svg",A="transform",P="undefined",M=d.Surface.extend({init:function(t,n){d.Surface.fn.init.call(this,t,n),this._root=new I(this.options),q(this.element[0],this._template(this)),this._rootElement=this.element[0].firstElementChild,e(this._rootElement),this._root.attachTo(this._rootElement),this.element.on("click"+C,this._click),this.element.on("mouseover"+C,this._mouseenter),this.element.on("mouseout"+C,this._mouseleave),this.resize()},type:"svg",destroy:function(){this._root&&(this._root.destroy(),this._root=null,this._rootElement=null,this.element.off(C)),d.Surface.fn.destroy.call(this)},translate:function(t){var e=c.format("{0} {1} {2} {3}",Math.round(t.x),Math.round(t.y),this._size.width,this._size.height);this._offset=t,this._rootElement.setAttribute("viewBox",e)},draw:function(t){this._root.load([t])},clear:function(){this._root.clear()},svg:function(){return"<?xml version='1.0' ?>"+this._template(this)},_resize:function(){this._offset&&this.translate(this._offset)},_template:y("<svg style='width: 100%; height: 100%; overflow: hidden;' xmlns='"+D+"' version='1.1'>#= d._root.render() #</svg>")}),E=u.extend({init:function(t){u.fn.init.call(this,t),this.definitions={}},destroy:function(){this.element&&(this.element._kendoNode=null,this.element=null),this.clearDefinitions(),u.fn.destroy.call(this)},load:function(t,e){var n,i,r,o,a=this,s=a.element;for(o=0;t.length>o;o++)i=t[o],r=i.children,i instanceof d.Text?n=new V(i):i instanceof d.Group?n=new z(i):i instanceof d.Path?n=new F(i):i instanceof d.MultiPath?n=new O(i):i instanceof d.Circle?n=new N(i):i instanceof d.Arc?n=new R(i):i instanceof d.Image&&(n=new H(i)),p(e)?a.insertAt(n,e):a.append(n),n.createDefinitions(),r&&r.length>0&&n.load(r),s&&n.attachTo(s,e)},root:function(){for(var t=this;t.parent;)t=t.parent;return t},attachTo:function(t,e){var n,i=l.createElement("div");q(i,"<svg xmlns='"+D+"' version='1.1'>"+this.render()+"</svg>"),n=i.firstChild.firstChild,n&&(p(e)?t.insertBefore(n,t.childNodes[e]):t.appendChild(n),this.setElement(n))},setElement:function(t){var e,n,i=this.childNodes;for(this.element&&(this.element._kendoNode=null),this.element=t,this.element._kendoNode=this,n=0;i.length>n;n++)e=t.childNodes[n],i[n].setElement(e)},clear:function(){var t,e;for(this.clearDefinitions(),this.element&&(this.element.innerHTML=""),t=this.childNodes,e=0;t.length>e;e++)t[e].destroy();this.childNodes=[]},removeSelf:function(){this.element&&(this.element.parentNode.removeChild(this.element),this.element=null),u.fn.removeSelf.call(this)},template:y("#= d.renderChildren() #"),render:function(){return this.template(this)},renderChildren:function(){var t,e=this.childNodes,n="";for(t=0;e.length>t;t++)n+=e[t].render();return n},optionsChange:function(t){var e=t.field,n=t.value;"visible"===e?this.css("display",n?"":k):s[e]&&o(e,n)?this.updateDefinition(e,n):"opacity"===e&&this.attr("opacity",n),u.fn.optionsChange.call(this,t)},attr:function(t,e){this.element&&this.element.setAttribute(t,e)},allAttr:function(t){for(var e=0;t.length>e;e++)this.attr(t[e][0],t[e][1])},css:function(t,e){this.element&&(this.element.style[t]=e)},allCss:function(t){for(var e=0;t.length>e;e++)this.css(t[e][0],t[e][1])},removeAttr:function(t){this.element&&this.element.removeAttribute(t)},mapTransform:function(t){var e=[];return t&&e.push([A,"matrix("+t.matrix().toString(6)+")"]),e},renderTransform:function(){return v(this.mapTransform(this.srcElement.transform()))},transformChange:function(t){t?this.allAttr(this.mapTransform(t)):this.removeAttr(A)},mapStyle:function(){var t=this.srcElement.options,e=[["cursor",t.cursor]];return t.visible===!1&&e.push(["display",k]),e},renderStyle:function(){return m("style",f.renderStyle(this.mapStyle()))},renderOpacity:function(){return m("opacity",this.srcElement.options.opacity)},createDefinitions:function(){var t,e,n,i,r=this.srcElement,a=this.definitions;if(r){n=r.options;for(e in s)t=n.get(e),t&&o(e,t)&&(a[e]=t,i=!0);i&&this.definitionChange({action:"add",definitions:a})}},definitionChange:function(t){this.parent&&this.parent.definitionChange(t)},updateDefinition:function(t,e){var n=this.definitions,r=n[t],o=s[t],a={};r&&(a[t]=r,this.definitionChange({action:"remove",definitions:a}),delete n[t]),e?(a[t]=e,this.definitionChange({action:"add",definitions:a}),n[t]=e,this.attr(o,i(e.id))):r&&this.removeAttr(o)},clearDefinitions:function(){var t,e=this.definitions;for(t in e){this.definitionChange({action:"remove",definitions:e}),this.definitions={};break}},renderDefinitions:function(){return v(this.mapDefinitions())},mapDefinitions:function(){var t,e=this.definitions,n=[];for(t in e)n.push([s[t],i(e[t].id)]);return n}}),I=E.extend({init:function(t){E.fn.init.call(this),this.options=t,this.defs=new L},attachTo:function(t){this.element=t,this.defs.attachTo(t.firstElementChild)},clear:function(){u.fn.clear.call(this)},template:y("#=d.defs.render()##= d.renderChildren() #"),definitionChange:function(t){this.defs.definitionChange(t)}}),L=E.extend({init:function(){E.fn.init.call(this),this.definitionMap={}},attachTo:function(t){this.element=t},template:y("<defs>#= d.renderChildren()#</defs>"),definitionChange:function(t){var e=t.definitions,n=t.action;"add"==n?this.addDefinitions(e):"remove"==n&&this.removeDefinitions(e)},createDefinition:function(t,e){var n;return"clip"==t?n=B:"fill"==t&&(e instanceof d.LinearGradient?n=j:e instanceof d.RadialGradient&&(n=G)),new n(e)},addDefinitions:function(t){for(var e in t)this.addDefinition(e,t[e])},addDefinition:function(t,e){var n,i=this.definitionMap,r=e.id,o=this.element,a=i[r];a?a.count++:(n=this.createDefinition(t,e),i[r]={element:n,count:1},this.append(n),o&&n.attachTo(this.element))},removeDefinitions:function(t){for(var e in t)this.removeDefinition(t[e])},removeDefinition:function(t){var e=this.definitionMap,n=t.id,i=e[n];i&&(i.count--,0===i.count&&(this.remove(_(i.element,this.childNodes),1),delete e[n]))}}),B=E.extend({init:function(t){E.fn.init.call(this),this.srcElement=t,this.id=t.id,this.load([t])},template:y("<clippath id='#=d.id#'>#= d.renderChildren()#</clippath>")}),z=E.extend({template:y("<g#= d.renderTransform() + d.renderStyle() + d.renderOpacity() + d.renderDefinitions()#>#= d.renderChildren() #</g>"),optionsChange:function(t){t.field==A&&this.transformChange(t.value),E.fn.optionsChange.call(this,t)}}),F=E.extend({geometryChange:function(){this.attr("d",this.renderData()),this.invalidate()},optionsChange:function(t){switch(t.field){case"fill":t.value?this.allAttr(this.mapFill(t.value)):this.removeAttr("fill");break;case"fill.color":this.allAttr(this.mapFill({color:t.value}));break;case"stroke":t.value?this.allAttr(this.mapStroke(t.value)):this.removeAttr("stroke");break;case A:this.transformChange(t.value);break;default:var e=this.attributeMap[t.field];e&&this.attr(e,t.value)}E.fn.optionsChange.call(this,t)},attributeMap:{"fill.opacity":"fill-opacity","stroke.color":"stroke","stroke.width":"stroke-width","stroke.opacity":"stroke-opacity"},content:function(){this.element&&(this.element.textContent=this.srcElement.content())},renderData:function(){return this.printPath(this.srcElement)},printPath:function(t){var e,n,i,r,o,a=t.segments,s=a.length;if(s>0){for(e=[],o=1;s>o;o++)i=this.segmentType(a[o-1],a[o]),i!==r&&(r=i,e.push(i)),e.push("L"===i?this.printPoints(a[o].anchor()):this.printPoints(a[o-1].controlOut(),a[o].controlIn(),a[o].anchor()));return n="M"+this.printPoints(a[0].anchor())+T+e.join(T),t.options.closed&&(n+="Z"),n}},printPoints:function(){var t,e=arguments,n=e.length,i=[];for(t=0;n>t;t++)i.push(e[t].toString(3));return i.join(T)},segmentType:function(t,e){return t.controlOut()&&e.controlIn()?"C":"L"},mapStroke:function(t){var e=[];return t&&!g(t.color)?(e.push(["stroke",t.color]),e.push(["stroke-width",t.width]),e.push(["stroke-linecap",this.renderLinecap(t)]),e.push(["stroke-linejoin",t.lineJoin]),p(t.opacity)&&e.push(["stroke-opacity",t.opacity]),p(t.dashType)&&e.push(["stroke-dasharray",this.renderDashType(t)])):e.push(["stroke",k]),e},renderStroke:function(){return v(this.mapStroke(this.srcElement.options.stroke))},renderDashType:function(t){var e,n,i,r=t.width||1,o=t.dashType;if(o&&o!=S){for(e=x[o.toLowerCase()],n=[],i=0;e.length>i;i++)n.push(e[i]*r);return n.join(" ")}},renderLinecap:function(t){var e=t.dashType,n=t.lineCap;return e&&e!=S?w:n},mapFill:function(t){var e=[];return t&&t.nodeType==b||(t&&!g(t.color)?(e.push(["fill",t.color]),p(t.opacity)&&e.push(["fill-opacity",t.opacity])):e.push(["fill",k])),e},renderFill:function(){return v(this.mapFill(this.srcElement.options.fill))},template:y("<path #= d.renderStyle() # #= d.renderOpacity() # #= kendo.util.renderAttr('d', d.renderData()) # #= d.renderStroke() # #= d.renderFill() # #= d.renderDefinitions() # #= d.renderTransform() #></path>")}),R=F.extend({renderData:function(){return this.printPath(this.srcElement.toPath())}}),O=F.extend({renderData:function(){var t,e,n=this.srcElement.paths;if(n.length>0){for(t=[],e=0;n.length>e;e++)t.push(this.printPath(n[e]));return t.join(" ")}}}),N=F.extend({geometryChange:function(){var t=this.center();this.attr("cx",t.x),this.attr("cy",t.y),this.attr("r",this.radius()),this.invalidate()},center:function(){return this.srcElement.geometry().center},radius:function(){return this.srcElement.geometry().radius},template:y("<circle #= d.renderStyle() # #= d.renderOpacity() # cx='#= d.center().x #' cy='#= d.center().y #' r='#= d.radius() #' #= d.renderStroke() # #= d.renderFill() # #= d.renderDefinitions() # #= d.renderTransform() # ></circle>")}),V=F.extend({geometryChange:function(){var t=this.pos();this.attr("x",t.x),this.attr("y",t.y),this.invalidate()},optionsChange:function(t){"font"===t.field?(this.attr("style",f.renderStyle(this.mapStyle())),this.geometryChange()):"content"===t.field&&F.fn.content.call(this,this.srcElement.content()),F.fn.optionsChange.call(this,t)},mapStyle:function(){var t=F.fn.mapStyle.call(this);return t.push(["font",this.srcElement.options.font]),t},pos:function(){var t=this.srcElement.position(),e=this.srcElement.measure();return t.clone().setY(t.y+e.baseline)},content:function(){var t=this.srcElement.content(),e=this.root().options;return e&&e.encodeText&&(t=a(t),t=c.htmlEncode(t)),t},template:y("<text #= d.renderStyle() # #= d.renderOpacity() # x='#= this.pos().x #' y='#= this.pos().y #' #= d.renderStroke() # #=  d.renderTransform() # #= d.renderDefinitions() # #= d.renderFill() #><tspan>#= d.content() #</tspan></text>")}),H=F.extend({geometryChange:function(){this.allAttr(this.mapPosition()),this.invalidate()},optionsChange:function(t){"src"===t.field&&this.allAttr(this.mapSource()),F.fn.optionsChange.call(this,t)},mapPosition:function(){var t=this.srcElement.rect(),e=t.topLeft();return[["x",e.x],["y",e.y],["width",t.width()+"px"],["height",t.height()+"px"]]},renderPosition:function(){return v(this.mapPosition())},mapSource:function(){return[["xlink:href",this.srcElement.src()]]},renderSource:function(){return v(this.mapSource())},template:y("<image preserveAspectRatio='none' #= d.renderStyle() # #= d.renderTransform()# #= d.renderOpacity() # #= d.renderPosition() # #= d.renderSource() # #= d.renderDefinitions()#></image>")}),U=E.extend({template:y("<stop #=d.renderOffset()# #=d.renderStyle()# />"),renderOffset:function(){return m("offset",this.srcElement.offset())},mapStyle:function(){var t=this.srcElement;return[["stop-color",t.color()],["stop-opacity",t.opacity()]]},optionsChange:function(t){"offset"==t.field?this.attr(t.field,t.value):("color"==t.field||"opacity"==t.field)&&this.css("stop-"+t.field,t.value)}}),W=E.extend({init:function(t){E.fn.init.call(this,t),this.id=t.id,this.loadStops()},loadStops:function(){var t,e,n=this.srcElement,i=n.stops,r=this.element;for(e=0;i.length>e;e++)t=new U(i[e]),this.append(t),r&&t.attachTo(r)},optionsChange:function(t){"gradient.stops"==t.field?(u.fn.clear.call(this),this.loadStops()):t.field==b&&this.allAttr(this.mapCoordinates())},renderCoordinates:function(){return v(this.mapCoordinates())},mapSpace:function(){return["gradientUnits",this.srcElement.userSpace()?"userSpaceOnUse":"objectBoundingBox"]}}),j=W.extend({template:y("<linearGradient id='#=d.id#' #=d.renderCoordinates()#>#= d.renderChildren()#</linearGradient>"),mapCoordinates:function(){var t=this.srcElement,e=t.start(),n=t.end(),i=[["x1",e.x],["y1",e.y],["x2",n.x],["y2",n.y],this.mapSpace()];return i}}),G=W.extend({template:y("<radialGradient id='#=d.id#' #=d.renderCoordinates()#>#= d.renderChildren()#</radialGradient>"),mapCoordinates:function(){var t=this.srcElement,e=t.center(),n=t.radius(),i=[["cx",e.x],["cy",e.y],["r",n],this.mapSpace()];return i}}),q=function(t,e){t.innerHTML=e};!function(){var t="<svg xmlns='"+D+"'></svg>",e=l.createElement("div"),n=typeof DOMParser!=P;e.innerHTML=t,n&&e.firstChild.namespaceURI!=D&&(q=function(t,e){var n=new DOMParser,i=n.parseFromString(e,"text/xml"),r=l.adoptNode(i.documentElement);t.innerHTML="",t.appendChild(r)})}(),a._element=document.createElement("span"),s={clip:"clip-path",fill:"fill"},c.support.svg=function(){return l.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}(),c.support.svg&&d.SurfaceFactory.current.register("svg",M,10),h(d,{exportSVG:r,svg:{ArcNode:R,CircleNode:N,ClipNode:B,DefinitionNode:L,GradientStopNode:U,GroupNode:z,ImageNode:H,LinearGradientNode:j,MultiPathNode:O,Node:E,PathNode:F,RadialGradientNode:G,RootNode:I,Surface:M,TextNode:V}})}(window.kendo.jQuery),function(t){function e(e,n){var i,r,o,a,s={width:"800px",height:"600px"},l=e.clippedBBox();return l&&(i=l.getSize(),s.width=i.width+"px",s.height=i.height+"px"),n=u(s,n),r=t("<div />").css({display:"none",width:n.width,height:n.height}).appendTo(document.body),o=new T(r,n),o.draw(e),a=o.image(),a.always(function(){o.destroy(),r.remove()}),a}function n(t,e){var n,i,r;for(r=0;e.length>r;r++)i=e[r],n=new w(i.color()),t.addColorStop(i.offset(),"rgba("+n.r+","+n.g+","+n.b+","+i.opacity()+")")}var i,r,o,a,s,l,c,h=document,d=window.kendo,u=d.deepExtend,f=d.util,p=f.defined,g=f.isTransparent,m=f.renderTemplate,v=f.valueOrDefault,y=d.drawing,_=y.BaseNode,w=d.Color,x=y.Path,b="butt",k=y.DASH_ARRAYS,C=1e3/60,S="solid",T=y.Surface.extend({init:function(e,n){y.Surface.fn.init.call(this,e,n),this.element[0].innerHTML=this._template(this);var r=this.element[0].firstElementChild;r.width=t(e).width(),r.height=t(e).height(),this._rootElement=r,this._root=new i(r)},destroy:function(){y.Surface.fn.destroy.call(this),this._root&&(this._root.destroy(),this._root=null)},type:"canvas",draw:function(t){this._root.load([t])},clear:function(){this._root.clear()},image:function(){var e,n=this._root,i=this._rootElement,r=[];return n.traverse(function(t){t.loading&&r.push(t.loading)}),e=t.Deferred(),t.when.apply(t,r).done(function(){n.invalidate();try{var t=i.toDataURL();e.resolve(t)}catch(r){e.reject(r)}}),e.promise()},_resize:function(){this._rootElement.width=this._size.width,this._rootElement.height=this._size.height,this._root.invalidate()},_template:m("<canvas style='width: 100%; height: 100%;'></canvas>")}),D=_.extend({init:function(t){_.fn.init.call(this,t),t&&this.initClip()},initClip:function(){var t=this.srcElement.clip();t&&(this.clip=t,t.addObserver(this))},clear:function(){this.srcElement&&this.srcElement.removeObserver(this),this.clearClip(),_.fn.clear.call(this)},clearClip:function(){this.clip&&(this.clip.removeObserver(this),delete this.clip)},setClip:function(t){this.clip&&(t.beginPath(),r.fn.renderPoints(t,this.clip),t.clip())},optionsChange:function(t){"clip"==t.field&&(this.clearClip(),this.initClip()),_.fn.optionsChange.call(this,t)},setTransform:function(t){if(this.srcElement){var e=this.srcElement.transform();e&&t.transform.apply(t,e.matrix().toArray(6))}},load:function(t,e){var n,i,h,d,u=this;for(d=0;t.length>d;d++)i=t[d],h=i.children,i instanceof x?n=new r(i):i instanceof y.MultiPath?n=new o(i):i instanceof y.Circle?n=new a(i):i instanceof y.Arc?n=new s(i):i instanceof y.Text?n=new l(i):i instanceof y.Image?n=new c(i):i instanceof y.Group&&(n=new A(i)),h&&h.length>0&&n.load(h),p(e)?u.insertAt(n,e):u.append(n);u.invalidate()},setOpacity:function(t){if(this.srcElement){var e=this.srcElement.opacity();p(e)&&this.globalAlpha(t,e)}},globalAlpha:function(t,e){e&&t.globalAlpha&&(e*=t.globalAlpha),t.globalAlpha=e}}),A=D.extend({renderTo:function(t){var e,n=this.childNodes;for(t.save(),this.setTransform(t),this.setClip(t),this.setOpacity(t),e=0;n.length>e;e++)n[e].renderTo(t);t.restore()}});y.mixins.Traversable.extend(A.fn,"childNodes"),i=A.extend({init:function(e){A.fn.init.call(this),this.canvas=e,this.ctx=e.getContext("2d"),this.invalidate=d.throttle(t.proxy(this.invalidate,this),C)},destroy:function(){A.fn.destroy.call(this),this.canvas=null,this.ctx=null},invalidate:function(){this.ctx&&(this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.renderTo(this.ctx))}}),y.mixins.Traversable.extend(i.fn,"childNodes"),r=D.extend({renderTo:function(t){t.save(),this.setTransform(t),this.setClip(t),this.setOpacity(t),t.beginPath(),this.renderPoints(t,this.srcElement),this.setLineDash(t),this.setLineCap(t),this.setLineJoin(t),this.setFill(t),this.setStroke(t),t.restore()},setFill:function(t){var e=this.srcElement.options.fill,n=!1;return e&&("gradient"==e.nodeType?(this.setGradientFill(t,e),n=!0):g(e.color)||(t.fillStyle=e.color,t.save(),this.globalAlpha(t,e.opacity),t.fill(),t.restore(),n=!0)),n},setGradientFill:function(t,e){var i,r,o,a,s=this.srcElement.rawBBox();e instanceof y.LinearGradient?(r=e.start(),o=e.end(),i=t.createLinearGradient(r.x,r.y,o.x,o.y)):e instanceof y.RadialGradient&&(a=e.center(),i=t.createRadialGradient(a.x,a.y,0,a.x,a.y,e.radius())),n(i,e.stops),t.save(),e.userSpace()||t.transform(s.width(),0,0,s.height(),s.origin.x,s.origin.y),t.fillStyle=i,t.fill(),t.restore()},setStroke:function(t){var e=this.srcElement.options.stroke;return e&&!g(e.color)?(t.strokeStyle=e.color,t.lineWidth=v(e.width,1),t.save(),this.globalAlpha(t,e.opacity),t.stroke(),t.restore(),!0):void 0},dashType:function(){var t=this.srcElement.options.stroke;return t&&t.dashType?t.dashType.toLowerCase():void 0},setLineDash:function(t){var e,n=this.dashType();n&&n!=S&&(e=k[n],t.setLineDash?t.setLineDash(e):(t.mozDash=e,t.webkitLineDash=e))},setLineCap:function(t){var e=this.dashType(),n=this.srcElement.options.stroke;e&&e!==S?t.lineCap=b:n&&n.lineCap&&(t.lineCap=n.lineCap)},setLineJoin:function(t){var e=this.srcElement.options.stroke;e&&e.lineJoin&&(t.lineJoin=e.lineJoin)},renderPoints:function(t,e){var n,i,r,o,a,s,l=e.segments;if(0!==l.length){for(n=l[0],i=n.anchor(),t.moveTo(i.x,i.y),r=1;l.length>r;r++)n=l[r],i=n.anchor(),o=l[r-1],a=o.controlOut(),s=n.controlIn(),a&&s?t.bezierCurveTo(a.x,a.y,s.x,s.y,i.x,i.y):t.lineTo(i.x,i.y);e.options.closed&&t.closePath()}}}),o=r.extend({renderPoints:function(t){var e,n=this.srcElement.paths;for(e=0;n.length>e;e++)r.fn.renderPoints(t,n[e])}}),a=r.extend({renderPoints:function(t){var e=this.srcElement.geometry(),n=e.center,i=e.radius;t.arc(n.x,n.y,i,0,2*Math.PI)}}),s=r.extend({renderPoints:function(t){var e=this.srcElement.toPath();r.fn.renderPoints.call(this,t,e)}}),l=r.extend({renderTo:function(t){var e=this.srcElement,n=e.position(),i=e.measure();t.save(),this.setTransform(t),this.setClip(t),this.setOpacity(t),t.beginPath(),t.font=e.options.font,this.setFill(t)&&t.fillText(e.content(),n.x,n.y+i.baseline),this.setStroke(t)&&(this.setLineDash(t),t.strokeText(e.content(),n.x,n.y+i.baseline)),t.restore()}}),c=r.extend({init:function(e){r.fn.init.call(this,e),this.onLoad=t.proxy(this.onLoad,this),this.img=new Image,this.img.onload=this.onLoad,this.img.src=e.src(),this.loading=t.Deferred()},renderTo:function(t){"resolved"===this.loading.state()&&(t.save(),this.setTransform(t),this.setClip(t),this.drawImage(t),t.restore())},optionsChange:function(e){"src"===e.field?(this.loading=t.Deferred(),this.img.src=this.srcElement.src()):r.fn.optionsChange.call(this,e)},onLoad:function(){this.loading.resolve(),this.invalidate()},drawImage:function(t){var e=this.srcElement.rect(),n=e.topLeft();t.drawImage(this.img,n.x,n.y,e.width(),e.height())}}),d.support.canvas=function(){return!!h.createElement("canvas").getContext}(),d.support.canvas&&y.SurfaceFactory.current.register("canvas",T,20),u(d.drawing,{exportImage:e,canvas:{ArcNode:s,CircleNode:a,GroupNode:A,ImageNode:c,MultiPathNode:o,Node:D,PathNode:r,RootNode:i,Surface:T,TextNode:l}})}(window.kendo.jQuery),function(t){function e(){if(d.namespaces&&!d.namespaces.kvml){d.namespaces.add("kvml","urn:schemas-microsoft-com:vml");var t=d.styleSheets.length>30?d.styleSheets[0]:d.createStyleSheet();t.addRule(".kvml","behavior:url(#default#VML)")}}function n(t){var e=d.createElement("kvml:"+t);return e.className="kvml",e}function i(t){var e,n=t.length,i=[];for(e=0;n>e;e++)i.push(t[e].scaleCopy(E).toString(0,","));return i.join(" ")}function r(t,e){var n,r,a,s,l,c=t.segments,h=c.length;if(h>0){for(n=[],l=1;h>l;l++)a=o(c[l-1],c[l]),a!==s&&(s=a,n.push(a)),n.push("l"===a?i([c[l].anchor()]):i([c[l-1].controlOut(),c[l].controlIn(),c[l].anchor()]));return r="m "+i([c[0].anchor()])+" "+n.join(" "),t.options.closed&&(r+=" x"),e!==!0&&(r+=" e"),r}}function o(t,e){return t.controlOut()&&e.controlIn()?"c":"l"}function a(t){return 0===t.indexOf("fill")||0===t.indexOf(L)}function s(t,e){var n;return n=t?l(t,e.color(),e.opacity()):l(e.color(),"#fff",1-e.opacity())}function l(t,e,n){var i=new b(t),r=new b(e),o=c(i.r,r.r,n),a=c(i.g,r.g,n),s=c(i.b,r.b,n);return new b(o,a,s).toHex()}function c(t,e,n){return u.round(n*e+(1-n)*t)}var h,d=document,u=Math,f=u.atan2,p=u.sqrt,g=window.kendo,m=g.deepExtend,v=t.noop,y=g.drawing,_=y.BaseNode,w=g.geometry,x=w.toMatrix,b=g.Color,k=g.util,C=k.isTransparent,S=k.defined,T=k.deg,D=k.round,A=k.valueOrDefault,P="none",M=".kendo",E=100,I=E*E,L="gradient",B=4,z=y.Surface.extend({init:function(t,n){y.Surface.fn.init.call(this,t,n),e(),this.element.empty(),this._root=new R,this._root.attachTo(this.element[0]),this.element.on("click"+M,this._click),this.element.on("mouseover"+M,this._mouseenter),this.element.on("mouseout"+M,this._mouseleave)},type:"vml",destroy:function(){this._root&&(this._root.destroy(),this._root=null,this.element.off(M)),y.Surface.fn.destroy.call(this)},draw:function(t){this._root.load([t],void 0,null)},clear:function(){this._root.clear()}}),F=_.extend({init:function(t){_.fn.init.call(this,t),this.createElement(),this.attachReference()},observe:v,destroy:function(){this.element&&(this.element._kendoNode=null,this.element=null),_.fn.destroy.call(this)},clear:function(){var t,e;for(this.element&&(this.element.innerHTML=""),t=this.childNodes,e=0;t.length>e;e++)t[e].destroy();this.childNodes=[]},removeSelf:function(){this.element&&(this.element.parentNode.removeChild(this.element),this.element=null),_.fn.removeSelf.call(this)},createElement:function(){this.element=d.createElement("div")},attachReference:function(){this.element._kendoNode=this},load:function(t,e,n,i){var r,o,a,s,l,c;for(i=A(i,1),this.srcElement&&(i*=A(this.srcElement.options.opacity,1)),r=0;t.length>r;r++)o=t[r],a=o.children,s=o.currentTransform(n),l=i*A(o.options.opacity,1),o instanceof y.Group?c=new V(o):o instanceof y.Text?c=new ee(o,s,l):o instanceof y.Path?c=new q(o,s,l):o instanceof y.MultiPath?c=new Y(o,s,l):o instanceof y.Circle?c=new Q(o,s,l):o instanceof y.Arc?c=new Z(o,s,l):o instanceof y.Image&&(c=new re(o,s,l)),a&&a.length>0&&c.load(a,e,s,i),S(e)?this.insertAt(c,e):this.append(c),c.attachTo(this.element,e)},attachTo:function(t,e){S(e)?t.insertBefore(this.element,t.children[e]||null):t.appendChild(this.element)},optionsChange:function(t){"visible"==t.field&&this.css("display",t.value!==!1?"":P)},setStyle:function(){this.allCss(this.mapStyle())},mapStyle:function(){var t=[];return this.srcElement&&this.srcElement.options.visible===!1&&t.push(["display",P]),t},mapOpacityTo:function(t,e){var n=A(this.opacity,1);n*=A(e,1),t.push(["opacity",n])},attr:function(t,e){this.element&&(this.element[t]=e)},allAttr:function(t){for(var e=0;t.length>e;e++)this.attr(t[e][0],t[e][1])},css:function(t,e){this.element&&(this.element.style[t]=e)},allCss:function(t){for(var e=0;t.length>e;e++)this.css(t[e][0],t[e][1])}}),R=F.extend({createElement:function(){F.fn.createElement.call(this),this.allCss([["width","100%"],["height","100%"],["position","relative"],["visibility","visible"]])},attachReference:v}),O=g.Class.extend({init:function(t,e){this.srcElement=t,this.observer=e,t.addObserver(this)},geometryChange:function(){this.observer.optionsChange({field:"clip",value:this.srcElement})},clear:function(){this.srcElement.removeObserver(this)}}),N=F.extend({init:function(t){F.fn.init.call(this,t),t&&this.initClip()},observe:function(){_.fn.observe.call(this)},mapStyle:function(){var t=F.fn.mapStyle.call(this);return this.srcElement&&this.srcElement.clip()&&t.push(["clip",this.clipRect()]),t},optionsChange:function(t){"clip"==t.field&&(this.clearClip(),this.initClip(),this.setClip()),F.fn.optionsChange.call(this,t)},clear:function(){this.clearClip(),F.fn.clear.call(this)},initClip:function(){this.srcElement.clip()&&(this.clip=new O(this.srcElement.clip(),this),this.clip.observer=this)},clearClip:function(){this.clip&&(this.clip.clear(),this.clip=null,this.css("clip",this.clipRect()))},setClip:function(){this.clip&&this.css("clip",this.clipRect())},clipRect:function(){var t,e,n,i=h,r=this.srcElement.clip();return r&&(t=this.clipBBox(r),e=t.topLeft(),n=t.bottomRight(),i=g.format("rect({0}px {1}px {2}px {3}px)",e.y,n.x,n.y,e.x)),i},clipBBox:function(t){var e=this.srcElement.rawBBox().topLeft(),n=t.rawBBox();return n.origin.translate(-e.x,-e.y),n}}),V=N.extend({createElement:function(){F.fn.createElement.call(this),this.setStyle()},attachTo:function(t,e){this.css("display",P),F.fn.attachTo.call(this,t,e),this.srcElement.options.visible!==!1&&this.css("display","")},_attachTo:function(t){var e=document.createDocumentFragment();e.appendChild(this.element),t.appendChild(e)},mapStyle:function(){var t=N.fn.mapStyle.call(this);return t.push(["position","absolute"]),t.push(["white-space","nowrap"]),t},optionsChange:function(t){"transform"===t.field&&this.refreshTransform(),"opacity"===t.field&&this.refreshOpacity(),N.fn.optionsChange.call(this,t)},refreshTransform:function(t){var e,n=this.srcElement.currentTransform(t),i=this.childNodes,r=i.length;for(this.setClip(),e=0;r>e;e++)i[e].refreshTransform(n)},currentOpacity:function(){var t=A(this.srcElement.options.opacity,1);return this.parent&&this.parent.currentOpacity&&(t*=this.parent.currentOpacity()),t},refreshOpacity:function(){var t,e=this.childNodes,n=e.length,i=this.currentOpacity();for(t=0;n>t;t++)e[t].refreshOpacity(i)},initClip:function(){if(N.fn.initClip.call(this),this.clip){var t=this.clip.srcElement.bbox(this.srcElement.currentTransform());t&&(this.css("width",t.width()+t.origin.x),this.css("height",t.height()+t.origin.y))}},clipBBox:function(t){return t.bbox(this.srcElement.currentTransform())},clearClip:function(){N.fn.clearClip.call(this)}}),H=F.extend({init:function(t,e){this.opacity=e,F.fn.init.call(this,t)},createElement:function(){this.element=n("stroke"),this.setOpacity()},optionsChange:function(t){0===t.field.indexOf("stroke")&&this.setStroke()},refreshOpacity:function(t){this.opacity=t,this.setStroke()},setStroke:function(){this.allAttr(this.mapStroke())},setOpacity:function(){this.setStroke()},mapStroke:function(){var t,e=this.srcElement.options.stroke,n=[];return e&&!C(e.color)&&0!==e.width?(n.push(["on","true"]),n.push(["color",e.color]),n.push(["weight",(e.width||1)+"px"]),this.mapOpacityTo(n,e.opacity),S(e.dashType)&&n.push(["dashstyle",e.dashType]),S(e.lineJoin)&&n.push(["joinstyle",e.lineJoin]),S(e.lineCap)&&(t=e.lineCap.toLowerCase(),"butt"===t&&(t="butt"===t?"flat":t),n.push(["endcap",t]))):n.push(["on","false"]),n}}),U=F.extend({init:function(t,e,n){this.opacity=n,F.fn.init.call(this,t)},createElement:function(){this.element=n("fill"),this.setFill()},optionsChange:function(t){a(t.field)&&this.setFill()},refreshOpacity:function(t){this.opacity=t,this.setOpacity()},setFill:function(){this.allAttr(this.mapFill())},setOpacity:function(){this.setFill()},attr:function(t,e){var n,i=this.element;if(i){for(n=t.split(".");n.length>1;)i=i[n.shift()];i[n[0]]=e}},mapFill:function(){var t=this.srcElement.fill(),e=[["on","false"]];return t&&(t.nodeType==L?e=this.mapGradient(t):C(t.color)||(e=this.mapFillColor(t))),e},mapFillColor:function(t){var e=[["on","true"],["color",t.color]];return this.mapOpacityTo(e,t.opacity),e},mapGradient:function(t){var e,n=this.srcElement.options,i=n.fallbackFill||t.fallbackFill&&t.fallbackFill();return e=t instanceof y.LinearGradient?this.mapLinearGradient(t):t instanceof y.RadialGradient&&t.supportVML?this.mapRadialGradient(t):i?this.mapFillColor(i):[["on","false"]]},mapLinearGradient:function(t){var e=t.start(),n=t.end(),i=k.deg(f(n.y-e.y,n.x-e.x)),r=[["on","true"],["type",L],["focus",0],["method","none"],["angle",270-i]];return this.addColors(r),r},mapRadialGradient:function(t){var e=this.srcElement.rawBBox(),n=t.center(),i=(n.x-e.origin.x)/e.width(),r=(n.y-e.origin.y)/e.height(),o=[["on","true"],["type","gradienttitle"],["focus","100%"],["focusposition",i+" "+r],["method","none"]];return this.addColors(o),o},addColors:function(t){var e,n,i=this.srcElement.options,r=[],o=i.fill.stops,a=i.baseColor,l=this.element.colors?"colors.value":"colors",c=s(a,o[0]),h=s(a,o[o.length-1]);for(n=0;o.length>n;n++)e=o[n],r.push(u.round(100*e.offset())+"% "+s(a,e));t.push([l,r.join(",")],["color",c],["color2",h])}}),W=F.extend({init:function(t,e){this.transform=e,F.fn.init.call(this,t)},createElement:function(){this.element=n("skew"),this.setTransform()},optionsChange:function(t){"transform"===t.field&&this.refresh(this.srcElement.currentTransform())},refresh:function(t){this.transform=t,this.setTransform()},transformOrigin:function(){return"-0.5,-0.5"},setTransform:function(){this.allAttr(this.mapTransform())},mapTransform:function(){var t=this.transform,e=[],n=x(t);return n?(n.round(B),e.push(["on","true"],["matrix",[n.a,n.c,n.b,n.d,0,0].join(",")],["offset",n.e+"px,"+n.f+"px"],["origin",this.transformOrigin()])):e.push(["on","false"]),e}}),j=N.extend({init:function(t,e,n){this.fill=this.createFillNode(t,e,n),this.stroke=new H(t,n),this.transform=this.createTransformNode(t,e),N.fn.init.call(this,t)},attachTo:function(t,e){this.fill.attachTo(this.element),this.stroke.attachTo(this.element),this.transform.attachTo(this.element),F.fn.attachTo.call(this,t,e)
},createFillNode:function(t,e,n){return new U(t,e,n)},createTransformNode:function(t,e){return new W(t,e)},createElement:function(){this.element=n("shape"),this.setCoordsize(),this.setStyle()},optionsChange:function(t){a(t.field)?this.fill.optionsChange(t):0===t.field.indexOf("stroke")?this.stroke.optionsChange(t):"transform"===t.field?this.transform.optionsChange(t):"opacity"===t.field&&(this.fill.setOpacity(),this.stroke.setOpacity()),N.fn.optionsChange.call(this,t)},refreshTransform:function(t){this.transform.refresh(this.srcElement.currentTransform(t))},refreshOpacity:function(t){t*=A(this.srcElement.options.opacity,1),this.fill.refreshOpacity(t),this.stroke.refreshOpacity(t)},mapStyle:function(t,e){var n,i=N.fn.mapStyle.call(this);return t&&e||(t=e=E),i.push(["position","absolute"],["width",t+"px"],["height",e+"px"]),n=this.srcElement.options.cursor,n&&i.push(["cursor",n]),i},setCoordsize:function(){this.allAttr([["coordorigin","0 0"],["coordsize",I+" "+I]])}}),G=F.extend({createElement:function(){this.element=n("path"),this.setPathData()},geometryChange:function(){this.setPathData()},setPathData:function(){this.attr("v",this.renderData())},renderData:function(){return r(this.srcElement)}}),q=j.extend({init:function(t,e,n){this.pathData=this.createDataNode(t),j.fn.init.call(this,t,e,n)},attachTo:function(t,e){this.pathData.attachTo(this.element),j.fn.attachTo.call(this,t,e)},createDataNode:function(t){return new G(t)},geometryChange:function(){this.pathData.geometryChange(),j.fn.geometryChange.call(this)}}),$=G.extend({renderData:function(){var t,e,n,i=this.srcElement.paths;if(i.length>0){for(t=[],e=0;i.length>e;e++)n=i.length-1>e,t.push(r(i[e],n));return t.join(" ")}}}),Y=q.extend({createDataNode:function(t){return new $(t)}}),X=W.extend({transformOrigin:function(){var t=this.srcElement.geometry().bbox(),e=t.center(),n=-e.x/t.width(),i=-e.y/t.height();return n+","+i}}),Q=j.extend({createElement:function(){this.element=n("oval"),this.setStyle()},createTransformNode:function(t,e){return new X(t,e)},geometryChange:function(){j.fn.geometryChange.call(this),this.setStyle(),this.refreshTransform()},mapStyle:function(){var t=this.srcElement.geometry(),e=t.radius,n=t.center,i=2*e,r=j.fn.mapStyle.call(this,i,i);return r.push(["left",n.x-e+"px"],["top",n.y-e+"px"]),r}}),K=G.extend({renderData:function(){return r(this.srcElement.toPath())}}),Z=q.extend({createDataNode:function(t){return new K(t)}}),J=G.extend({createElement:function(){G.fn.createElement.call(this),this.attr("textpathok",!0)},renderData:function(){var t=this.srcElement.rect(),e=t.center();return"m "+i([new w.Point(t.topLeft().x,e.y)])+" l "+i([new w.Point(t.bottomRight().x,e.y)])}}),te=F.extend({createElement:function(){this.element=n("textpath"),this.attr("on",!0),this.attr("fitpath",!1),this.setStyle(),this.setString()},optionsChange:function(t){"content"===t.field?this.setString():this.setStyle(),F.fn.optionsChange.call(this,t)},mapStyle:function(){return[["font",this.srcElement.options.font]]},setString:function(){this.attr("string",this.srcElement.content())}}),ee=q.extend({init:function(t,e,n){this.path=new te(t),q.fn.init.call(this,t,e,n)},createDataNode:function(t){return new J(t)},attachTo:function(t,e){this.path.attachTo(this.element),q.fn.attachTo.call(this,t,e)},optionsChange:function(t){("font"===t.field||"content"===t.field)&&(this.path.optionsChange(t),this.pathData.geometryChange(t)),q.fn.optionsChange.call(this,t)}}),ne=G.extend({renderData:function(){var t=this.srcElement.rect(),e=(new y.Path).moveTo(t.topLeft()).lineTo(t.topRight()).lineTo(t.bottomRight()).lineTo(t.bottomLeft()).close();return r(e)}}),ie=W.extend({init:function(t,e,n){this.opacity=n,W.fn.init.call(this,t,e)},createElement:function(){this.element=n("fill"),this.attr("type","frame"),this.attr("rotate",!0),this.setOpacity(),this.setSrc(),this.setTransform()},optionsChange:function(t){"src"===t.field&&this.setSrc(),W.fn.optionsChange.call(this,t)},geometryChange:function(){this.refresh()},refreshOpacity:function(t){this.opacity=t,this.setOpacity()},setOpacity:function(){var t=[];this.mapOpacityTo(t,this.srcElement.options.opacity),this.allAttr(t)},setSrc:function(){this.attr("src",this.srcElement.src())},mapTransform:function(){var t,e,n,i,r,o,a,s,l=this.srcElement,c=l.rawBBox(),h=c.center(),d=E/2,u=E,g=c.width()/u,m=c.height()/u,v=0,y=this.transform;return y?(n=x(y),i=p(n.a*n.a+n.b*n.b),r=p(n.c*n.c+n.d*n.d),g*=i,m*=r,o=T(f(n.b,n.d)),a=T(f(-n.c,n.a)),v=(o+a)/2,0!==v?(s=l.bbox().center(),t=(s.x-d)/u,e=(s.y-d)/u):(t=(h.x*i+n.e-d)/u,e=(h.y*r+n.f-d)/u)):(t=(h.x-d)/u,e=(h.y-d)/u),g=D(g,B),m=D(m,B),t=D(t,B),e=D(e,B),v=D(v,B),[["size",g+","+m],["position",t+","+e],["angle",v]]}}),re=q.extend({createFillNode:function(t,e,n){return new ie(t,e,n)},createDataNode:function(t){return new ne(t)},optionsChange:function(t){("src"===t.field||"transform"===t.field)&&this.fill.optionsChange(t),q.fn.optionsChange.call(this,t)},geometryChange:function(){this.fill.geometryChange(),q.fn.geometryChange.call(this)},refreshTransform:function(t){q.fn.refreshTransform.call(this,t),this.fill.refresh(this.srcElement.currentTransform(t))}});g.support.vml=function(){var t=g.support.browser;return t.msie&&9>t.version}(),h="inherit",g.support.browser.msie&&8>g.support.browser.version&&(h="rect(auto auto auto auto)"),g.support.vml&&y.SurfaceFactory.current.register("vml",z,30),m(y,{vml:{ArcDataNode:K,ArcNode:Z,CircleTransformNode:X,CircleNode:Q,FillNode:U,GroupNode:V,ImageNode:re,ImageFillNode:ie,ImagePathDataNode:ne,MultiPathDataNode:$,MultiPathNode:Y,Node:F,PathDataNode:G,PathNode:q,RootNode:R,StrokeNode:H,Surface:z,TextNode:ee,TextPathNode:te,TextPathDataNode:J,TransformNode:W}})}(window.kendo.jQuery),function(t,e,n){"use strict";function i(){function t(){var i,o;for(i=0;arguments.length>i;++i){if(o=arguments[i],o===n)throw Error("Cannot output undefined to PDF");if(o instanceof w)o.beforeRender(t),o.render(t);else if(P(o))p(o,t);else if(f(o))g(o,t);else if("number"==typeof o){if(isNaN(o))throw Error("Cannot output NaN to PDF");r.writeString(e(o.toFixed(7))+"")}else"string"==typeof o?r.writeString(o):"function"==typeof o.get&&r.write(o.get())}}var i=0,r=C();return t.writeData=function(t){r.write(t)},t.withIndent=function(e){++i,e(t),--i},t.indent=function(){t(j,h("",2*i,"  ")),t.apply(null,arguments)},t.offset=function(){return r.offset()},t.toString=function(){throw Error("FIX CALLER")},t.get=function(){return r.get()},t.stream=function(){return r},t}function r(t,e){var n=t.beforeRender,i=t.render;t.beforeRender=function(){},t.render=function(t){t(e," 0 R")},t.renderFull=function(r){t._offset=r.offset(),r(e," 0 obj "),n.call(t,r),i.call(t,r),r(" endobj")}}function o(t){function e(e,n){return t&&null!=t[e]?t[e]:n}var n,o,a,s,l,c,h=this,u=i(),f=0,p=[];if(h.getOption=e,h.attach=function(t){return p.indexOf(t)<0&&(r(t,++f),p.push(t)),t},h.FONTS={},h.IMAGES={},n=e("paperSize",$.a4),"string"==typeof n&&(n=$[n.toLowerCase()],null==n))throw Error("Unknown paper size");n[0]=_(n[0]),n[1]=_(n[1]),e("landscape",!1)&&(n=[Math.max(n[0],n[1]),Math.min(n[0],n[1])]),o=e("margin"),o&&(o.left=_(o.left,0),o.top=_(o.top,0),o.right=_(o.right,0),o.bottom=_(o.bottom,0),e("addMargin")&&(n[0]+=o.left+o.right,n[1]+=o.top+o.bottom)),a=n[0],s=n[1],o&&(a-=o.left+o.right,s-=o.top+o.bottom),l=h.attach(new z),c=h.attach(new F([0,0,n[0],n[1]])),l.setPages(c),h.addPage=function(){var t=new B(i(),null,!0),e=new V(h,{Contents:h.attach(t),Parent:c});return e._content=t,c.addPage(h.attach(e)),e.transform(1,0,0,-1,0,n[1]),o&&(e.transform(1,0,0,1,o.left,o.top),e.rect(0,0,a,s),e.clip()),e},h.render=function(){var t,n;for(u("%PDF-1.4",j,"%",j,j),t=0;p.length>t;++t)p[t].renderFull(u),u(j,j);for(n=u.offset(),u("xref",j,0," ",p.length,j),u("0000000000 65535 f ",j),t=0;p.length>t;++t)u(d(p[t]._offset,10)," 00000 n ",j);return u(j),u("trailer",j),u(new L({Size:p.length,Root:l,Info:new L({Producer:new M("Kendo UI PDF Generator"),Title:new M(e("title","")),Author:new M(e("author","")),Subject:new M(e("subject","")),Keywords:new M(e("keywords","")),Creator:new M(e("creator","Kendo UI PDF Generator")),CreationDate:e("date",new Date)})}),j,j),u("startxref",j,n,j),u("%%EOF",j),u.stream().offset(0)}}function a(e,n){function i(){t.console&&(console.error?console.error("Cannot load URL: %s",e):console.log("Cannot load URL: %s",e)),n(null)}var r=new XMLHttpRequest;r.open("GET",e,!0),W&&(r.responseType="arraybuffer"),r.onload=function(){200==r.status||304==r.status?n(W?new Uint8Array(r.response):new VBArray(r.responseBody).toArray()):i()},r.onerror=i,r.send(null)}function s(t,e){var n=Y[t];n?e(n):a(t,function(n){if(null==n)throw Error("Cannot load font from "+t);var i=new U.pdf.TTFFont(n);Y[t]=i,e(i)})}function l(t,e){var i=X[t];i?e(i):(i=new Image,i.onload=function(){var n,r,o,a,s,l,c,h,d,u,f=document.createElement("canvas");f.width=i.width,f.height=i.height,n=f.getContext("2d"),n.drawImage(i,0,0);try{r=n.getImageData(0,0,i.width,i.height)}catch(p){return e(X[t]="TAINTED")}for(o=!1,a=C(),s=C(),l=r.data,c=0;l.length>c;)a.writeByte(l[c++]),a.writeByte(l[c++]),a.writeByte(l[c++]),h=l[c++],255>h&&(o=!0),s.writeByte(h);o?i=new k(i.width,i.height,a,s):(d=f.toDataURL("image/jpeg"),d=d.substr(d.indexOf(";base64,")+8),u=C(),u.writeBase64(d),u.offset(0),i=new b(i.width,i.height,u)),e(X[t]=i)},i.onerror=function(){e(X[t]="TAINTED")},i.crossOrigin="Anonymous",i.src=t,(i.complete||i.complete===n)&&(i.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",i.src=t))}function c(t){return function(e,n){var i=e.length,r=i;if(0===i)return n();for(;r-->0;)t(e[r],function(){0===--i&&n()})}}function h(t,e,n){for(;e>t.length;)t=n+t;return t}function d(t,e){return h(t+"",e,"0")}function u(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function f(t){return t instanceof Date}function p(t,e){e("["),t.length>0&&(e.withIndent(function(){for(var n=0;t.length>n;++n)e.indent(t[n])}),e.indent()),e("]")}function g(t,e){e("(D:",d(t.getUTCFullYear(),4),d(t.getUTCMonth()+1,2),d(t.getUTCDate(),2),d(t.getUTCHours(),2),d(t.getUTCMinutes(),2),d(t.getUTCSeconds(),2),"Z)")}function m(t){return t*(72/25.4)}function v(t){return m(10*t)}function y(t){return 72*t}function _(t,n){var i,r;if("number"==typeof t)return t;if("string"==typeof t&&(i=/^\s*([0-9.]+)\s*(mm|cm|in|pt)\s*$/.exec(t),i&&(r=e(i[1]),!isNaN(r))))return"pt"==i[2]?r:{mm:m,cm:v,"in":y}[i[2]](r);if(null!=n)return n;throw Error("Can't parse unit: "+t)}function w(){}function x(t,e,n){n||(n=w),t.prototype=new n;for(var i in e)u(e,i)&&(t.prototype[i]=e[i]);return t}function b(t,e,n){this.asStream=function(){var i=new B(n,{Type:I.get("XObject"),Subtype:I.get("Image"),Width:t,Height:e,BitsPerComponent:8,ColorSpace:I.get("DeviceRGB"),Filter:I.get("DCTDecode")});return i._resourceName=I.get("I"+ ++G),i}}function k(t,e,n,i){this.asStream=function(r){var o=new B(i,{Type:I.get("XObject"),Subtype:I.get("Image"),Width:t,Height:e,BitsPerComponent:8,ColorSpace:I.get("DeviceGray")},!0),a=new B(n,{Type:I.get("XObject"),Subtype:I.get("Image"),Width:t,Height:e,BitsPerComponent:8,ColorSpace:I.get("DeviceRGB"),SMask:r.attach(o)},!0);return a._resourceName=I.get("I"+ ++G),a}}function C(t){function e(){return S>=T}function n(){return T>S?t[S++]:0}function i(e){w(S),t[S++]=255&e,S>T&&(T=S)}function r(){return n()<<8|n()}function o(t){i(t>>8),i(t)}function a(){var t=r();return t>=32768?t-65536:t}function s(t){o(0>t?t+65536:t)}function l(){return 65536*r()+r()}function c(t){o(t>>>16&65535),o(65535&t)}function h(){var t=l();return t>=2147483648?t-4294967296:t}function d(t){c(0>t?t+4294967296:t)}function u(){return l()/65536}function f(t){c(Math.round(65536*t))}function p(){return h()/65536}function g(t){d(Math.round(65536*t))}function m(t){return _(t,n)}function v(t){return String.fromCharCode.apply(String,m(t))}function y(t){for(var e=0;t.length>e;++e)i(t.charCodeAt(e))}function _(t,e){for(var n=Array(t),i=0;t>i;++i)n[i]=e();return n}var w,x,b,k,C,S=0,T=0;return null==t?t=W?new Uint8Array(256):[]:T=t.length,w=W?function(e){if(e>=t.length){var n=new Uint8Array(Math.max(e+256,2*t.length));n.set(t,0),t=n}}:function(){},x=W?function(){return new Uint8Array(t.buffer,0,T)}:function(){return t},b=W?function(e){if("string"==typeof e)return y(e);var n=e.length;w(S+n),t.set(e,S),S+=n,S>T&&(T=S)}:function(t){if("string"==typeof t)return y(t);for(var e=0;t.length>e;++e)i(t[e])},k=W?function(e,n){if(t.buffer.slice)return new Uint8Array(t.buffer.slice(e,e+n));var i=new Uint8Array(n);return i.set(new Uint8Array(t.buffer,e,n)),i}:function(e,n){return t.slice(e,e+n)},C={eof:e,readByte:n,writeByte:i,readShort:r,writeShort:o,readLong:l,writeLong:c,readFixed:u,writeFixed:f,readShort_:a,writeShort_:s,readLong_:h,writeLong_:d,readFixed_:p,writeFixed_:g,read:m,write:b,readString:v,writeString:y,times:_,get:x,slice:k,offset:function(t){return null!=t?(S=t,C):S},skip:function(t){S+=t},toString:function(){throw Error("FIX CALLER.  BinaryStream is no longer convertible to string!")},length:function(){return T},saveExcursion:function(t){var e=S;try{return t()}finally{S=e}},writeBase64:function(t){window.atob?y(window.atob(t)):b(q.decode(t))},base64:function(){return q.encode(x())}}}function S(t){return t.replace(/^\s*(['"])(.*)\1\s*$/,"$2")}function T(t){var e,n=/^\s*((normal|italic)\s+)?((normal|small-caps)\s+)?((normal|bold|\d+)\s+)?(([0-9.]+)(px|pt))(\/(([0-9.]+)(px|pt)|normal))?\s+(.*?)\s*$/i,i=n.exec(t);return i?(e=i[8]?parseInt(i[8],10):12,{italic:i[2]&&"italic"==i[2].toLowerCase(),variant:i[4],bold:i[6]&&/bold|700/i.test(i[6]),fontSize:e,lineHeight:i[12]?"normal"==i[12]?e:parseInt(i[12],10):null,fontFamily:i[14].split(/\s*,\s*/g).map(S)}):{fontSize:12,fontFamily:"sans-serif"}}function D(t){function e(e){return t.bold&&(e+="|bold"),t.italic&&(e+="|italic"),e.toLowerCase()}var n,i,r,o=t.fontFamily;if(o instanceof Array){for(r=0;o.length>r;++r)if(n=e(o[r]),i=H[n])return i}else i=H[o.toLowerCase()];return i||(i="Times-Roman"),i}function A(t,e){if(1==arguments.length)for(var n in t)A(n,t[n]);else t=t.toLowerCase(),H[t]=e}var P,M,E,I,L,B,z,F,R,O,N,V,H,U=t.kendo,W=!!t.Uint8Array,j="\n",G=0,q=function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return{decode:function(e){for(var n,i,r,o,a,s,l,c=e.replace(/[^A-Za-z0-9\+\/\=]/g,""),h=0,d=c.length,u=[];d>h;)n=t.indexOf(c.charAt(h++)),i=t.indexOf(c.charAt(h++)),r=t.indexOf(c.charAt(h++)),o=t.indexOf(c.charAt(h++)),a=n<<2|i>>>4,s=(15&i)<<4|r>>>2,l=(3&r)<<6|o,u.push(a),64!=r&&u.push(s),64!=o&&u.push(l);return u},encode:function(e){for(var n,i,r,o,a,s,l,c=0,h=e.length,d="";h>c;)n=e[c++],i=e[c++],r=e[c++],o=n>>>2,a=(3&n)<<4|i>>>4,s=(15&i)<<2|r>>>6,l=63&r,c-h==2?s=l=64:c-h==1&&(l=64),d+=t.charAt(o)+t.charAt(a)+t.charAt(s)+t.charAt(l);return d}}}(),$={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],executive:[521.86,756],folio:[612,936],legal:[612,1008],letter:[612,792],tabloid:[792,1224]},Y={"Times-Roman":!0,"Times-Bold":!0,"Times-Italic":!0,"Times-BoldItalic":!0,Helvetica:!0,"Helvetica-Bold":!0,"Helvetica-Oblique":!0,"Helvetica-BoldOblique":!0,Courier:!0,"Courier-Bold":!0,"Courier-Oblique":!0,"Courier-BoldOblique":!0,Symbol:!0,ZapfDingbats:!0},X={},Q=c(s),K=c(l);o.prototype={loadFonts:Q,loadImages:K,getFont:function(t){var e=this.FONTS[t];if(!e){if(e=Y[t],!e)throw Error("Font "+t+" has not been loaded");e=this.attach(e===!0?new R(t):new O(this,e)),this.FONTS[t]=e}return e},getImage:function(t){var e=this.IMAGES[t];if(!e){if(e=X[t],!e)throw Error("Image "+t+" has not been loaded");if("TAINTED"===e)return null;e=this.IMAGES[t]=this.attach(e.asStream(this))}return e},getOpacityGS:function(t,n){var i,r,o,a=e(t).toFixed(3);return t=e(a),a+=n?"S":"F",i=this._opacityGSCache||(this._opacityGSCache={}),r=i[a],r||(o={Type:I.get("ExtGState")},n?o.CA=t:o.ca=t,r=this.attach(new L(o)),r._resourceName=I.get("GS"+ ++G),i[a]=r),r}},P=Array.isArray||function(t){return t instanceof Array},w.prototype.beforeRender=function(){},M=x(function(t){this.value=t},{render:function(t){var e,n="",i=this.escape();for(e=0;i.length>e;++e)n+=String.fromCharCode(255&i.charCodeAt(e));t("(",n,")")},escape:function(){return this.value.replace(/([\(\)\\])/g,"\\$1")},toString:function(){return this.value}}),E=x(function(t){this.value=t},{render:function(t){t("<");for(var e=0;this.value.length>e;++e)t(d(this.value.charCodeAt(e).toString(16),4));t(">")}},M),I=x(function(t){this.name=t},{render:function(t){t("/"+this.escape())},escape:function(){return this.name.replace(/[^\x21-\x7E]/g,function(t){return"#"+d(t.charCodeAt(0).toString(16),2)})},toString:function(){return this.name}}),I.cache={},I.get=function(t){return u(I.cache,t)?I.cache[t]:I.cache[t]=new I(t)},L=x(function(t){this.props=t},{render:function(t){var e=this.props,n=!0;t("<<"),t.withIndent(function(){for(var i in e)u(e,i)&&!/^_/.test(i)&&(n=!1,t.indent(I.get(i)," ",e[i]))}),n||t.indent(),t(">>")}}),B=x(function(t,e,n){this.data=t,this.props=e||{},this.compress=n},{render:function(e){var n=this.data.get(),i=this.props;this.compress&&t.pako&&(i.Filter?i.Filter instanceof Array||(i.Filter=[i.Filter]):i.Filter=[],i.Filter.unshift(I.get("FlateDecode")),n=t.pako.deflate(n)),i.Length=n.length,e(new L(i)," stream",j),e.writeData(n),e(j,"endstream")}}),z=x(function(t){t=this.props=t||{},t.Type=I.get("Catalog")},{setPages:function(t){this.props.Pages=t}},L),F=x(function(t){this.props={Type:I.get("Pages"),Kids:[],Count:0,MediaBox:t}},{addPage:function(t){this.props.Kids.push(t),this.props.Count++}},L),R=x(function(t){this.props={Type:I.get("Font"),Subtype:I.get("Type1"),BaseFont:I.get(t)},this._resourceName=I.get("F"+ ++G)},{encodeText:function(t){return new M(t+"")}},L),O=x(function(t,e,n){var i,r;n=this.props=n||{},n.Type=I.get("Font"),n.Subtype=I.get("Type0"),n.Encoding=I.get("Identity-H"),this._pdf=t,this._font=e,this._sub=e.makeSubset(),this._resourceName=I.get("F"+ ++G),i=e.head,this.name=e.psName,r=this.scale=e.scale,this.bbox=[i.xMin*r,i.yMin*r,i.xMax*r,i.yMax*r],this.italicAngle=e.post.italicAngle,this.ascent=e.ascent*r,this.descent=e.descent*r,this.lineGap=e.lineGap*r,this.capHeight=e.os2.capHeight||this.ascent,this.xHeight=e.os2.xHeight||0,this.stemV=0,this.familyClass=(e.os2.familyClass||0)>>8,this.isSerif=this.familyClass>=1&&7>=this.familyClass,this.isScript=10==this.familyClass,this.flags=(e.post.isFixedPitch?1:0)|(this.isSerif?2:0)|(this.isScript?8:0)|(0!==this.italicAngle?64:0)|32},{encodeText:function(t){return new E(this._sub.encodeText(t+""))},beforeRender:function(){var t,e,n,r,o=this,a=o._sub,s=a.render(),l=new B(C(s),{Length1:s.length},!0),c=o._pdf.attach(new L({Type:I.get("FontDescriptor"),FontName:I.get(o._sub.psName),FontBBox:o.bbox,Flags:o.flags,StemV:o.stemV,ItalicAngle:o.italicAngle,Ascent:o.ascent,Descent:o.descent,CapHeight:o.capHeight,XHeight:o.xHeight,FontFile2:o._pdf.attach(l)})),h=a.ncid2ogid,d=a.firstChar,u=a.lastChar,f=[];!function p(t,e){if(u>=t){var n=h[t];null==n?p(t+1):(e||f.push(t,e=[]),e.push(o._font.widthOfGlyph(n)),p(t+1,e))}}(d),t=new L({Type:I.get("Font"),Subtype:I.get("CIDFontType2"),BaseFont:I.get(o._sub.psName),CIDSystemInfo:new L({Registry:new M("Adobe"),Ordering:new M("Identity"),Supplement:0}),FontDescriptor:c,FirstChar:d,LastChar:u,DW:Math.round(o._font.widthOfGlyph(0)),W:f,CIDToGIDMap:o._pdf.attach(o._makeCidToGidMap())}),e=o.props,e.BaseFont=I.get(o._sub.psName),e.DescendantFonts=[o._pdf.attach(t)],n=new N(d,u,a.subset),r=new B(i(),null,!0),r.data(n),e.ToUnicode=o._pdf.attach(r)},_makeCidToGidMap:function(){return new B(C(this._sub.cidToGidMap()),null,!0)}},L),N=x(function(t,e,n){this.firstChar=t,this.lastChar=e,this.map=n},{render:function(t){t.indent("/CIDInit /ProcSet findresource begin"),t.indent("12 dict begin"),t.indent("begincmap"),t.indent("/CIDSystemInfo <<"),t.indent("  /Registry (Adobe)"),t.indent("  /Ordering (UCS)"),t.indent("  /Supplement 0"),t.indent(">> def"),t.indent("/CMapName /Adobe-Identity-UCS def"),t.indent("/CMapType 2 def"),t.indent("1 begincodespacerange"),t.indent("  <0000><ffff>"),t.indent("endcodespacerange");var e=this;t.indent(e.lastChar-e.firstChar+1," beginbfchar"),t.withIndent(function(){var n,i;for(n=e.firstChar;e.lastChar>=n;++n)i=e.map[n],t.indent("<",d(n.toString(16),4),">","<",d(i.toString(16),4),">")}),t.indent("endbfchar"),t.indent("endcmap"),t.indent("CMapName currentdict /CMap defineresource pop"),t.indent("end"),t.indent("end")}}),V=x(function(t,e){this._pdf=t,this._rcount=0,this._textMode=!1,this._fontResources={},this._gsResources={},this._xResources={},this._opacity=1,this._font=null,this._fontSize=null,this._contextStack=[],e=this.props=e||{},e.Type=I.get("Page"),e.ProcSet=[I.get("PDF"),I.get("Text"),I.get("ImageB"),I.get("ImageC"),I.get("ImageI")],e.Resources=new L({Font:new L(this._fontResources),ExtGState:new L(this._gsResources),XObject:new L(this._xResources)})},{_out:function(){this._content.data.apply(null,arguments)},transform:function(t,e,n,i,r,o){this._out(t," ",e," ",n," ",i," ",r," ",o," cm",j)},translate:function(t,e){this.transform(1,0,0,1,t,e)},scale:function(t,e){this.transform(t,0,0,e,0,0)},rotate:function(t){var e=Math.cos(t),n=Math.sin(t);this.transform(e,n,-n,e,0,0)},beginText:function(){this._textMode=!0,this._out("BT",j)},endText:function(){this._textMode=!1,this._out("ET",j)},_requireTextMode:function(){if(!this._textMode)throw Error("Text mode required; call page.beginText() first")},_requireFont:function(){if(!this._font)throw Error("No font selected; call page.setFont() first")},setFont:function(t,e){this._requireTextMode(),null==t?t=this._font:t instanceof O||(t=this._pdf.getFont(t)),null==e&&(e=this._fontSize),this._fontResources[t._resourceName]=t,this._font=t,this._fontSize=e,this._out(t._resourceName," ",e," Tf",j)},setTextLeading:function(t){this._requireTextMode(),this._out(t," TL",j)},setTextRenderingMode:function(t){this._requireTextMode(),this._out(t," Tr",j)},showText:function(t){this._requireFont(),this._out(this._font.encodeText(t)," Tj",j)},showTextNL:function(t){this._requireFont(),this._out(this._font.encodeText(t)," '",j)},setStrokeColor:function(t,e,n){this._out(t," ",e," ",n," RG",j)},setOpacity:function(t){this.setFillOpacity(t),this.setStrokeOpacity(t),this._opacity*=t},setStrokeOpacity:function(t){if(1>t){var e=this._pdf.getOpacityGS(this._opacity*t,!0);this._gsResources[e._resourceName]=e,this._out(e._resourceName," gs",j)}},setFillColor:function(t,e,n){this._out(t," ",e," ",n," rg",j)},setFillOpacity:function(t){if(1>t){var e=this._pdf.getOpacityGS(this._opacity*t,!1);this._gsResources[e._resourceName]=e,this._out(e._resourceName," gs",j)}},setDashPattern:function(t,e){this._out(t," ",e," d",j)},setLineWidth:function(t){this._out(t," w",j)},setLineCap:function(t){this._out(t," J",j)},setLineJoin:function(t){this._out(t," j",j)},setMitterLimit:function(t){this._out(t," M",j)},save:function(){this._contextStack.push(this._context()),this._out("q",j)},restore:function(){this._out("Q",j),this._context(this._contextStack.pop())},moveTo:function(t,e){this._out(t," ",e," m",j)},lineTo:function(t,e){this._out(t," ",e," l",j)},bezier:function(t,e,n,i,r,o){this._out(t," ",e," ",n," ",i," ",r," ",o," c",j)},bezier1:function(t,e,n,i){this._out(t," ",e," ",n," ",i," y",j)},bezier2:function(t,e,n,i){this._out(t," ",e," ",n," ",i," v",j)},close:function(){this._out("h",j)},rect:function(t,e,n,i){this._out(t," ",e," ",n," ",i," re",j)},ellipse:function(t,e,n,i){function r(e){return t+e}function o(t){return e+t}var a=.5522847498307936;this.moveTo(r(0),o(i)),this.bezier(r(n*a),o(i),r(n),o(i*a),r(n),o(0)),this.bezier(r(n),o(-i*a),r(n*a),o(-i),r(0),o(-i)),this.bezier(r(-n*a),o(-i),r(-n),o(-i*a),r(-n),o(0)),this.bezier(r(-n),o(i*a),r(-n*a),o(i),r(0),o(i))},circle:function(t,e,n){this.ellipse(t,e,n,n)},stroke:function(){this._out("S",j)},clip:function(){this._out("W n",j)},closeStroke:function(){this._out("s",j)},fill:function(){this._out("f",j)},fillStroke:function(){this._out("B",j)},drawImage:function(t){var e=this._pdf.getImage(t);e&&(this._xResources[e._resourceName]=e,this._out(e._resourceName," Do",j))},comment:function(t){var e=this;t.split(/\r?\n/g).forEach(function(t){e._out("% ",t,j)})},_context:function(t){return null==t?{opacity:this._opacity}:(this._opacity=t.opacity,n)}},L),H={serif:"Times-Roman","serif|bold":"Times-Bold","serif|italic":"Times-Italic","serif|bold|italic":"Times-BoldItalic","sans-serif":"Helvetica","sans-serif|bold":"Helvetica-Bold","sans-serif|italic":"Helvetica-Oblique","sans-serif|bold|italic":"Helvetica-BoldOblique",monospace:"Courier","monospace|bold":"Courier-Bold","monospace|italic":"Courier-Oblique","monospace|bold|italic":"Courier-BoldOblique"},U.pdf={Document:o,BinaryStream:C,defineFont:A,parseFontDef:T,getFontURL:D,loadFonts:Q,loadImages:K,TEXT_RENDERING_MODE:{fill:0,stroke:1,fillAndStroke:2,invisible:3,fillAndClip:4,strokeAndClip:5,fillStrokeClip:6,clip:7}}}(this,parseFloat),function(t){"use strict";function e(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function n(t){return Object.keys(t).sort(function(t,e){return t-e}).map(parseFloat)}function i(t){var e,n,i;for(this.raw=t,this.scalerType=t.readLong(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),e=this.tables={},n=0;this.tableCount>n;++n)i={tag:t.readString(4),checksum:t.readLong(),offset:t.readLong(),length:t.readLong()},e[i.tag]=i}function r(t){function n(t,e){this.definition=e,this.length=e.length,this.offset=e.offset,this.file=t,this.rawData=t.raw,this.parse(t.raw)}n.prototype.raw=function(){return this.rawData.slice(this.offset,this.length)};for(var i in t)e(t,i)&&(n[i]=n.prototype[i]=t[i]);return n}function o(){var t,e="",n=y+"";for(t=0;n.length>t;++t)e+=String.fromCharCode(n.charCodeAt(t)-48+65);return++y,e}function a(t){this.font=t,this.subset={},this.unicodes={},this.ogid2ngid={0:0},this.ngid2ogid={0:0},this.ncid2ogid={},this.next=this.firstChar=1,this.nextGid=1,this.psName=o()+"+"+this.font.psName}function s(t,e){var n,i,r,o,a=this,s=a.contents=w(t);if("ttcf"==s.readString(4)){if(!e)throw Error("Must specify a name for TTC files");for(n=s.readLong(),i=s.readLong(),r=0;i>r;++r)if(o=s.readLong(),s.saveExcursion(function(){s.offset(o),a.parse()}),a.psName==e)return;throw Error("Font "+e+" not found in collection")}s.offset(0),a.parse()}var l,c,h,d,u,f,p,g,m,v,y,_=t.kendo.pdf,w=_.BinaryStream;i.prototype={readTable:function(t,e){var n=this.tables[t];if(!n)throw Error("Table "+t+" not found in directory");return this[t]=n.table=new e(this,n)},render:function(t){var n,i,r,o,a,s,l,c,h=Object.keys(t).length,d=Math.pow(2,Math.floor(Math.log(h)/Math.LN2)),u=16*d,f=Math.floor(Math.log(d)/Math.LN2),p=16*h-u,g=w();g.writeLong(this.scalerType),g.writeShort(h),g.writeShort(u),g.writeShort(f),g.writeShort(p),n=16*h,i=g.offset()+n,r=null,o=w();for(a in t)if(e(t,a))for(s=t[a],g.writeString(a),g.writeLong(this.checksum(s)),g.writeLong(i),g.writeLong(s.length),o.write(s),"head"==a&&(r=i),i+=s.length;i%4;)o.writeByte(0),i++;return g.write(o.get()),l=this.checksum(g.get()),c=2981146554-l,g.offset(r+8),g.writeLong(c),g.get()},checksum:function(t){t=w(t);for(var e=0;!t.eof();)e+=t.readLong();return 4294967295&e}},l=r({parse:function(t){t.offset(this.offset),this.version=t.readLong(),this.revision=t.readLong(),this.checkSumAdjustment=t.readLong(),this.magicNumber=t.readLong(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.read(8),this.modified=t.read(8),this.xMin=t.readShort_(),this.yMin=t.readShort_(),this.xMax=t.readShort_(),this.yMax=t.readShort_(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort_(),this.indexToLocFormat=t.readShort_(),this.glyphDataFormat=t.readShort_()},render:function(t){var e=w();return e.writeLong(this.version),e.writeLong(this.revision),e.writeLong(0),e.writeLong(this.magicNumber),e.writeShort(this.flags),e.writeShort(this.unitsPerEm),e.write(this.created),e.write(this.modified),e.writeShort_(this.xMin),e.writeShort_(this.yMin),e.writeShort_(this.xMax),e.writeShort_(this.yMax),e.writeShort(this.macStyle),e.writeShort(this.lowestRecPPEM),e.writeShort_(this.fontDirectionHint),e.writeShort_(t),e.writeShort_(this.glyphDataFormat),e.get()}}),c=r({parse:function(t){t.offset(this.offset);var e=this.file.head.indexToLocFormat;this.offsets=0===e?t.times(this.length/2,function(){return 2*t.readShort()}):t.times(this.length/4,t.readLong)},offsetOf:function(t){return this.offsets[t]},lengthOf:function(t){return this.offsets[t+1]-this.offsets[t]},render:function(t){var e,n=w(),i=t[t.length-1]>65535;for(e=0;t.length>e;++e)i?n.writeLong(t[e]):n.writeShort(t[e]/2);return{format:i?1:0,table:n.get()}}}),h=r({parse:function(t){t.offset(this.offset),this.version=t.readLong(),this.ascent=t.readShort_(),this.descent=t.readShort_(),this.lineGap=t.readShort_(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort_(),this.minRightSideBearing=t.readShort_(),this.xMaxExtent=t.readShort_(),this.caretSlopeRise=t.readShort_(),this.caretSlopeRun=t.readShort_(),this.caretOffset=t.readShort_(),t.skip(8),this.metricDataFormat=t.readShort_(),this.numOfLongHorMetrics=t.readShort()},render:function(t){var e=w();return e.writeLong(this.version),e.writeShort_(this.ascent),e.writeShort_(this.descent),e.writeShort_(this.lineGap),e.writeShort(this.advanceWidthMax),e.writeShort_(this.minLeftSideBearing),e.writeShort_(this.minRightSideBearing),e.writeShort_(this.xMaxExtent),e.writeShort_(this.caretSlopeRise),e.writeShort_(this.caretSlopeRun),e.writeShort_(this.caretOffset),e.write([0,0,0,0,0,0,0,0]),e.writeShort_(this.metricDataFormat),e.writeShort(t.length),e.get()}}),d=r({parse:function(t){t.offset(this.offset),this.version=t.readLong(),this.numGlyphs=t.readShort(),this.maxPoints=t.readShort(),this.maxContours=t.readShort(),this.maxComponentPoints=t.readShort(),this.maxComponentContours=t.readShort(),this.maxZones=t.readShort(),this.maxTwilightPoints=t.readShort(),this.maxStorage=t.readShort(),this.maxFunctionDefs=t.readShort(),this.maxInstructionDefs=t.readShort(),this.maxStackElements=t.readShort(),this.maxSizeOfInstructions=t.readShort(),this.maxComponentElements=t.readShort(),this.maxComponentDepth=t.readShort()},render:function(t){var e=w();return e.writeLong(this.version),e.writeShort(t.length),e.writeShort(this.maxPoints),e.writeShort(this.maxContours),e.writeShort(this.maxComponentPoints),e.writeShort(this.maxComponentContours),e.writeShort(this.maxZones),e.writeShort(this.maxTwilightPoints),e.writeShort(this.maxStorage),e.writeShort(this.maxFunctionDefs),e.writeShort(this.maxInstructionDefs),e.writeShort(this.maxStackElements),e.writeShort(this.maxSizeOfInstructions),e.writeShort(this.maxComponentElements),e.writeShort(this.maxComponentDepth),e.get()}}),u=r({parse:function(t){var e,n,i;t.offset(this.offset),e=this.file,n=e.hhea,this.metrics=t.times(n.numOfLongHorMetrics,function(){return{advance:t.readShort(),lsb:t.readShort_()}}),i=e.maxp.numGlyphs-e.hhea.numOfLongHorMetrics,this.leftSideBearings=t.times(i,t.readShort_)},forGlyph:function(t){var e=this.metrics,n=e.length;return n>t?e[t]:{advance:e[n-1].advance,lsb:this.leftSideBearings[t-n]}},render:function(t){var e,n,i=w();for(e=0;t.length>e;++e)n=this.forGlyph(t[e]),i.writeShort(n.advance),i.writeShort_(n.lsb);return i.get()}}),f=function(){function t(t){this.raw=t}function n(t){var e,n,r;for(this.raw=t,e=this.glyphIds=[],n=this.idOffsets=[];;){if(r=t.readShort(),n.push(t.offset()),e.push(t.readShort()),!(r&a))break;
t.skip(r&i?4:2),r&l?t.skip(8):r&s?t.skip(4):r&o&&t.skip(2)}}var i,o,a,s,l,c;return t.prototype={compound:!1,render:function(){return this.raw.get()}},i=1,o=8,a=32,s=64,l=128,c=256,n.prototype={compound:!0,render:function(t){var e,n,i=w(this.raw.get());for(e=0;this.glyphIds.length>e;++e)n=this.glyphIds[e],i.offset(this.idOffsets[e]),i.writeShort(t[n]);return i.get()}},r({parse:function(){this.cache={}},glyphFor:function(i){var r,o,a,s,l,c,h,d,u,f,p,g=this.cache;return e(g,i)?g[i]:(r=this.file.loca,o=r.lengthOf(i),0===o?g[i]=null:(a=this.rawData,s=this.offset+r.offsetOf(i),l=w(a.slice(s,o)),c=l.readShort_(),h=l.readShort_(),d=l.readShort_(),u=l.readShort_(),f=l.readShort_(),p=g[i]=-1==c?new n(l):new t(l),p.numberOfContours=c,p.xMin=h,p.yMin=d,p.xMax=u,p.yMax=f,p))},render:function(t,e,n){var i,r,o,a=w(),s=[];for(i=0;e.length>i;++i)r=e[i],o=t[r],s.push(a.offset()),o&&a.write(o.render(n));return s.push(a.offset()),{table:a.get(),offsets:s}}})}(),p=function(){function t(t,e){this.text=t,this.length=t.length,this.platformID=e.platformID,this.platformSpecificID=e.platformSpecificID,this.languageID=e.languageID,this.nameID=e.nameID}return r({parse:function(e){var n,i,r,o,a,s,l,c;for(e.offset(this.offset),n=e.readShort(),i=e.readShort(),r=this.offset+e.readShort(),o=e.times(i,function(){return{platformID:e.readShort(),platformSpecificID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:e.readShort()+r}}),a=this.strings={},s=0;o.length>s;++s)l=o[s],e.offset(l.offset),c=e.readString(l.length),a[l.nameID]||(a[l.nameID]=[]),a[l.nameID].push(new t(c,l));this.postscriptEntry=a[6][0],this.postscriptName=this.postscriptEntry.text.replace(/[^\x20-\x7F]/g,"")},render:function(n){var i,r,o,a,s,l,c=this.strings,h=0;for(i in c)e(c,i)&&(h+=c[i].length);r=w(),o=w(),r.writeShort(0),r.writeShort(h),r.writeShort(6+12*h);for(i in c)if(e(c,i))for(a=6==i?[new t(n,this.postscriptEntry)]:c[i],s=0;a.length>s;++s)l=a[s],r.writeShort(l.platformID),r.writeShort(l.platformSpecificID),r.writeShort(l.languageID),r.writeShort(l.nameID),r.writeShort(l.length),r.writeShort(o.offset()),o.writeString(l.text);return r.write(o.get()),r.get()}})}(),g=function(){var t=".notdef .null nonmarkingreturn space exclam quotedbl numbersign dollar percent ampersand quotesingle parenleft parenright asterisk plus comma hyphen period slash zero one two three four five six seven eight nine colon semicolon less equal greater question at A B C D E F G H I J K L M N O P Q R S T U V W X Y Z bracketleft backslash bracketright asciicircum underscore grave a b c d e f g h i j k l m n o p q r s t u v w x y z braceleft bar braceright asciitilde Adieresis Aring Ccedilla Eacute Ntilde Odieresis Udieresis aacute agrave acircumflex adieresis atilde aring ccedilla eacute egrave ecircumflex edieresis iacute igrave icircumflex idieresis ntilde oacute ograve ocircumflex odieresis otilde uacute ugrave ucircumflex udieresis dagger degree cent sterling section bullet paragraph germandbls registered copyright trademark acute dieresis notequal AE Oslash infinity plusminus lessequal greaterequal yen mu partialdiff summation product pi integral ordfeminine ordmasculine Omega ae oslash questiondown exclamdown logicalnot radical florin approxequal Delta guillemotleft guillemotright ellipsis nonbreakingspace Agrave Atilde Otilde OE oe endash emdash quotedblleft quotedblright quoteleft quoteright divide lozenge ydieresis Ydieresis fraction currency guilsinglleft guilsinglright fi fl daggerdbl periodcentered quotesinglbase quotedblbase perthousand Acircumflex Ecircumflex Aacute Edieresis Egrave Iacute Icircumflex Idieresis Igrave Oacute Ocircumflex apple Ograve Uacute Ucircumflex Ugrave dotlessi circumflex tilde macron breve dotaccent ring cedilla hungarumlaut ogonek caron Lslash lslash Scaron scaron Zcaron zcaron brokenbar Eth eth Yacute yacute Thorn thorn minus multiply onesuperior twosuperior threesuperior onehalf onequarter threequarters franc Gbreve gbreve Idotaccent Scedilla scedilla Cacute cacute Ccaron ccaron dcroat".split(/\s+/g);return r({parse:function(t){var e,n;switch(t.offset(this.offset),this.format=t.readLong(),this.italicAngle=t.readFixed_(),this.underlinePosition=t.readShort_(),this.underlineThickness=t.readShort_(),this.isFixedPitch=t.readLong(),this.minMemType42=t.readLong(),this.maxMemType42=t.readLong(),this.minMemType1=t.readLong(),this.maxMemType1=t.readLong(),this.format){case 65536:case 196608:break;case 131072:for(e=t.readShort(),this.glyphNameIndex=t.times(e,t.readShort),this.names=[],n=this.offset+this.length;t.offset()<n;)this.names.push(t.readString(t.readByte()));break;case 151552:e=t.readShort(),this.offsets=t.read(e);break;case 262144:this.map=t.times(this.file.maxp.numGlyphs,t.readShort)}},glyphFor:function(e){switch(this.format){case 65536:return t[e]||".notdef";case 131072:var n=this.glyphNameIndex[e];return t.length>n?t[n]:this.names[n-t.length]||".notdef";case 151552:case 196608:return".notdef";case 262144:return this.map[e]||65535}},render:function(e){var n,i,r,o,a,s,l;if(196608==this.format)return this.raw();for(n=w(this.rawData.slice(this.offset,32)),n.writeLong(131072),n.offset(32),i=[],r=[],o=0;e.length>o;++o)a=e[o],s=this.glyphFor(a),l=t.indexOf(s),l>=0?i.push(l):(i.push(t.length+r.length),r.push(s));for(n.writeShort(e.length),o=0;i.length>o;++o)n.writeShort(i[o]);for(o=0;r.length>o;++o)n.writeByte(r[o].length),n.writeString(r[o]);return n.get()}})}(),m=function(){function t(t,e){var n=this;n.platformID=t.readShort(),n.platformSpecificID=t.readShort(),n.offset=e+t.readLong(),t.saveExcursion(function(){var e,i,r,o,a,s,l,c,h,d,u,f,p;switch(t.offset(n.offset),n.format=t.readShort(),n.length=t.readShort(),n.language=t.readShort(),n.isUnicode=3==n.platformID&&1==n.platformSpecificID&&4==n.format||0===n.platformID&&4==n.format,n.codeMap={},n.format){case 0:for(e=0;256>e;++e)n.codeMap[e]=t.readByte();break;case 4:for(i=t.readShort()/2,t.skip(6),r=t.times(i,t.readShort),t.skip(2),o=t.times(i,t.readShort),a=t.times(i,t.readShort_),s=t.times(i,t.readShort),l=(n.length+n.offset-t.offset())/2,c=t.times(l,t.readShort),e=0;i>e;++e)for(h=o[e],d=r[e],u=h;d>=u;++u)0===s[e]?f=u+a[e]:(p=s[e]/2-(i-e)+(u-h),f=c[p]||0,0!==f&&(f+=a[e])),n.codeMap[u]=65535&f}})}function e(t,e){function i(n){return e[t[n]]}var r,o,a,s,l,c,h,d,u,f,p,g,m,v,y,_,x,b=n(t),k=[],C=[],S=null,T=null;for(r=0;b.length>r;++r)o=b[r],a=i(o),s=a-o,(null==S||s!==T)&&(S&&C.push(S),k.push(o),T=s),S=o;for(S&&C.push(S),C.push(65535),k.push(65535),l=k.length,c=2*l,h=2*Math.pow(2,Math.floor(Math.log(l)/Math.LN2)),d=Math.log(h/2)/Math.LN2,u=c-h,f=[],p=[],g=[],r=0;l>r;++r){if(m=k[r],v=C[r],65535==m){f.push(0),p.push(0);break}if(y=i(m),m-y>=32768)for(f.push(0),p.push(2*(g.length+l-r)),_=m;v>=_;++_)g.push(i(_));else f.push(y-m),p.push(0)}return x=w(),x.writeShort(3),x.writeShort(1),x.writeLong(12),x.writeShort(4),x.writeShort(16+8*l+2*g.length),x.writeShort(0),x.writeShort(c),x.writeShort(h),x.writeShort(d),x.writeShort(u),C.forEach(x.writeShort),x.writeShort(0),k.forEach(x.writeShort),f.forEach(x.writeShort_),p.forEach(x.writeShort),g.forEach(x.writeShort),x.get()}return r({parse:function(e){var n,i=this,r=i.offset;e.offset(r),i.version=e.readShort(),n=e.readShort(),i.unicodeEntry=null,i.tables=e.times(n,function(){var n=new t(e,r);return n.isUnicode&&(i.unicodeEntry=n),n})},render:function(t,n){var i=w();return i.writeShort(0),i.writeShort(1),i.write(e(t,n)),i.get()},getUnicodeEntry:function(){if(!this.unicodeEntry)throw Error("Font doesn't have an Unicode encoding");return this.unicodeEntry}})}(),v=r({parse:function(t){t.offset(this.offset),this.version=t.readShort(),this.averageCharWidth=t.readShort_(),this.weightClass=t.readShort(),this.widthClass=t.readShort(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort_(),this.ySubscriptYSize=t.readShort_(),this.ySubscriptXOffset=t.readShort_(),this.ySubscriptYOffset=t.readShort_(),this.ySuperscriptXSize=t.readShort_(),this.ySuperscriptYSize=t.readShort_(),this.ySuperscriptXOffset=t.readShort_(),this.ySuperscriptYOffset=t.readShort_(),this.yStrikeoutSize=t.readShort_(),this.yStrikeoutPosition=t.readShort_(),this.familyClass=t.readShort_(),this.panose=t.times(10,t.readByte),this.charRange=t.times(4,t.readLong),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort_(),this.descent=t.readShort_(),this.lineGap=t.readShort_(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=t.times(2,t.readLong),this.version>1&&(this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()))},render:function(){return this.raw()}}),y=1e5,a.prototype={use:function(t){var e,n,i,r,o;if("string"==typeof t){for(n="",i=0;t.length>i;++i)e=this.use(t.charCodeAt(i)),n+=String.fromCharCode(e);return n}return e=this.unicodes[t],e||(e=this.next++,this.subset[e]=t,this.unicodes[t]=e,r=this.font.cmap.getUnicodeEntry().codeMap[t],r&&(this.ncid2ogid[e]=r,null==this.ogid2ngid[r]&&(o=this.nextGid++,this.ogid2ngid[r]=o,this.ngid2ogid[o]=r))),e},encodeText:function(t){return this.use(t)},glyphIds:function(){return n(this.ogid2ngid)},glyphsFor:function(t,e){var n,i,r;for(e||(e={}),n=0;t.length>n;++n)i=t[n],e[i]||(r=e[i]=this.font.glyf.glyphFor(i),r&&r.compound&&this.glyphsFor(r.glyphIds,e));return e},render:function(){var t,i,r,o,a,s,l,c,h=this.glyphsFor(this.glyphIds());for(t in h)e(h,t)&&(t=parseInt(t,10),null==this.ogid2ngid[t]&&(i=this.nextGid++,this.ogid2ngid[t]=i,this.ngid2ogid[i]=t));return r=n(this.ngid2ogid),o=r.map(function(t){return this.ngid2ogid[t]},this),a=this.font,s=a.glyf.render(h,o,this.ogid2ngid),l=a.loca.render(s.offsets),this.lastChar=this.next-1,c={cmap:m.render(this.ncid2ogid,this.ogid2ngid),glyf:s.table,loca:l.table,hmtx:a.hmtx.render(o),hhea:a.hhea.render(o),maxp:a.maxp.render(o),post:a.post.render(o),name:a.name.render(this.psName),head:a.head.render(l.format),"OS/2":a.os2.render()},this.font.directory.render(c)},cidToGidMap:function(){var t,e,n,i=w(),r=0;for(t=this.firstChar;this.next>t;++t){for(;t>r;)i.writeShort(0),r++;e=this.ncid2ogid[t],e?(n=this.ogid2ngid[e],i.writeShort(n)):i.writeShort(0),r++}return i.get()}},s.prototype={parse:function(){var t=this.directory=new i(this.contents);this.head=t.readTable("head",l),this.loca=t.readTable("loca",c),this.hhea=t.readTable("hhea",h),this.maxp=t.readTable("maxp",d),this.hmtx=t.readTable("hmtx",u),this.glyf=t.readTable("glyf",f),this.name=t.readTable("name",p),this.post=t.readTable("post",g),this.cmap=t.readTable("cmap",m),this.os2=t.readTable("OS/2",v),this.psName=this.name.postscriptName,this.ascent=this.os2.ascent||this.hhea.ascent,this.descent=this.os2.descent||this.hhea.descent,this.lineGap=this.os2.lineGap||this.hhea.lineGap,this.scale=1e3/this.head.unitsPerEm},widthOfGlyph:function(t){return this.hmtx.forGlyph(t).advance*this.scale},makeSubset:function(){return new a(this)}},_.TTFFont=s}(this),function(t){t.PDFMixin={extend:function(t){t.events.push("pdfExport"),t.options.pdf=this.options,t.saveAsPDF=this.saveAsPDF},options:{fileName:"Export.pdf",proxyURL:"",paperSize:"auto",landscape:!1,margin:null,title:null,author:null,subject:null,keywords:null,creator:"Kendo UI PDF Generator",date:null},saveAsPDF:function(){if(!this.trigger("pdfExport")){var e=this.options.pdf;t.drawing.drawDOM(this.wrapper[0]).then(function(n){return t.drawing.exportPDF(n,e)}).done(function(n){t.saveAs({dataURI:n,fileName:e.fileName,proxyURL:e.proxyURL})})}}}}(kendo),function(t,e){"use strict";function n(t,e){function n(t,e){return c.pdf&&null!=c.pdf[t]?c.pdf[t]:e}function i(){var i,o,a,l,h,u,f;--r>0||(i=n("paperSize","auto"),o=!1,"auto"==i&&(d?(a=d.getSize(),i=[a.width,a.height],o=!0,l=d.getOrigin(),h=new S.Group(c),h.transform(new T.Matrix(1,0,0,1,-l.x,-l.y)),h.append(t),t=h):i="A4"),u=new D.Document({paperSize:i,landscape:n("landscape",!1),margin:n("margin"),addMargin:o,title:n("title"),author:n("author"),subject:n("subject"),keywords:n("keywords"),creator:n("creator"),date:n("date")}),f=u.addPage(),s(t,f,u),e(u.render(),u,f))}var r,o=[],l=[],c=t.options,h=C(t),d=h.bbox;t=h.root,t.traverse(function(t){a({Image:function(t){l.indexOf(t.src())<0&&l.push(t.src())},Text:function(t){var e=D.parseFontDef(t.options.font),n=D.getFontURL(e);o.indexOf(n)<0&&o.push(n)}},t)}),r=2,D.loadFonts(o,i),D.loadImages(l,i)}function i(t,e){n(t,function(t){e("data:application/pdf;base64,"+t.base64())})}function r(t,e){n(t,function(t){e(new Blob([t.get()],{type:"application/pdf"}))})}function o(e,n,o,a){window.Blob&&!t.support.browser.safari?r(e,function(e){t.saveAs({dataURI:e,fileName:n}),a&&a(e)}):i(e,function(e){t.saveAs({dataURI:e,fileName:n,proxyURL:o}),a&&a(e)})}function a(t,e){var n=t[e.nodeType];return n?n.call.apply(n,arguments):e}function s(t,e,n){var i,r,o;t.DEBUG&&e.comment(t.DEBUG),i=t.transform(),r=t.opacity(),e.save(),null!=r&&1>r&&e.setOpacity(r),l(t,e,n),c(t,e,n),h(t,e,n),i&&(o=i.matrix(),e.transform(o.a,o.b,o.c,o.d,o.e,o.f)),a({Path:g,MultiPath:m,Circle:v,Arc:y,Text:_,Image:x,Group:w},t,e,n),e.restore()}function l(t,e){var n,i,r,o,a,s,l=t.stroke&&t.stroke();if(l){if(n=l.color){if(n=k(n),null==n)return;e.setStrokeColor(n.r,n.g,n.b),1!=n.a&&e.setStrokeOpacity(n.a)}if(i=l.width,null!=i){if(0===i)return;e.setLineWidth(i)}r=l.dashType,r&&e.setDashPattern(P[r],0),o=l.lineCap,o&&e.setLineCap(M[o]),a=l.lineJoin,a&&e.setLineJoin(E[a]),s=l.opacity,null!=s&&e.setStrokeOpacity(s)}}function c(t,e){var n,i,r=t.fill&&t.fill();if(r){if(n=r.color){if(n=k(n),null==n)return;e.setFillColor(n.r,n.g,n.b),1!=n.a&&e.setFillOpacity(n.a)}i=r.opacity,null!=i&&e.setFillOpacity(i)}}function h(t,e,n){var i=t.clip();i&&(p(i,e,n),e.clip())}function d(t){return t&&t.color&&!/^(none|transparent)$/i.test(t.color)&&(null==t.width||t.width>0)&&(null==t.opacity||t.opacity>0)}function u(t,e){d(t.fill())&&d(t.stroke())?e.fillStroke():d(t.fill())?e.fill():d(t.stroke())&&e.stroke()}function f(t,e){var n,i,r,o=t.segments;if(4==o.length&&t.options.closed){for(n=[],i=0;o.length>i;++i){if(o[i].controlIn())return!1;n[i]=o[i].anchor()}if(r=n[0].y==n[1].y&&n[1].x==n[2].x&&n[2].y==n[3].y&&n[3].x==n[0].x||n[0].x==n[1].x&&n[1].y==n[2].y&&n[2].x==n[3].x&&n[3].y==n[0].y)return e.rect(n[0].x,n[0].y,n[2].x-n[0].x,n[2].y-n[0].y),!0}}function p(t,e,n){var i,r,o,a,s,l,c=t.segments;if(0!==c.length&&!f(t,e,n)){for(r=0;c.length>r;++r)o=c[r],a=o.anchor(),i?(s=i.controlOut(),l=o.controlIn(),s&&l?e.bezier(s.x,s.y,l.x,l.y,a.x,a.y):e.lineTo(a.x,a.y)):e.moveTo(a.x,a.y),i=o;t.options.closed&&e.close()}}function g(t,e,n){p(t,e,n),u(t,e,n)}function m(t,e,n){var i,r=t.paths;for(i=0;r.length>i;++i)p(r[i],e,n);u(t,e,n)}function v(t,e,n){var i=t.geometry();e.circle(i.center.x,i.center.y,i.radius),u(t,e,n)}function y(t,e,n){var i,r=t.geometry().curvePoints();for(e.moveTo(r[0].x,r[0].y),i=1;r.length>i;)e.bezier(r[i].x,r[i++].y,r[i].x,r[i++].y,r[i].x,r[i++].y);u(t,e,n)}function _(t,e){var n,i=D.parseFontDef(t.options.font),r=t._position;t.fill()&&t.stroke()?n=A.fillAndStroke:t.fill()?n=A.fill:t.stroke()&&(n=A.stroke),e.transform(1,0,0,-1,r.x,r.y+i.fontSize),e.beginText(),e.setFont(D.getFontURL(i),i.fontSize),e.setTextRenderingMode(n),e.showText(t.content()),e.endText()}function w(t,e,n){var i,r=t.children;for(i=0;r.length>i;++i)s(r[i],e,n)}function x(t,e){var n=t.src(),i=t.rect(),r=i.getOrigin(),o=i.getSize();e.transform(o.width,0,0,-o.height,r.x,r.y+o.height),e.drawImage(n)}function b(t,n){var i=e.Deferred();return t.options.set("pdf",n),S.pdf.toDataURL(t,i.resolve),i.promise()}function k(e){var n=t.parseColor(e,!0);return n?n.toRGB():null}function C(t){function e(t){return l=!0,t}function n(t){return t.visible()&&t.opacity()>0&&(d(t.fill())||d(t.stroke()))}function i(t){var e,n,i=[];for(e=0;t.length>e;++e)n=s(t[e]),null!=n&&i.push(n);return i}function r(t,e){var n,i=c,r=h;t.transform()&&(h=h.multiplyCopy(t.transform().matrix())),n=t.clip(),n&&(n=n.bbox(),n&&(n=n.bbox(h),c=c?T.Rect.intersect(c,n):n));try{return e()}finally{c=i,h=r}}function o(t){if(null==c)return!1;var e=t.rawBBox().bbox(h);return c&&e&&(e=T.Rect.intersect(e,c)),e}function s(s){if(!(s instanceof S.Group||s instanceof S.MultiPath)){var l=o(s);if(!l)return e(null);u=u?T.Rect.union(u,l):l}return a({Path:function(t){return 0!==t.segments.length&&n(t)?t:e(null)},MultiPath:function(t){if(!n(t))return e(null);var r=new S.MultiPath(t.options);return r.paths=i(t.paths),0===r.paths.length?e(null):r},Circle:function(t){return n(t)?t:e(null)},Arc:function(t){return n(t)?t:e(null)},Text:function(t){return/\S/.test(t.content())&&n(t)?t:e(null)},Image:function(t){return t.visible()&&t.opacity()>0?t:e(null)},Group:function(n){return r(n,function(){var r=new S.Group(n.options);return r.children=i(n.children),n!==t&&0===r.children.length?e(null):r})}},s)}var l,c=!1,h=T.Matrix.unit(),u=null;do l=!1,t=s(t);while(t&&l);return{root:t,bbox:u}}var S=t.drawing,T=t.geometry,D=t.pdf,A=D.TEXT_RENDERING_MODE,P={dash:[4],dashDot:[4,2,1,2],dot:[1,2],longDash:[8,2],longDashDot:[8,2,1,2],longDashDotDot:[8,2,1,2,1,2],solid:[]},M={butt:0,round:1,square:2},E={miter:0,round:1,bevel:2};t.deepExtend(S,{exportPDF:b,pdf:{toDataURL:i,toBlob:r,saveAs:o,toStream:n}})}(window.kendo,window.kendo.jQuery),function(t,e,n){"use strict";function i(t,e){var n=kendo.parseColor(t);return n&&(n=n.toRGB(),e?n=n.toCssRgba():0===n.a&&(n=null)),n}function r(t,e){function n(t){N[t]||(N[t]=!0,a.push(t))}function i(){--r<=0&&e()}var r,a=[];!function s(t){var e,i=o(d(h(t),"background-image"));for(/^img$/i.test(t.tagName)&&n(t.src),i&&n(i),e=t.firstChild;e;e=e.nextSibling)1==e.nodeType&&s(e)}(t),r=a.length,0===r&&i(),a.forEach(function(t){var e=N[t]=new Image;e.onload=i,e.onerror=function(){N[t]=null,i()},e.src=t,(e.complete||void 0===e.complete)&&(e.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",e.src=t)})}function o(t){var e=/^\s*url\((['"]?)(.*?)\1\)\s*$/i.exec(t);return e?e[2]:void 0}function a(t,e,n){var i,r,o=function(t){this._up=t};o.prototype=B,B=new o(B),B[t.tagName.toLowerCase()]={element:t,style:e},i=d(e,"text-decoration"),i&&"none"!=i&&(r=d(e,"color"),i.split(/\s+/g).forEach(function(t){B[t]||(B[t]=r)})),c(t)&&(B._stackingContext={element:t,group:n})}function s(){B=B._up}function l(t){if(null!=B._clipbox){var e=t.bbox(B._matrix);B._clipbox=B._clipbox?F.Rect.intersect(B._clipbox,e):e}}function c(t){function e(t){return d(n,t)}var n=h(t);return"none"!=e("transform")||"static"!=e("position")&&"auto"!=e("z-index")||e("opacity")<1?!0:void 0}function h(t){return window.getComputedStyle(t)}function d(t,e){return t.getPropertyValue(e)||O.webkit&&t.getPropertyValue("-webkit-"+e)||O.firefox&&t.getPropertyValue("-moz-"+e)||O.opera&&t.getPropertyValue("-o-"+e)||O.msie&&t.getPropertyValue("-ms-"+e)}function u(t,e,n,i){t.setProperty(e,n,i),O.webkit?t.setProperty("-webkit-"+e,n,i):O.firefox?t.setProperty("-moz-"+e,n,i):O.opera?t.setProperty("-o-"+e,n,i):O.msie&&(t.setProperty("-ms-"+e,n,i),e="ms"+e.replace(/(^|-)([a-z])/g,function(t,e,n){return e+n.toUpperCase()}),t[e]=n)}function f(t,n){return n="border-"+n,{width:e(d(t,n+"-width")),style:d(t,n+"-style"),color:i(d(t,n+"-color"),!0)}}function p(t,e){var n=t.style.cssText,i=e();return t.style.cssText=n,i}function g(t,n){var i=d(t,"border-"+n+"-radius").split(/\s+/g).map(e);return 1==i.length&&i.push(i[0]),k({x:i[0],y:i[1]})}function m(t){var e=t.getBoundingClientRect();return e=v(e,"border-*-width",t),e=v(e,"padding-*",t)}function v(t,n,i){var r,o,a,s,l;return"string"==typeof n?(r=h(i),o=e(d(r,n.replace("*","top"))),a=e(d(r,n.replace("*","right"))),s=e(d(r,n.replace("*","bottom"))),l=e(d(r,n.replace("*","left")))):"number"==typeof n&&(o=a=s=l=n),{top:t.top+o,right:t.right-a,bottom:t.bottom-s,left:t.left+l,width:t.right-t.left-a-l,height:t.bottom-t.top-s-o}}function y(t){var n,i,r=d(t,"transform");return"none"==r?null:(n=/^\s*matrix\(\s*(.*?)\s*\)\s*$/.exec(r),n?(i=d(t,"transform-origin"),n=n[1].split(/\s*,\s*/g).map(e),i=i.split(/\s+/g).map(e),{matrix:n,origin:i}):void 0)}function _(t){return 180*t/n.PI%360}function w(t,e){return e=new F.Matrix(e[0],e[1],e[2],e[3],e[4],e[5]),t.transform(e),e}function x(t,e){t.clip(e)}function b(t,e,n,i){for(var r=new F.Arc([e,n],i).curvePoints(),o=1;r.length>o;)t.curveTo(r[o++],r[o++],r[o++])}function k(t){return(0>=t.x||0>=t.y)&&(t.x=t.y=0),t}function C(t,n,i){var r,o,a,s,l,c,u,p,m=h(t),v=g(m,"top-left"),y=g(m,"top-right"),_=g(m,"bottom-left"),w=g(m,"bottom-right");return("padding"==i||"content"==i)&&(r=f(m,"top"),o=f(m,"right"),a=f(m,"bottom"),s=f(m,"left"),v.x-=s.width,v.y-=r.width,y.x-=o.width,y.y-=r.width,w.x-=o.width,w.y-=a.width,_.x-=s.width,_.y-=a.width,"content"==i&&(l=e(d(m,"padding-top")),c=e(d(m,"padding-right")),u=e(d(m,"padding-bottom")),p=e(d(m,"padding-left")),v.x-=p,v.y-=l,y.x-=c,y.y-=l,w.x-=c,w.y-=u,_.x-=p,_.y-=u)),"number"==typeof i&&(v.x-=i,v.y-=i,y.x-=i,y.y-=i,w.x-=i,w.y-=i,_.x-=i,_.y-=i),S(n,v,y,w,_)}function S(t,e,n,i,r){var o=new z.Path({fill:null,stroke:null});return k(e),k(n),k(i),k(r),o.moveTo(t.left,t.top+e.y),e.x&&b(o,t.left+e.x,t.top+e.y,{startAngle:-180,endAngle:-90,radiusX:e.x,radiusY:e.y}),o.lineTo(t.right-n.x,t.top),n.x&&b(o,t.right-n.x,t.top+n.y,{startAngle:-90,endAngle:0,radiusX:n.x,radiusY:n.y}),o.lineTo(t.right,t.bottom-i.y),i.x&&b(o,t.right-i.x,t.bottom-i.y,{startAngle:0,endAngle:90,radiusX:i.x,radiusY:i.y}),o.lineTo(t.left+r.x,t.bottom),r.x&&b(o,t.left+r.x,t.bottom-r.y,{startAngle:90,endAngle:180,radiusX:r.x,radiusY:r.y}),o.close()}function T(t,r){function a(e){var n,i,r,o,a,s;if(/^td$/i.test(t.tagName)&&(n=B.table,n&&"collapse"==d(n.style,"border-collapse"))){if(i=f(n.style,"left").width,r=f(n.style,"top").width,0===i&&0===r)return e;if(o=n.element.getBoundingClientRect(),a=n.element.rows[0].cells[0],s=a.getBoundingClientRect(),s.top==o.top||s.left==o.left)return R.call(e).map(function(t){return{left:t.left+i,top:t.top+r,right:t.right+i,bottom:t.bottom+r,height:t.height,width:t.width}})}return e}function s(t,e,i,o,a,s,l,c){function h(e,r,o){var a=n.PI/2*e/(e+i),s={x:r.x-e,y:r.y-i},l=new z.Path({fill:{color:t},stroke:null}).moveTo(0,0);w(l,o),b(l,0,r.y,{startAngle:-90,endAngle:-_(a),radiusX:r.x,radiusY:r.y}),s.x>0&&s.y>0?(l.lineTo(s.x*n.cos(a),r.y-s.y*n.sin(a)),b(l,0,r.y,{startAngle:-_(a),endAngle:-90,radiusX:s.x,radiusY:s.y,anticlockwise:!0})):s.x>0?l.lineTo(s.x,i).lineTo(0,i):l.lineTo(s.x,i).lineTo(s.x,0),u.append(l.close())}if(!(0>=i)){var d,u=new z.Group;w(u,c),r.append(u),k(s),k(l),d=new z.Path({fill:{color:t},stroke:null}),u.append(d),d.moveTo(s.x?n.max(s.x,o):0,0).lineTo(e-(l.x?n.max(l.x,a):0),0).lineTo(e-n.max(l.x,a),i).lineTo(n.max(s.x,o),i).close(),s.x&&h(o,s,[-1,0,0,1,s.x,0]),l.x&&h(a,l,[1,0,0,1,e-l.x,0])}}function c(t){return{x:t.y,y:t.x}}function u(t){var e,n,i;(Q||y&&"none"!=y)&&(e=new z.Group,x(e,S(t,G,q,Y,$)),r.append(e),Q&&(n=new z.Path({fill:{color:Q.toCssRgba()},stroke:null}),n.moveTo(t.left,t.top).lineTo(t.right,t.top).lineTo(t.right,t.bottom).lineTo(t.left,t.bottom).close(),e.append(n)),i=o(y),i&&p(e,t,i))}function p(n,i,r){function o(){for(;p.origin.x>i.left;)p.origin.x-=l}function a(){for(;p.origin.y>i.top;)p.origin.y-=c}function s(){for(;i.right>p.origin.x;)n.append(new z.Image(r,p.clone())),p.origin.x+=l}var l,c,h,d,u,f,p,g,m=N[r];if(m&&m.width>0&&m.height>0)if(l=m.width,c=m.height,h=l/c,d=i,"content-box"==A?(d=v(d,"border-*-width",t),d=v(d,"padding-*",t)):"padding-box"==A&&(d=v(d,"border-*-width",t)),/^\s*auto(\s+auto)?\s*$/.test(M)||(u=M.split(/\s+/g),l=/%$/.test(u[0])?d.width*e(u[0])/100:e(u[0]),c=1==u.length||"auto"==u[1]?l/h:/%$/.test(u[1])?d.height*e(u[1])/100:e(u[1])),f=D.split(/\s+/g),1==f.length&&(f[1]="50%"),f[0]=/%$/.test(f[0])?e(f[0])/100*(d.width-l):e(f[0]),f[1]=/%$/.test(f[1])?e(f[1])/100*(d.height-c):e(f[1]),p=new F.Rect([d.left+f[0],d.top+f[1]],[l,c]),"no-repeat"==T)n.append(new z.Image(r,p));else if("repeat-x"==T)o(),s();else if("repeat-y"==T)for(a();i.bottom>p.origin.y;)n.append(new z.Image(r,p.clone())),p.origin.y+=c;else if("repeat"==T)for(o(),a(),g=p.origin.clone();i.bottom>p.origin.y;)p.origin.x=g.x,s(),p.origin.y+=c}function m(e,n,i){var o,a,l;if(0!==e.width&&0!==e.height&&(u(e),o=j.width>0&&(n&&"ltr"==X||i&&"rtl"==X),a=U.width>0&&(i&&"ltr"==X||n&&"rtl"==X),0!==H.width||0!==j.width||0!==U.width||0!==W.width)){if(H.color==U.color&&H.color==W.color&&H.color==j.color&&H.width==U.width&&H.width==W.width&&H.width==j.width&&o&&a)return e=v(e,H.width/2),l=C(t,e,H.width/2),l.options.stroke={color:H.color,width:H.width},void r.append(l);if(0===G.x&&0===q.x&&0===Y.x&&0===$.x&&2>H.width&&2>j.width&&2>U.width&&2>W.width)return H.width>0&&r.append(new z.Path({stroke:{width:H.width,color:H.color}}).moveTo(e.left,e.top+H.width/2).lineTo(e.right,e.top+H.width/2)),W.width>0&&r.append(new z.Path({stroke:{width:W.width,color:W.color}}).moveTo(e.left,e.bottom-W.width/2).lineTo(e.right,e.bottom-W.width/2)),o&&r.append(new z.Path({stroke:{width:j.width,color:j.color}}).moveTo(e.left+j.width/2,e.top).lineTo(e.left+j.width/2,e.bottom)),void(a&&r.append(new z.Path({stroke:{width:U.width,color:U.color}}).moveTo(e.right-U.width/2,e.top).lineTo(e.right-U.width/2,e.bottom)));s(H.color,e.width,H.width,j.width,U.width,G,q,[1,0,0,1,e.left,e.top]),s(W.color,e.width,W.width,U.width,j.width,Y,$,[-1,0,0,-1,e.right,e.bottom]),s(j.color,e.height,j.width,W.width,H.width,c($),c(G),[0,-1,1,0,e.left,e.bottom]),s(U.color,e.height,U.width,H.width,W.width,c(q),c(Y),[0,1,-1,0,e.right,e.top])}}var y,T,D,A,M,E,I,L,V=h(t),H=f(V,"top"),U=f(V,"right"),W=f(V,"bottom"),j=f(V,"left"),G=g(V,"top-left"),q=g(V,"top-right"),$=g(V,"bottom-left"),Y=g(V,"bottom-right"),X=d(V,"direction"),Q=d(V,"background-color");for(Q=i(Q),y=d(V,"background-image"),T=d(V,"background-repeat"),D=d(V,"background-position"),A=d(V,"background-origin"),M=d(V,"background-size"),O.msie&&10>O.version&&(D=t.currentStyle.backgroundPosition,/^url\(\"data:image\/svg/i.test(y)&&(y=null)),E=v(t.getBoundingClientRect(),"border-*-width",t),function(){var t,n,i,o,a,s,c,h=d(V,"clip"),u=/^\s*rect\((.*)\)\s*$/.exec(h);u&&(t=u[1].split(/[ ,]+/g),n="auto"==t[0]?E.top:e(t[0])+E.top,i="auto"==t[1]?E.right:e(t[1])+E.left,o="auto"==t[2]?E.bottom:e(t[2])+E.top,a="auto"==t[3]?E.left:e(t[3])+E.left,s=new z.Group,c=(new z.Path).moveTo(a,n).lineTo(i,n).lineTo(i,o).lineTo(a,o).close(),x(s,c),r.append(s),r=s,l(c))}(),I=t.getClientRects(),1==I.length&&(I=[t.getBoundingClientRect()]),I=a(I),L=0;I.length>L;++L)m(I[L],0===L,L==I.length-1);return function(){function e(){var e=C(t,E,"padding"),n=new z.Group;x(n,e),r.append(n),r=n,l(e)}/^(hidden|auto|scroll)/.test(d(V,"overflow"))?e():/^(hidden|auto|scroll)/.test(d(V,"overflow-x"))?e():/^(hidden|auto|scroll)/.test(d(V,"overflow-y"))&&e()}(),P(t,r),r}function D(t,e,n){var i=m(t),r=new F.Rect([i.left,i.top],[i.width,i.height]),o=new z.Image(e,r);x(o,C(t,i,"content")),n.append(o)}function A(t,n){var i=h(t),r=h(n),o=e(d(i,"z-index")),a=e(d(r,"z-index")),s=d(i,"position"),l=d(r,"position");return isNaN(o)&&isNaN(a)?/static|absolute/.test(s)&&/static|absolute/.test(l)?0:"static"==s?-1:"static"==l?1:0:isNaN(o)?0===a?0:a>0?-1:1:isNaN(a)?0===o?0:o>0?1:-1:e(o)-e(a)}function P(t,e){var n,i,r,o,a,s,l,c,u;switch(t.tagName.toLowerCase()){case"img":D(t,t.src,e);break;case"canvas":try{D(t,t.toDataURL("image/jpeg"),e)}catch(f){}break;case"textarea":case"input":break;default:for(n=[],i=[],r=[],o=[],a=t.firstChild;a;a=a.nextSibling)switch(a.nodeType){case 3:/\S/.test(a.data)&&M(t,a,e);break;case 1:s=h(a),l=d(s,"display"),c=d(s,"float"),u=d(s,"position"),"static"!=u?o.push(a):"inline"!=l?"none"!=c?i.push(a):n.push(a):r.push(a)}n.sort(A).forEach(function(t){I(t,e)}),i.sort(A).forEach(function(t){I(t,e)}),r.sort(A).forEach(function(t){I(t,e)}),o.sort(A).forEach(function(t){I(t,e)})}}function M(t,n,i){function r(){for(var t,e,i;!/\S/.test(s.charAt(f));){if(f>=p)return!0;f++}for(l.setStart(n,f),t=0;++f<=p;)if(++t,l.setEnd(n,f),t>1&&(u&&/\s/.test(s.charAt(f-1))||l.getClientRects().length>1)){l.setEnd(n,--f);break}e=l.getClientRects()[0],i=(""+l).replace(/\s+$/,""),o(i,e)}function o(t,e){var n,r,o;t=t.replace(/[\r\n ]+/g," "),O.msie&&!isNaN(m)&&(n=z.util.measureText(t,{font:v}),r=(e.top+e.bottom-n.height)/2,e={top:r,right:e.right,bottom:r+n.height,left:e.left,height:n.height,width:e.right-e.left}),o=new z.Text(t,new F.Point(e.left,e.top),{font:v,fill:{color:y}}),i.append(o),a(e)}function a(t){function e(e,n){var r,o;e&&(r=g/12,o=new z.Path({stroke:{width:r,color:e}}),n-=r,o.moveTo(t.left,n).lineTo(t.right,n),i.append(o))}e(B.underline,t.bottom),e(B["line-through"],t.bottom-t.height/2.7),e(B.overline,t.top)}var s,l,c,u,f,p,g,m,v,y,_=h(t);if(!(e(d(_,"text-indent"))<-500)&&(s=n.data,l=t.ownerDocument.createRange(),c=d(_,"text-align"),u="justify"==c,f=0,p=/\S\s*$/.exec(n.data).index+1,g=d(_,"font-size"),m=d(_,"line-height"),v=[d(_,"font-style"),d(_,"font-variant"),d(_,"font-weight"),g,d(_,"font-family")].join(" "),g=e(g),m=e(m),0!==g))for(y=d(_,"color");!r(););}function E(t,e){var n,i,r=B._stackingContext.group,o=r.children;for(n=0;o.length>n&&!(null!=o[n]._dom_zIndex&&o[n]._dom_zIndex>e);++n);return i=new z.Group,r.insertAt(i,n),i._dom_zIndex=e,B._clipbox&&i.clip(z.Path.fromRect(B._clipbox)),i}function I(n,i){var r,o,l,c,f,g,m;/^(style|script|link|meta|iframe|svg)$/i.test(n.tagName)||null!=B._clipbox&&(r=h(n),o=e(d(r,"opacity")),l=d(r,"visibility"),c=d(r,"display"),0!==o&&"hidden"!=l&&"none"!=c&&(f=y(r),m=d(r,"z-index"),(f||1>o)&&"auto"==m&&(m=0),"auto"!=m?g=E(i,m):(g=new z.Group,i.append(g)),g.DEBUG=t(n).data("debug"),1>o&&g.opacity(o*g.opacity()),a(n,r,g),f?p(n,function(){var t,e,i,r;u(n.style,"transform","none","important"),u(n.style,"transition","none","important"),u(n.style,"position","relative","important"),t=n.getBoundingClientRect(),e=t.left+f.origin[0],i=t.top+f.origin[1],r=[1,0,0,1,-e,-i],r=L(r,f.matrix),r=L(r,[1,0,0,1,e,i]),r=w(g,r),B._matrix=B._matrix.multiplyCopy(r),T(n,g)}):T(n,g),s()))}function L(t,e){var n=t[0],i=t[1],r=t[2],o=t[3],a=t[4],s=t[5],l=e[0],c=e[1],h=e[2],d=e[3],u=e[4],f=e[5];return[n*l+i*h,n*c+i*d,r*l+o*h,r*c+o*d,a*l+s*h+u,a*c+s*d+f]}var B,z=kendo.drawing,F=kendo.geometry,R=Array.prototype.slice,O=kendo.support.browser,N={};z.drawDOM=function(e){var n=t.Deferred();return e=t(e)[0],r(e,function(){var t=new z.Group,i=e.getBoundingClientRect();w(t,[1,0,0,1,-i.left,-i.top]),B._clipbox=!1,B._matrix=F.Matrix.unit(),B._stackingContext={element:e,group:t},I(e,t),n.resolve(t)}),n.promise()},B={}}(window.kendo.jQuery,parseFloat,Math),function(t){var e=t.noop,n=window.kendo,i=n.Class,r=n.util,o=n.animationFrame,a=n.deepExtend,s=i.extend({init:function(t,e){var n=this;n.options=a({},n.options,e),n.element=t},options:{duration:500,easing:"swing"},play:function(){var e,n,i,a,s=this,l=s.options,c=l.delay||0,h=+new Date+c,d=l.duration,u=h+d,f=t.easing[l.easing];setTimeout(function(){var t=function(){s._stopped||(e=+new Date,n=r.limitValue(e-h,0,d),i=n/d,a=f(i,n,0,1,d),s.step(a),u>e?o(t):s.destroy())};t()},c)},abort:function(){this._stopped=!0},destroy:function(){this.abort()},setup:e,step:e}),l=function(){this._items=[]};l.prototype={register:function(t,e){this._items.push({name:t,type:e})},create:function(t,e){var n,i,r,o=this._items;if(e&&e.type)for(i=e.type.toLowerCase(),r=0;o.length>r;r++)if(o[r].name.toLowerCase()===i){n=o[r];break}return n?new n.type(t,e):void 0}},l.current=new l,s.create=function(t,e,n){return l.current.create(t,e,n)},a(n.drawing,{Animation:s,AnimationFactory:l})}(window.kendo.jQuery,Math),function(t,e){function n(t,e){var n={top:0,right:0,bottom:0,left:0};return e=e||0,"number"==typeof t?n[vn]=n[gn]=n[Ne]=n[an]=t:(n[vn]=t[vn]||e,n[gn]=t[gn]||e,n[Ne]=t[Ne]||e,n[an]=t[an]||e),n}function i(t,e){var n=t.tickX,i=t.tickY,r=t.position,o=new Se.Path({stroke:{width:e.width,color:e.color}});return t.vertical?o.moveTo(n,r).lineTo(n+e.size,r):o.moveTo(r,i).lineTo(r,i+e.size),F(o),o}function r(t,e){var n=t.lineStart,i=t.lineEnd,r=t.position,o=new Se.Path({stroke:{width:e.width,color:e.color,dashType:e.dashType}});return t.vertical?o.moveTo(n,r).lineTo(i,r):o.moveTo(r,n).lineTo(r,i),F(o),o
}function o(t,e){return Te.extend({init:function(t){this.view=t},decorate:function(n){var i,r=this,o=r.view,a=n.options.animation;return a&&a.type===t&&o.options.transitions&&(i=n._animation=new e(n,a),o.animations.push(i)),n}})}function a(t,e){return ve.current.measure(t,e)}function s(t,e){var n,i,r,o=_(e-t,$e-1);if(0===o){if(0===e)return.1;o=Ee.abs(e)}return n=Ee.pow(10,Ee.floor(Ee.log(o)/Ee.log(10))),i=_(o/n,$e),r=1,r=1.904762>i?.2:4.761904>i?.5:9.523809>i?1:2,_(n*r,$e)}function l(t){var e,n=[];for(e in t)n.push(e+t[e]);return n.sort().join(" ")}function c(){return fe.current.alloc()}function h(t,e,n,i,r){var o=r*Xe;return new O(n+(t-n)*Ee.cos(o)+(e-i)*Ee.sin(o),i-(t-n)*Ee.sin(o)+(e-i)*Ee.cos(o))}function d(e,n){if(e.x1==n.x1&&e.y1==n.y1&&e.x2==n.x2&&e.y2==n.y2)return n;var i=Ee.min(e.x1,n.x1),r=Ee.max(e.x1,n.x1),o=Ee.min(e.x2,n.x2),a=Ee.max(e.x2,n.x2),s=Ee.min(e.y1,n.y1),l=Ee.max(e.y1,n.y1),c=Ee.min(e.y2,n.y2),h=Ee.max(e.y2,n.y2),d=[];return d[0]=N(r,s,o,l),d[1]=N(i,l,r,c),d[2]=N(o,l,a,c),d[3]=N(r,c,o,h),e.x1==i&&e.y1==s||n.x1==i&&n.y1==s?(d[4]=N(i,s,r,l),d[5]=N(o,c,a,h)):(d[4]=N(o,s,a,l),d[5]=N(i,c,r,h)),t.grep(d,function(t){return t.height()>0&&t.width()>0})[0]}function u(){return we.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}function f(){return!!we.createElement("canvas").getContext}function p(t,e){return-1!=Pe(t,e)}function g(t){return t[t.length-1]}function m(t,e){t.push.apply(t,e)}function v(t,e){return _(Ee.ceil(t/e)*e,$e)}function y(t,e){return _(Ee.floor(t/e)*e,$e)}function _(t,e){var n=Ee.pow(10,e||0);return Ee.round(t*n)/n}function w(t,e){return Ee.log(t)/Ee.log(e)}function x(t,e,n){var i=_(Ee.abs(t%e),$e),r=e*(1-n);return 0===i||i>r}function b(t,e,n){return _(t+(e-t)*n,He)}function k(t){return typeof t!==_n}function C(t,e){return k(t)?t:e}function S(t,e){return t-e}function T(t,e,n){var i,r=t.length;for(i=0;r>i;i++)t[i][e]=n}function D(t,e){return t.match(Ke)?xe.format.apply(this,arguments):xe.toString(e,t)}function A(t){return we.getElementById(t)}function P(t){for(var e=t.parentNode;e&&e.parentNode;)e=e.parentNode;return e!==we}function M(t,e){return 0>-t.x*e.y+t.y*e.x}function E(t,e){return t&&e?t.getTime()-e.getTime():0}function I(t,e,n){return Ee.max(Ee.min(t,n),e)}function L(t){var e=t.originalEvent,n=0;return e.wheelDelta&&(n=-e.wheelDelta/120,n=n>0?Ee.ceil(n):Ee.floor(n)),e.detail&&(n=_(e.detail/3)),n}function B(t){if(!t||!t.indexOf||t.indexOf("&")<0)return t;var e=B._element;return e.innerHTML=t,e.textContent||e.innerText}function z(t,e){return t>=e.min&&e.max>=t}function F(t){if(!xe.support.vml)for(var e=0;t.segments.length>e;e++)t.segments[e].anchor().round(0).translate(.5,.5)}function R(t){var e,n,i=t.stops,r=t.innerRadius/t.radius*100,o=i.length,a=[];for(e=0;o>e;e++)n=Ie({},i[e]),n.offset=(n.offset*(100-r)+r)/100,a.push(n);return a}var O,N,V,H,U,W,j,G,q,$,Y,X,Q,K,Z,J,te,ee,ne,ie,re,oe,ae,se,le,ce,he,de,ue,fe,pe,ge,me,ve,ye,_e,we=document,xe=window.kendo,be=xe.util,ke=xe.dataviz,Ce=ke.geometry,Se=ke.drawing,Te=xe.Class,De=xe.template,Ae=t.noop,Pe=t.inArray,Me=t.trim,Ee=Math,Ie=xe.deepExtend,Le=function(t){return De(t,{useWithBlock:!1,paramName:"d"})},Be="k-",ze=10,Fe="axisLabelClick",Re=1,Oe="#000",Ne="bottom",Ve="center",He=3,Ue="clip",We="circle",je="cross",Ge="12px sans-serif",qe=400,$e=6,Ye=600,Xe=Ee.PI/180,Qe="fadeIn",Ke=/\{\d+:?/,Ze="height",Je="k",tn=1e3,en=1e4,nn=1e5,rn=600,on="inside",an="left",sn="linear",ln=Number.MAX_VALUE,cn=-Number.MAX_VALUE,hn="none",dn="noteClick",un="noteHover",fn="outside",pn="radial",gn="right",mn="swing",vn="top",yn="triangle",_n="undefined",wn=/([A-Z])/g,xn="width",bn="#fff",kn="x",Cn="y",Sn=.2,Tn=Te.extend({init:function(t,e,n,i,r,o){this.a=t||0,this.b=e||0,this.c=n||0,this.d=i||0,this.e=r||0,this.f=o||0},times:function(t){return new Tn(this.a*t.a+this.c*t.b,this.b*t.a+this.d*t.b,this.a*t.c+this.c*t.d,this.b*t.c+this.d*t.d,this.a*t.e+this.c*t.f+this.e,this.b*t.e+this.d*t.f+this.f)}});Ie(Tn,{translate:function(t,e){var n=new Tn;return n.a=1,n.b=0,n.c=0,n.d=1,n.e=t,n.f=e,n},unit:function(){return new Tn(1,0,0,1,0,0)},rotate:function(t,e,n){var i=new Tn;return i.a=Ee.cos(t*Xe),i.b=Ee.sin(t*Xe),i.c=-i.b,i.d=i.a,i.e=e-e*i.a+n*i.b||0,i.f=n-n*i.a-e*i.b||0,i},scale:function(t,e){var n=new Tn;return n.a=t,n.b=0,n.c=0,n.d=e,n.e=0,n.f=0,n}}),xe.dataviz.Matrix=Tn,O=function(t,n){var i=this;return i instanceof O?(i.x=t||0,i.y=n||0,e):new O(t,n)},O.fn=O.prototype={clone:function(){var t=this;return new O(t.x,t.y)},equals:function(t){return t&&t.x===this.x&&t.y===this.y},rotate:function(t,e){var n=this,i=e*Xe,r=Ee.cos(i),o=Ee.sin(i),a=t.x,s=t.y,l=n.x,c=n.y;return n.x=_(a+(l-a)*r+(c-s)*o,He),n.y=_(s+(c-s)*r-(l-a)*o,He),n},multiply:function(t){var e=this;return e.x*=t,e.y*=t,e},distanceTo:function(t){var e=this.x-t.x,n=this.y-t.y;return Ee.sqrt(e*e+n*n)},transform:function(t){var e=this.x,n=this.y;return this.x=t.a*e+t.c*n+t.e,this.y=t.b*e+t.d*n+t.f,this}},O.onCircle=function(t,e,n){return e*=Xe,new O(t.x-n*Ee.cos(e),t.y-n*Ee.sin(e))},N=function(t,n,i,r){var o=this;return o instanceof N?(o.x1=t||0,o.x2=i||0,o.y1=n||0,o.y2=r||0,e):new N(t,n,i,r)},N.fn=N.prototype={width:function(){return this.x2-this.x1},height:function(){return this.y2-this.y1},translate:function(t,e){var n=this;return n.x1+=t,n.x2+=t,n.y1+=e,n.y2+=e,n},move:function(t,e){var n=this,i=n.height(),r=n.width();return k(t)&&(n.x1=t,n.x2=n.x1+r),k(e)&&(n.y1=e,n.y2=n.y1+i),n},wrap:function(t){var e=this;return e.x1=Ee.min(e.x1,t.x1),e.y1=Ee.min(e.y1,t.y1),e.x2=Ee.max(e.x2,t.x2),e.y2=Ee.max(e.y2,t.y2),e},wrapPoint:function(t){return this.wrap(new N(t.x,t.y,t.x,t.y)),this},snapTo:function(t,e){var n=this;return e!=kn&&e||(n.x1=t.x1,n.x2=t.x2),e!=Cn&&e||(n.y1=t.y1,n.y2=t.y2),n},alignTo:function(t,e){var n,i,r=this,o=r.height(),a=r.width(),s=e==vn||e==Ne?Cn:kn,l=s==Cn?o:a;return e===Ve?(n=t.center(),i=r.center(),r.x1+=n.x-i.x,r.y1+=n.y-i.y):r[s+1]=e===vn||e===an?t[s+1]-l:t[s+2],r.x2=r.x1+a,r.y2=r.y1+o,r},shrink:function(t,e){var n=this;return n.x2-=t,n.y2-=e,n},expand:function(t,e){return this.shrink(-t,-e),this},pad:function(t){var e=this,i=n(t);return e.x1-=i.left,e.x2+=i.right,e.y1-=i.top,e.y2+=i.bottom,e},unpad:function(t){var e=this,i=n(t);return i.left=-i.left,i.top=-i.top,i.right=-i.right,i.bottom=-i.bottom,e.pad(i)},clone:function(){var t=this;return new N(t.x1,t.y1,t.x2,t.y2)},center:function(){var t=this;return new O(t.x1+t.width()/2,t.y1+t.height()/2)},containsPoint:function(t){var e=this;return t.x>=e.x1&&e.x2>=t.x&&t.y>=e.y1&&e.y2>=t.y},points:function(){var t=this;return[new O(t.x1,t.y1),new O(t.x2,t.y1),new O(t.x2,t.y2),new O(t.x1,t.y2)]},getHash:function(){var t=this;return[t.x1,t.y1,t.x2,t.y2].join(",")},overlaps:function(t){return!(this.y1>t.y2||t.y1>this.y2||this.x1>t.x2||t.x1>this.x2)},rotate:function(t){var e=this,n=e.width(),i=e.height(),r=e.center(),o=r.x,a=r.y,s=h(0,0,o,a,t),l=h(n,0,o,a,t),c=h(n,i,o,a,t),d=h(0,i,o,a,t);return n=Ee.max(s.x,l.x,c.x,d.x)-Ee.min(s.x,l.x,c.x,d.x),i=Ee.max(s.y,l.y,c.y,d.y)-Ee.min(s.y,l.y,c.y,d.y),e.x2=e.x1+n,e.y2=e.y1+i,e},toRect:function(){return new Ce.Rect([this.x1,this.y1],[this.width(),this.height()])}},V=Te.extend({init:function(t,e,n,i,r){var o=this;o.c=t,o.ir=e,o.r=n,o.startAngle=i,o.angle=r},clone:function(){var t=this;return new V(t.c,t.ir,t.r,t.startAngle,t.angle)},middle:function(){return this.startAngle+this.angle/2},radius:function(t,e){var n=this;return e?n.ir=t:n.r=t,n},point:function(t,e){var n=this,i=t*Xe,r=Ee.cos(i),o=Ee.sin(i),a=e?n.ir:n.r,s=_(n.c.x-r*a,He),l=_(n.c.y-o*a,He);return new O(s,l)},adjacentBox:function(t,e,n){var i=this.clone().expand(t),r=i.middle(),o=i.point(r),a=e/2,s=n/2,l=o.x-a,c=o.y-s,h=Ee.sin(r*Xe),d=Ee.cos(r*Xe);return Ee.abs(h)<.9&&(l+=a*-d/Ee.abs(d)),Ee.abs(d)<.9&&(c+=s*-h/Ee.abs(h)),new N(l,c,l+e,c+n)},containsPoint:function(t){var e=this,n=e.c,i=e.ir,r=e.r,o=e.startAngle,a=e.startAngle+e.angle,s=t.x-n.x,l=t.y-n.y,c=new O(s,l),h=e.point(o),d=new O(h.x-n.x,h.y-n.y),u=e.point(a),f=new O(u.x-n.x,u.y-n.y),p=_(s*s+l*l,He);return(d.equals(c)||M(d,c))&&!M(f,c)&&p>=i*i&&r*r>=p},getBBox:function(){var t,e,n,i=this,r=new N(ln,ln,cn,cn),o=_(i.startAngle%360),a=_((o+i.angle)%360),s=i.ir,l=[0,90,180,270,o,a].sort(S),c=Pe(o,l),h=Pe(a,l);for(t=o==a?l:h>c?l.slice(c,h+1):[].concat(l.slice(0,h+1),l.slice(c,l.length)),e=0;t.length>e;e++)n=i.point(t[e]),r.wrapPoint(n),r.wrapPoint(n,s);return s||r.wrapPoint(i.c),r},expand:function(t){return this.r+=t,this}}),H=V.extend({init:function(t,e,n,i){V.fn.init.call(this,t,0,e,n,i)},expand:function(t){return V.fn.expand.call(this,t)},clone:function(){var t=this;return new H(t.c,t.r,t.startAngle,t.angle)},radius:function(t){return V.fn.radius.call(this,t)},point:function(t){return V.fn.point.call(this,t)}}),U=Te.extend({init:function(t){Ie(this,{height:40,rotation:90,radius:10,arcAngle:10},t)}}),W=function(){},W.fn=W.prototype={createRing:function(t,e){var n,i=t.startAngle+180,r=t.angle+i,o=new Ce.Point(t.c.x,t.c.y),a=Ee.max(t.r,0),s=Ee.max(t.ir,0),l=new Ce.Arc(o,{startAngle:i,endAngle:r,radiusX:a,radiusY:a}),c=Se.Path.fromArc(l,e).close();return s?(l.radiusX=l.radiusY=s,n=l.pointAt(r),c.lineTo(n.x,n.y),c.arc(r,i,s,s,!0)):c.lineTo(o.x,o.y),c}},W.current=new W,j=Te.extend({init:function(t){var e=this;e.children=[],e.options=Ie({},e.options,t),e.id=e.options.id},reflow:function(t){var e,n,i,r=this,o=r.children;for(n=0;o.length>n;n++)i=o[n],i.reflow(t),e=e?e.wrap(i.box):i.box.clone();r.box=e||t},getViewElements:function(t){var e,n,i,r=this,o=r.modelId,a=[],s=r.children,l=s.length;for(n=0;l>n;n++)i=s[n],i.discoverable||(i.options=i.options||{},i.modelId=o),a.push.apply(a,i.getViewElements(t));return r.discoverable&&(e=r.getRoot(),e&&(e.modelMap[o]=r)),a},enableDiscovery:function(){var t=this;t.modelId=c(),t.discoverable=!0},destroy:function(){var t,n=this,i=n.children,r=n.getRoot(),o=n.modelId,a=n.id,s=fe.current;for(a&&s.free(a),o&&(s.free(o),r&&r.modelMap[o]&&(r.modelMap[o]=e)),this.animation&&this.animation.destroy(),t=0;i.length>t;t++)i[t].destroy()},getRoot:function(){var t=this.parent;return t?t.getRoot():null},translateChildren:function(t,e){var n,i=this,r=i.children,o=r.length;for(n=0;o>n;n++)r[n].box.translate(t,e)},append:function(){m(this.children,arguments);for(var t=0;arguments.length>t;t++)arguments[t].parent=this},renderVisual:function(){var t,e;for(this.createVisual(),this.visual&&(this.visual.chartElement=this,this.parent&&this.parent.appendVisual(this.visual)),t=this.children,e=0;t.length>e;e++)t[e].renderVisual();this.createAnimation(),this.renderComplete()},createVisual:function(){this.visual=new ke.drawing.Group({zIndex:this.options.zIndex,visible:C(this.options.visible,!0)})},createAnimation:function(){this.visual&&(this.animation=Se.Animation.create(this.visual,this.options.animation))},appendVisual:function(t){t.chartElement||(t.chartElement=this),t.options.noclip?this.getRoot().visual.append(t):t.options.zIndex?this.stackRoot().stackVisual(t):this.visual?this.visual.append(t):this.parent.appendVisual(t)},stackRoot:function(){return this.parent?this.parent.stackRoot():this},stackVisual:function(t){var e,n,i,r=t.options.zIndex||0,o=this.visual.children;for(e=0;o.length>e&&(n=o[e],i=C(n.options.zIndex,0),!(i>r));e++);this.visual.insertAt(t,e)},traverse:function(t){var e,n,i=this.children;for(e=0;i.length>e;e++)n=i[e],t(n),n.traverse&&n.traverse(t)},closest:function(t){for(var n=this,i=!1;n&&!i;)i=t(n),i||(n=n.parent);return i?n:e},renderComplete:t.noop,toggleHighlight:function(t){var e,n;this.createHighlight&&(e=this._highlight,n=this.options.highlight,e||(e=this._highlight=this.createHighlight({fill:{color:bn,opacity:.2},stroke:{color:bn,width:1,opacity:.2}}),this.visual.append(e)),n&&n.visible&&e.visible(t))},createGradientOverlay:function(t,e,n){var i=new Se.Path(Ie({stroke:{color:hn},fill:this.createGradient(n)},e));return i.segments.elements(t.segments.elements()),i},createGradient:function(t){return this.parent?this.parent.createGradient(t):e}}),G=j.extend({init:function(t){var e=this;e.modelMap={},e.gradients={},j.fn.init.call(e,t)},options:{width:Ye,height:qe,background:bn,border:{color:Oe,width:0},margin:n(5),zIndex:-2},reflow:function(){var t,e=this,n=e.options,i=e.children,r=new N(0,0,n.width,n.height);for(e.box=r.unpad(n.margin),t=0;i.length>t;t++)i[t].reflow(r),r=d(r,i[t].box)},createVisual:function(){this.visual=new Se.Group,this.createBackground()},createBackground:function(){var t=this.options,e=t.border||{},n=this.box.clone().pad(t.margin).unpad(e.width),i=Se.Path.fromRect(n.toRect(),{stroke:{color:e.width?e.color:"",width:e.width,dashType:e.dashType},fill:{color:t.background,opacity:t.opacity},zIndex:-10});this.visual.append(i)},getRoot:function(){return this},createGradient:function(t){var e,n,i=this.gradients,r=be.objectKey(t),o=ke.Gradients[t.gradient];return i[r]?e=i[r]:(n=Ie({},o,t),"linear"==o.type?e=new Se.LinearGradient(n):(t.innerRadius&&(n.stops=R(n)),e=new Se.RadialGradient(n),e.supportVML=o.supportVML!==!1),i[r]=e),e}}),q=j.extend({options:{align:an,vAlign:vn,margin:{},padding:{},border:{color:Oe,width:0},background:"",shrinkToFit:!1,width:0,height:0,visible:!0},reflow:function(t){function e(){s.align(t,kn,l.align),s.align(t,Cn,l.vAlign),s.paddingBox=i.clone().unpad(f).unpad(g)}var i,r,o,a,s=this,l=s.options,c=l.width,h=l.height,d=c&&h,u=l.shrinkToFit,f=n(l.margin),p=n(l.padding),g=l.border.width,m=s.children;for(r=t.clone(),d&&(r.x2=r.x1+c,r.y2=r.y1+h),u&&r.unpad(f).unpad(g).unpad(p),j.fn.reflow.call(s,r),i=d?s.box=N(0,0,c,h):s.box,u&&d?(e(),r=s.contentBox=s.paddingBox.clone().unpad(p)):(r=s.contentBox=i.clone(),i.pad(p).pad(g).pad(f),e()),s.translateChildren(i.x1-r.x1+f.left+g+p.left,i.y1-r.y1+f.top+g+p.top),o=0;m.length>o;o++)a=m[o],a.reflow(a.box)},align:function(t,e,n){var i=this,r=i.box,o=e+1,a=e+2,s=e===kn?xn:Ze,l=r[s]();p(n,[an,vn])?(r[o]=t[o],r[a]=r[o]+l):p(n,[gn,Ne])?(r[a]=t[a],r[o]=r[a]-l):n==Ve&&(r[o]=t[o]+(t[s]()-l)/2,r[a]=r[o]+l)},hasBox:function(){var t=this.options;return t.border.width||t.background},createVisual:function(){j.fn.createVisual.call(this);var t=this.options;t.visible&&this.hasBox()&&this.visual.append(Se.Path.fromRect(this.paddingBox.toRect(),this.visualStyle()))},visualStyle:function(){var t=this,e=t.options,n=e.border||{};return{stroke:{width:n.width,color:n.color,opacity:C(n.opacity,e.opacity),dashType:n.dashType},fill:{color:e.background,opacity:e.opacity},cursor:e.cursor}},getViewElements:function(t,e){var n=this,i=n.options,r=[];return i.visible?(n.hasBox()&&r.push(t.createRect(n.paddingBox,Ie(n.elementStyle(),e))),r.concat(j.fn.getViewElements.call(n,t))):[]},elementStyle:function(){var t=this,e=t.options,n=e.border||{};return{id:this.id,stroke:n.width?n.color:"",strokeWidth:n.width,dashType:n.dashType,strokeOpacity:C(n.opacity,e.opacity),fill:e.background,fillOpacity:e.opacity,animation:e.animation,zIndex:e.zIndex,cursor:e.cursor,data:{modelId:t.modelId}}}}),$=j.extend({init:function(t,e){var n=this;j.fn.init.call(n,e),n.content=t,n.reflow(N())},options:{font:Ge,color:Oe,align:an,vAlign:""},reflow:function(t){var e,n=this,i=n.options;e=i.size=a(n.content,{font:i.font}),n.baseline=e.baseline,n.box=N(t.x1,t.y1,t.x1+e.width,t.y1+e.height)},getViewElements:function(t){var e=this,n=e.options;return j.fn.getViewElements.call(this,t),[t.createText(e.content,Ie({},n,{id:e.id,x:e.box.x1,y:e.box.y1,baseline:e.baseline,data:{modelId:e.modelId}}))]},createVisual:function(){var t=this.options;this.visual=new Se.Text(this.content,this.box.toRect().topLeft(),{font:t.font,fill:{color:t.color,opacity:t.opacity},cursor:t.cursor})}}),Y=j.extend({init:function(t){j.fn.init.call(this,t),this._initDirection()},_initDirection:function(){var t=this.options;t.vertical?(this.groupAxis=kn,this.elementAxis=Cn,this.groupSizeField=xn,this.elementSizeField=Ze,this.groupSpacing=t.spacing,this.elementSpacing=t.vSpacing):(this.groupAxis=Cn,this.elementAxis=kn,this.groupSizeField=Ze,this.elementSizeField=xn,this.groupSpacing=t.vSpacing,this.elementSpacing=t.spacing)},options:{vertical:!0,wrap:!0,vSpacing:0,spacing:0},reflow:function(t){this.box=t.clone(),this.reflowChildren()},reflowChildren:function(){var t,e,n,i,r,o,a,s,l,c,h=this,d=h.box,u=h.elementAxis,f=h.groupAxis,p=h.elementSizeField,g=h.groupSizeField,m=h.groupOptions(),v=m.groups,y=v.length,_=d[f+1]+h.alignStart(m.groupsSize,d[g]()),w=_;if(y){for(a=0;y>a;a++){for(n=v[a],i=n.groupElements,r=i.length,t=d[u+1],o=0;r>o;o++)s=i[o],c=h.elementSize(s),e=w+h.alignStart(c[g],n.groupSize),l=N(),l[f+1]=e,l[f+2]=e+c[g],l[u+1]=t,l[u+2]=t+c[p],s.reflow(l),t+=c[p]+h.elementSpacing;w+=n.groupSize+h.groupSpacing}d[f+1]=_,d[f+2]=_+m.groupsSize,d[u+2]=d[u+1]+m.maxGroupElementsSize}},alignStart:function(t,e){var n=0,i=this.options.align;return i==gn||i==Ne?n=e-t:i==Ve&&(n=(e-t)/2),n},groupOptions:function(){var t,e,n=this,i=n.box,r=n.children,o=r.length,a=this.elementSizeField,s=this.groupSizeField,l=this.elementSpacing,c=this.groupSpacing,h=_(i[a]()),d=0,u=0,f=0,p=0,g=[],m=[],v=0;for(d=0;o>d;d++)e=r[d],e.box||e.reflow(i),t=this.elementSize(e),n.options.wrap&&_(f+l+t[a])>h&&(g.push({groupElements:m,groupSize:u,groupElementsSize:f}),v=Ee.max(v,f),p+=c+u,u=0,f=0,m=[]),u=Ee.max(u,t[s]),f>0&&(f+=l),f+=t[a],m.push(e);return g.push({groupElements:m,groupSize:u,groupElementsSize:f}),v=Ee.max(v,f),p+=u,{groups:g,groupsSize:p,maxGroupElementsSize:v}},elementSize:function(t){return{width:t.box.width(),height:t.box.height()}}}),X=q.extend({ROWS_SPLIT_REGEX:/\n|\\n/m,init:function(t,e){var n=this;n.content=t,q.fn.init.call(n,e),n._initContainer(),n.reflow(N())},_initContainer:function(){var t,e,n=this,i=n.options,r=i.id,o=(n.content+"").split(n.ROWS_SPLIT_REGEX),a=new Y({vertical:!0,align:i.align,wrap:!1}),s=Ie({},i,{opacity:1,animation:null}),l=n.hasBox();for(n.container=a,n.append(a),e=0;o.length>e;e++)t=new $(Me(o[e]),s),(l||r&&e>0)&&(t.id=c()),a.append(t)},reflow:function(t){var e,n,i=this,r=i.options,o=r.align,a=r.rotation;i.container.options.align=o,q.fn.reflow.call(i,t),a&&(e=r.margin,n=i.box.unpad(e),i.normalBox=n.clone(),n.rotate(a),n.pad(e),i.align(t,kn,o),i.align(t,Cn,r.vAlign))},getViewElements:function(t,e){var n,i,r=this,o=r.options,a=Ie(r.elementStyle(),e),s=[],l=a.zIndex;return o.visible?(r.hasBox()&&s.push(t.createRect(r.paddingBox,a)),o.rotation&&(n=r.rotationMatrix()),i=t.createTextBox({matrix:n,zIndex:l}),i.children=s.concat(j.fn.getViewElements.call(r,t)),[i]):[]},createVisual:function(){var t,e=this.options;e.visible&&(this.visual=new ke.drawing.Group({transform:this.rotationTransform(),zIndex:e.zIndex,noclip:e.noclip}),this.hasBox()&&(t=Se.Path.fromRect(this.paddingBox.toRect(),this.visualStyle()),this.visual.append(t)))},rotationTransform:function(){var t,e,n,i,r=this.options.rotation;return r?(t=this.normalBox.center(),e=t.x,n=t.y,i=this.box.center(),Ce.transform().translate(i.x-e,i.y-n).rotate(r,[e,n])):null},rotationMatrix:function(){var t=this,e=t.options,n=t.normalBox,i=n.center(),r=i.x,o=i.y,a=t.box.center(),s=a.x-r,l=a.y-o,c=Tn.translate(s,l).times(Tn.rotate(e.rotation,r,o));return c}}),Q=j.extend({init:function(t){var e=this;j.fn.init.call(e,t),t=e.options,e.append(new X(t.text,Ie({},t,{vAlign:t.position})))},options:{color:Oe,position:vn,align:Ve,margin:n(5),padding:n(5)},reflow:function(t){var e=this;j.fn.reflow.call(e,t),e.box.snapTo(t,kn)}}),Q.buildTitle=function(t,e,n){var i;return"string"==typeof t&&(t={text:t}),t=Ie({visible:!0},n,t),t&&t.visible&&t.text&&(i=new Q(t),e.append(i)),i},K=X.extend({init:function(t,e,n,i,r){var o=this;o.text=e,o.value=t,o.index=n,o.dataItem=i,X.fn.init.call(o,e,Ie({id:c()},r)),o.enableDiscovery()},click:function(e,n){var i=this;e.trigger(Fe,{element:t(n.target),value:i.value,text:i.text,index:i.index,dataItem:i.dataItem,axis:i.parent.options})}}),Z=j.extend({init:function(t){var e=this;j.fn.init.call(e,t),e.options.visible||(e.options=Ie({},e.options,{labels:{visible:!1},line:{visible:!1},margin:0,majorTickSize:0,minorTickSize:0})),e.options.minorTicks=Ie({},{color:e.options.line.color,width:e.options.line.width,visible:e.options.minorTickType!=hn},e.options.minorTicks,{size:e.options.minorTickSize,align:e.options.minorTickType}),e.options.majorTicks=Ie({},{color:e.options.line.color,width:e.options.line.width,visible:e.options.majorTickType!=hn},e.options.majorTicks,{size:e.options.majorTickSize,align:e.options.majorTickType}),e.createLabels(),e.createTitle(),e.createNotes()},options:{labels:{visible:!0,rotation:0,mirror:!1,step:1,skip:0},line:{width:1,color:Oe,visible:!0},title:{visible:!0,position:Ve},majorTicks:{align:fn,size:4,skip:0,step:1},minorTicks:{align:fn,size:3,skip:0,step:1},axisCrossingValue:0,majorTickType:fn,minorTickType:hn,majorGridLines:{skip:0,step:1},minorGridLines:{visible:!1,width:1,color:Oe,skip:0,step:1},margin:5,visible:!0,reverse:!1,justified:!0,notes:{label:{text:""}},_alignLines:!0},createLabels:function(){var t,e,n,i=this,r=i.options,o=r.vertical?gn:Ve,a=Ie({},r.labels,{align:o,zIndex:r.zIndex}),s=a.step;if(i.labels=[],a.visible)for(t=i.labelsCount(),n=a.skip;t>n;n+=s)e=i.createAxisLabel(n,a),e&&(i.append(e),i.labels.push(e))},lineBox:function(){var t=this,e=t.options,n=t.box,i=e.vertical,r=t.labels,o=i?Ze:xn,a=e.justified,s=e.labels.mirror,l=s?n.x1:n.x2,c=s?n.y2:n.y1,h=0,d=e.line.width;return a&&r.length>1&&(h=r[0].box[o]()/2,d=g(r).box[o]()/2),i?N(l,n.y1+h,l,n.y2-d):N(n.x1+h,c,n.x2-d,c)},createTitle:function(){var t,e=this,n=e.options,i=Ie({rotation:n.vertical?-90:0,text:"",zIndex:1},n.title);i.visible&&i.text&&(t=new X(i.text,i),e.append(t),e.title=t)},createNotes:function(){var t,e,n,i=this,r=i.options,o=r.notes,a=o.data||[];for(i.notes=[],t=0;a.length>t;t++)e=Ie({},o,a[t]),e.value=i.parseNoteValue(e.value),n=new J(e.value,e.label.text,null,null,null,e),n.options.visible&&(k(n.options.position)?r.vertical&&!p(n.options.position,[an,gn])?n.options.position=r.reverse?an:gn:r.vertical||p(n.options.position,[vn,Ne])||(n.options.position=r.reverse?Ne:vn):n.options.position=r.vertical?r.reverse?an:gn:r.reverse?Ne:vn,i.append(n),i.notes.push(n))},parseNoteValue:function(t){return t},createVisual:function(){j.fn.createVisual.call(this),this._gridLines=new Se.Group({zIndex:-2}),this.appendVisual(this._gridLines),this.createPlotBands(),this.createBackground(),this.createLine()},createTicks:function(t){function e(e,n,r){var s,c=e.length;if(n.visible)for(s=n.skip;c>s;s+=n.step)k(r)&&s%r===0||(l.tickX=a?o.x2:o.x2-n.size,l.tickY=a?o.y1-n.size:o.y1,l.position=e[s],t.append(i(l,n)))}var n=this,r=n.options,o=n.lineBox(),a=r.labels.mirror,s=r.majorTicks.visible?r.majorUnit:0,l={vertical:r.vertical};e(n.getMajorTickPositions(),r.majorTicks),e(n.getMinorTickPositions(),r.minorTicks,s/r.minorUnit)},createLine:function(){var t,e,n=this,i=n.options,r=i.line,o=n.lineBox();r.width>0&&r.visible&&(t=new Se.Path({stroke:{width:r.width,color:r.color,dashType:r.dashType}}),t.moveTo(o.x1,o.y1).lineTo(o.x2,o.y2),i._alignLines&&F(t),e=new Se.Group,e.append(t),this.visual.append(e),this.createTicks(e))},getActualTickSize:function(){var t=this,e=t.options,n=0;return e.majorTicks.visible&&e.minorTicks.visible?n=Ee.max(e.majorTicks.size,e.minorTicks.size):e.majorTicks.visible?n=e.majorTicks.size:e.minorTicks.visible&&(n=e.minorTicks.size),n},createBackground:function(){var t,e=this,n=e.options,i=n.background,r=e.box;i&&(t=Se.Path.fromRect(r.toRect(),{fill:{color:i},stroke:null}),this.visual.append(t))},createPlotBands:function(){var e,n,i,r,o,a,s=this,l=s.options,c=l.plotBands||[],h=l.vertical,d=s.plotArea;0!==c.length&&(o=new Se.Group({zIndex:-1}),a=this.range(),t.each(c,function(t,l){var c,u,f;i=C(l.from,cn),r=C(l.to,ln),c=[],(z(i,a)||z(r,a))&&(h?(e=d.axisX.lineBox(),n=s.getSlot(l.from,l.to,!0)):(e=s.getSlot(l.from,l.to,!0),n=d.axisY.lineBox()),u=new Ce.Rect([e.x1,n.y1],[e.width(),n.height()]),f=Se.Path.fromRect(u,{fill:{color:l.color,opacity:l.opacity},stroke:null}),o.append(f))}),s.appendVisual(o))},createGridLines:function(t){function e(t,e,i){var o,s=t.length;if(e.visible)for(o=e.skip;s>o;o+=e.step)n=_(t[o]),p(n,f)||o%i===0||a&&d===n||(u.position=n,g.append(r(u,e)),f.push(n))}var n,i=this,o=i.options,a=t.options.line.visible,s=o.majorGridLines,l=s.visible?o.majorUnit:0,c=o.vertical,h=t.lineBox(),d=h[c?"y1":"x1"],u={lineStart:h[c?"x1":"y1"],lineEnd:h[c?"x2":"y2"],vertical:c,modelId:i.plotArea.modelId},f=[],g=this._gridLines;return e(i.getMajorTickPositions(),o.majorGridLines),e(i.getMinorTickPositions(),o.minorGridLines,l/o.minorUnit),g.children},reflow:function(t){var e,n,i=this,r=i.options,o=r.vertical,a=i.labels,s=a.length,l=i.getActualTickSize()+r.margin,c=0,h=0,d=i.title;for(n=0;s>n;n++)e=a[n],c=Ee.max(c,e.box.height()),h=Ee.max(h,e.box.width());d&&(o?h+=d.box.width():c+=d.box.height()),i.box=o?N(t.x1,t.y1,t.x1+h+l,t.y2):N(t.x1,t.y1,t.x2,t.y1+c+l),i.arrangeTitle(),i.arrangeLabels(),i.arrangeNotes()},arrangeLabels:function(){var t,e,n,i,r,o,a,s,l,c,h,d=this,u=d.options,f=d.labels,p=!u.justified,g=u.vertical,m=d.lineBox(),v=u.labels.mirror,y=d.getMajorTickPositions(),_=d.getActualTickSize()+u.margin;for(n=0;f.length>n;n++)i=f[n],r=i.index,o=g?i.box.height():i.box.width(),a=y[r]-o/2,g?(p&&(s=y[r],l=y[r+1],c=s+(l-s)/2,a=c-o/2),h=m.x2,v?h+=_:h-=_+i.box.width(),t=i.box.move(h,a)):(p?(s=y[r],l=y[r+1]):(s=a,l=a+o),e=m.y1,v?e-=_+i.box.height():e+=_,t=N(s,e,l,e+i.box.height())),i.reflow(t)},arrangeTitle:function(){var t=this,e=t.options,n=e.labels.mirror,i=e.vertical,r=t.title;r&&(i?(r.options.align=n?gn:an,r.options.vAlign=r.options.position):(r.options.align=r.options.position,r.options.vAlign=n?vn:Ne),r.reflow(t.box))},arrangeNotes:function(){var t,e,n,i,r=this;for(t=0;r.notes.length>t;t++)e=r.notes[t],i=e.options.value,k(i)?(r.shouldRenderNote(i)?e.show():e.hide(),n=r.getSlot(i)):e.hide(),e.reflow(n||r.lineBox())},alignTo:function(t){var e=this,n=t.lineBox(),i=e.options.vertical,r=i?Cn:kn;e.box.snapTo(n,r),i?e.box.shrink(0,e.lineBox().height()-n.height()):e.box.shrink(e.lineBox().width()-n.width(),0),e.box[r+1]-=e.lineBox()[r+1]-n[r+1],e.box[r+2]-=e.lineBox()[r+2]-n[r+2]},axisLabelText:function(t,e,n){var i,r=t;return n.template?(i=De(n.template),r=i({value:t,dataItem:e,format:n.format,culture:n.culture})):n.format&&(r=n.format.match(Ke)?xe.format(n.format,t):xe.toString(t,n.format,n.culture)),r}}),J=q.extend({init:function(t,e,n,i,r,o){var a=this;q.fn.init.call(a,o),a.enableDiscovery(),a.value=t,a.text=e,a.dataItem=n,a.category=i,a.series=r,a.render()},options:{icon:{visible:!0,type:We},label:{position:on,visible:!0,align:Ve,vAlign:Ve},line:{visible:!0},visible:!0,position:vn,zIndex:2},hide:function(){this.options.visible=!1},show:function(){this.options.visible=!0},render:function(){var t,e,n,i,r=this,o=r.options,a=o.label,s=r.text,l=o.icon,c=l.size,h={data:{modelId:r.modelId}},d=N();o.visible&&(k(a)&&a.visible&&(a.template?(i=De(a.template),s=i({dataItem:r.dataItem,category:r.category,value:r.value,text:s,series:r.series})):a.format&&(s=D(a.format,s)),r.label=new X(s,Ie({},a,h)),r.append(r.label),a.position===on&&(l.type===We?c=Ee.max(r.label.box.width(),r.label.box.height()):(e=r.label.box.width(),n=r.label.box.height()),d.wrap(r.label.box))),l.width=e||c,l.height=n||c,t=new te(Ie({},l,h)),r.marker=t,r.append(t),t.reflow(N()),r.wrapperBox=d.wrap(t.box))},reflow:function(t){var e,n,i,r=this,o=r.options,a=t.center(),s=r.wrapperBox,l=o.line.length,c=o.position,h=r.label,d=r.marker;o.visible&&(p(c,[an,gn])?c===an?(i=s.alignTo(t,c).translate(-l,t.center().y-s.center().y),o.line.visible&&(e=[Ee.floor(t.x1),a.y],r.linePoints=[e,[Ee.floor(i.x2),a.y]],n=i.clone().wrapPoint(e))):(i=s.alignTo(t,c).translate(l,t.center().y-s.center().y),o.line.visible&&(e=[Ee.floor(t.x2),a.y],r.linePoints=[e,[Ee.floor(i.x1),a.y]],n=i.clone().wrapPoint(e))):c===Ne?(i=s.alignTo(t,c).translate(t.center().x-s.center().x,l),o.line.visible&&(e=[Ee.floor(a.x),Ee.floor(t.y2)],r.linePoints=[e,[Ee.floor(a.x),Ee.floor(i.y1)]],n=i.clone().wrapPoint(e))):(i=s.alignTo(t,c).translate(t.center().x-s.center().x,-l),o.line.visible&&(e=[Ee.floor(a.x),Ee.floor(t.y1)],r.linePoints=[e,[Ee.floor(a.x),Ee.floor(i.y2)]],n=i.clone().wrapPoint(e))),d&&d.reflow(i),h&&(h.reflow(i),d&&(o.label.position===fn&&h.box.alignTo(d.box,c),h.reflow(h.box))),r.contentBox=i,r.box=n||i)},createVisual:function(){q.fn.createVisual.call(this),this.options.visible&&this.createLine()},createLine:function(){var t=this.options.line,e=Se.Path.fromPoints(this.linePoints,{stroke:{color:t.color,width:t.width,dashType:t.dashType}});this.visual.append(e)},click:function(t,e){var n=this.eventArgs(e);t.trigger(dn,n)||e.preventDefault()},hover:function(t,e){var n=this.eventArgs(e);t.trigger(un,n)||e.preventDefault()},leave:function(t){t._unsetActivePoint()},eventArgs:function(e){var n=this,i=n.options;return{element:t(e.target),text:k(i.label)?i.label.text:"",dataItem:n.dataItem,series:n.series,value:n.value,category:n.category}}}),te=q.extend({options:{type:We,align:Ve,vAlign:Ve},getElement:function(){var t,e,n=this,i=n.options,r=i.type,o=i.rotation,a=n.paddingBox,s=a.center(),l=a.width()/2;if(i.visible&&n.hasBox())return e=n.visualStyle(),r===We?t=new Se.Circle(new Ce.Circle([_(a.x1+l,He),_(a.y1+a.height()/2,He)],l),e):r===yn?t=Se.Path.fromPoints([[a.x1+l,a.y1],[a.x1,a.y2],[a.x2,a.y2]],e).close():r===je?(t=new Se.MultiPath(e),t.moveTo(a.x1,a.y1).lineTo(a.x2,a.y2),t.moveTo(a.x1,a.y2).lineTo(a.x2,a.y1)):t=Se.Path.fromRect(a.toRect(),e),o&&t.transform(Ce.transform().rotate(-o,[s.x,s.y])),t},createVisual:function(){j.fn.createVisual.call(this);var t=this.getElement();t&&this.visual.append(t)}}),ee=q.extend({init:function(t){var e=this;q.fn.init.call(e,t),e.createTextBox()},options:{arcAngle:300,border:{width:1,color:"red"},label:{zIndex:2,margin:n(2),border:{width:1,color:"green"}}},createTextBox:function(){var t=this,e=t.options,n=new X(e.code,e.label);t.append(n),t.textBox=n},reflow:function(t){var e=this,n=e.textBox;e.box=N(0,0,n.box.height(),1.5*n.box.height()),q.fn.reflow.call(e,t)},getViewElements:function(t){var e=this,n=e.options,i=e.box.center(),r=t.createPin(new U({origin:new O(i.x,i.y),radius:e.textBox.box.height()/2,height:1.5*e.textBox.box.height(),rotation:0,arcAngle:n.arcAngle}),Ie({},{fill:"red",zIndex:1,kur:1,id:"111"},n)),o=[r];return m(o,q.fn.getViewElements.call(e,t)),o}}),ne=Z.extend({init:function(t,e,n){var i=this,r=i.initDefaults(t,e,n);Z.fn.init.call(i,r)},startValue:function(){return 0},options:{type:"numeric",min:0,max:1,vertical:!0,majorGridLines:{visible:!0,width:1,color:Oe},zIndex:1},initDefaults:function(t,e,n){var i,r=this,o=n.narrowRange,a=r.autoAxisMin(t,e,o),l=r.autoAxisMax(t,e,o),c=s(a,l),h={majorUnit:c};return n.roundToMajorUnit!==!1&&(0>a&&x(a,c,1/3)&&(a-=c),l>0&&x(l,c,1/3)&&(l+=c)),h.min=y(a,c),h.max=v(l,c),n&&(i=k(n.min)||k(n.max),i&&n.min===n.max&&(n.min>0?n.min=0:n.max=1),n.majorUnit?(h.min=y(h.min,n.majorUnit),h.max=v(h.max,n.majorUnit)):i&&(n=Ie(h,n),h.majorUnit=s(n.min,n.max))),h.minorUnit=(n.majorUnit||h.majorUnit)/5,Ie(h,n)},range:function(){var t=this.options;return{min:t.min,max:t.max}},autoAxisMax:function(t,e,n){var i,r;if(!t&&!e)return 1;if(0>=t&&0>=e){if(e=t==e?0:e,r=Ee.abs((e-t)/e),!n&&r>Sn)return 0;i=Ee.min(0,e-(t-e)/2)}else t=t==e?0:t,i=e;return i},autoAxisMin:function(t,e,n){var i,r;if(!t&&!e)return 0;if(t>=0&&e>=0){if(t=t==e?0:t,r=(e-t)/e,!n&&r>Sn)return 0;i=Ee.max(0,t-(e-t)/2)}else e=t==e?0:e,i=t;return i},getDivisions:function(t){if(0===t)return 1;var e=this.options,n=e.max-e.min;return Ee.floor(_(n/t,He))+1},getTickPositions:function(t,e){var n,i=this,r=i.options,o=r.vertical,a=r.reverse,s=i.lineBox(),l=o?s.height():s.width(),c=r.max-r.min,h=l/c,d=t*h,u=0,f=i.getDivisions(t),p=(o?-1:1)*(a?-1:1),g=1===p?1:2,m=s[(o?Cn:kn)+g],v=[];for(e&&(u=e/t),n=0;f>n;n++)n%u!==0&&v.push(_(m,He)),m+=d*p;return v},getMajorTickPositions:function(){var t=this;return t.getTickPositions(t.options.majorUnit)},getMinorTickPositions:function(){var t=this;return t.getTickPositions(t.options.minorUnit)},getSlot:function(t,e,n){var i,r,o=this,a=o.options,s=a.reverse,l=a.vertical,c=l?Cn:kn,h=o.lineBox(),d=h[c+(s?2:1)],u=l?h.height():h.width(),f=s?-1:1,p=f*(u/(a.max-a.min)),g=new N(h.x1,h.y1,h.x1,h.y1);
return k(t)||(t=e||0),k(e)||(e=t||0),n&&(t=Ee.max(Ee.min(t,a.max),a.min),e=Ee.max(Ee.min(e,a.max),a.min)),l?(i=a.max-Ee.max(t,e),r=a.max-Ee.min(t,e)):(i=Ee.min(t,e)-a.min,r=Ee.max(t,e)-a.min),g[c+1]=Ee.max(Ee.min(d+p*(s?r:i),nn),-nn),g[c+2]=Ee.max(Ee.min(d+p*(s?i:r),nn),-nn),g},getValue:function(t){var e,n=this,i=n.options,r=i.reverse,o=i.vertical,a=1*i.max,s=1*i.min,l=o?Cn:kn,c=n.lineBox(),h=c[l+(r?2:1)],d=o?c.height():c.width(),u=r?-1:1,f=u*(t[l]-h),p=(a-s)/d,g=f*p;return 0>f||f>d?null:(e=o?a-g:s+g,_(e,$e))},translateRange:function(t){var e=this,n=e.options,i=e.lineBox(),r=n.vertical,o=n.reverse,a=r?i.height():i.width(),s=n.max-n.min,l=a/s,c=_(t/l,$e);return!r&&!o||r&&o||(c=-c),{min:n.min+c,max:n.max+c}},scaleRange:function(t){var e=this,n=e.options,i=-t*n.majorUnit;return{min:n.min-i,max:n.max+i}},labelsCount:function(){return this.getDivisions(this.options.majorUnit)},createAxisLabel:function(t,e){var n=this,i=n.options,r=_(i.min+t*i.majorUnit,$e),o=n.axisLabelText(r,null,e);return new K(r,o,t,null,e)},shouldRenderNote:function(t){var e=this.range();return t>=e.min&&e.max>=t}}),ie=Z.extend({init:function(t,e,n){this.options=this._initOptions(t,e,n),Z.fn.init.call(this,n)},startValue:function(){return this.options.min},options:{type:"log",majorUnit:10,minorUnit:1,axisCrossingValue:1,vertical:!0,majorGridLines:{visible:!0,width:1,color:Oe},zIndex:1},getSlot:function(t,n,i){var r,o,a=this,s=a.options,l=s.reverse,c=s.vertical,h=c?Cn:kn,d=a.lineBox(),u=d[h+(l?2:1)],f=c?d.height():d.width(),p=l?-1:1,g=s.majorUnit,m=a.logMin,v=a.logMax,y=p*(f/(v-m)),_=new N(d.x1,d.y1,d.x1,d.y1);return k(t)||(t=n||1),k(n)||(n=t||1),0>=t||0>=n?e:(i&&(t=Ee.max(Ee.min(t,s.max),s.min),n=Ee.max(Ee.min(n,s.max),s.min)),t=w(t,g),n=w(n,g),c?(r=v-Ee.max(t,n),o=v-Ee.min(t,n)):(r=Ee.min(t,n)-m,o=Ee.max(t,n)-m),_[h+1]=u+y*(l?o:r),_[h+2]=u+y*(l?r:o),_)},getValue:function(t){var e,n=this,i=n.options,r=i.reverse,o=i.vertical,a=n.lineBox(),s=i.majorUnit,l=n.logMin,c=n.logMax,h=o===r?1:-1,d=1===h?1:2,u=o?a.height():a.width(),f=(c-l)/u,p=o?Cn:kn,g=a[p+d],m=h*(t[p]-g),v=m*f;return 0>m||m>u?null:(e=l+v,_(Ee.pow(s,e),$e))},range:function(){var t=this.options;return{min:t.min,max:t.max}},scaleRange:function(t){var e=this,n=e.options,i=n.majorUnit,r=-t;return{min:Ee.pow(i,e.logMin-r),max:Ee.pow(i,e.logMax+r)}},translateRange:function(t){var e=this,n=e.options,i=n.majorUnit,r=e.lineBox(),o=n.vertical,a=n.reverse,s=o?r.height():r.width(),l=s/(e.logMax-e.logMin),c=_(t/l,$e);return!o&&!a||o&&a||(c=-c),{min:Ee.pow(i,e.logMin+c),max:Ee.pow(i,e.logMax+c)}},labelsCount:function(){var t=this,e=Ee.floor(t.logMax),n=Ee.floor(e-t.logMin)+1;return n},getMajorTickPositions:function(){var t=this,e=[];return t.traverseMajorTicksPositions(function(t){e.push(t)},{step:1,skip:0}),e},createTicks:function(t){function e(e,n){h.tickX=s?a.x2:a.x2-n.size,h.tickY=s?a.y1-n.size:a.y1,h.position=e,t.append(i(h,n))}var n=this,r=[],o=n.options,a=n.lineBox(),s=o.labels.mirror,l=o.majorTicks,c=o.minorTicks,h={vertical:o.vertical};return l.visible&&n.traverseMajorTicksPositions(e,l),c.visible&&n.traverseMinorTicksPositions(e,c),r},createGridLines:function(t){function e(t,e){p(t,h)||(c.position=t,d.append(r(c,e)),h.push(t))}var n=this,i=n.options,o=i.majorGridLines,a=i.minorGridLines,s=i.vertical,l=t.lineBox(),c={lineStart:l[s?"x1":"y1"],lineEnd:l[s?"x2":"y2"],vertical:s,modelId:n.plotArea.modelId},h=[],d=this._gridLines;return o.visible&&n.traverseMajorTicksPositions(e,o),a.visible&&n.traverseMinorTicksPositions(e,a),d.children},traverseMajorTicksPositions:function(t,e){var n,i,r=this,o=r._lineOptions(),a=o.lineStart,s=o.step,l=r.logMin,c=r.logMax;for(n=Ee.ceil(l)+e.skip;c>=n;n+=e.step)i=_(a+s*(n-l),$e),t(i,e)},traverseMinorTicksPositions:function(t,e){var n,i,r,o,a,s=this,l=s.options,c=s._lineOptions(),h=c.lineStart,d=c.step,u=l.majorUnit,f=s.logMin,p=s.logMax,g=Ee.floor(f),m=l.max,v=l.min,y=l.minorUnit;for(n=g;p>n;n++)for(o=s._minorIntervalOptions(n),a=e.skip;y>a&&(i=o.value+a*o.minorStep,!(i>m));a+=e.step)i>=v&&(r=_(h+d*(w(i,u)-f),$e),t(r,e))},createAxisLabel:function(t,e){var n=this,i=n.options,r=Ee.ceil(n.logMin+t),o=Math.pow(i.majorUnit,r),a=n.axisLabelText(o,null,e);return new K(o,a,t,null,e)},shouldRenderNote:function(t){var e=this.range();return t>=e.min&&e.max>=t},_throwNegativeValuesError:function(){throw Error("Non positive values cannot be used for a logarithmic axis")},_initOptions:function(t,e,n){var i,r=this,o=Ie({},r.options,{min:t,max:e},n),a=o.min,s=o.max,l=o.majorUnit;return 0>=o.axisCrossingValue&&r._throwNegativeValuesError(),k(n.max)?0>=n.max&&r._throwNegativeValuesError():(i=_(w(s,l),$e)%1,s=0>=s?l:0!==i&&(.3>i||i>.9)?Ee.pow(l,w(s,l)+.2):Ee.pow(l,Ee.ceil(w(s,l)))),k(n.min)?0>=n.min&&r._throwNegativeValuesError():0>=a?a=1>=s?Ee.pow(l,-2):1:n.narrowRange||(a=Ee.pow(l,Ee.floor(w(a,l)))),r.logMin=_(w(a,l),$e),r.logMax=_(w(s,l),$e),o.max=s,o.min=a,o.minorUnit=n.minorUnit||_(l-1,$e),o},_minorIntervalOptions:function(t){var e=this.options.majorUnit,n=Ee.pow(e,t),i=Ee.pow(e,t+1),r=i-n,o=r/this.options.minorUnit;return{value:n,minorStep:o}},_lineOptions:function(){var t=this,e=t.options,n=e.reverse,i=e.vertical,r=i?Cn:kn,o=t.lineBox(),a=i===n?1:-1,s=1===a?1:2,l=i?o.height():o.width(),c=a*(l/(t.logMax-t.logMin)),h=o[r+s];return{step:c,lineStart:h,lineBox:o}}}),re=Te.extend({init:function(t){var e=this;e.children=[],e.options=Ie({},e.options,t)},render:function(){return this.template(this)},renderContent:function(){var t,e=this,n="",i=e.sortChildren(),r=i.length;for(t=0;r>t;t++)n+=i[t].render();return n},sortChildren:function(){var t,e,n=this,i=n.children;for(e=0,t=i.length;t>e;e++)i[e]._childIndex=e;return i.slice(0).sort(n.compareChildren)},refresh:t.noop,destroy:function(){var t,e,n=this,i=n.options.id,r=n.children;for(i&&fe.current.free(i),e=0,t=r.length;t>e;e++)r[e].destroy()},compareChildren:function(t,e){var n=t.options.zIndex||0,i=e.options.zIndex||0;return n!==i?n-i:t._childIndex-e._childIndex},renderId:function(){var t=this,e="";return t.options.id&&(e=t.renderAttr("id",t.options.id)),e},renderAttr:function(t,e){return k(e)?" "+t+"='"+e+"' ":""},renderDataAttributes:function(){var t,e,n=this,i=n.options.data,r="";for(t in i)e="data-"+t.replace(wn,"-$1").toLowerCase(),r+=n.renderAttr(e,i[t]);return r},renderCursor:function(){var t=this.options,e="";return k(t.cursor)&&t.cursor.style&&(e+="cursor: "+t.cursor.style+";"),e}}),oe=re.extend({init:function(t){var e=this;re.fn.init.call(e,t),e.definitions={},e.decorators=[],e.animations=[]},destroy:function(){var t=this,e=t.animations,n=t._viewElement;for(re.fn.destroy.call(this);e.length>0;)e.shift().destroy();n&&(t._freeIds(n),t._viewElement=null)},_freeIds:function(e){t("[id]",e).each(function(){fe.current.free(t(this).attr("id"))})},replace:function(t){var e=this,n=A(t.id);n&&n.parentNode.replaceChild(e.renderElement(t.getViewElements(e)[0]),n)},load:function(t){var e=this;e.children=t.getViewElements(e)},renderDefinitions:function(){var t,e=this.definitions,n="";for(t in e)e.hasOwnProperty(t)&&(n+=e[t].render());return n},decorate:function(t){var e,n,i=this.decorators,r=i.length;for(e=0;r>e;e++)n=i[e],this._decorateChildren(n,t),t=n.decorate.call(n,t);return t},_decorateChildren:function(t,e){var n,i=this,r=e.children,o=r.length;for(n=0;o>n;n++)i._decorateChildren(t,r[n]),r[n]=t.decorate.call(t,r[n])},setupAnimations:function(){for(var t=0;this.animations.length>t;t++)this.animations[t].setup()},playAnimations:function(){for(var t=0;this.animations.length>t;t++)this.animations[t].play()},buildGradient:function(t){var e,n,i,r=this,o=r._gradientCache;return o||(o=r._gradientCache=[]),t&&(e=l(t),n=o[e],i=ke.Gradients[t.gradient],!n&&i&&(n=Ie({id:c()},i,t),o[e]=n)),n},setDefaults:function(t){var e=this.options;return t=t||{},k(t.inline)||(t.inline=e.inline),k(t.align)||(t.align=e.align),t}}),ke.Gradients={glass:{type:sn,rotation:0,stops:[{offset:0,color:bn,opacity:0},{offset:.25,color:bn,opacity:.3},{offset:1,color:bn,opacity:0}]},sharpBevel:{type:pn,stops:[{offset:0,color:bn,opacity:.55},{offset:.65,color:bn,opacity:0},{offset:.95,color:bn,opacity:.25}]},roundedBevel:{type:pn,stops:[{offset:.33,color:bn,opacity:.06},{offset:.83,color:bn,opacity:.2},{offset:.95,color:bn,opacity:0}]},roundedGlass:{type:pn,supportVML:!1,stops:[{offset:0,color:bn,opacity:0},{offset:.5,color:bn,opacity:.3},{offset:.99,color:bn,opacity:0}]},sharpGlass:{type:pn,supportVML:!1,stops:[{offset:0,color:bn,opacity:.2},{offset:.15,color:bn,opacity:.15},{offset:.17,color:bn,opacity:.35},{offset:.85,color:bn,opacity:.05},{offset:.87,color:bn,opacity:.15},{offset:.99,color:bn,opacity:0}]}},ae=Te.extend({init:function(t,e){var n=this;n.options=Ie({},n.options,e),n.element=t},options:{duration:rn,easing:mn},play:function(){var e,n,i,r,o,a=this,s=a.options,l=a.element,c=l.options.id,h=s.delay||0,d=+new Date+h,u=s.duration,f=d+u,p=t.easing[s.easing];setTimeout(function(){var t=function(){a._stopped||(n=+new Date,i=Ee.min(n-d,u),r=i/u,o=p(r,i,0,1,u),a.step(o),(!e||P(e))&&(e=A(c)),l.refresh(e),f>n?ke.requestFrame(t):a.destroy())};t()},h)},abort:function(){this._stopped=!0},destroy:function(){this.abort()},setup:Ae,step:Ae}),se=ae.extend({options:{duration:200,easing:sn},setup:function(){var t=this,e=t.element.options;t.targetFillOpacity=e.fillOpacity,t.targetStrokeOpacity=e.strokeOpacity,e.fillOpacity=e.strokeOpacity=0},step:function(t){var e=this,n=e.element.options;n.fillOpacity=t*e.targetFillOpacity,n.strokeOpacity=t*e.targetStrokeOpacity}}),le=ae.extend({options:{size:0,easing:sn},setup:function(){var t=this.element.points;t[1].x=t[2].x=t[0].x},step:function(t){var e=this.options,n=b(0,e.size,t),i=this.element.points;i[1].x=i[2].x=i[0].x+n},destroy:function(){ae.fn.destroy.call(this),this.element.destroy()}}),ce=ae.extend({options:{easing:sn,duration:900},setup:function(){var t,e,n=this,i=n.element,r=i.options,o=n.options,a=o.center;r.rotation&&(t=o.startAngle,e=r.rotation[0],o.duration=Ee.max(Ee.abs(t-e)/o.speed*1e3,1),n.endState=e,r.rotation=[t,a.x,a.y])},step:function(t){var e=this,n=e.element;n.options.rotation&&(n.options.rotation[0]=b(e.options.startAngle,e.endState,t))}}),he=ae.extend({options:{easing:mn,duration:1e3},setup:function(){var t,e,n,i=this,r=i.element,o=r.points,a=r.options.animation,s=a.vertical,l=a.reverse,c=i.axis=s?"y":"x",h=i.options.endPosition,d=i.initialState={top:o[0].y,right:o[1].x,bottom:o[3].y,left:o[0].x},u=!k(i.options.endPosition);s?(n=l?"y2":"y1",t=d[u&&!l?Ne:vn],e=u?d[l?Ne:vn]:h[n]):(n=l?"x1":"x2",t=d[u&&!l?an:gn],e=u?d[l?an:gn]:h[n]),i.start=t,i.end=e,u?T(o,c,i.start):a.speed&&(i.options.duration=Ee.max(Ee.abs(i.start-i.end)/a.speed*1e3,1))},step:function(t){var e=this,n=e.start,i=e.end,r=e.element,o=r.points,a=e.axis;r.options.animation.vertical?o[0][a]=o[1][a]=b(n,i,t):o[1][a]=o[2][a]=b(n,i,t)}}),de=ae.extend({options:{easing:mn,duration:1e3},setup:function(){var t,e,n,i=this,r=i.element,o=r.points,a=r.options.animation,s=a.vertical,l=a.reverse,c=s?"y":"x",h=c+(l?"1":"2"),d=c+(l?"2":"1"),u=a.startPosition[s?h:d],f=a.size/2,p=o.length,g=!k(i.options.endPosition),m=f;for(i.axis=c,i.endPositions=[],i.startPositions=[],g||(u=o[1][c],e=i.options.endPosition[s?d:h],a.speed&&(i.options.duration=Ee.max(Ee.abs(u-e)/a.speed*1e3,1))),n=0;p>n;n++)t=Ie({},o[n]),g?(i.endPositions[n]=t[c],o[n][c]=u-m):i.endPositions[n]=e-m,i.startPositions[n]=o[n][c],m-=f},step:function(t){var e,n=this,i=n.startPositions,r=n.endPositions,o=n.element,a=o.points,s=n.axis,l=a.length;for(e=0;l>e;e++)a[e][s]=b(i[e],r[e],t)}}),ue=o(Qe,se),fe=Te.extend({init:function(t,e,n){this._pool=[],this._freed={},this._size=t,this._id=n,this._prefix=e},alloc:function(){var t,e=this,n=e._pool;return n.length>0?(t=n.pop(),delete e._freed[t]):t=e._prefix+e._id++,t},free:function(t){var e=this,n=e._pool,i=e._freed;e._size>n.length&&!i[t]&&(n.push(t),i[t]=!0)}}),fe.current=new fe(tn,Je,en),pe=Te.extend({init:function(t){this._size=t,this._length=0,this._map={}},put:function(t,e){var n=this,i=n._map,r={key:t,value:e};i[t]=r,n._head?(n._tail.newer=r,r.older=n._tail,n._tail=r):n._head=n._tail=r,n._length>=n._size?(i[n._head.key]=null,n._head=n._head.newer,n._head.older=null):n._length++},get:function(t){var n=this,i=n._map[t];return i?(i===n._head&&i!==n._tail&&(n._head=i.newer,n._head.older=null),i!==n._tail&&(i.older&&(i.older.newer=i.newer,i.newer.older=i.older),i.older=n._tail,i.newer=null,n._tail.newer=i,n._tail=i),i.value):e}}),ge=function(){this._views=[]},ge.prototype={register:function(t,e,n){var i=this._views,r=i[0],o={name:t,type:e,order:n};!r||r.order>n?i.unshift(o):i.push(o)},create:function(t,n){var i,r=this._views,o=r[0];if(n)for(n=n.toLowerCase(),i=0;r.length>i;i++)if(r[i].name===n){o=r[i];break}return o?new o.type(t):(xe.logToConsole("Warning: KendoUI DataViz cannot render. Possible causes:\n- The browser does not support SVG, VML and Canvas. User agent: "+navigator.userAgent+"\n- The kendo.dataviz.(svg|vml|canvas).js scripts are not loaded"),e)}},ge.current=new ge,me={extend:function(t){if(!t.exportVisual)throw Error("Mixin target has no exportVisual method defined.");t.exportSVG=this.exportSVG,t.exportImage=this.exportImage,t.exportPDF=this.exportPDF,t.svg=this.svg,t.imageDataURL=this.imageDataURL},exportSVG:function(t){return Se.exportSVG(this.exportVisual(),t)},exportImage:function(t){return Se.exportImage(this.exportVisual(),t)},exportPDF:function(t){return Se.exportPDF(this.exportVisual(),t)},svg:function(){var e,n;if(Se.svg.Surface)return e=new Se.svg.Surface(t("<div />"),{encodeText:!0}),e.draw(this.exportVisual()),n=e.svg(),e.destroy(),n;throw Error("SVG Export failed. Unable to export instantiate kendo.drawing.svg.Surface")},imageDataURL:function(){var e,n,i;if(!xe.support.canvas)return null;if(Se.canvas.Surface)return e=t("<div />").css({display:"none",width:this.element.width(),height:this.element.height()}).appendTo(document.body),n=new Se.canvas.Surface(e),n.draw(this.exportVisual()),i=n._rootElement.toDataURL(),n.destroy(),e.remove(),i;throw Error("Image Export failed. Unable to export instantiate kendo.drawing.canvas.Surface")}},ve=Te.extend({init:function(){this._cache=new pe(1e3)},measure:function(t,e){var n,i,r,o,a=l(e),s=t+a,c=this._cache.get(s);if(c)return c;n={width:0,height:0,baseline:0},i=this._measureBox,r=this._baselineMarker.cloneNode(!1);for(o in e)i.style[o]=e[o];return i.innerHTML=t,i.appendChild(r),we.body.appendChild(i),(t+"").length&&(n={width:i.offsetWidth-Re,height:i.offsetHeight,baseline:r.offsetTop+Re}),this._cache.put(s,n),i.parentNode.removeChild(i),n}}),ve.fn._baselineMarker=t("<div class='"+Be+"baseline-marker' style='display: inline-block; vertical-align: baseline;width: "+Re+"px; height: "+Re+"px;overflow: hidden;' />")[0],ve.fn._measureBox=t("<div style='position: absolute; top: -4000px;line-height: normal; visibility: hidden; white-space:nowrap;' />")[0],ve.current=new ve,ye=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){setTimeout(t,ze)},ke.requestFrame=function(t,e){return ye(t,e)},_e=function(t){this.closed=t},_e.prototype=_e.fn={WEIGHT:.333,EXTREMUM_ALLOWED_DEVIATION:.01,process:function(t){var e,n,i,r,o,a,s,l,c,h,d=this,u=d.closed,f=t.slice(0),p=f.length,m=[];if(p>2&&(d.removeDuplicates(0,f),p=f.length),2>p||2==p&&f[0].equals(f[1]))return m;for(e=f[0],n=f[1],i=f[2],m.push(new Se.Segment(e));e.equals(f[p-1]);)u=!0,f.pop(),p--;if(2==p)return s=d.tangent(e,n,kn,Cn),g(m).controlOut(d.firstControlPoint(s,e,n,kn,Cn)),m.push(new Se.Segment(n,d.secondControlPoint(s,e,n,kn,Cn))),m;for(u?(e=f[p-1],n=f[0],i=f[1],r=d.controlPoints(e,n,i),o=r[1],a=r[0]):(s=d.tangent(e,n,kn,Cn),o=d.firstControlPoint(s,e,n,kn,Cn)),l=o,c=0;p-3>=c;c++)d.removeDuplicates(c,f),p=f.length,p>=c+3&&(e=f[c],n=f[c+1],i=f[c+2],r=d.controlPoints(e,n,i),g(m).controlOut(l),l=r[1],h=r[0],m.push(new Se.Segment(n,h)));return u?(e=f[p-2],n=f[p-1],i=f[0],r=d.controlPoints(e,n,i),g(m).controlOut(l),m.push(new Se.Segment(n,r[0])),g(m).controlOut(r[1]),m.push(new Se.Segment(i,a))):(s=d.tangent(n,i,kn,Cn),g(m).controlOut(l),m.push(new Se.Segment(i,d.secondControlPoint(s,n,i,kn,Cn)))),m},removeDuplicates:function(t,e){for(;e[t].equals(e[t+1])||e[t+1].equals(e[t+2]);)e.splice(t+1,1)},invertAxis:function(t,e,n){var i,r,o=this,a=!1;return t.x===e.x?a=!0:e.x===n.x?(n.y>e.y&&e.y>=t.y||e.y>n.y&&t.y>=e.y)&&(a=!0):(i=o.lineFunction(t,e),r=o.calculateFunction(i,n.x),e.y>=t.y&&r>=n.y||t.y>=e.y&&n.y>=r||(a=!0)),a},isLine:function(t,e,n){var i=this,r=i.lineFunction(t,e),o=i.calculateFunction(r,n.x);return t.x==e.x&&e.x==n.x||_(o,1)===_(n.y,1)},lineFunction:function(t,e){var n=(e.y-t.y)/(e.x-t.x),i=t.y-n*t.x;return[i,n]},controlPoints:function(t,e,n){var i,r,o,a,s,l,c=this,h=kn,d=Cn,u=!1,f=!1,p=c.EXTREMUM_ALLOWED_DEVIATION;return c.isLine(t,e,n)?i=c.tangent(t,e,kn,Cn):(r={x:c.isMonotonicByField(t,e,n,kn),y:c.isMonotonicByField(t,e,n,Cn)},r.x&&r.y?(i=c.tangent(t,n,kn,Cn),u=!0):(c.invertAxis(t,e,n)&&(h=Cn,d=kn),r[h]?i=0:(s=t[d]>n[d]&&e[d]>=t[d]||n[d]>t[d]&&t[d]>=e[d]?c.sign((n[d]-t[d])*(e[h]-t[h])):-c.sign((n[h]-t[h])*(e[d]-t[d])),i=p*s,f=!0))),a=c.secondControlPoint(i,t,e,h,d),f&&(l=h,h=d,d=l),o=c.firstControlPoint(i,e,n,h,d),u&&(c.restrictControlPoint(t,e,a,i),c.restrictControlPoint(e,n,o,i)),[a,o]},sign:function(t){return 0>=t?-1:1},restrictControlPoint:function(t,e,n,i){e.y>t.y?n.y>e.y?(n.x=t.x+(e.y-t.y)/i,n.y=e.y):t.y>n.y&&(n.x=e.x-(e.y-t.y)/i,n.y=t.y):e.y>n.y?(n.x=t.x-(t.y-e.y)/i,n.y=e.y):n.y>t.y&&(n.x=e.x+(t.y-e.y)/i,n.y=t.y)},tangent:function(t,e,n,i){var r,o=e[n]-t[n],a=e[i]-t[i];return r=0===o?0:a/o},isMonotonicByField:function(t,e,n,i){return n[i]>e[i]&&e[i]>t[i]||e[i]>n[i]&&t[i]>e[i]},firstControlPoint:function(t,e,n,i,r){var o=this,a=e[i],s=n[i],l=(s-a)*o.WEIGHT;return o.point(a+l,e[r]+l*t,i,r)},secondControlPoint:function(t,e,n,i,r){var o=this,a=e[i],s=n[i],l=(s-a)*o.WEIGHT;return o.point(s-l,n[r]-l*t,i,r)},point:function(t,e,n,i){var r=new Ce.Point;return r[n]=t,r[i]=e,r},calculateFunction:function(t,e){var n,i=0,r=t.length;for(n=0;r>n;n++)i+=Math.pow(e,n)*t[n];return i}},B._element=document.createElement("span"),Ie(xe.dataviz,{AXIS_LABEL_CLICK:Fe,COORD_PRECISION:He,DEFAULT_PRECISION:$e,DEFAULT_WIDTH:Ye,DEFAULT_HEIGHT:qe,DEFAULT_FONT:Ge,INITIAL_ANIMATION_DURATION:rn,NOTE_CLICK:dn,NOTE_HOVER:un,CLIP:Ue,DASH_ARRAYS:{dot:[1.5,3.5],dash:[4,3.5],longdash:[8,3.5],dashdot:[3.5,3.5,1.5,3.5],longdashdot:[8,3.5,1.5,3.5],longdashdotdot:[8,3.5,1.5,3.5,1.5,3.5]},Axis:Z,AxisLabel:K,Box2D:N,BoxElement:q,ChartElement:j,CurveProcessor:_e,ElementAnimation:ae,ExpandAnimation:le,ExportMixin:me,ArrowAnimation:de,BarIndicatorAnimatin:he,FadeAnimation:se,FadeAnimationDecorator:ue,FloatElement:Y,IDPool:fe,LogarithmicAxis:ie,LRUCache:pe,Matrix:Tn,Note:J,NumericAxis:ne,Point2D:O,PinElement:ee,Ring:V,Pin:U,RootElement:G,RotationAnimation:ce,Sector:H,ShapeBuilder:W,ShapeElement:te,Text:$,TextMetrics:ve,TextBox:X,Title:Q,ViewBase:oe,ViewElement:re,ViewFactory:ge,alignPathToPixel:F,animationDecorator:o,append:m,autoFormat:D,autoMajorUnit:s,boxDiff:d,defined:k,dateComparer:E,decodeEntities:B,getElement:A,getSpacing:n,inArray:p,interpolateValue:b,last:g,limitValue:I,measureText:a,mwDelta:L,rotatePoint:h,round:_,ceil:v,floor:y,supportsCanvas:f,supportsSVG:u,renderTemplate:Le,uniqueId:c,valueOrDefault:C})}(window.kendo.jQuery),function(){var t=window.kendo,e=t.dataviz.ui,n=t.deepExtend,i=1.5,r=.4,o="#000",a="Arial,Helvetica,sans-serif",s="11px "+a,l="12px "+a,c="16px "+a,h="#fff",d={title:{font:c},legend:{labels:{font:l}},seriesDefaults:{visible:!0,labels:{font:s},donut:{margin:1},line:{width:2},vericalLine:{width:2},scatterLine:{width:1},area:{opacity:.4,markers:{visible:!1,size:6},highlight:{markers:{border:{color:"#fff",opacity:1,width:1}}},line:{opacity:1,width:0}},verticalArea:{opacity:.4,markers:{visible:!1,size:6},line:{opacity:1,width:0}},radarLine:{width:2,markers:{visible:!1}},radarArea:{opacity:.5,markers:{visible:!1,size:6},line:{opacity:1,width:0}},candlestick:{line:{width:1,color:o},border:{width:1,_brightness:.8},gap:1,spacing:.3,downColor:h,highlight:{line:{width:2},border:{width:2,opacity:1}}},ohlc:{line:{width:1},gap:1,spacing:.3,highlight:{line:{width:3,opacity:1}}},bubble:{opacity:.6,border:{width:0},labels:{background:"transparent"}},bar:{gap:i,spacing:r},column:{gap:i,spacing:r},rangeColumn:{gap:i,spacing:r},rangeBar:{gap:i,spacing:r},waterfall:{gap:.5,spacing:r,line:{width:1,color:o}},horizontalWaterfall:{gap:.5,spacing:r,line:{width:1,color:o}},bullet:{gap:i,spacing:r,target:{color:"#ff0000"}},verticalBullet:{gap:i,spacing:r,target:{color:"#ff0000"}},boxPlot:{outliersField:"",meanField:"",whiskers:{width:1,color:o},mean:{width:1,color:o},median:{width:1,color:o},border:{width:1,_brightness:.8},gap:1,spacing:.3,downColor:h,highlight:{whiskers:{width:2},border:{width:2,opacity:1}}},funnel:{labels:{color:"",background:""}},notes:{icon:{size:7,border:{width:1}},label:{padding:3,font:l},line:{length:10,width:1},visible:!0}},categoryAxis:{majorGridLines:{visible:!0}},axisDefaults:{labels:{font:l},title:{font:c,margin:5},crosshair:{tooltip:{font:l}},notes:{icon:{size:7,border:{width:1}},label:{padding:3,font:l},line:{length:10,width:1},visible:!0}},tooltip:{font:l},navigator:{pane:{height:90,margin:{top:10}}}},u={scale:{labels:{font:l}}},f={shapeDefaults:{hover:{opacity:.2},stroke:{width:0},editable:{tools:["edit","delete","rotate"]}},editable:{resize:{handles:{width:7,height:7}}},selectable:{stroke:{width:1,dashType:"dot"}},connectionDefaults:{stroke:{width:2},selection:{handles:{width:8,height:8}},editable:{tools:["edit","delete"]}}},p=e.themes,g=e.registerTheme=function(t,e){var i,r={};r.chart=n({},d,e.chart),r.gauge=n({},u,e.gauge),r.diagram=n({},f,e.diagram),r.treeMap=n({},e.treeMap),i=r.chart.seriesDefaults,i.verticalLine=n({},i.line),i.verticalArea=n({},i.area),i.polarArea=n({},i.radarArea),i.polarLine=n({},i.radarLine),p[t]=r};g("black",{chart:{title:{color:h},legend:{labels:{color:h},inactiveItems:{labels:{color:"#919191"},markers:{color:"#919191"}}},seriesDefaults:{labels:{color:h},errorBars:{color:h},notes:{icon:{background:"#3b3b3b",border:{color:"#8e8e8e"}},label:{color:h},line:{color:"#8e8e8e"}},pie:{overlay:{gradient:"sharpBevel"}},donut:{overlay:{gradient:"sharpGlass"}},line:{markers:{background:"#3d3d3d"}},scatter:{markers:{background:"#3d3d3d"}},scatterLine:{markers:{background:"#3d3d3d"}},waterfall:{line:{color:"#8e8e8e"}},horizontalWaterfall:{line:{color:"#8e8e8e"}},candlestick:{downColor:"#555",line:{color:h},border:{_brightness:1.5,opacity:1},highlight:{border:{color:h,opacity:.2}}},ohlc:{line:{color:h}}},chartArea:{background:"#3d3d3d"},seriesColors:["#0081da","#3aafff","#99c900","#ffeb3d","#b20753","#ff4195"],axisDefaults:{line:{color:"#8e8e8e"},labels:{color:h},majorGridLines:{color:"#545454"},minorGridLines:{color:"#454545"},title:{color:h},crosshair:{color:"#8e8e8e"},notes:{icon:{background:"#3b3b3b",border:{color:"#8e8e8e"}},label:{color:h},line:{color:"#8e8e8e"}}}},gauge:{pointer:{color:"#0070e4"},scale:{rangePlaceholderColor:"#1d1d1d",labels:{color:h},minorTicks:{color:h},majorTicks:{color:h},line:{color:h}}},diagram:{shapeDefaults:{fill:{color:"#0066cc"},connectorDefaults:{fill:{color:h},stroke:{color:"#384049"},hover:{fill:{color:"#3d3d3d"},stroke:{color:"#efefef"}}},content:{color:h}},editable:{resize:{handles:{fill:{color:"#3d3d3d"},stroke:{color:h},hover:{fill:{color:h},stroke:{color:h}}}},rotate:{thumb:{stroke:{color:h},fill:{color:h}}}},selectable:{stroke:{color:h}},connectionDefaults:{stroke:{color:h},content:{color:h},selection:{handles:{fill:{color:"#3d3d3d"},stroke:{color:"#efefef"}}}}},treeMap:{colors:[["#0081da","#314b5c"],["#3aafff","#3c5464"],["#99c900","#4f5931"],["#ffeb3d","#64603d"],["#b20753","#543241"],["#ff4195","#643e4f"]]}}),g("blueopal",{chart:{title:{color:"#293135"},legend:{labels:{color:"#293135"},inactiveItems:{labels:{color:"#27A5BA"},markers:{color:"#27A5BA"}}},seriesDefaults:{labels:{color:o,background:h,opacity:.5},errorBars:{color:"#293135"},candlestick:{downColor:"#c4d0d5",line:{color:"#9aabb2"}},waterfall:{line:{color:"#9aabb2"}},horizontalWaterfall:{line:{color:"#9aabb2"}},notes:{icon:{background:"transparent",border:{color:"#9aabb2"}},label:{color:"#293135"},line:{color:"#9aabb2"}}},seriesColors:["#0069a5","#0098ee","#7bd2f6","#ffb800","#ff8517","#e34a00"],axisDefaults:{line:{color:"#9aabb2"},labels:{color:"#293135"},majorGridLines:{color:"#c4d0d5"},minorGridLines:{color:"#edf1f2"},title:{color:"#293135"},crosshair:{color:"#9aabb2"},notes:{icon:{background:"transparent",border:{color:"#9aabb2"}},label:{color:"#293135"},line:{color:"#9aabb2"}}}},gauge:{pointer:{color:"#005c83"},scale:{rangePlaceholderColor:"#daecf4",labels:{color:"#293135"},minorTicks:{color:"#293135"},majorTicks:{color:"#293135"},line:{color:"#293135"}}},diagram:{shapeDefaults:{fill:{color:"#7ec6e3"},connectorDefaults:{fill:{color:"#003f59"},stroke:{color:h},hover:{fill:{color:h},stroke:{color:"#003f59"}}},content:{color:"#293135"}},editable:{resize:{handles:{fill:{color:h},stroke:{color:"#003f59"},hover:{fill:{color:"#003f59"},stroke:{color:"#003f59"}}}},rotate:{thumb:{stroke:{color:"#003f59"},fill:{color:"#003f59"}}}},selectable:{stroke:{color:"#003f59"}},connectionDefaults:{stroke:{color:"#003f59"},content:{color:"#293135"},selection:{handles:{fill:{color:"#3d3d3d"},stroke:{color:"#efefef"}}}}},treeMap:{colors:[["#0069a5","#bad7e7"],["#0098ee","#b9e0f5"],["#7bd2f6","#ceeaf6"],["#ffb800","#e6e3c4"],["#ff8517","#e4d8c8"],["#e34a00","#ddccc2"]]}}),g("highcontrast",{chart:{title:{color:"#ffffff"},legend:{labels:{color:"#ffffff"},inactiveItems:{labels:{color:"#66465B"},markers:{color:"#66465B"}}},seriesDefaults:{labels:{color:"#ffffff"},errorBars:{color:"#ffffff"},notes:{icon:{background:"transparent",border:{color:"#ffffff"}},label:{color:"#ffffff"},line:{color:"#ffffff"}},pie:{overlay:{gradient:"sharpGlass"}},donut:{overlay:{gradient:"sharpGlass"}},line:{markers:{background:"#2c232b"}},scatter:{markers:{background:"#2c232b"}},scatterLine:{markers:{background:"#2c232b"}},area:{opacity:.5},waterfall:{line:{color:"#ffffff"}},horizontalWaterfall:{line:{color:"#ffffff"}},candlestick:{downColor:"#664e62",line:{color:"#ffffff"},border:{_brightness:1.5,opacity:1},highlight:{border:{color:"#ffffff",opacity:1}}},ohlc:{line:{color:"#ffffff"}}},chartArea:{background:"#2c232b"},seriesColors:["#a7008f","#ffb800","#3aafff","#99c900","#b20753","#ff4195"],axisDefaults:{line:{color:"#ffffff"},labels:{color:"#ffffff"},majorGridLines:{color:"#664e62"},minorGridLines:{color:"#4f394b"},title:{color:"#ffffff"},crosshair:{color:"#ffffff"},notes:{icon:{background:"transparent",border:{color:"#ffffff"}},label:{color:"#ffffff"},line:{color:"#ffffff"}}}},gauge:{pointer:{color:"#a7008f"},scale:{rangePlaceholderColor:"#2c232b",labels:{color:"#ffffff"},minorTicks:{color:"#2c232b"},majorTicks:{color:"#664e62"},line:{color:"#ffffff"}}},diagram:{shapeDefaults:{fill:{color:"#a7018f"},connectorDefaults:{fill:{color:h},stroke:{color:"#2c232b"},hover:{fill:{color:"#2c232b"},stroke:{color:h}}},content:{color:h}},editable:{resize:{handles:{fill:{color:"#2c232b"},stroke:{color:h},hover:{fill:{color:h},stroke:{color:h}}}},rotate:{thumb:{stroke:{color:h},fill:{color:h}}}},selectable:{stroke:{color:h}},connectionDefaults:{stroke:{color:h},content:{color:h},selection:{handles:{fill:{color:"#2c232b"},stroke:{color:h}}}}},treeMap:{colors:[["#a7008f","#451c3f"],["#ffb800","#564122"],["#3aafff","#2f3f55"],["#99c900","#424422"],["#b20753","#471d33"],["#ff4195","#562940"]]}}),g("default",{chart:{title:{color:"#8e8e8e"},legend:{labels:{color:"#232323"},inactiveItems:{labels:{color:"#919191"},markers:{color:"#919191"}}},seriesDefaults:{labels:{color:o,background:h,opacity:.5},errorBars:{color:"#232323"},candlestick:{downColor:"#dedede",line:{color:"#8d8d8d"}},waterfall:{line:{color:"#8e8e8e"}},horizontalWaterfall:{line:{color:"#8e8e8e"}},notes:{icon:{background:"transparent",border:{color:"#8e8e8e"}},label:{color:"#232323"},line:{color:"#8e8e8e"}}},seriesColors:["#ff6800","#a0a700","#ff8d00","#678900","#ffb53c","#396000"],axisDefaults:{line:{color:"#8e8e8e"},labels:{color:"#232323"},minorGridLines:{color:"#f0f0f0"},majorGridLines:{color:"#dfdfdf"},title:{color:"#232323"},crosshair:{color:"#8e8e8e"},notes:{icon:{background:"transparent",border:{color:"#8e8e8e"}},label:{color:"#232323"},line:{color:"#8e8e8e"}}}},gauge:{pointer:{color:"#ea7001"},scale:{rangePlaceholderColor:"#dedede",labels:{color:"#2e2e2e"},minorTicks:{color:"#2e2e2e"},majorTicks:{color:"#2e2e2e"},line:{color:"#2e2e2e"}}},diagram:{shapeDefaults:{fill:{color:"#e15613"},connectorDefaults:{fill:{color:"#282828"},stroke:{color:h},hover:{fill:{color:h},stroke:{color:"#282828"}}},content:{color:"#2e2e2e"}},editable:{resize:{handles:{fill:{color:h},stroke:{color:"#282828"},hover:{fill:{color:"#282828"},stroke:{color:"#282828"}}}},rotate:{thumb:{stroke:{color:"#282828"},fill:{color:"#282828"}}}},selectable:{stroke:{color:"#a7018f"}},connectionDefaults:{stroke:{color:"#282828"},content:{color:"#2e2e2e"},selection:{handles:{fill:{color:h},stroke:{color:"#282828"}}}}},treeMap:{colors:[["#ff6800","#edcfba"],["#a0a700","#dadcba"],["#ff8d00","#edd7ba"],["#678900","#cfd6ba"],["#ffb53c","#eddfc6"],["#396000","#c6ceba"]]}}),g("silver",{chart:{title:{color:"#4e5968"},legend:{labels:{color:"#4e5968"},inactiveItems:{labels:{color:"#B1BCC8"},markers:{color:"#B1BCC8"}}},seriesDefaults:{labels:{color:"#293135",background:"#eaeaec",opacity:.5},errorBars:{color:"#4e5968"},notes:{icon:{background:"transparent",border:{color:"#4e5968"}},label:{color:"#4e5968"},line:{color:"#4e5968"}},line:{markers:{background:"#eaeaec"}},scatter:{markers:{background:"#eaeaec"}},scatterLine:{markers:{background:"#eaeaec"}},pie:{connectors:{color:"#A6B1C0"}},donut:{connectors:{color:"#A6B1C0"}},waterfall:{line:{color:"#a6b1c0"}},horizontalWaterfall:{line:{color:"#a6b1c0"}},candlestick:{downColor:"#a6afbe"}},chartArea:{background:"#eaeaec"},seriesColors:["#007bc3","#76b800","#ffae00","#ef4c00","#a419b7","#430B62"],axisDefaults:{line:{color:"#a6b1c0"},labels:{color:"#4e5968"},majorGridLines:{color:"#dcdcdf"},minorGridLines:{color:"#eeeeef"},title:{color:"#4e5968"},crosshair:{color:"#a6b1c0"},notes:{icon:{background:"transparent",border:{color:"#4e5968"}},label:{color:"#4e5968"},line:{color:"#4e5968"}}}},gauge:{pointer:{color:"#0879c0"},scale:{rangePlaceholderColor:"#f3f3f4",labels:{color:"#515967"},minorTicks:{color:"#515967"},majorTicks:{color:"#515967"},line:{color:"#515967"}}},diagram:{shapeDefaults:{fill:{color:"#1c82c2"},connectorDefaults:{fill:{color:"#515967"},stroke:{color:h},hover:{fill:{color:h},stroke:{color:"#282828"}}},content:{color:"#515967"}},editable:{resize:{handles:{fill:{color:h},stroke:{color:"#515967"},hover:{fill:{color:"#515967"},stroke:{color:"#515967"}}}},rotate:{thumb:{stroke:{color:"#515967"},fill:{color:"#515967"}}}},selectable:{stroke:{color:"#515967"}},connectionDefaults:{stroke:{color:"#515967"},content:{color:"#515967"},selection:{handles:{fill:{color:h},stroke:{color:"#515967"}}}}},treeMap:{colors:[["#007bc3","#c2dbea"],["#76b800","#dae7c3"],["#ffae00","#f5e5c3"],["#ef4c00","#f2d2c3"],["#a419b7","#e3c7e8"],["#430b62","#d0c5d7"]]}}),g("metro",{chart:{title:{color:"#777777"},legend:{labels:{color:"#777777"},inactiveItems:{labels:{color:"#CBCBCB"},markers:{color:"#CBCBCB"}}},seriesDefaults:{labels:{color:o},errorBars:{color:"#777777"},notes:{icon:{background:"transparent",border:{color:"#777777"}},label:{color:"#777777"},line:{color:"#777777"}},candlestick:{downColor:"#c7c7c7",line:{color:"#787878"}},waterfall:{line:{color:"#c7c7c7"}},horizontalWaterfall:{line:{color:"#c7c7c7"}},overlay:{gradient:"none"},border:{_brightness:1}},seriesColors:["#8ebc00","#309b46","#25a0da","#ff6900","#e61e26","#d8e404","#16aba9","#7e51a1","#313131","#ed1691"],axisDefaults:{line:{color:"#c7c7c7"},labels:{color:"#777777"},minorGridLines:{color:"#c7c7c7"},majorGridLines:{color:"#c7c7c7"},title:{color:"#777777"},crosshair:{color:"#c7c7c7"},notes:{icon:{background:"transparent",border:{color:"#777777"}},label:{color:"#777777"},line:{color:"#777777"}}}},gauge:{pointer:{color:"#8ebc00"},scale:{rangePlaceholderColor:"#e6e6e6",labels:{color:"#777"},minorTicks:{color:"#777"},majorTicks:{color:"#777"},line:{color:"#777"}}},diagram:{shapeDefaults:{fill:{color:"#8ebc00"},connectorDefaults:{fill:{color:o},stroke:{color:h},hover:{fill:{color:h},stroke:{color:o}}},content:{color:"#777"}},editable:{resize:{handles:{fill:{color:h},stroke:{color:"#787878"},hover:{fill:{color:"#787878"},stroke:{color:"#787878"}}}},rotate:{thumb:{stroke:{color:"#787878"},fill:{color:"#787878"}}}},selectable:{stroke:{color:"#515967"}},connectionDefaults:{stroke:{color:"#787878"},content:{color:"#777"},selection:{handles:{fill:{color:h},stroke:{color:"#787878"}}}}},treeMap:{colors:[["#8ebc00","#e8f2cc"],["#309b46","#d6ebda"],["#25a0da","#d3ecf8"],["#ff6900","#ffe1cc"],["#e61e26","#fad2d4"],["#d8e404","#f7facd"],["#16aba9","#d0eeee"],["#7e51a1","#e5dcec"],["#313131","#d6d6d6"],["#ed1691","#fbd0e9"]]}}),g("metroblack",{chart:{title:{color:"#ffffff"},legend:{labels:{color:"#ffffff"},inactiveItems:{labels:{color:"#797979"},markers:{color:"#797979"}}},seriesDefaults:{border:{_brightness:1},labels:{color:"#ffffff"},errorBars:{color:"#ffffff"},notes:{icon:{background:"transparent",border:{color:"#cecece"}},label:{color:"#ffffff"},line:{color:"#cecece"}},line:{markers:{background:"#0e0e0e"}},bubble:{opacity:.6},scatter:{markers:{background:"#0e0e0e"}},scatterLine:{markers:{background:"#0e0e0e"}},candlestick:{downColor:"#828282",line:{color:"#ffffff"}},waterfall:{line:{color:"#cecece"}},horizontalWaterfall:{line:{color:"#cecece"}},overlay:{gradient:"none"}},chartArea:{background:"#0e0e0e"},seriesColors:["#00aba9","#309b46","#8ebc00","#ff6900","#e61e26","#d8e404","#25a0da","#7e51a1","#313131","#ed1691"],axisDefaults:{line:{color:"#cecece"},labels:{color:"#ffffff"},minorGridLines:{color:"#2d2d2d"},majorGridLines:{color:"#333333"},title:{color:"#ffffff"},crosshair:{color:"#cecece"},notes:{icon:{background:"transparent",border:{color:"#cecece"}},label:{color:"#ffffff"},line:{color:"#cecece"}}}},gauge:{pointer:{color:"#00aba9"},scale:{rangePlaceholderColor:"#2d2d2d",labels:{color:"#ffffff"},minorTicks:{color:"#333333"},majorTicks:{color:"#cecece"},line:{color:"#cecece"}}},diagram:{shapeDefaults:{fill:{color:"#00aba9"},connectorDefaults:{fill:{color:h},stroke:{color:"#0e0e0e"},hover:{fill:{color:"#0e0e0e"},stroke:{color:h}}},content:{color:h}},editable:{resize:{handles:{fill:{color:"#0e0e0e"},stroke:{color:"#787878"},hover:{fill:{color:"#787878"},stroke:{color:"#787878"}}}},rotate:{thumb:{stroke:{color:h},fill:{color:h}}}},selectable:{stroke:{color:"#787878"}},connectionDefaults:{stroke:{color:h},content:{color:h},selection:{handles:{fill:{color:"#0e0e0e"},stroke:{color:h}}}}},treeMap:{colors:[["#00aba9","#0b2d2d"],["#309b46","#152a19"],["#8ebc00","#28310b"],["#ff6900","#3e200b"],["#e61e26","#391113"],["#d8e404","#36390c"],["#25a0da","#132b37"],["#7e51a1","#241b2b"],["#313131","#151515"],["#ed1691","#3b1028"]]}}),g("moonlight",{chart:{title:{color:"#ffffff"},legend:{labels:{color:"#ffffff"},inactiveItems:{labels:{color:"#A1A7AB"},markers:{color:"#A1A7AB"}}},seriesDefaults:{labels:{color:"#ffffff"},errorBars:{color:"#ffffff"},notes:{icon:{background:"transparent",border:{color:"#8c909e"}},label:{color:"#ffffff"},line:{color:"#8c909e"}},pie:{overlay:{gradient:"sharpBevel"}},donut:{overlay:{gradient:"sharpGlass"}},line:{markers:{background:"#212a33"}},bubble:{opacity:.6},scatter:{markers:{background:"#212a33"}},scatterLine:{markers:{background:"#212a33"}},area:{opacity:.3},candlestick:{downColor:"#757d87",line:{color:"#ea9d06"},border:{_brightness:1.5,opacity:1},highlight:{border:{color:h,opacity:.2}}},waterfall:{line:{color:"#8c909e"}},horizontalWaterfall:{line:{color:"#8c909e"}},ohlc:{line:{color:"#ea9d06"}}},chartArea:{background:"#212a33"},seriesColors:["#ffca08","#ff710f","#ed2e24","#ff9f03","#e13c02","#a00201"],axisDefaults:{line:{color:"#8c909e"},minorTicks:{color:"#8c909e"},majorTicks:{color:"#8c909e"},labels:{color:"#ffffff"},majorGridLines:{color:"#3e424d"},minorGridLines:{color:"#2f3640"},title:{color:"#ffffff"},crosshair:{color:"#8c909e"},notes:{icon:{background:"transparent",border:{color:"#8c909e"}},label:{color:"#ffffff"},line:{color:"#8c909e"}}}},gauge:{pointer:{color:"#f4af03"},scale:{rangePlaceholderColor:"#2f3640",labels:{color:h},minorTicks:{color:"#8c909e"},majorTicks:{color:"#8c909e"},line:{color:"#8c909e"}}},diagram:{shapeDefaults:{fill:{color:"#f3ae03"},connectorDefaults:{fill:{color:h},stroke:{color:"#414550"},hover:{fill:{color:"#414550"},stroke:{color:h}}},content:{color:h}},editable:{resize:{handles:{fill:{color:"#414550"},stroke:{color:h},hover:{fill:{color:h},stroke:{color:h}}}},rotate:{thumb:{stroke:{color:h},fill:{color:h}}}},selectable:{stroke:{color:h}},connectionDefaults:{stroke:{color:h},content:{color:h},selection:{handles:{fill:{color:"#414550"},stroke:{color:h}}}}},treeMap:{colors:[["#ffca08","#4e4b2b"],["#ff710f","#4e392d"],["#ed2e24","#4b2c31"],["#ff9f03","#4e422a"],["#e13c02","#482e2a"],["#a00201","#3b232a"]]}}),g("uniform",{chart:{title:{color:"#686868"},legend:{labels:{color:"#686868"},inactiveItems:{labels:{color:"#B6B6B6"},markers:{color:"#B6B6B6"}}},seriesDefaults:{labels:{color:"#686868"},errorBars:{color:"#686868"},notes:{icon:{background:"transparent",border:{color:"#9e9e9e"}},label:{color:"#686868"},line:{color:"#9e9e9e"}},pie:{overlay:{gradient:"sharpBevel"}},donut:{overlay:{gradient:"sharpGlass"}},line:{markers:{background:"#ffffff"}},bubble:{opacity:.6},scatter:{markers:{background:"#ffffff"}},scatterLine:{markers:{background:"#ffffff"}},area:{opacity:.3},candlestick:{downColor:"#cccccc",line:{color:"#cccccc"},border:{_brightness:1.5,opacity:1},highlight:{border:{color:"#cccccc",opacity:.2}}},waterfall:{line:{color:"#9e9e9e"}},horizontalWaterfall:{line:{color:"#9e9e9e"}},ohlc:{line:{color:"#cccccc"}}},chartArea:{background:"#ffffff"},seriesColors:["#527aa3","#6f91b3","#8ca7c2","#a8bdd1","#c5d3e0","#e2e9f0"],axisDefaults:{line:{color:"#9e9e9e"},minorTicks:{color:"#aaaaaa"},majorTicks:{color:"#888888"},labels:{color:"#686868"},majorGridLines:{color:"#dadada"},minorGridLines:{color:"#e7e7e7"},title:{color:"#686868"},crosshair:{color:"#9e9e9e"},notes:{icon:{background:"transparent",border:{color:"#9e9e9e"}},label:{color:"#686868"},line:{color:"#9e9e9e"}}}},gauge:{pointer:{color:"#527aa3"},scale:{rangePlaceholderColor:"#e7e7e7",labels:{color:"#686868"},minorTicks:{color:"#aaaaaa"},majorTicks:{color:"#888888"},line:{color:"#9e9e9e"}}},diagram:{shapeDefaults:{fill:{color:"#d1d1d1"},connectorDefaults:{fill:{color:"#686868"},stroke:{color:h},hover:{fill:{color:h},stroke:{color:"#686868"}}},content:{color:"#686868"}},editable:{resize:{handles:{fill:{color:h},stroke:{color:"#686868"},hover:{fill:{color:"#686868"},stroke:{color:"#686868"}}}},rotate:{thumb:{stroke:{color:"#686868"},fill:{color:"#686868"}}}},selectable:{stroke:{color:"#686868"}},connectionDefaults:{stroke:{color:"#686868"},content:{color:"#686868"},selection:{handles:{fill:{color:h},stroke:{color:"#686868"}}}}},treeMap:{colors:[["#527aa3","#d0d8e1"],["#6f91b3","#d6dde4"],["#8ca7c2","#dce1e7"],["#a8bdd1","#e2e6ea"],["#c5d3e0","#e7eaed"],["#e2e9f0","#edeff0"]]}}),g("bootstrap",{chart:{title:{color:"#333333"},legend:{labels:{color:"#333333"},inactiveItems:{labels:{color:"#999999"},markers:{color:"#9A9A9A"}}},seriesDefaults:{labels:{color:"#333333"},overlay:{gradient:"none"},errorBars:{color:"#343434"},notes:{icon:{background:"#000000",border:{color:"#000000"}},label:{color:"#333333"},line:{color:"#000000"}},pie:{overlay:{gradient:"none"}},donut:{overlay:{gradient:"none"}},line:{markers:{background:"#ffffff"}},bubble:{opacity:.6},scatter:{markers:{background:"#ffffff"}},scatterLine:{markers:{background:"#ffffff"}},area:{opacity:.8},candlestick:{downColor:"#d0d0d0",line:{color:"#333333"},border:{_brightness:1.5,opacity:1},highlight:{border:{color:"#b8b8b8",opacity:.2}}},waterfall:{line:{color:"#cccccc"}},horizontalWaterfall:{line:{color:"#cccccc"}},ohlc:{line:{color:"#333333"}}},chartArea:{background:"#ffffff"},seriesColors:["#428bca","#5bc0de","#5cb85c","#f2b661","#e67d4a","#da3b36"],axisDefaults:{line:{color:"#cccccc"},minorTicks:{color:"#ebebeb"},majorTicks:{color:"#cccccc"},labels:{color:"#333333"},majorGridLines:{color:"#cccccc"},minorGridLines:{color:"#ebebeb"},title:{color:"#333333"},crosshair:{color:"#000000"},notes:{icon:{background:"#000000",border:{color:"#000000"}},label:{color:"#ffffff"},line:{color:"#000000"}}}},gauge:{pointer:{color:"#428bca"},scale:{rangePlaceholderColor:"#cccccc",labels:{color:"#333333"},minorTicks:{color:"#ebebeb"},majorTicks:{color:"#cccccc"},line:{color:"#cccccc"}}},diagram:{shapeDefaults:{fill:{color:"#428bca"},connectorDefaults:{fill:{color:"#333333"},stroke:{color:h},hover:{fill:{color:h},stroke:{color:"#333333"}}},content:{color:"#333333"}},editable:{resize:{handles:{fill:{color:h},stroke:{color:"#333333"},hover:{fill:{color:"#333333"},stroke:{color:"#333333"}}}},rotate:{thumb:{stroke:{color:"#333333"},fill:{color:"#333333"}}}},selectable:{stroke:{color:"#333333"}},connectionDefaults:{stroke:{color:"#c4c4c4"},content:{color:"#333333"},selection:{handles:{fill:{color:h},stroke:{color:"#333333"}},stroke:{color:"#333333"}}}},treeMap:{colors:[["#428bca","#d1e0ec"],["#5bc0de","#d6eaf0"],["#5cb85c","#d6e9d6"],["#5cb85c","#f4e8d7"],["#e67d4a","#f2ddd3"],["#da3b36","#f0d0cf"]]}}),g("flat",{chart:{title:{color:"#4c5356"},legend:{labels:{color:"#4c5356"},inactiveItems:{labels:{color:"#CBCBCB"},markers:{color:"#CBCBCB"}}},seriesDefaults:{labels:{color:"#4c5356"},errorBars:{color:"#4c5356"},notes:{icon:{background:"transparent",border:{color:"#cdcdcd"}},label:{color:"#4c5356"},line:{color:"#cdcdcd"}},candlestick:{downColor:"#c7c7c7",line:{color:"#787878"}},area:{opacity:.9},waterfall:{line:{color:"#cdcdcd"}},horizontalWaterfall:{line:{color:"#cdcdcd"}},overlay:{gradient:"none"},border:{_brightness:1}},seriesColors:["#10c4b2","#ff7663","#ffb74f","#a2df53","#1c9ec4","#ff63a5","#1cc47b"],axisDefaults:{line:{color:"#cdcdcd"},labels:{color:"#4c5356"},minorGridLines:{color:"#cdcdcd"},majorGridLines:{color:"#cdcdcd"},title:{color:"#4c5356"},crosshair:{color:"#cdcdcd"},notes:{icon:{background:"transparent",border:{color:"#cdcdcd"}},label:{color:"#4c5356"},line:{color:"#cdcdcd"}}}},gauge:{pointer:{color:"#10c4b2"},scale:{rangePlaceholderColor:"#cdcdcd",labels:{color:"#4c5356"},minorTicks:{color:"#4c5356"},majorTicks:{color:"#4c5356"},line:{color:"#4c5356"}}},diagram:{shapeDefaults:{fill:{color:"#10c4b2"},connectorDefaults:{fill:{color:"#363940"},stroke:{color:h},hover:{fill:{color:h},stroke:{color:"#363940"}}},content:{color:"#4c5356"}},editable:{resize:{handles:{fill:{color:h},stroke:{color:"#363940"},hover:{fill:{color:"#363940"},stroke:{color:"#363940"}}}},rotate:{thumb:{stroke:{color:"#363940"},fill:{color:"#363940"}}}},selectable:{stroke:{color:"#363940"}},connectionDefaults:{stroke:{color:"#cdcdcd"},content:{color:"#4c5356"},selection:{handles:{fill:{color:h},stroke:{color:"#363940"}},stroke:{color:"#363940"}}}},treeMap:{colors:[["#10c4b2","#cff3f0"],["#ff7663","#ffe4e0"],["#ffb74f","#fff1dc"],["#a2df53","#ecf9dd"],["#1c9ec4","#d2ecf3"],["#ff63a5","#ffe0ed"],["#1cc47b","#d2f3e5"]]}}),g("material",{chart:{title:{color:"#444444"},legend:{labels:{color:"#444444"},inactiveItems:{labels:{color:"#CBCBCB"},markers:{color:"#CBCBCB"}}},seriesDefaults:{labels:{color:"#444444"},errorBars:{color:"#444444"},notes:{icon:{background:"transparent",border:{color:"#e5e5e5"}},label:{color:"#444444"},line:{color:"#e5e5e5"}},candlestick:{downColor:"#c7c7c7",line:{color:"#787878"}},area:{opacity:.9},waterfall:{line:{color:"#e5e5e5"}},horizontalWaterfall:{line:{color:"#e5e5e5"}},overlay:{gradient:"none"},border:{_brightness:1}},seriesColors:["#3f51b5","#03a9f4","#4caf50","#f9ce1d","#ff9800","#ff5722"],axisDefaults:{line:{color:"#e5e5e5"},labels:{color:"#444444"},minorGridLines:{color:"#e5e5e5"},majorGridLines:{color:"#e5e5e5"},title:{color:"#444444"},crosshair:{color:"#7f7f7f"},notes:{icon:{background:"transparent",border:{color:"#e5e5e5"}},label:{color:"#444444"},line:{color:"#e5e5e5"}}}},gauge:{pointer:{color:"#3f51b5"},scale:{rangePlaceholderColor:"#e5e5e5",labels:{color:"#444444"},minorTicks:{color:"#444444"},majorTicks:{color:"#444444"},line:{color:"#444444"}}},diagram:{shapeDefaults:{fill:{color:"#3f51b5"},connectorDefaults:{fill:{color:"#7f7f7f"},stroke:{color:h},hover:{fill:{color:h},stroke:{color:"#7f7f7f"}}},content:{color:"#444444"}},editable:{resize:{handles:{fill:{color:h},stroke:{color:"#444444"},hover:{fill:{color:"#444444"},stroke:{color:"#444444"}}}},rotate:{thumb:{stroke:{color:"#444444"},fill:{color:"#444444"}}}},selectable:{stroke:{color:"#444444"}},connectionDefaults:{stroke:{color:"#7f7f7f"},content:{color:"#444444"},selection:{handles:{fill:{color:h},stroke:{color:"#444444"}},stroke:{color:"#444444"}}}},treeMap:{colors:[["#3f51b5","#cff3f0"],["#03a9f4","#e5f6fe"],["#4caf50","#edf7ed"],["#f9ce1d","#fefae8"],["#ff9800","#fff4e5"],["#ff5722","#ffeee8"]]}})
}(window.kendo.jQuery),function(t){function e(t){this.view=t}function n(t){this.view=t}function i(t){return c.round(t)+.5}function r(t,e){var n,i,r=[];if(t=t?t.toLowerCase():null,t&&t!=L){for(n=D[t],i=0;n.length>i;i++)r.push(n[i]*(e||1));return"stroke-dasharray='"+r.join(" ")+"' "}return""}function o(){var t=l.getElementsByTagName("base")[0],e="",n=l.location.href,i=n.indexOf("#");return t&&!h.support.browser.msie&&(-1!==i&&(n=n.substring(0,i)),e=n),e}var a,s,l=document,c=Math,h=window.kendo,d=h.Class,u=h.dataviz,f=u.Box2D,p=u.ExpandAnimation,g=u.Point2D,m=u.ViewBase,v=u.ViewElement,y=h.deepExtend,_=u.defined,w=u.round,x=u.renderTemplate,b=u.rotatePoint,k=u.uniqueId,C="butt",S=u.CLIP,T=u.COORD_PRECISION,D=u.DASH_ARRAYS,A=u.DEFAULT_WIDTH,P=u.DEFAULT_HEIGHT,M=u.DEFAULT_FONT,E="none",I="radial",L="solid",B="square",z="http://www.w3.org/2000/svg",F="transparent",R="undefined",O=m.extend({init:function(t){var i=this;m.fn.init.call(i,t),i.decorators.push(new e(i),new n(i)),u.ui.Chart&&i.decorators.push(new u.BarAnimationDecorator(i),new u.PieAnimationDecorator(i),new u.BubbleAnimationDecorator(i)),i.decorators.push(new a(i),new u.FadeAnimationDecorator(i)),u.Gauge&&i.decorators.push(new u.RadialPointerAnimationDecorator(i),new u.ArrowPointerAnimationDecorator(i),new u.BarIndicatorAnimationDecorator(i)),i.defsId=k(),i.template=O.template,i.display=i.options.inline?"inline":"block",i.template||(i.template=O.template=x("<?xml version='1.0' ?><svg xmlns='"+z+"' version='1.1' width='#= d.options.width #px' height='#= d.options.height #px' style='position: relative; display: #= d.display #;'>#= d.renderDefinitions() ##= d.renderContent() #</svg>"))},options:{width:A,height:P,encodeText:!1},renderTo:function(t){var e,n=this;return n.setupAnimations(),u.renderSVG(t,n.render()),e=t.firstElementChild,n.alignToScreen(e),n.playAnimations(),n._viewElement=e,e},renderDefinitions:function(){var t=this,e=t.defsId,n=m.fn.renderDefinitions.call(t);return"<defs id='"+e+"'>"+n+"</defs>"},renderElement:function(t){var e,n,i=this,r=l.createElement("div"),o=l.getElementById(i.defsId);return u.renderSVG(r,"<?xml version='1.0' ?><svg xmlns='"+z+"' version='1.1'>"+i.renderDefinitions()+t.render()+"</svg>"),e=r.firstElementChild.firstChild,n=r.firstElementChild.lastChild,o&&o.textContent!==e.textContent&&o.parentNode.replaceChild(e,o),n},createGroup:function(t){return this.decorate(new Q(t))},createClipPath:function(t,e){var n=this,i=n.definitions[t],r=[n.createRect(e,{})];return i?(i.children=r,i.refresh()):(i=new K({id:t}),i.children=r,n.definitions[t]=i),i},createText:function(t,e){return this.decorate(new V(t,y({encode:this.options.encodeText},e)))},createTextBox:function(t){return this.decorate(new H(t))},createRect:function(t,e){return this.decorate(new j(t.points(),!0,this.setDefaults(e)))},createCubicCurve:function(t,e,n){return this.decorate(new W(t,e,n))},createLine:function(t,e,n,i,r){return this.decorate(new j([new g(t,e),new g(n,i)],!1,this.setDefaults(r)))},createMultiLine:function(t,e){return this.decorate(new G(t,!1,this.setDefaults(e)))},createPolyline:function(t,e,n){return this.decorate(new j(t,e,this.setDefaults(n)))},createCircle:function(t,e,n){return this.decorate(new X(t,e,n))},createSector:function(t,e){return this.decorate(new Y(t,e))},createRing:function(t,e){return this.decorate(new q(t,e))},createPin:function(t,e){return this.decorate(new $(t,e))},createGradient:function(t){return t.type===I?_(t.ir)?new ee(t):new te(t):new J(t)},alignToScreen:function(t){var e,n,i,r;try{e=t.getScreenCTM?t.getScreenCTM():null}catch(o){}e&&(n=-e.e%1,i=-e.f%1,r=t.style,(0!==n||0!==i)&&(r.left=n+"px",r.top=i+"px"))}}),N=v.extend({renderClipPath:function(){var t=this,e=t.options.clipPathId,n="";return e&&(n=t.renderAttr("clip-path","url("+o()+"#"+e+")")),n}}),V=N.extend({init:function(t,e){var n=this;N.fn.init.call(n,e),n.content=t,n.template=V.template,n.template||(n.template=V.template=x("<text #= d.renderId() # #= d.renderDataAttributes() # x='#= Math.round(d.options.x) #' y='#= Math.round(d.options.y + d.options.baseline) #' fill-opacity='#= d.options.fillOpacity #' style='font: #= d.options.font #; #= d.renderCursor() #' fill='#= d.options.color #'>#= d.renderContent() #</text>"))},options:{x:0,y:0,baseline:0,font:M,size:{width:0,height:0},fillOpacity:1,cursor:{}},refresh:function(e){var n=this.options;t(e).attr({"fill-opacity":n.fillOpacity})},clone:function(){var t=this;return new V(t.content,y({},t.options))},renderContent:function(){var t=this.content;return this.options.encode&&(t=u.decodeEntities(t),t=h.htmlEncode(t)),t}}),H=N.extend({init:function(t){var e=this;v.fn.init.call(e,t),e.template=H.template,e.template||(e.template=H.template=x("#if (d.options.matrix) {#<g #= d.renderRotation()#>#= d.renderContent() #</g>#} else {##=d.renderContent() ##}#"))},renderRotation:function(){var t=this.options.matrix,e=[t.a,t.b,t.c,t.d,t.e,t.f];return"transform='matrix("+e.join(",")+")'"}}),U=N.extend({init:function(t){var e=this;N.fn.init.call(e,t),e.template=U.template,e.template||(e.template=U.template=x("<path #= d.renderId() ##= d.renderClipPath() #style='display: #= d.renderDisplay() #; #= d.renderCursor() #' #= d.renderDataAttributes() # d='#= d.renderPoints() #' #= d.renderAttr(\"stroke\", d.options.stroke) # #= d.renderAttr(\"stroke-width\", d.options.strokeWidth) ##= d.renderDashType() # stroke-linecap='#= d.renderLinecap() #' stroke-linejoin='round' fill-opacity='#= d.options.fillOpacity #' stroke-opacity='#= d.options.strokeOpacity #' fill='#= d.renderFill() #'></path>"))},options:{fill:"",fillOpacity:1,strokeOpacity:1,rotation:[0,0,0],strokeLineCap:B,visible:!0,cursor:{}},refresh:function(e){var n=this.options;t(e).attr({d:this.renderPoints(),"fill-opacity":n.fillOpacity,"stroke-opacity":n.strokeOpacity}).css("display",this.renderDisplay())},clone:function(){return new U(y({},this.options))},renderPoints:function(){},renderDashType:function(){var t=this,e=t.options;return r(e.dashType,e.strokeWidth)},renderLinecap:function(){var t=this.options,e=t.dashType,n=t.strokeLineCap;return e&&e!=L?C:n},renderFill:function(){var t=this.options.fill;return t&&t!==F?t:E},renderDisplay:function(){return this.options.visible?"block":"none"},destroy:function(){}}),W=U.extend({init:function(t,e,n){var i=this;U.fn.init.call(i,e),i.areaPoints=n,i.points=t},renderPoints:function(){var t,e=this,n=e.points,i=[],r=e.areaPoints;for(t=0;n.length>t;t++)t%3==1&&i.push("C"),i.push(w(n[t].x,T)+" "+w(n[t].y,T));if(r&&r.length){for(t=0;r.length>t;t++)i.push("L "+r[t].x+" "+r[t].y);i.push("z")}return"M "+i.join(" ")}}),j=U.extend({init:function(t,e,n){var i=this;U.fn.init.call(i,n),i.points=t,i.closed=e},renderPoints:function(){var t=this,e=t.points;return t._renderPoints(e)},_renderPoints:function(t){var e,n,i=this,r=i.options.rotation,o=new g(r[1],r[2]),a=-r[0],s=0!==a,l=[];for(e=0;t.length>e;e++)n=t[e],s&&(n=n.clone().rotate(o,a)),l.push(i._print(n));return i.closed&&l.push("z"),"M"+l.join(" ")},clone:function(){var t=this;return new j(y([],t.points),t.closed,y({},t.options))},_print:function(t){var e=this,n=e.options,r=n.strokeWidth,o=n.align!==!1&&r&&r%2!==0,a=o?i:w;return a(t.x,T)+" "+a(t.y,T)}}),G=j.extend({renderPoints:function(){var t,e=this,n=e.points,i=[];for(t=0;n.length>t;t++)i.push(e._renderPoints(n[t]));return i.join(" ")}}),q=U.extend({init:function(t,e){var n=this;U.fn.init.call(n,e),n.pathTemplate=q.pathTemplate,n.pathTemplate||(n.pathTemplate=q.pathTemplate=x("M #= d.firstOuterPoint.x # #= d.firstOuterPoint.y # A#= d.r # #= d.r # 0 #= d.isReflexAngle ? '1' : '0' #,1 #= d.secondOuterPoint.x # #= d.secondOuterPoint.y # L #= d.secondInnerPoint.x # #= d.secondInnerPoint.y # A#= d.ir # #= d.ir # 0 #= d.isReflexAngle ? '1' : '0' #,0 #= d.firstInnerPoint.x # #= d.firstInnerPoint.y # z")),n.config=t||{}},renderPoints:function(){var t,e,n=this,i=n.config,r=i.startAngle,o=i.angle+r,a=o-r>180,s=c.max(i.r,0),l=c.max(i.ir,0),h=i.c,d=i.point(r),u=i.point(r,!0);return w(r)%360===w(o)%360&&(o-=.05),t=i.point(o),e=i.point(o,!0),n.pathTemplate({firstOuterPoint:d,secondOuterPoint:t,isReflexAngle:a,r:s,ir:l,cx:h.x,cy:h.y,firstInnerPoint:u,secondInnerPoint:e})},clone:function(){var t=this;return new q(y({},t.config),y({},t.options))}}),$=U.extend({init:function(t,e){var n=this;U.fn.init.call(n,e),n.pathTemplate=$.pathTemplate,n.pathTemplate||(n.pathTemplate=$.pathTemplate=x("M #= d.origin.x # #= d.origin.y # #= d.as.x # #= d.as.y # A#= d.r # #= d.r # 0 #= d.isReflexAngle ? '1' : '0' #,0 #= d.ae.x # #= d.ae.y # z")),n.config=t||new u.Pin},renderPoints:function(){var t=this,e=t.config,n=e.radius,i=c.PI/180,r=e.arcAngle,o=n*c.sin(r*i/2),a=e.height-n*(1-c.cos(r*i/2)),s=e.origin,l={x:s.x+o,y:s.y-a},h={x:s.x-o,y:s.y-a},d=function(n,i){var r=t.options.rotation,o=e.rotation;return n=b(n.x,n.y,r[1],r[2],-r[0]),i&&(n=b(n.x,n.y,s.x,s.y,o)),n};return s=d(s),t.pathTemplate({origin:s,as:d(l,!0),ae:d(h,!0),r:n,isReflexAngle:r>180})}}),Y=q.extend({init:function(t,e){var n=this;q.fn.init.call(n,t,e),n.pathTemplate=Y.pathTemplate,n.pathTemplate||(n.pathTemplate=Y.pathTemplate=x("M #= d.firstOuterPoint.x # #= d.firstOuterPoint.y # A#= d.r # #= d.r # 0 #= d.isReflexAngle ? '1' : '0' #,1 #= d.secondOuterPoint.x # #= d.secondOuterPoint.y # L #= d.cx # #= d.cy # z"))},options:{fill:"",fillOpacity:1,strokeOpacity:1,strokeLineCap:B},clone:function(){var t=this;return new Y(y({},t.config),y({},t.options))}}),X=v.extend({init:function(t,e,n){var i=this;v.fn.init.call(i,n),i.c=t,i.r=e,i.template=X.template,i.template||(i.template=X.template=x("<circle #= d.renderId() # #= d.renderDataAttributes() #cx='#= d.c.x #' cy='#= d.c.y #' r='#= d.r #' #= d.renderAttr(\"stroke\", d.options.stroke) # #= d.renderAttr(\"stroke-width\", d.options.strokeWidth) #fill-opacity='#= d.options.fillOpacity #' stroke-opacity='#= d.options.strokeOpacity #'  fill='#= d.options.fill || \"none\" #'></circle>"))},options:{fill:"",fillOpacity:1,strokeOpacity:1},refresh:function(e){t(e).attr({r:c.max(0,this.r),"fill-opacity":this.options.fillOpacity})},clone:function(){var t=this;return new X(y({},t.c),t.r,y({},t.options))}}),Q=N.extend({init:function(t){var e=this;v.fn.init.call(e,t),e.template=Q.template,e.template||(e.template=Q.template=x("<g#= d.renderId() ##= d.renderDataAttributes() ##= d.renderClipPath() #>#= d.renderContent() #</g>"))}}),K=v.extend({init:function(t){var e=this;v.fn.init.call(e,t),e.template=K.template,e.template||(e.template=K.template=x('<clipPath#= d.renderAttr("id", d.options.id) #>#= d.renderContent() #</clipPath>'))},refresh:function(){var e=l.getElementById(this.options.id);e&&t(e).children().attr("d",this.children[0].renderPoints())}}),Z=v.extend({init:function(t){var e=this;v.fn.init.call(e,t)},options:{id:""},renderStops:function(){var t,e,n=this,i=n.options.stops,r=n.stopTemplate,o=i.length,a="";for(t=0;o>t;t++)e=i[t],a+=r(e);return a}}),J=Z.extend({init:function(t){var e=this;Z.fn.init.call(e,t),e.template=J.template,e.stopTemplate=J.stopTemplate,e.template||(e.template=J.template=x("<linearGradient id='#= d.options.id #' gradientTransform='rotate(#= d.options.rotation #)'> #= d.renderStops() #</linearGradient>"),e.stopTemplate=J.stopTemplate=x("<stop offset='#= Math.round(d.offset * 100) #%' style='stop-color:#= d.color #;stop-opacity:#= d.opacity #' />"))},options:{rotation:0}}),te=Z.extend({init:function(t){var e=this;Z.fn.init.call(e,t),e.template=te.template,e.stopTemplate=te.stopTemplate,e.template||(e.template=te.template=x("<radialGradient id='#= d.options.id #' cx='#= d.options.cx #' cy='#= d.options.cy #' fx='#= d.options.cx #' fy='#= d.options.cy #' r='#= d.options.r #' gradientUnits='userSpaceOnUse'>#= d.renderStops() #</radialGradient>"),e.stopTemplate=te.stopTemplate=x("<stop offset='#= Math.round(d.offset * 100) #%' style='stop-color:#= d.color #;stop-opacity:#= d.opacity #' />"))}}),ee=v.extend({init:function(t){var e=this;v.fn.init.call(e,t),e.template=ee.template,e.stopTemplate=ee.stopTemplate,e.template||(e.template=ee.template=x("<radialGradient id='#= d.options.id #' cx='#= d.options.cx #' cy='#= d.options.cy #' fx='#= d.options.cx #' fy='#= d.options.cy #' r='#= d.options.r #' gradientUnits='userSpaceOnUse'>#= d.renderStops() #</radialGradient>"),e.stopTemplate=ee.stopTemplate=x("<stop offset='#= d.offset #%' style='stop-color:#= d.color #;stop-opacity:#= d.opacity #' />"))},options:{id:""},renderStops:function(){var t,e,n=this,i=n.options,r=i.stops,o=n.stopTemplate,a=i.ir/i.r*100,s=r.length,l="";for(e=y({},r[0]),e.offset=a,l+=o(e),t=1;s>t;t++)e=y({},r[t]),e.offset=e.offset*(100-a)+a,l+=o(e);return l}});e.prototype={decorate:function(t){var e,n,i=this,r=i.view,o=t.options,a=o.id;return o.overlay?(t.options.id=k(),e=r.createGroup(),n=t.clone(),e.children.push(t,n),n.options.id=a,n.options.fill=o.overlay,e):t}},n.prototype={decorate:function(t){var e=this,n=t.options;return n.fill=e.getPaint(n.fill),t},getPaint:function(t){var e,n,i,r=this,a=r.view,s=a.definitions;return t&&_(t.gradient)?(e=a.buildGradient(t),e?(n=e.id,i=s[n],i||(i=a.createGradient(e),s[n]=i),"url("+o()+"#"+i.options.id+")"):E):t}},a=d.extend({init:function(t){this.view=t},decorate:function(t){var e,n,i=this,r=i.view,o=i.clipId,a=r.options,s=t.options.animation,l=r.definitions;return s&&s.type===S&&a.transitions&&(o||(i.clipId=o=k()),e=l[o],e||(e=new K({id:o}),n=r.createRect(new f(0,0,a.width,a.height),{id:k()}),e.children.push(n),l[o]=e,r.animations.push(new p(n,{size:a.width}))),t.options.clipPathId=o),t}}),s=function(t,e){t.innerHTML=e},function(){var t="<svg xmlns='"+z+"'></svg>",e=l.createElement("div"),n=typeof DOMParser!=R;e.innerHTML=t,n&&e.firstChild.namespaceURI!=z&&(s=function(t,e){var n=new DOMParser,i=n.parseFromString(e,"text/xml"),r=l.adoptNode(i.documentElement);t.innerHTML="",t.appendChild(r)})}(),u.supportsSVG()&&u.ViewFactory.current.register("svg",O,10),y(u,{renderSVG:s,SVGCircle:X,SVGClipAnimationDecorator:a,SVGClipPath:K,SVGGradientDecorator:n,SVGGroup:Q,SVGLine:j,SVGMultiLine:G,SVGLinearGradient:J,SVGOverlayDecorator:e,SVGPath:U,SVGRadialGradient:te,SVGDonutGradient:ee,SVGRing:q,SVGSector:Y,SVGText:V,SVGTextBox:H,SVGView:O})}(window.kendo.jQuery),function(t,e){function n(){this._defaults={}}function i(t){return o(t).min}function r(t){return o(t).max}function o(t){var n,i,r=Tr,o=Ar,a=t.length;for(n=0;a>n;n++)i=t[n],null!==i&&isFinite(i)&&(r=yn.min(r,i),o=yn.max(o,i));return{min:r===Tr?e:r,max:o===Ar?e:o}}function a(t,e,n,i){var r,o,a=(i.x-n.x)*(t.y-n.y)-(i.y-n.y)*(t.x-n.x),s=(i.y-n.y)*(e.x-t.x)-(i.x-n.x)*(e.y-t.y);return 0!==s&&(o=a/s,r=new Wn(t.x+o*(e.x-t.x),t.y+o*(e.y-t.y))),r}function s(t,e){var n,i,r,o=t.series,a=o.length,s=t.seriesDefaults,c=Tn({},t.seriesDefaults),h=e?Tn({},e.seriesDefaults):{},d=Tn({},h);for(l(c),l(d),n=0;a>n;n++)i=o[n].type||t.seriesDefaults.type,r=Tn({data:[]},d,h[i],{tooltip:t.tooltip},c,s[i]),o[n]._defaults=r,o[n]=Tn({},r,o[n])}function l(t){delete t.bar,delete t.column,delete t.rangeColumn,delete t.line,delete t.verticalLine,delete t.pie,delete t.donut,delete t.area,delete t.verticalArea,delete t.scatter,delete t.scatterLine,delete t.bubble,delete t.candlestick,delete t.ohlc,delete t.boxPlot,delete t.bullet,delete t.verticalBullet,delete t.polarArea,delete t.polarLine,delete t.radarArea,delete t.radarLine,delete t.waterfall}function c(t){var e,n,i,r,o=t.series,a=t.seriesColors||[];for(e=0;o.length>e;e++)n=o[e],i=a[e%a.length],n.color=n.color||i,r=n._defaults,r&&(r.color=r.color||i)}function h(t){var e;gn([Pi,Mo,Ro,Oo],function(){e=this+"Axes",t[e]&&(t[this+"Axis"]=t[e],delete t[e])})}function d(e,n){var i=(n||{}).axisDefaults||{};gn([Pi,Mo,Ro,Oo],function(){var n=this+"Axis",r=[].concat(e[n]),o=e.axisDefaults||{};r=t.map(r,function(t){var e=(t||{}).color,r=Tn({},i,i[n],o,o[n],{line:{color:e},labels:{color:e},title:{color:e}},t);return delete r[n],r}),e[n]=r.length>1?r:r[0]})}function u(t){var e,n=t.length,i=0;for(e=0;n>e;e++)i=yn.max(i,t[e].data.length);return i}function f(t){return t*t}function p(t,e){if(null===e)return e;var n=Dn(t,!0);return n(e)}function g(t,e){if(null===e)return e;var n="_date_"+t,i=e[n];return i||(i=m(Dn(t,!0)(e)),e[n]=i),i}function m(t){var e,n;if(t instanceof Date)e=t;else if(typeof t===fo)e=xn.parseDate(t)||new Date(t);else if(t)if(mn(t))for(e=[],n=0;t.length>n;n++)e.push(m(t[n]));else e=new Date(t);return e}function v(t){return mn(t)?vn(t,v):t?m(t).getTime():e}function y(t,e,n,i){var r,o=t;return t&&(t=m(t),r=t.getHours(),n===No?(o=new Date(t.getFullYear()+e,0,1),xn.date.adjustDST(o,0)):n===Mr?(o=new Date(t.getFullYear(),t.getMonth()+e,1),xn.date.adjustDST(o,r)):n===zo?(o=y(_(t,i),7*e,Ui),xn.date.adjustDST(o,r)):n===Ui?(o=new Date(t.getFullYear(),t.getMonth(),t.getDate()+e),xn.date.adjustDST(o,r)):n===ur?(o=new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours()+e),e>0&&A(t,o)&&(o=y(t,e+1,n,i))):n===Pr?(o=new Date(t.getTime()+e*mo),o.getSeconds()>0&&o.setSeconds(0)):n===no&&(o=new Date(t.getTime()+e*go)),o.getMilliseconds()>0&&o.setMilliseconds(0)),o}function _(t,e){var n=t.getDay(),i=0;if(!isNaN(n))for(e=e||0;n!==e;)0===n?n=6:n--,i++;return k(t,-i*yo)}function w(t,e,n){return t=m(t),y(t,0,e,n)}function x(t,e,n){return t=m(t),t&&w(t,e,n).getTime()===t.getTime()?t:y(t,1,e,n)}function b(t,e){var n=t.getTime()-e,i=t.getTimezoneOffset()-e.getTimezoneOffset();return n-i*mo}function k(t,e){var n=t.getTimezoneOffset(),i=new Date(t.getTime()+e),r=i.getTimezoneOffset()-n;return new Date(i.getTime()+r*mo)}function C(t,e,n){var i;return i=n===No?e.getFullYear()-t.getFullYear():n===Mr?12*C(t,e,No)+e.getMonth()-t.getMonth():yn.floor(n===Ui?b(e,t)/yo:(e-t)/bo[n])}function S(t){return 1===t.length?t[0]:t}function T(t){var e,n,i,r=t.length;if(r>0)for(n=0;r>n;n++)i=t[n].box,e?e.wrap(i):e=i.clone();return e||Ln()}function D(t,e){return t&&e?t.toLowerCase()===e.toLowerCase():t===e}function A(t,e){return t&&e?v(t)===v(e):t===e}function P(t,e){null!==e&&t.push(e)}function M(t,e){for(var n,i,r=0,o=e.length-1;o>=r;)if(n=yn.floor((r+o)/2),i=e[n],t>i)r=n+1;else{if(!(i>t)){for(;A(e[n-1],t);)n--;return n}o=n-1}return t>=e[n]?n:n-1}function E(t){return"number"==typeof t&&!isNaN(t)}function I(t){var e,n,i=t.length,r=0;for(e=0;i>e;e++)n=t[e],E(n)&&r++;return r}function L(t){return I(t)===t.length}function B(t){var e,n,i,r={};for(e=0;t.length>e;e++)n=t[e],i=n.options.name,i&&(r[i]=n.range());return r}function z(t,e,n,i){var r,o,a,s,l,c=!1;if(n=n||{},a=n.excluded=n.excluded||[],s=n.defaults=n.defaults||{},l=n.depth=n.depth||0,!(l>Sr)){for(r in t)!ni(r,n.excluded)&&t.hasOwnProperty(r)&&(o=t[r],An(o)?(c=!0,i||(t[r]=hi(o(e),s[r]))):typeof o===Ur&&(n.defaults=s[r],n.depth++,c=z(o,e,n,i)||c,n.depth--));return c}}function F(t,n){var i,r,o,a=[],s=t.groupNameTemplate,l=n.length;for(Jn(s)?(xn.logToConsole("'groupNameTemplate' is obsolete and will be removed in future versions. Specify the group name template as 'series.name'"),s&&(i=Pn(s))):(i=Pn(t.name||""),0===i._slotCount&&(i=Pn(Jn(t.name)?"#= group.value #: #= series.name #":"#= group.value #"))),r=0;l>r;r++)o=Tn({},t),An(o.color)||(o.color=e),o._groupIx=r,a.push(o),i&&(o.name=i({series:o,group:n[r]}));return a}function R(t,e){var n,i,r=[];for(e=[].concat(e),n=0;t.length>n;n++)i=t[n],ni(i.type,e)&&r.push(i);return r}function O(e,n){if(e instanceof Date){for(var i=0,r=n.length;r>i;i++)if(A(n[i],e))return i;return-1}return t.inArray(e,n)}function N(t,e){e=e||ti;for(var n=1,i=t.length;i>n;n++)if(e(t[n],t[n-1])<0){t.sort(e);break}return t}function V(t,e){var n,i=N(t,e),r=i.length,o=r>0?[i[0]]:[];for(e=e||ti,n=1;r>n;n++)0!==e(i[n],ri(o))&&o.push(i[n]);return o}function H(t,e){var n=t.type,i=e instanceof Date;return!n&&i||D(n,Hi)}function U(t){var e,n,i,r,o=[],a=t.length;for(e=0;a>e;e++)for(n=t[e],r=n.length,i=0;r>i;i++)o[i]=o[i]||[],o[i].push(n[i]);return o}function W(t,e){if(t.indexOf(".")>-1)for(var n,i=t.split("."),r="";i.length>1;)r+=i.shift(),n=xn.getter(r)(e)||{},xn.setter(r)(e,n),r+="."}function j(t){var e,n,i,r=t.data,o=0;for(e=0;r.length>e;e++)n=$.current.bindPoint(t,e),i=n.valueFields.value,typeof i===fo&&(i=parseFloat(i)),E(i)&&n.fields.visible!==!1&&(o+=yn.abs(i));return o}function G(t){var e=t.overlay;return e&&e.gradient&&"none"!=e.gradient}var q,$,Y,X,Q,K,Z,J,te,ee,ne,ie,re,oe,ae,se,le,ce,he,de,ue,fe,pe,ge,me,ve,ye,_e,we,xe,be,ke,Ce,Se,Te,De,Ae,Pe,Me,Ee,Ie,Le,Be,ze,Fe,Re,Oe,Ne,Ve,He,Ue,We,je,Ge,qe,$e,Ye,Xe,Qe,Ke,Ze,Je,tn,en,nn,rn,on,an,sn,ln,cn,hn,dn,un,fn,pn,gn=t.each,mn=t.isArray,vn=t.map,yn=Math,_n=t.extend,wn=t.proxy,xn=window.kendo,bn=xn.Class,kn=xn.Observable,Cn=xn.data.DataSource,Sn=xn.ui.Widget,Tn=xn.deepExtend,Dn=xn.getter,An=xn.isFunction,Pn=xn.template,Mn=xn.dataviz,En=Mn.Axis,In=Mn.AxisLabel,Ln=Mn.Box2D,Bn=Mn.BoxElement,zn=Mn.ChartElement,Fn=xn.drawing.Color,Rn=Mn.CurveProcessor,On=Mn.ElementAnimation,Nn=Mn.FloatElement,Vn=Mn.Note,Hn=Mn.LogarithmicAxis,Un=Mn.NumericAxis,Wn=Mn.Point2D,jn=Mn.RootElement,Gn=Mn.Ring,qn=Mn.ShapeElement,$n=Mn.ShapeBuilder,Yn=Mn.TextBox,Xn=Mn.Title,Qn=Mn.animationDecorator,Kn=Mn.append,Zn=Mn.autoFormat,Jn=Mn.defined,ti=Mn.dateComparer,ei=Mn.getSpacing,ni=Mn.inArray,ii=Mn.interpolateValue,ri=Mn.last,oi=Mn.limitValue,ai=Mn.mwDelta,si=Mn.round,li=Mn.renderTemplate,ci=Mn.uniqueId,hi=Mn.valueOrDefault,di=Mn.geometry,ui=Mn.drawing,fi=".kendoChart",pi="above",gi="area",mi="auto",vi="fit",yi=Mn.AXIS_LABEL_CLICK,_i="bar",wi=.8,xi="below",bi="#000",ki="both",Ci="bottom",Si="boxPlot",Ti="bubble",Di="bullet",Ai="candlestick",Pi="category",Mi="center",Ei="change",Ii="circle",Li="contextmenu"+fi,Bi="color",zi="column",Fi=Mn.COORD_PRECISION,Ri="cross",Oi="k-",Ni="custom",Vi="dataBound",Hi="date",Ui="days",Wi=Mn.DEFAULT_FONT,ji=Mn.DEFAULT_HEIGHT,Gi=Mn.DEFAULT_PRECISION,qi=Mn.DEFAULT_WIDTH,$i=4,Yi="donut",Xi=50,Qi="drag",Ki="dragEnd",Zi="dragStart",Ji="errorLow",tr="errorHigh",er="xErrorLow",nr="xErrorHigh",ir="yErrorLow",rr="yErrorHigh",or="fadeIn",ar="first",sr="from",lr="funnel",cr="glass",hr="horizontal",dr="horizontalWaterfall",ur="hours",fr=Mn.INITIAL_ANIMATION_DURATION,pr="insideBase",gr="insideEnd",mr="interpolate",vr="left",yr="legendItemClick",_r="legendItemHover",wr="line",xr=8,br="linear",kr="log",Cr="max",Sr=5,Tr=Number.MAX_VALUE,Dr="min",Ar=-Number.MAX_VALUE,Pr="minutes",Mr="months",Er="mouseleave"+fi,Ir="mousemove.tracking",Lr="mouseover"+fi,Br="mouseout"+fi,zr="mousemove"+fi,Fr=20,Rr=150,Or="DOMMouseScroll"+fi+" mousewheel"+fi,Nr=Mn.NOTE_CLICK,Vr=Mn.NOTE_HOVER,Hr="noteText",Ur="object",Wr="ohlc",jr="outsideEnd",Gr="pie",qr=70,$r="plotAreaClick",Yr="pointer",Xr="rangeBar",Qr="rangeColumn",Kr="right",Zr="roundedBevel",Jr="roundedGlass",to="scatter",eo="scatterLine",no="seconds",io="selectStart",ro="select",oo="selectEnd",ao="seriesClick",so="seriesHover",lo="step",co="smooth",ho="stderr",uo="stddev",fo="string",po="summary",go=1e3,mo=60*go,vo=60*mo,yo=24*vo,_o=7*yo,wo=31*yo,xo=365*yo,bo={years:xo,months:wo,weeks:_o,days:yo,hours:vo,minutes:mo,seconds:go},ko="to",Co="top",So=150,To=5,Do=100,Ao=100,Po="chart-tooltip-inverse",Mo="value",Eo="verticalArea",Io="verticalBullet",Lo="verticalLine",Bo="waterfall",zo="weeks",Fo="#fff",Ro="x",Oo="y",No="years",Vo="zero",Ho=3,Uo="zoomStart",Wo="zoom",jo="zoomEnd",Go=[no,Pr,ur,Ui,zo,Mr,No],qo=[_i,zi,Wr,Ai,Si,Di,Qr,Xr,Bo,dr],$o={seconds:"HH:mm:ss",minutes:"HH:mm",hours:"HH:mm",days:"M/d",weeks:"M/d",months:"MMM 'yy",years:"yyyy"},Yo=Sn.extend({init:function(t,n){var i,r,o=this;xn.destroy(t),Sn.fn.init.call(o,t),o.element.addClass(Oi+this.options.name.toLowerCase()).css("position","relative"),n&&(r=n.dataSource,n.dataSource=e),i=Tn({},o.options,n),o._originalOptions=Tn({},i),o._initTheme(i),o._initSurface(),o.bind(o.events,o.options),o.wrapper=o.element,n&&(n.dataSource=r),o._initDataSource(n),xn.notify(o,Mn.ui)},_initTheme:function(n){var i,r=this,o=Mn.ui.themes||{},a=n.theme,s=o[a]||o[a.toLowerCase()],l=a&&s?s.chart:{},d=[],u=n.series||[];for(i=0;u.length>i;i++)d.push(t.extend({},u[i]));n.series=d,h(n),r._applyDefaults(n,l),null===n.seriesColors&&(n.seriesColors=e),r.options=Tn({},l,n),c(r.options)},_initDataSource:function(t){var e=this,n=(t||{}).dataSource;e._dataChangeHandler=wn(e._onDataChanged,e),e.dataSource=Cn.create(n).bind(Ei,e._dataChangeHandler),e._bindCategories(),e._redraw(),e._attachEvents(),n&&(e._hasDataSource=!0,e.options.autoBind&&e.dataSource.fetch())},setDataSource:function(t){var e=this;e.dataSource.unbind(Ei,e._dataChangeHandler),e.dataSource=t,e._hasDataSource=!0,t.bind(Ei,e._dataChangeHandler),e.options.autoBind&&t.fetch()},events:[Vi,ao,so,yi,yr,_r,$r,Zi,Qi,Ki,Uo,Wo,jo,io,ro,oo,Nr,Vr],items:function(){return t()},options:{name:"Chart",renderAs:"",theme:"default",chartArea:{},legend:{visible:!0,labels:{}},categoryAxis:{},autoBind:!0,seriesDefaults:{type:zi,data:[],highlight:{visible:!0},labels:{},negativeValues:{visible:!1}},series:[],seriesColors:null,tooltip:{visible:!1},transitions:!0,valueAxis:{},plotArea:{},title:{},xAxis:{},yAxis:{},panes:[{}]},refresh:function(){var t=this;t._applyDefaults(t.options),c(t.options),t._bindSeries(),t._bindCategories(),t.trigger(Vi),t._redraw()},getSize:function(){return xn.dimensions(this.element)},_resize:function(){var t=this.options.transitions;this.options.transitions=!1,this._redraw(),this.options.transitions=t},redraw:function(t){var e,n,i=this;i._applyDefaults(i.options),c(i.options),t?(n=i._model._plotArea,e=n.findPane(t),n.redraw(e)):i._redraw()},_initSurface:function(){var t,e=this.surface;e&&e.options.type===this.options.renderAs?this.surface.clear():(e&&e.destroy(),t=this._surfaceWrap(),this.surface=ui.Surface.create(t,{type:this.options.renderAs}))},_surfaceWrap:function(){return this.element},_redraw:function(){var t,e=this,n=e._getModel();e._destroyView(),e._model=n,e._plotArea=n._plotArea,n.renderVisual(),this.options.transitions!==!1&&n.traverse(function(t){t.animation&&t.animation.setup()}),e._initSurface(),e.surface.draw(n.visual),this.options.transitions!==!1&&n.traverse(function(t){t.animation&&t.animation.play()}),e._tooltip=e._createTooltip(),e._highlight=new an(t),e._setupSelection()},exportVisual:function(){var t=this._getModel();return t.renderVisual(),t.visual},_sharedTooltip:function(){var t=this,e=t.options;return t._plotArea instanceof Xe&&e.tooltip.shared},_createTooltip:function(){var t,e=this,n=e.options,i=e.element;return t=e._sharedTooltip()?new cn(i,e._plotArea,n.tooltip):new ln(i,n.tooltip)},_applyDefaults:function(t,e){d(t,e),s(t,e)},_getModel:function(){var t,e=this,n=e.options,i=new jn(e._modelOptions());return i.chart=e,Xn.buildTitle(n.title,i),t=i._plotArea=e._createPlotArea(),n.legend.visible&&i.append(new Q(t.options.legend)),i.append(t),i.reflow(),i},_modelOptions:function(){var t=this,e=t.options,n=t.element,i=yn.floor(n.height()),r=yn.floor(n.width());return t._size=null,Tn({width:r||qi,height:i||ji,transitions:e.transitions},e.chartArea)},_createPlotArea:function(){var t=this,e=t.options;return q.current.create(e.series,e)},_setupSelection:function(){var t,e,n,i,r,o,a=this,s=a._plotArea,l=s.axes,c=a._selections=[];for(a._selectStartHandler||(a._selectStartHandler=wn(a._selectStart,a),a._selectHandler=wn(a._select,a),a._selectEndHandler=wn(a._selectEnd,a)),e=0;l.length>e;e++)n=l[e],o=n.options,n instanceof K&&o.select&&!o.vertical&&(i=0,r=o.categories.length-1,n instanceof Z&&(i=o.categories[i],r=o.categories[r]),o.justified||(n instanceof Z?r=y(r,1,o.baseUnit,o.weekStartDay):r++),t=new fn(a,n,Tn({min:i,max:r},o.select)),t.bind(io,a._selectStartHandler),t.bind(ro,a._selectHandler),t.bind(oo,a._selectEndHandler),c.push(t))},_selectStart:function(t){return this.trigger(io,t)},_select:function(t){return this.trigger(ro,t)},_selectEnd:function(t){return this.trigger(oo,t)},_attachEvents:function(){var t=this,e=t.element;e.on(Li,wn(t._click,t)),e.on(Lr,wn(t._mouseover,t)),e.on(Br,wn(t._mouseout,t)),e.on(Or,wn(t._mousewheel,t)),e.on(Er,wn(t._mouseleave,t)),t._mousemove=xn.throttle(wn(t._mousemove,t),Fr),t._shouldAttachMouseMove()&&e.on(zr,t._mousemove),xn.UserEvents&&(t._userEvents=new xn.UserEvents(e,{global:!0,filter:":not(.k-selector)",multiTouch:!1,tap:wn(t._tap,t),start:wn(t._start,t),move:wn(t._move,t),end:wn(t._end,t)}))},_mouseout:function(t){var e=this,n=e._model.modelMap[t.target.getAttribute("data-model-id")];n&&n.leave&&n.leave(e,t)},_start:function(t){var e=this,n=e._events;Jn(n[Zi]||n[Qi]||n[Ki])&&e._startNavigation(t,Zi)},_move:function(t){var e,n,i,r,o,a,s=this,l=s._navState,c={};if(l){for(t.preventDefault(),e=l.axes,n=0;e.length>n;n++)i=e[n],r=i.options.name,r&&(o=i.options.vertical?t.y:t.x,a=o.startLocation-o.location,0!==a&&(c[i.options.name]=i.translateRange(a)));l.axisRanges=c,s.trigger(Qi,{axisRanges:c,originalEvent:t})}},_end:function(t){this._endNavigation(t,Ki)},_mousewheel:function(t){var e,n,i,r,o,a,s=this,l=t.originalEvent,c=ai(t),h=s._navState,d={};if(h||(e=s._startNavigation(l,Uo),e||(h=s._navState)),h){for(n=h.totalDelta||c,h.totalDelta=n+c,i=s._navState.axes,r=0;i.length>r;r++)o=i[r],a=o.options.name,a&&(d[a]=o.scaleRange(-n));s.trigger(Wo,{delta:c,axisRanges:d,originalEvent:t}),s._mwTimeout&&clearTimeout(s._mwTimeout),s._mwTimeout=setTimeout(function(){s._endNavigation(t,jo)},Rr)}},_startNavigation:function(t,e){var n,i,r,o=this,a=o._eventCoordinates(t),s=o._model._plotArea,l=s.findPointPane(a),c=s.axes.slice(0),h=!1;if(l){for(n=0;c.length>n;n++)if(i=c[n],i.box.containsPoint(a)){h=!0;break}!h&&s.backgroundBox().containsPoint(a)&&(r=o.trigger(e,{axisRanges:B(c),originalEvent:t}),r?o._userEvents.cancel():(o._suppressHover=!0,o._unsetActivePoint(),o._navState={pane:l,axes:c}))}},_endNavigation:function(t,e){var n=this;n._navState&&(n.trigger(e,{axisRanges:n._navState.axisRanges,originalEvent:t}),n._suppressHover=!1,n._navState=null)},_getChartElement:function(t,n){var i,r=this.surface.eventTarget(t);if(r){for(;r&&!i;)i=r.chartElement,r=r.parent;return i?(i.aliasFor&&(i=i.aliasFor(t,this._eventCoordinates(t))),n&&(i=i.closest(n)),i):e}},_eventCoordinates:function(t){var e=this,n=Jn((t.x||{}).client),i=n?t.x.client:t.clientX,r=n?t.y.client:t.clientY;return e._toModelCoordinates(i,r)},_toModelCoordinates:function(e,n){var i=this.element,r=i.offset(),o=parseInt(i.css("paddingLeft"),10),a=parseInt(i.css("paddingTop"),10),s=t(window);return new Wn(e-r.left-o+s.scrollLeft(),n-r.top-a+s.scrollTop())},_tap:function(t){var e=this,n=e._getChartElement(t);e._activePoint===n?e._click(t):(e._startHover(t)||e._unsetActivePoint(),e._click(t))},_click:function(t){for(var e=this,n=e._getChartElement(t);n;)n.click&&n.click(e,t),n=n.parent},_startHover:function(t){var n,i=this,r=i._getChartElement(t),o=i._tooltip,a=i._highlight,s=i.options.tooltip;if(!i._suppressHover&&a&&!a.isOverlay(r)&&!i._sharedTooltip())return n=i._getChartElement(t,function(t){return t.hover}),n&&!n.hover(i,t)?(i._activePoint=n,s=Tn({},s,n.options.tooltip),s.visible&&o.show(n),a.show(n),!0):e},_mouseover:function(e){var n=this;n._startHover(e)&&t(document).on(Ir,wn(n._mouseMoveTracking,n))},_mouseMoveTracking:function(e){var n,i,r=this,o=r.options,a=r._tooltip,s=r._highlight,l=r._eventCoordinates(e),c=r._activePoint;r._plotArea.box.containsPoint(l)?c&&c.tooltipTracking&&c.series&&c.parent.getNearestPoint&&(i=c.parent.getNearestPoint(l.x,l.y,c.seriesIx),i&&i!=c&&(i.hover(r,e),r._activePoint=i,n=Tn({},o.tooltip,c.options.tooltip),n.visible&&a.show(i),s.show(i))):(t(document).off(Ir),r._unsetActivePoint())},_mousemove:function(t){var e=this._eventCoordinates(t);this._trackCrosshairs(e),this._sharedTooltip()&&this._trackSharedTooltip(e)},_trackCrosshairs:function(t){var e,n,i=this._plotArea.crosshairs;for(e=0;i.length>e;e++)n=i[e],n.box.containsPoint(t)?n.showAt(t):n.hide()},_trackSharedTooltip:function(t){var e,n,i=this,r=i.options,o=i._plotArea,a=o.categoryAxis,s=i._tooltip,l=r.tooltip,c=i._highlight;o.box.containsPoint(t)&&(e=a.pointCategoryIndex(t),e!==i._tooltipCategoryIx&&(n=o.pointsByCategoryIndex(e),n.length>0?(l.visible&&s.showAt(n,t),c.show(n)):s.hide(),i._tooltipCategoryIx=e))},_mouseleave:function(e){var n,i,r=this,o=r._plotArea,a=o.crosshairs,s=r._tooltip,l=r._highlight,c=e.relatedTarget;if(c){for(n=0;a.length>n;n++)a[n].hide();
l.hide(),i=s.element[0],c===i||t.contains(i,c)||(setTimeout(wn(s.hide,s),Ao),r._tooltipCategoryIx=null)}},_unsetActivePoint:function(){var t=this,e=t._tooltip,n=t._highlight;t._activePoint=null,e&&e.hide(),n&&n.hide()},_onDataChanged:function(){var t,e,n=this,i=n.options,r=n._sourceSeries||i.series,o=r.length,a=n.dataSource.view(),s=(n.dataSource.group()||[]).length>0,l=[];for(t=0;o>t;t++)e=r[t],n._isBindable(e)&&s?Kn(l,F(e,a)):l.push(e||[]);n._sourceSeries=r,i.series=l,c(n.options),n._bindSeries(),n._bindCategories(),n.trigger(Vi),n._redraw()},_bindSeries:function(){var t,e,n,i,r=this,o=r.dataSource.view(),a=r.options.series,s=a.length;for(t=0;s>t;t++)e=a[t],r._isBindable(e)&&(n=e._groupIx,i=Jn(n)?(o[n]||{}).items:o,e.autoBind!==!1&&(e.data=i))},_bindCategories:function(){var t,e,n=this,i=n.dataSource.view()||[],r=(n.dataSource.group()||[]).length>0,o=i,a=n.options,s=[].concat(a.categoryAxis);for(r&&i.length&&(o=i[0].items),t=0;s.length>t;t++)e=s[t],e.autoBind!==!1&&n._bindCategoryAxis(e,o,t)},_bindCategoryAxis:function(t,e,n){var i,r,o,a=(e||[]).length;if(t.field)for(t.categories=[],i=0;a>i;i++)o=e[i],r=p(t.field,o),0===i?(t.categories=[r],t.dataItems=[o]):(t.categories.push(r),t.dataItems.push(o));else this._bindCategoryAxisFromSeries(t,n)},_bindCategoryAxisFromSeries:function(t,e){var n,i,r,o,a,s,l,c,h,d,u,f=this,m=[],v=f.options.series,y=v.length,_={};for(i=0;y>i;i++)if(r=v[i],o=r.categoryAxis===t.name||!r.categoryAxis&&0===e,a=r.data,l=a.length,r.categoryField&&o&&l>0)for(u=H(t,p(r.categoryField,a[0])),d=u?g:p,s=0;l>s;s++)c=a[s],h=d(r.categoryField,c),(u||!_[h])&&(m.push([h,c]),u||(_[h]=!0));m.length>0&&(u&&(m=V(m,function(t,e){return ti(t[0],e[0])})),n=U(m),t.categories=n[0],t.dataItems=n[1])},_isBindable:function(t){var e,n,i=$.current.valueFields(t),r=!0;for(n=0;i.length>n;n++)if(e=i[n],e===Mo?e="field":e+="Field",!Jn(t[e])){r=!1;break}return r},_legendItemClick:function(t,e){var n,i,r,o=this,a=o._plotArea,s=(a.srcSeries||a.series)[t],l=(o._sourceSeries||[])[t]||s;ni(s.type,[Gr,Yi,lr])?(r=l.data[e],i=Jn(r.visible)?!r.visible:!1,r.visible=i):(i=!l.visible,l.visible=i,s.visible=i),o.options.transitions&&(o.options.transitions=!1,n=!0),o.redraw(),n&&(o.options.transitions=!0)},_legendItemHover:function(t,e){var n,i,r=this,o=r._plotArea,a=r._highlight,s=(o.srcSeries||o.series)[t];n=ni(s.type,[Gr,Yi,lr])?e:t,i=o.pointsBySeriesIndex(n),a.show(i)},_shouldAttachMouseMove:function(){var t=this;return t._plotArea.crosshairs.length||t._tooltip&&t._sharedTooltip()},setOptions:function(n){var i=this,r=n.dataSource;n.dataSource=e,i._originalOptions=Tn(i._originalOptions,n),i.options=Tn({},i._originalOptions),i._sourceSeries=null,t(document).off(zr),Sn.fn._setEvents.call(i,n),i._initTheme(i.options),r&&i.setDataSource(Cn.create(r)),i._shouldAttachMouseMove()&&i.element.on(zr,i._mousemove),i._hasDataSource?i.refresh():i.redraw()},destroy:function(){var e=this,n=e.dataSource;e.element.off(fi),n.unbind(Ei,e._dataChangeHandler),t(document).off(Ir),e._userEvents&&e._userEvents.destroy(),e._destroyView(),e.surface.destroy(),Sn.fn.destroy.call(e)},_destroyView:function(){var t=this,e=t._model,n=t._selections;if(e&&(e.destroy(),t._model=null),n)for(;n.length>0;)n.shift().destroy();t._unsetActivePoint(),t._tooltip&&t._tooltip.destroy(),t._highlight&&t._highlight.destroy()}});Mn.ExportMixin.extend(Yo.fn),q=bn.extend({init:function(){this._registry=[]},register:function(t,e){this._registry.push({type:t,seriesTypes:e})},create:function(t,e){var n,i,r,o=this._registry,a=o[0];for(n=0;o.length>n;n++)if(i=o[n],r=R(t,i.seriesTypes),r.length>0){a=i;break}return new a.type(r,e)}}),q.current=new q,$=bn.extend({init:function(){this._valueFields={},this._otherFields={},this._nullValue={},this._undefinedValue={}},register:function(t,n,i){var r,o,a=this;for(n=n||[Mo],r=0;t.length>r;r++)o=t[r],a._valueFields[o]=n,a._otherFields[o]=i,a._nullValue[o]=a._makeValue(n,null),a._undefinedValue[o]=a._makeValue(n,e)},canonicalFields:function(t){return this.valueFields(t).concat(this.otherFields(t))},valueFields:function(t){return this._valueFields[t.type]||[Mo]},otherFields:function(t){return this._otherFields[t.type]||[Mo]},bindPoint:function(t,e){var n,i,r,o,a,s=this,l=t.data,c=l[e],h={valueFields:{value:c}},d=s.valueFields(t),u=s._otherFields[t.type];return null===c?a=s._nullValue[t.type]:Jn(c)?mn(c)?(i=c.slice(d.length),a=s._bindFromArray(c,d),n=s._bindFromArray(i,u)):typeof c===Ur&&(r=s.sourceFields(t,d),o=s.sourceFields(t,u),a=s._bindFromObject(c,d,r),n=s._bindFromObject(c,u,o)):a=s._undefinedValue[t.type],Jn(a)&&(1===d.length?h.valueFields.value=a[d[0]]:h.valueFields=a),h.fields=n||{},h},_makeValue:function(t,e){var n,i,r={},o=t.length;for(n=0;o>n;n++)i=t[n],r[i]=e;return r},_bindFromArray:function(t,e){var n,i,r={};if(e)for(i=yn.min(e.length,t.length),n=0;i>n;n++)r[e[n]]=t[n];return r},_bindFromObject:function(t,e,n){var i,r,o,a,s={};if(e)for(r=e.length,n=n||e,i=0;r>i;i++)o=e[i],a=n[i],s[o]=p(a,t);return s},sourceFields:function(t,e){var n,i,r,o,a;if(e)for(i=e.length,o=[],n=0;i>n;n++)r=e[n],a=r===Mo?"field":r+"Field",o.push(t[a]||r);return o}}),$.current=new $,Y=zn.extend({init:function(t,e){var n=this;zn.fn.init.call(n,e),this.textBox=new Yn(t,n.options),n.append(this.textBox)},options:{position:jr,margin:ei(3),padding:ei(4),color:bi,background:"",border:{width:1,color:""},aboveAxis:!0,vertical:!1,animation:{type:or,delay:fr},zIndex:2},createVisual:function(){this.textBox.options.noclip=this.options.noclip,zn.fn.createVisual.call(this)},reflow:function(t){var e=this,n=e.options,i=n.vertical,r=n.aboveAxis,o=e.children[0],a=o.box,s=o.options.padding;o.options.align=i?Mi:vr,o.options.vAlign=i?Co:Mi,n.position==gr?i?(o.options.vAlign=Co,!r&&a.height()<t.height()&&(o.options.vAlign=Ci)):o.options.align=r?Kr:vr:n.position==Mi?(o.options.vAlign=Mi,o.options.align=Mi):n.position==pr?i?o.options.vAlign=r?Ci:Co:o.options.align=r?vr:Kr:n.position==jr&&(i?t=r?new Ln(t.x1,t.y1-a.height(),t.x2,t.y1):new Ln(t.x1,t.y2,t.x2,t.y2+a.height()):(o.options.align=Mi,t=r?new Ln(t.x2+a.width(),t.y1,t.x2,t.y2):new Ln(t.x1-a.width(),t.y1,t.x1,t.y2))),n.rotation||(i?s.left=s.right=(t.width()-o.contentBox.width())/2:s.top=s.bottom=(t.height()-o.contentBox.height())/2),o.reflow(t)},alignToClipBox:function(t){var e,n=this,i=n.options.vertical,r=i?Oo:Ro,o=r+"1",a=r+"2",s=n.children[0],l=n.parent.box;(t[o]>l[o]||l[a]>t[a])&&(e=s.paddingBox.clone(),e[o]=yn.max(l[o],t[o]),e[a]=yn.min(l[a],t[a]),this.reflow(e))}}),X=Bn.extend({init:function(t){var e=this;Bn.fn.init.call(e,t),e.createContainer(),e.createMarker(),e.createLabel(),e.enableDiscovery()},createContainer:function(){var t=this;t.container=new Nn({vertical:!1,wrap:!1,align:Mi}),t.append(t.container)},createMarker:function(){var t=this,e=t.options,n=e.markerColor,i=e.markers,r=Tn({},i,{background:n,border:{color:n}});t.container.append(new qn(r))},createLabel:function(){var t=this,e=t.options,n=Tn({},e.labels,{id:ci()});t.container.append(new Yn(e.text,n))},renderComplete:function(){var t,e;zn.fn.renderComplete.call(this),t=this.options.cursor||{},e=ui.Path.fromRect(this.container.box.toRect(),{fill:{color:Fo,opacity:0},stroke:null,cursor:t.style}),this.visual.append(e)},click:function(t,e){var n=this.eventArgs(e);t.trigger(yr,n)||(e.preventDefault(),t._legendItemClick(n.seriesIndex,n.pointIndex))},hover:function(t,e){var n=this.eventArgs(e);return t.trigger(_r,n)||(e.preventDefault(),t._legendItemHover(n.seriesIndex,n.pointIndex)),!0},leave:function(t){t._unsetActivePoint()},eventArgs:function(e){var n=this.options;return{element:t(e.target),text:n.text,series:n.series,seriesIndex:n.series.index,pointIndex:n.pointIndex}}}),Q=zn.extend({init:function(t){var e=this;zn.fn.init.call(e,t),ni(e.options.position,[Co,Kr,Ci,vr,Ni])||(e.options.position=Kr),e.createContainer(),e.createItems()},options:{position:Kr,items:[],labels:{margin:{left:6}},offsetX:0,offsetY:0,margin:ei(5),padding:ei(5),border:{color:bi,width:0},item:{zIndex:1,cursor:{style:Yr}},spacing:6,background:"",zIndex:1,markers:{border:{width:1},width:7,height:7,type:"rect",align:vr,vAlign:Mi,zIndex:1}},createContainer:function(){var t=this,e=t.options,n=e.position,i=n,r=Mi;n==Ni?i=vr:ni(n,[Co,Ci])&&(i=Mi,r=n),t.container=new Bn({margin:e.margin,padding:e.padding,background:e.background,border:e.border,vAlign:r,align:i,zIndex:e.zIndex,shrinkToFit:!0}),t.append(t.container)},createItems:function(){var t,e,n,i=this,r=i.options,o=r.items,a=o.length,s=i.isVertical();for(t=new Nn({vertical:s,spacing:r.spacing}),e=0;a>e;e++)n=o[e],t.append(new X(Tn({},{markers:r.markers,labels:r.labels},r.item,n)));i.container.append(t)},isVertical:function(){var t=this,e=t.options,n=e.position,i=ni(n,[vr,Kr])||n==Ni&&e.orientation!=hr;return i},hasItems:function(){return this.container.children[0].children.length>0},reflow:function(t){var n=this,i=n.options,r=n.container,o=n.isVertical(),a=t.clone();return n.hasItems()?(o&&(a.y1=0),i.position===Ni?(n.containerCustomReflow(a),n.box=t.clone()):(r.reflow(a),n.containerReflow(t)),e):(n.box=t.clone(),e)},containerReflow:function(t){var e=this,n=e.options,i=n.position==Co||n.position==Ci?Ro:Oo,r=e.container.box,o=r.clone();(n.offsetX||n.offsetY)&&(r.translate(n.offsetX,n.offsetY),e.container.reflow(r)),o[i+1]=t[i+1],o[i+2]=t[i+2],e.box=o},containerCustomReflow:function(t){var e=this,n=e.options,i=n.offsetX,r=n.offsetY,o=e.container,a=n.width,s=n.height,l=e.isVertical(),c=t.clone();l&&s?c.y2=c.y1+s:!l&&a&&(c.x2=c.x1+a),o.reflow(c),c=o.box,o.reflow(Ln(i,r,i+c.width(),r+c.height()))}}),K=En.extend({init:function(t){var e=this;En.fn.init.call(e,t),t=e.options,t.categories=t.categories.slice(0),e._ticks={}},options:{type:Pi,categories:[],vertical:!1,majorGridLines:{visible:!1,width:1,color:bi},labels:{zIndex:1},justified:!1},range:function(){return{min:0,max:this.options.categories.length}},getTickPositions:function(t){var e,n=this,i=n.options,r=i.vertical,o=i.justified,a=n.lineBox(),s=r?a.height():a.width(),l=t-(o?1:0),c=s/l,h=r?Oo:Ro,d=a[h+1],u=[];for(e=0;t>e;e++)u.push(si(d,Fi)),d+=c;return o||u.push(a[h+2]),i.reverse?u.reverse():u},getMajorTickPositions:function(){return this.getTicks().majorTicks},getMinorTickPositions:function(){return this.getTicks().minorTicks},getTicks:function(){var t,e=this,n=e._ticks,i=e.options,r=i.categories.length,o=i.reverse,a=i.justified,s=e.lineBox();return t=s.getHash()+r+o+a,n._hash!==t&&(n._hash=t,n.majorTicks=e.getTickPositions(r),n.minorTicks=e.getTickPositions(2*r)),n},getSlot:function(t,e){var n,i,r,o=this,a=o.options,s=o.getTicks().majorTicks,l=a.reverse,c=a.justified,h=a.vertical?Oo:Ro,d=o.lineBox(),u=d[h+(l?2:1)],f=d[h+(l?1:2)],p=d.clone(),g=yn.max(1,s.length-(c?0:1)),m=!Jn(e);return t=hi(t,0),e=hi(e,t),t=oi(t,0,g),e=oi(e-1,t,g),e=yn.max(t,e),n=0===t?u:s[t]||f,i=c?n:s[e],r=e-t,(r>0||t===e)&&(i=s[e+1]||f),m&&c&&(t===g?n=i:i=n),p[h+1]=l?i:n,p[h+2]=l?n:i,p},pointCategoryIndex:function(t){var e,n,i,r,o=this,a=o.options,s=a.reverse,l=a.vertical,c=l?Oo:Ro,h=o.lineBox(),d=h[c+1],u=h[c+2],f=t[c],p=o.getMajorTickPositions(),g=Tr;if(d>f||f>u)return null;for(i=0;p.length>i;i++)if(e=p[i],n=p[i+1],Jn(n)||(n=s?d:u),s&&(e=n,n=p[i]),a.justified){if(f===n){r=yn.max(0,l?p.length-i-1:i+1);break}yn.abs(f-e)<g&&(g=f-e,r=i)}else if(f>=e&&n>=f){r=i;break}return r},getCategory:function(t){var e=this.pointCategoryIndex(t);return null===e?null:this.options.categories[e]},categoryIndex:function(t){return O(t,this.options.categories)},translateRange:function(t){var e=this,n=e.options,i=e.lineBox(),r=n.vertical?i.height():i.width(),o=n.categories.length,a=r/o,s=si(t/a,Gi);return{min:s,max:o+s}},scaleRange:function(t){var e=this,n=e.options,i=n.categories.length,r=t*i;return{min:-r,max:i+r}},labelsCount:function(){return this.options.categories.length},createAxisLabel:function(t,e){var n=this,i=n.options,r=i.dataItems?i.dataItems[t]:null,o=hi(i.categories[t],""),a=n.axisLabelText(o,r,e);return new In(o,a,t,r,e)},shouldRenderNote:function(t){var e=this.options.categories;return e.length&&e.length>t&&t>=0}}),Z=K.extend({init:function(t){var e,n,i=this;t=t||{},t=Tn({roundToBaseUnit:!0},t,{categories:m(t.categories),min:m(t.min),max:m(t.max)}),t.categories&&t.categories.length>0?(e=(t.baseUnit||"").toLowerCase(),n=e!==vi&&!ni(e,Go),n&&(t.baseUnit=i.defaultBaseUnit(t)),(e===vi||t.baseUnitStep===mi)&&i.autoBaseUnit(t),i.groupCategories(t)):t.baseUnit=t.baseUnit||Ui,K.fn.init.call(i,t)},options:{type:Hi,labels:{dateFormats:$o},autoBaseUnitSteps:{seconds:[1,2,5,15,30],minutes:[1,2,5,15,30],hours:[1,2,3],days:[1,2,3],weeks:[1,2],months:[1,2,3,6],years:[1,2,3,5,10,25,50]},maxDateGroups:10},shouldRenderNote:function(t){var e=this,n=e.range(),i=e.options.categories||[];return ti(t,n.min)>=0&&ti(t,n.max)<=0&&i.length},parseNoteValue:function(t){return m(t)},translateRange:function(t){var e,n,i=this,r=i.options,o=r.baseUnit,a=r.weekStartDay,s=i.lineBox(),l=r.vertical?s.height():s.width(),c=i.range(),h=l/(c.max-c.min),d=si(t/h,Gi);return c.min&&c.max&&(e=k(r.min||c.min,d),n=k(r.max||c.max,d),c={min:y(e,0,o,a),max:y(n,0,o,a)}),c},scaleRange:function(t){var e,n=this,i=yn.abs(t),r=n.range(),o=r.min,a=r.max;if(r.min&&r.max){for(;i--;)r=b(o,a),e=yn.round(.1*r),0>t?(o=k(o,e),a=k(a,-e)):(o=k(o,-e),a=k(a,e));r={min:o,max:a}}return r},defaultBaseUnit:function(t){var e,n,i,r,o,a=t.categories,s=Jn(a)?a.length:0,l=Tr;for(e=0;s>e;e++)n=a[e],n&&r&&(i=b(n,r),i>0&&(l=yn.min(l,i),o=l>=xo?No:l>=wo-3*yo?Mr:l>=_o?zo:l>=yo?Ui:l>=vo?ur:l>=mo?Pr:no)),r=n;return o||Ui},_categoryRange:function(t){var e=t._range;return e||(e=t._range=o(t)),e},range:function(t){var e,n,i,r,o,a,s,l,c;return t=t||this.options,e=t.categories,n=t.baseUnit===vi,i=n?Go[0]:t.baseUnit,r=t.baseUnitStep||1,o=v(t.min),a=v(t.max),s=this._categoryRange(e),l=v(s.min),c=v(s.max),t.roundToBaseUnit?{min:y(o||l,0,i,t.weekStartDay),max:y(a||c,r,i,t.weekStartDay)}:{min:m(o||l),max:m(a||this._srcMaxDate||c)}},autoBaseUnit:function(t){for(var e,n,i,r=this,o=r.range(Tn({},t,{baseUnitStep:1})),a=t.baseUnit===vi,s=0,l=a?Go[s++]:t.baseUnit,c=o.max-o.min,h=c/bo[l],d=h,u=t.maxDateGroups||r.options.maxDateGroups,f=Tn({},r.options.autoBaseUnitSteps,t.autoBaseUnitSteps);!n||h>u;)if(e=e||f[l].slice(0),i=e.shift())n=i,h=d/n;else{if(l===ri(Go)){n=yn.ceil(d/u);break}if(!a){h>u&&(n=yn.ceil(d/u));break}l=Go[s++]||ri(Go),d=c/bo[l],e=null}t.baseUnitStep=n,t.baseUnit=l},_timeScale:function(){var t,e,n,i=this,r=i.range(),o=i.options,a=i.lineBox(),s=o.vertical,l=s?a.height():a.width();return o.justified&&o._collapse!==!1?(e=this._categoryRange(o.categories),n=v(e.max),t=m(n)-r.min):t=r.max-r.min,l/t},getTickPositions:function(t){var e,n,i,r,o,a,s,l,c,h,d,u,f,p,g,m=this,v=m.options,y=v.categories,_=[];if(v.roundToBaseUnit||0===y.length)_=K.fn.getTickPositions.call(m,t);else{for(e=v.vertical,n=v.reverse,i=m.lineBox(),r=y[0].getTime(),o=hi(v._collapse,v.justified),a=y.length-(o?1:0),s=m._timeScale(),l=(e?-1:1)*(n?-1:1),c=1===l?1:2,h=1===l?2:1,d=i[(e?Oo:Ro)+c],u=i[(e?Oo:Ro)+h],f=d,p=0;a>p;p++)g=y[p]-r,f=d+g*s*l,_.push(si(f,Fi));ri(_)!==u&&_.push(u)}return _},groupCategories:function(t){var e,n,i=this,o=t.categories,a=m(r(o)),s=t.baseUnit,l=t.baseUnitStep||1,c=i.range(t),h=c.max,d=[];for(e=c.min;h>e&&(d.push(e),n=y(e,l,s,t.weekStartDay),!(n>a)||t.max);e=n);t.roundToBaseUnit||A(ri(d),h)||(n>h&&t._collapse!==!1?this._srcMaxDate=h:d.push(h)),t.srcCategories=o,t.categories=d},createAxisLabel:function(t,n){var i,r,o=this.options,a=o.dataItems?o.dataItems[t]:null,s=o.categories[t],l=o.baseUnit,c=!0,h=n.dateFormats[l];return o.justified?(i=w(s,l,o.weekStartDay),c=A(i,s)):o.roundToBaseUnit||(c=!A(this.range().max,s)),c&&(n.format=n.format||h,r=this.axisLabelText(s,a,n))?new In(s,r,t,a,n):e},categoryIndex:function(t,e){var n,i,r=this,o=r.options,a=o.categories;return t=m(t),e=e||r.range(),n=o.roundToBaseUnit&&A(e.max,t),t&&(t>e.max||n)?a.length:!t||e.min>t?-1:i=M(t,a)},getSlot:function(t,e){var n=this;return typeof t===Ur&&(t=n.categoryIndex(t)),typeof e===Ur&&(e=n.categoryIndex(e)),K.fn.getSlot.call(n,t,e)}}),J=En.extend({init:function(t,e,n){var i=this;n=n||{},Tn(n,{min:m(n.min),max:m(n.max),axisCrossingValue:m(n.axisCrossingValues||n.axisCrossingValue)}),n=i.applyDefaults(m(t),m(e),n),En.fn.init.call(i,n)},options:{type:Hi,majorGridLines:{visible:!0,width:1,color:bi},labels:{dateFormats:$o}},applyDefaults:function(t,n,i){var r=this,o=i.min||t,a=i.max||n,s=i.baseUnit||r.timeUnits(a-o),l=bo[s],c=w(v(o)-1,s)||m(a),h=x(v(a)+1,s),d=i.majorUnit?i.majorUnit:e,u=d||Mn.ceil(Mn.autoMajorUnit(c.getTime(),h.getTime()),l)/l,f=C(c,h,s),p=Mn.ceil(f,u),g=p-f,_=yn.floor(g/2),b=g-_;return i.baseUnit||delete i.baseUnit,Tn({baseUnit:s,min:y(c,-_,s),max:y(h,b,s),minorUnit:u/5},i,{majorUnit:u})},range:function(){var t=this.options;return{min:t.min,max:t.max}},getDivisions:function(t){var e=this.options;return yn.floor(C(e.min,e.max,e.baseUnit)/t+1)},getTickPositions:function(t){var e,n=this,i=n.options,r=i.vertical,o=i.reverse,a=n.lineBox(),s=r?a.height():a.width(),l=C(i.min,i.max,i.baseUnit),c=s/l,h=t*c,d=n.getDivisions(t),u=(r?-1:1)*(o?-1:1),f=1===u?1:2,p=a[(r?Oo:Ro)+f],g=[];for(e=0;d>e;e++)g.push(si(p,Fi)),p+=h*u;return g},getMajorTickPositions:function(){var t=this;return t.getTickPositions(t.options.majorUnit)},getMinorTickPositions:function(){var t=this;return t.getTickPositions(t.options.minorUnit)},getSlot:function(t,e,n){return Un.fn.getSlot.call(this,m(t),m(e),n)},getValue:function(t){var e=Un.fn.getValue.call(this,t);return null!==e?m(e):null},labelsCount:function(){return this.getDivisions(this.options.majorUnit)},createAxisLabel:function(t,e){var n,i=this.options,r=t*i.majorUnit,o=y(i.min,r,i.baseUnit),a=e.dateFormats[i.baseUnit];return e.format=e.format||a,n=this.axisLabelText(o,null,e),new In(o,n,t,null,e)},timeUnits:function(t){var e=ur;return t>=xo?e=No:t>=wo?e=Mr:t>=_o?e=zo:t>=yo&&(e=Ui),e},translateRange:function(t){var e=this,n=e.options,i=n.baseUnit,r=n.weekStartDay,o=e.lineBox(),a=n.vertical?o.height():o.width(),s=e.range(),l=a/(s.max-s.min),c=si(t/l,Gi),h=k(n.min,c),d=k(n.max,c);return{min:y(h,0,i,r),max:y(d,0,i,r)}},scaleRange:function(t){for(var e,n,i=this,r=i.options,o=yn.abs(t),a=r.min,s=r.max;o--;)e=b(a,s),n=yn.round(.1*e),0>t?(a=k(a,n),s=k(s,-n)):(a=k(a,-n),s=k(s,n));return{min:a,max:s}},shouldRenderNote:function(t){var e=this.range();return ti(t,e.min)>=0&&ti(t,e.max)<=0}}),te=zn.extend({options:{vertical:!1,gap:0,spacing:0},reflow:function(t){var e,n,i=this,r=i.options,o=r.vertical,a=o?Oo:Ro,s=i.children,l=r.gap,c=r.spacing,h=s.length,d=h+l+c*(h-1),u=(o?t.height():t.width())/d,f=t[a+1]+u*(l/2);for(n=0;h>n;n++)e=(s[n].box||t).clone(),e[a+1]=f,e[a+2]=f+u,s[n].reflow(e),h-1>n&&(f+=u*c),f+=u}}),ee=zn.extend({options:{vertical:!0},reflow:function(t){var e,n,i,r=this.options,o=r.vertical,a=o?Ro:Oo,s=o?Oo:Ro,l=t[s+2],c=this.children,h=this.box=new Ln,d=c.length;for(e=0;d>e;e++)n=c[e],n.visible!==!1&&(i=n.box.clone(),i.snapTo(t,a),n.options&&(n.options.stackBase=l),0===e&&(h=this.box=i.clone()),n.reflow(i),h.wrap(i))}}),ne={click:function(e,n){var i=this;e.trigger(ao,{value:i.value,percentage:i.percentage,category:i.category,series:i.series,dataItem:i.dataItem,runningTotal:i.runningTotal,total:i.total,element:t(n.target),originalEvent:n})},hover:function(e,n){var i=this;return e.trigger(so,{value:i.value,percentage:i.percentage,category:i.category,series:i.series,dataItem:i.dataItem,runningTotal:i.runningTotal,total:i.total,element:t(n.target),originalEvent:n})}},ie={createNote:function(){var t=this,e=t.options.notes,n=t.noteText||e.label.text;e.visible!==!1&&Jn(n)&&null!==n&&(t.note=new Vn(t.value,n,t.dataItem,t.category,t.series,t.options.notes),t.append(t.note))}},re=zn.extend({init:function(t,e){var n=this;zn.fn.init.call(n),n.options=e,n.color=e.color||Fo,n.aboveAxis=hi(n.options.aboveAxis,!0),n.value=t,n.id=ci(),n.enableDiscovery()},defaults:{border:{width:1},vertical:!0,overlay:{gradient:cr},labels:{visible:!1,format:"{0}"},animation:{type:_i},opacity:1,notes:{label:{}}},render:function(){this._rendered||(this._rendered=!0,this.createLabel(),this.createNote(),this.errorBar&&this.append(this.errorBar))},createLabel:function(){var t,e,n=this.options,i=n.labels;i.visible&&(i.template?(e=Pn(i.template),t=e({dataItem:this.dataItem,category:this.category,value:this.value,percentage:this.percentage,runningTotal:this.runningTotal,total:this.total,series:this.series})):t=this.formatValue(i.format),this.label=new Y(t,Tn({vertical:n.vertical,id:ci()},n.labels)),this.append(this.label))},formatValue:function(t){return this.owner.formatPointValue(this,t)},reflow:function(t){var e,n,i,r;if(this.render(),e=this,n=e.options,i=e.label,e.box=t,i&&(i.options.aboveAxis=e.aboveAxis,i.reflow(t)),e.note&&e.note.reflow(t),e.errorBars)for(r=0;e.errorBars.length>r;r++)e.errorBars[r].reflow(t)},createVisual:function(){this.visible!==!1&&(zn.fn.createVisual.call(this),this.createRect())},createRect:function(){var t=this.options,n=ui.Path.fromRect(this.box.toRect(),{fill:{color:this.color,opacity:t.opacity},stroke:{color:this.getBorderColor(),width:t.border.width,opacity:t.border.opacity,dashType:t.border.dashType}});this.visual.append(n),G(t)&&this.visual.append(this.createGradientOverlay(n,{baseColor:this.color},Tn({end:t.vertical?e:[0,1]},t.overlay)))},createAnimation:function(){var t=this.options;Tn(t,{animation:{aboveAxis:this.aboveAxis,vertical:t.vertical,stackBase:t.stackBase}}),zn.fn.createAnimation.call(this)},createHighlight:function(t){return ui.Path.fromRect(this.box.toRect(),t)},getBorderColor:function(){var t=this,e=t.options,n=t.color,i=e.border,r=i.color,o=i._brightness||wi;return Jn(r)||(r=new Fn(n).brightness(o).toHex()),r},tooltipAnchor:function(t,e){var n,i,r,o,a=this,s=a.options,l=a.box,c=s.vertical,h=a.aboveAxis,d=a.owner.pane.clipBox()||l;return c?(n=l.x2+To,i=h?yn.max(l.y1,d.y1):yn.min(l.y2,d.y2)-e):(r=yn.max(l.x1,d.x1),o=yn.min(l.x2,d.x2),s.isStacked?(n=h?o-t:r,i=l.y1-e-To):(n=h?o+To:r-t-To,i=l.y1)),new Wn(n,i)}}),Tn(re.fn,ne),Tn(re.fn,ie),oe=ui.Animation.extend({options:{duration:fr},setup:function(){var t,e=this.element,n=this.options,i=e.bbox(),r=this.origin=n.aboveAxis?i.bottomLeft():i.topRight(),o=n.vertical?Oo:Ro,a=n.stackBase,s=this.fromOffset=new di.Point;s[o]=hi(a,r[o])-r[o],t=this.fromScale=new di.Point(1,1),t[o]=0,e.transform(di.transform().scale(t.x,t.y))},step:function(t){var e=ii(this.fromScale.x,1,t),n=ii(this.fromScale.y,1,t),i=ii(this.fromOffset.x,0,t),r=ii(this.fromOffset.y,0,t);this.element.transform(di.transform().translate(i,r).scale(e,n,this.origin))}}),ui.AnimationFactory.current.register(_i,oe),ae=ui.Animation.extend({options:{duration:200,easing:br},setup:function(){this.fadeTo=this.element.opacity(),this.element.opacity(0)},step:function(t){this.element.opacity(t*this.fadeTo)}}),ui.AnimationFactory.current.register(or,ae),se=function(t,e,n){var i=this;i.errorValue=t,i.initGlobalRanges(t,e,n)},se.prototype=se.fn={percentRegex:/percent(?:\w*)\((\d+)\)/,standardDeviationRegex:RegExp("^"+uo+"(?:\\((\\d+(?:\\.\\d+)?)\\))?$"),initGlobalRanges:function(t,e,n){var i,r,o,a,s,l=this,c=e.data,h=l.standardDeviationRegex.exec(t);h?(l.valueGetter=l.createValueGetter(e,n),i=l.getAverage(c),r=l.getStandardDeviation(c,i,!1),o=h[1]?parseFloat(h[1]):1,a={low:i.value-r*o,high:i.value+r*o},l.globalRange=function(){return a}):t.indexOf&&t.indexOf(ho)>=0&&(l.valueGetter=l.createValueGetter(e,n),s=l.getStandardError(c,l.getAverage(c)),l.globalRange=function(t){return{low:t-s,high:t+s}})},createValueGetter:function(t,e){var n,i,r,o=t.data,a=$.current,s=a.valueFields(t),l=Jn(o[0])?o[0]:{};return mn(l)?(n=e?O(e,s):0,r=Dn("["+n+"]")):E(l)?r=Dn():typeof l===Ur&&(i=a.sourceFields(t,s),r=Dn(i[O(e,s)])),r},getErrorRange:function(t){var e,n,i,r,o=this,a=o.errorValue;if(Jn(a)){if(o.globalRange)return o.globalRange(t);if(mn(a))e=t-a[0],n=t+a[1];else if(E(i=parseFloat(a)))e=t-i,n=t+i;else{if(!(i=o.percentRegex.exec(a)))throw Error("Invalid ErrorBar value: "+a);r=t*(parseFloat(i[1])/100),e=t-yn.abs(r),n=t+yn.abs(r)}return{low:e,high:n}}},getStandardError:function(t,e){return this.getStandardDeviation(t,e,!0)/yn.sqrt(e.count)},getStandardDeviation:function(t,e,n){var i,r,o=0,a=t.length,s=n?e.count-1:e.count;for(r=0;a>r;r++)i=this.valueGetter(t[r]),E(i)&&(o+=yn.pow(i-e.value,2));return yn.sqrt(o/s)},getAverage:function(t){var e,n,i=0,r=0,o=t.length;for(n=0;o>n;n++)e=this.valueGetter(t[n]),E(e)&&(i+=e,r++);return{value:i/r,count:r}}},le=zn.extend({init:function(t,e){var n=this;zn.fn.init.call(n,e),n.id=ci(),n.plotArea=t,n.categoryAxis=t.seriesCategoryAxis(e.series[0]),n.valueAxisRanges={},n.points=[],n.categoryPoints=[],n.seriesPoints=[],n.seriesOptions=[],n._evalSeries=[],n.render()},options:{series:[],invertAxes:!1,isStacked:!1,clip:!0},render:function(){var t=this;t.traverseDataPoints(wn(t.addValue,t))},pointOptions:function(t,e){var n,i=this.seriesOptions[e];return i||(n=this.pointType().fn.defaults,this.seriesOptions[e]=i=Tn({},n,{vertical:!this.options.invertAxes},t)),i},plotValue:function(t){var e,n,i,r,o,a,s;if(!t)return 0;if(this.options.isStacked100&&E(t.value)){for(e=t.categoryIx,n=this.categoryPoints[e],i=0,r=0;n.length>r;r++)if(o=n[r]){if(a=t.series.stack,s=o.series.stack,a&&s&&a.group!==s.group)continue;E(o.value)&&(i+=yn.abs(o.value))}if(i>0)return t.value/i}return t.value},plotRange:function(t,e){var n,i,r,o,a,s,l,c,h,d,u,f,p=t.categoryIx,g=this.categoryPoints[p];if(this.options.isStacked){for(e=e||0,n=this.plotValue(t),i=n>0,r=e,o=!1,a=0;g.length>a&&(s=g[a],t!==s);a++){if(l=t.series.stack,c=s.series.stack,l&&c){if(typeof l===fo&&l!==c)continue;if(l.group&&l.group!==c.group)continue}h=this.plotValue(s),(h>0&&i||0>h&&!i)&&(r+=h,n+=h,o=!0)}return o&&(r-=e),[r,n]}return d=t.series,u=this.seriesValueAxis(d),f=this.categoryAxisCrossingValue(u),[f,t.value||f]},stackLimits:function(t,e){var n,i,r,o,a,s=Tr,l=Ar;for(n=0;this.categoryPoints.length>n;n++)for(i=this.categoryPoints[n],r=0;i.length>r;r++)o=i[r],o&&(o.series.stack===e||o.series.axis===t)&&(a=this.plotRange(o,0)[1],Jn(a)&&(l=yn.max(l,a),s=yn.min(s,a)));return{min:s,max:l}},updateStackRange:function(){var t,e,n,o,a,s,l=this,c=l.options.series,h=l.options.isStacked,d={};if(h)for(e=0;c.length>e;e++)n=c[e],o=n.axis,a=o+n.stack,t=d[a],t||(t=l.stackLimits(o,n.stack),s=l.errorTotals,s&&(s.negative.length&&(t.min=yn.min(t.min,i(s.negative))),s.positive.length&&(t.max=yn.max(t.max,r(s.positive)))),d[a]=t),l.valueAxisRanges[o]=t},addErrorBar:function(t,e,n){var i,r=this,o=t.value,a=t.series,s=t.seriesIx,l=t.options.errorBars,c=e.fields[Ji],h=e.fields[tr];E(c)&&E(h)?i={low:c,high:h}:l&&Jn(l.value)&&(r.seriesErrorRanges=r.seriesErrorRanges||[],r.seriesErrorRanges[s]=r.seriesErrorRanges[s]||new se(l.value,a,Mo),i=r.seriesErrorRanges[s].getErrorRange(o)),i&&(t.low=i.low,t.high=i.high,r.addPointErrorBar(t,n))},addPointErrorBar:function(t,e){var n,i,r,o=this,a=t.series,s=t.low,l=t.high,c=!o.options.invertAxes,h=t.options.errorBars;o.options.isStacked?(i=o.stackedErrorRange(t,e),s=i.low,l=i.high):(r={categoryIx:e,series:a},o.updateRange({value:s},r),o.updateRange({value:l},r)),n=new me(s,l,c,o,a,h),t.errorBars=[n],t.append(n)},stackedErrorRange:function(t,e){var n=this,i=n.plotRange(t,0)[1]-t.value,r=t.low+i,o=t.high+i;return n.errorTotals=n.errorTotals||{positive:[],negative:[]},0>r&&(n.errorTotals.negative[e]=yn.min(n.errorTotals.negative[e]||0,r)),o>0&&(n.errorTotals.positive[e]=yn.max(n.errorTotals.positive[e]||0,o)),{low:r,high:o}},addValue:function(e,n){var i,r,o=this,a=n.categoryIx,s=n.series,l=n.seriesIx,c=o.categoryPoints[a];c||(o.categoryPoints[a]=c=[]),i=o.seriesPoints[l],i||(o.seriesPoints[l]=i=[]),r=o.createPoint(e,n),r&&(t.extend(r,n),r.owner=o,r.dataItem=s.data[a],r.noteText=e.fields.noteText,o.addErrorBar(r,e,a)),o.points.push(r),i.push(r),c.push(r),o.updateRange(e.valueFields,n)},evalPointOptions:function(t,e,n,i,r,o){var a={defaults:r._defaults,excluded:["data","aggregate","_events","tooltip","template"]},s=this._evalSeries[o];return Jn(s)||(this._evalSeries[o]=s=z(t,{},a,!0)),s&&(t=Tn({},t),z(t,{value:e,category:n,index:i,series:r,dataItem:r.data[i]},a)),t},updateRange:function(t,e){var n=this,i=e.series.axis,r=t.value,o=n.valueAxisRanges[i];isFinite(r)&&null!==r&&(o=n.valueAxisRanges[i]=o||{min:Tr,max:Ar},o.min=yn.min(o.min,r),o.max=yn.max(o.max,r))},seriesValueAxis:function(t){var e=this.plotArea,n=t.axis,i=n?e.namedValueAxes[n]:e.valueAxis;if(!i)throw Error("Unable to locate value axis with name "+n);return i},reflow:function(t){var e,n,i,r=this,o=0,a=r.categorySlots=[],s=r.points,l=r.categoryAxis;r.traverseDataPoints(function(t,c){var h,d,u,f,p=c.categoryIx,g=c.series;e=r.pointValue(t),n=r.seriesValueAxis(g),i=s[o++],h=a[p],h||(a[p]=h=r.categorySlot(l,p,n)),i&&(d=r.plotRange(i,n.startValue()),u=n.getSlot(d[0],d[1],!r.options.clip),u?(f=r.pointSlot(h,u),i.aboveAxis=r.aboveAxis(i,n),r.options.isStacked100&&(i.percentage=r.plotValue(i)),r.reflowPoint(i,f)):i.visible=!1)}),r.reflowCategories(a),r.box=t},aboveAxis:function(t,e){var n=this.categoryAxisCrossingValue(e),i=t.value;return e.options.reverse?n>i:i>=n},categoryAxisCrossingValue:function(t){var e=this.categoryAxis,n=t.options,i=[].concat(n.axisCrossingValues||n.axisCrossingValue);return i[e.axisIndex||0]||0},reflowPoint:function(t,e){t.reflow(e)},reflowCategories:function(){},pointSlot:function(t,e){var n=this,i=n.options,r=i.invertAxes,o=r?e:t,a=r?t:e;return new Ln(o.x1,a.y1,o.x2,a.y2)},categorySlot:function(t,e){return t.getSlot(e)},traverseDataPoints:function(t){var e,n,i,r,o,a=this,s=a.options,l=s.series,c=a.categoryAxis.options.categories||[],h=u(l),d=l.length;for(e=0;h>e;e++)for(n=0;d>n;n++)o=l[n],r=c[e],i=this._bindPoint(o,n,e),t(i,{category:r,categoryIx:e,series:o,seriesIx:n})},_bindPoint:function(t,e,n){var i,r;return this._bindCache||(this._bindCache=[]),i=this._bindCache[e],i||(i=this._bindCache[e]=[]),r=i[n],r||(r=i[n]=$.current.bindPoint(t,n)),r},formatPointValue:function(t,e){return null===t.value?"":Zn(e,t.value)},pointValue:function(t){return t.valueFields.value}}),ce=le.extend({render:function(){var t=this;le.fn.render.apply(t),t.updateStackRange()},pointType:function(){return re},clusterType:function(){return te},stackType:function(){return ee},stackLimits:function(t,e){var n=le.fn.stackLimits.call(this,t,e);return n.min=yn.min(0,n.min),n.max=yn.max(0,n.max),n},createPoint:function(t,e){var n,i,r,o,a=this,s=e.categoryIx,l=e.category,c=e.series,h=e.seriesIx,d=a.pointValue(t),u=a.options,f=a.children,p=a.options.isStacked,g=a.pointType(),m=a.clusterType(),v=this.pointOptions(c,h),y=v.labels;return p&&y.position==jr&&(y.position=gr),v.isStacked=p,r=t.fields.color||c.color,0>d&&v.negativeColor&&(r=v.negativeColor),v=a.evalPointOptions(v,d,l,s,c,h),xn.isFunction(c.color)&&(r=v.color),n=new g(d,v),n.color=r,i=f[s],i||(i=new m({vertical:u.invertAxes,gap:u.gap,spacing:u.spacing}),a.append(i)),p?(o=a.getStackWrap(c,i),o.append(n)):i.append(n),n},getStackWrap:function(t,e){var n,i,r,o=t.stack,a=o?o.group||o:o,s=e.children;if(typeof a===fo){for(i=0;s.length>i;i++)if(s[i]._stackGroup===a){n=s[i];break}}else n=s[0];return n||(r=this.stackType(),n=new r({vertical:!this.options.invertAxes}),n._stackGroup=a,e.append(n)),n},categorySlot:function(t,e,n){var i,r,o=this,a=o.options,s=t.getSlot(e),l=n.startValue();return a.isStacked&&(r=n.getSlot(l,l,!0),i=a.invertAxes?Ro:Oo,s[i+1]=s[i+2]=r[i+1]),s},reflowCategories:function(t){var e,n=this,i=n.children,r=i.length;for(e=0;r>e;e++)i[e].reflow(t[e])}}),he=re.extend({defaults:{labels:{format:"{0} - {1}"},tooltip:{format:"{1}"}},createLabel:function(){var t=this.options.labels,e=Tn({},t,t.from),n=Tn({},t,t.to);e.visible&&(this.labelFrom=this._createLabel(e),this.append(this.labelFrom)),n.visible&&(this.labelTo=this._createLabel(n),this.append(this.labelTo))},_createLabel:function(t){var e,n;return t.template?(n=Pn(t.template),e=n({dataItem:this.dataItem,category:this.category,value:this.value,percentage:this.percentage,runningTotal:this.runningTotal,total:this.total,series:this.series})):e=this.formatValue(t.format),new Y(e,Tn({vertical:this.options.vertical,id:ci()},t))
},reflow:function(t){this.render();var e=this,n=e.labelFrom,i=e.labelTo;e.box=t,n&&(n.options.aboveAxis=e.value.from>e.value.to,n.reflow(t)),i&&(i.options.aboveAxis=e.value.to>e.value.from,i.reflow(t)),e.note&&e.note.reflow(t)}}),de=ce.extend({pointType:function(){return he},pointValue:function(t){return t.valueFields},formatPointValue:function(t,e){return null===t.value.from&&null===t.value.to?"":Zn(e,t.value.from,t.value.to)},plotLimits:le.fn.plotLimits,plotRange:function(t){return t?[t.value.from,t.value.to]:0},updateRange:function(t,e){var n=this,i=e.series.axis,r=t.from,o=t.to,a=n.valueAxisRanges[i];null!==t&&E(r)&&E(o)&&(a=n.valueAxisRanges[i]=a||{min:Tr,max:Ar},a.min=yn.min(a.min,r),a.max=yn.max(a.max,r),a.min=yn.min(a.min,o),a.max=yn.max(a.max,o))},aboveAxis:function(t){var e=t.value;return e.to>e.from}}),ue=le.extend({init:function(t,e){var n=this;n.wrapData(e),le.fn.init.call(n,t,e)},wrapData:function(t){var e,n,i,r=t.series;for(e=0;r.length>e;e++)i=r[e],n=i.data,n&&!mn(n[0])&&typeof n[0]!=Ur&&(i.data=[n])},reflowCategories:function(t){var e,n=this,i=n.children,r=i.length;for(e=0;r>e;e++)i[e].reflow(t[e])},plotRange:function(t){var e=t.series,n=this.seriesValueAxis(e),i=this.categoryAxisCrossingValue(n);return[i,t.value.current||i]},createPoint:function(t,e){var n,i,r=this,o=e.categoryIx,a=e.category,s=e.series,l=e.seriesIx,c=t.valueFields,h=r.options,d=r.children,u=Tn({vertical:!h.invertAxes,overlay:s.overlay,categoryIx:o,invertAxes:h.invertAxes},s);return u=r.evalPointOptions(u,c,a,o,s,l),n=new fe(c,u),i=d[o],i||(i=new te({vertical:h.invertAxes,gap:h.gap,spacing:h.spacing}),r.append(i)),i.append(n),n},updateRange:function(t,e){var n=this,i=e.series.axis,r=t.current,o=t.target,a=n.valueAxisRanges[i];Jn(r)&&!isNaN(r)&&Jn(o&&!isNaN(o))&&(a=n.valueAxisRanges[i]=a||{min:Tr,max:Ar},a.min=yn.min.apply(yn,[a.min,r,o]),a.max=yn.max.apply(yn,[a.max,r,o]))},formatPointValue:function(t,e){return Zn(e,t.value.current,t.value.target)},pointValue:function(t){return t.valueFields.current},aboveAxis:function(t){var e=t.value.current;return e>0}}),fe=zn.extend({init:function(t,e){var n=this;zn.fn.init.call(n,e),n.value=t,n.aboveAxis=n.options.aboveAxis},options:{color:Fo,border:{width:1},vertical:!1,animation:{type:_i},opacity:1,target:{shape:"",border:{width:0,color:"green"},line:{width:2}},tooltip:{format:"Current: {0}</br>Target: {1}"}},render:function(){var t=this,e=t.options;t._rendered||(t._rendered=!0,Jn(t.value.target)&&(t.target=new pe({type:e.target.shape,background:e.target.color||e.color,opacity:e.opacity,zIndex:e.zIndex,border:e.target.border,vAlign:Co,align:Kr}),t.target.id=t.id,t.append(t.target)),t.createNote())},reflow:function(t){this.render();var e,n=this,i=n.options,r=n.owner,o=n.target,a=i.invertAxes,s=r.seriesValueAxis(n.options),l=r.categorySlot(r.categoryAxis,i.categoryIx,s),c=s.getSlot(n.value.target),h=a?c:l,d=a?l:c;o&&(e=new Ln(h.x1,d.y1,h.x2,d.y2),o.options.height=a?e.height():i.target.line.width,o.options.width=a?i.target.line.width:e.width(),o.reflow(e)),n.note&&n.note.reflow(t),n.box=t},createVisual:function(){var t,e;zn.fn.createVisual.call(this),t=this.options,e=ui.Path.fromRect(this.box.toRect(),{fill:{color:t.color,opacity:t.opacity},stroke:null}),t.border.width>0&&e.options.set("stroke",{color:t.border.color||t.color,width:t.border.width,dashType:t.border.dashType,opacity:hi(t.border.opacity,t.opacity)}),Mn.alignPathToPixel(e),this.visual.append(e)},createAnimation:function(){var t=this.options;Tn(t,{animation:{aboveAxis:this.aboveAxis,vertical:t.vertical}}),zn.fn.createAnimation.call(this)},tooltipAnchor:function(t,e){var n,i,r=this,o=r.options,a=r.box,s=o.vertical,l=r.aboveAxis;return s?(n=a.x2+To,i=l?a.y1:a.y2-e):o.isStacked?(n=l?a.x2-t:a.x1,i=a.y1-e-To):(n=l?a.x2+To:a.x1-t-To,i=a.y1),new Wn(n,i)},createHighlight:function(t){return ui.Path.fromRect(this.box.toRect(),t)},formatValue:function(t){var e=this;return e.owner.formatPointValue(e,t)}}),Tn(fe.fn,ne),Tn(fe.fn,ie),pe=qn.extend(),Tn(pe.fn,ne),ge=zn.extend({init:function(t,e,n,i,r,o){var a=this;a.low=t,a.high=e,a.isVertical=n,a.chart=i,a.series=r,zn.fn.init.call(a,o)},options:{animation:{type:or,delay:fr},endCaps:!0,line:{width:1},zIndex:1},getAxis:function(){},reflow:function(t){var e,n=this,i=n.options.endCaps,r=n.isVertical,o=n.getAxis(),a=o.getSlot(n.low,n.high),s=t.center(),l=n.getCapsWidth(t,r),c=r?s.x:s.y,h=c-l,d=c+l;r?(e=[Wn(s.x,a.y1),Wn(s.x,a.y2)],i&&e.push(Wn(h,a.y1),Wn(d,a.y1),Wn(h,a.y2),Wn(d,a.y2))):(e=[Wn(a.x1,s.y),Wn(a.x2,s.y)],i&&e.push(Wn(a.x1,h),Wn(a.x1,d),Wn(a.x2,h),Wn(a.x2,d))),n.linePoints=e},getCapsWidth:function(t,e){var n=e?t.width():t.height(),i=yn.min(yn.floor(n/2),$i)||$i;return i},createVisual:function(){var t,e,n=this,i=n.options,r={stroke:{color:i.color,width:i.line.width,dashType:i.line.dashType}},o=n.linePoints;for(zn.fn.createVisual.call(this),t=0;o.length>t;t+=2)e=new ui.Path(r).moveTo(o[t].x,o[t].y).lineTo(o[t+1].x,o[t+1].y),this.visual.append(e)}}),me=ge.extend({getAxis:function(){var t=this,e=t.chart,n=t.series,i=e.seriesValueAxis(n);return i}}),ve=ge.extend({getAxis:function(){var t=this,e=t.chart,n=t.series,i=e.seriesAxes(n),r=t.isVertical?i.y:i.x;return r}}),ye=zn.extend({init:function(t,e){var n=this;zn.fn.init.call(n),n.value=t,n.options=e,n.color=e.color,n.aboveAxis=hi(n.options.aboveAxis,!0),n.id=ci(),n.tooltipTracking=!0,n.enableDiscovery()},defaults:{vertical:!0,markers:{visible:!0,background:Fo,size:xr,type:Ii,border:{width:2},opacity:1},labels:{visible:!1,position:pi,margin:ei(3),padding:ei(4),animation:{type:or,delay:fr}},notes:{label:{}},highlight:{markers:{border:{}}},zIndex:2},render:function(){var t,e=this,n=e.options,i=n.markers,r=n.labels,o=e.value;e._rendered||(e._rendered=!0,i.visible&&i.size&&(e.marker=e.createMarker(),e.marker.id=e.id,e.append(e.marker)),r.visible&&(r.template?(t=Pn(r.template),o=t({dataItem:e.dataItem,category:e.category,value:e.value,percentage:e.percentage,series:e.series})):r.format&&(o=e.formatValue(r.format)),e.label=new Yn(o,Tn({id:ci(),align:Mi,vAlign:Mi,margin:{left:5,right:5}},r)),e.append(e.label)),e.createNote(),e.errorBar&&e.append(e.errorBar))},markerBorder:function(){var t=this.options.markers,e=t.background,n=Tn({color:this.color},t.border);return Jn(n.color)||(n.color=new Fn(e).brightness(wi).toHex()),n},createMarker:function(){var t=this.options.markers,e=new qn({type:t.type,width:t.size,height:t.size,rotation:t.rotation,background:t.background,border:this.markerBorder(),opacity:t.opacity,zIndex:t.zIndex,animation:t.animation});return e},markerBox:function(){return this.marker||(this.marker=this.createMarker(),this.marker.reflow(this._childBox)),this.marker.box},reflow:function(t){var e,n,i,r,o=this,a=o.options,s=a.vertical,l=o.aboveAxis;if(o.render(),o.box=t,e=t.clone(),s?l?e.y1-=e.height():e.y2+=e.height():l?e.x1+=e.width():e.x2-=e.width(),o._childBox=e,o.marker&&o.marker.reflow(e),o.reflowLabel(e),o.errorBars)for(i=0;o.errorBars.length>i;i++)o.errorBars[i].reflow(e);o.note&&(r=o.markerBox(),o.marker||(n=r.center(),r=Ln(n.x,n.y,n.x,n.y)),o.note.reflow(r))},reflowLabel:function(t){var e=this,n=e.options,i=e.label,r=n.labels.position;i&&(r=r===pi?Co:r,r=r===xi?Ci:r,i.reflow(t),i.box.alignTo(e.markerBox(),r),i.reflow(i.box))},createHighlight:function(){var t=this.options.highlight,e=t.markers,n=this.markerBorder().color,i=this.options.markers,r=new qn({type:i.type,width:i.size,height:i.size,rotation:i.rotation,background:e.color||n,border:{color:e.border.color,width:e.border.width,opacity:e.border.opacity||0},fillOpacity:e.opacity||1});return r.reflow(this._childBox),r.getElement()},tooltipAnchor:function(t,n){var i=this,r=i.markerBox(),o=i.aboveAxis,a=r.x2+To,s=o?r.y1-n:r.y2,l=i.owner.pane.clipBox(),c=!l||l.overlaps(r);return c?Wn(a,s):e},formatValue:function(t){var e=this;return e.owner.formatPointValue(e,t)}}),Tn(ye.fn,ne),Tn(ye.fn,ie),_e=ye.extend({init:function(t,e){var n=this;ye.fn.init.call(n,t,Tn({},this.defaults,e)),n.category=t.category},defaults:{labels:{position:Mi},highlight:{opacity:1,border:{width:1,opacity:1}}},createHighlight:function(){var t=this.options.highlight,e=this.marker.getElement(),n=this.options.markers,i=t.border;return e.options.set("stroke",{color:i.color||new Fn(n.background).brightness(wi).toHex(),width:i.width,opacity:i.opacity}),e}}),we=zn.extend({init:function(t,e,n){var i=this;zn.fn.init.call(i),i.linePoints=t,i.series=e,i.seriesIx=n,i.id=ci(),i.enableDiscovery()},options:{closed:!1},points:function(t){var e,n,i=this,r=i.linePoints.concat(t||[]),o=Array(r.length);for(e=0,n=r.length;n>e;e++)r[e].visible!==!1&&(o[e]=r[e]._childBox.toRect().center());return o},createVisual:function(){var t,e=this.options,n=this.series,i=n._defaults,r=n.color;An(r)&&i&&(r=i.color),t=ui.Path.fromPoints(this.points(),{stroke:{color:r,width:n.width,opacity:n.opacity,dashType:n.dashType}}),e.closed&&t.close(),this.visual=new ui.Group,this.visual.append(t)},aliasFor:function(t,e){var n=this,i=n.seriesIx;return n.parent.getNearestPoint(e.x,e.y,i)}}),xe={renderSegments:function(){var t,e,n,i,r,o,a,s=this,l=s.options,c=l.series,h=s.seriesPoints,d=h.length,u=[];for(e=0;d>e;e++){for(t=c[e],n=s.sortPoints(h[e]),a=n.length,i=[],o=0;a>o;o++)r=n[o],r?i.push(r):s.seriesMissingValues(t)!==mr&&(i.length>1&&u.push(s.createSegment(i,t,e,ri(u))),i=[]);i.length>1&&u.push(s.createSegment(i,t,e,ri(u)))}s._segments=u,s.append.apply(s,u)},sortPoints:function(t){return t},seriesMissingValues:function(t){var e=t.missingValues,n=!e&&this.options.isStacked;return n?Vo:e||mr},getNearestPoint:function(t,e,n){var i,r,o,a,s,l=new Wn(t,e),c=this.seriesPoints[n],h=Tr;for(r=0;c.length>r;r++)o=c[r],o&&Jn(o.value)&&null!==o.value&&o.visible!==!1&&(a=o.box,s=a.center().distanceTo(l),h>s&&(i=o,h=s));return i}},be=le.extend({init:function(t,e){var n=this;n.enableDiscovery(),le.fn.init.call(n,t,e)},render:function(){var t=this;le.fn.render.apply(t),t.updateStackRange(),t.renderSegments()},pointType:function(){return ye},createPoint:function(t,e){var n,i,r,o=this,a=e.categoryIx,s=e.category,l=e.series,c=e.seriesIx,h=t.valueFields.value,d=o.seriesMissingValues(l);if(!Jn(h)||null===h){if(d!==Vo)return null;h=0}return i=this.pointOptions(l,c),i=o.evalPointOptions(i,h,s,a,l,c),r=t.fields.color||l.color,xn.isFunction(l.color)&&(r=i.color),n=new ye(h,i),n.color=r,o.append(n),n},plotRange:function(t){var e,n,i,r,o=this.plotValue(t);if(this.options.isStacked)for(e=t.categoryIx,n=this.categoryPoints[e],i=0;n.length>i&&(r=n[i],t!==r);i++)o+=this.plotValue(r);return[o,o]},createSegment:function(t,e,n){var i,r=e.style;return new(i=r===lo?ke:r===co?Ce:we)(t,e,n)}}),Tn(be.fn,xe),ke=we.extend({points:function(t){var e,n=this;return e=n.calculateStepPoints(n.linePoints),t&&t.length&&(e=e.concat(n.calculateStepPoints(t).reverse())),e},calculateStepPoints:function(t){var e,n,i,r,o,a=this,s=a.parent,l=s.plotArea,c=l.seriesCategoryAxis(a.series),h=s.seriesMissingValues(a.series)===mr,d=t.length,u=c.options.reverse,f=c.options.vertical,p=u?2:1,g=u?1:2,m=[];for(i=1;d>i;i++)e=t[i-1],n=t[i],r=e.markerBox().center(),o=n.markerBox().center(),c.options.justified?(m.push(new di.Point(r.x,r.y)),m.push(f?new di.Point(r.x,o.y):new di.Point(o.x,r.y)),m.push(new di.Point(o.x,o.y))):f?(m.push(new di.Point(r.x,e.box[Oo+p])),m.push(new di.Point(r.x,e.box[Oo+g])),h&&m.push(new di.Point(r.x,n.box[Oo+p])),m.push(new di.Point(o.x,n.box[Oo+p])),m.push(new di.Point(o.x,n.box[Oo+g]))):(m.push(new di.Point(e.box[Ro+p],r.y)),m.push(new di.Point(e.box[Ro+g],r.y)),h&&m.push(new di.Point(n.box[Ro+p],r.y)),m.push(new di.Point(n.box[Ro+p],o.y)),m.push(new di.Point(n.box[Ro+g],o.y)));return m||[]}}),Ce=we.extend({createVisual:function(){var t,e,n,i=this.series,r=i._defaults,o=i.color;An(o)&&r&&(o=r.color),t=new Rn(this.options.closed),e=t.process(this.points()),n=new ui.Path({stroke:{color:o,width:i.width,opacity:i.opacity,dashType:i.dashType}}),n.segments.push.apply(n.segments,e),this.visual=new ui.Group,this.visual.append(n)}}),Se={points:function(){var t,e,n=this,i=n.parent,r=i.plotArea,o=i.options.invertAxes,a=i.seriesValueAxis(n.series),s=a.lineBox(),l=r.seriesCategoryAxis(n.series),c=l.lineBox(),h=o?c.x1:c.y1,d=n.stackPoints,u=n._linePoints(d),f=o?Ro:Oo;return h=oi(h,s[f+1],s[f+2]),!n.stackPoints&&u.length>1&&(t=u[0],e=ri(u),o?(u.unshift(new di.Point(h,t.y)),u.push(new di.Point(h,e.y))):(u.unshift(new di.Point(t.x,h)),u.push(new di.Point(e.x,h)))),u},createVisual:function(){var t=this.series,e=t._defaults,n=t.color;An(n)&&e&&(n=e.color),this.visual=new ui.Group,this.createArea(n),this.createLine(n)},createLine:function(t){var e,n=this.series,i=Tn({color:t,opacity:n.opacity},n.line);i.visible!==!1&&i.width>0&&(e=ui.Path.fromPoints(this._linePoints(),{stroke:{color:i.color,width:i.width,opacity:i.opacity,dashType:i.dashType,lineCap:"butt"}}),this.visual.append(e))},createArea:function(t){var e=this.series,n=ui.Path.fromPoints(this.points(),{fill:{color:t,opacity:e.opacity},stroke:null});this.visual.append(n)}},Te=we.extend({init:function(t,e,n,i){var r=this;r.stackPoints=e,we.fn.init.call(r,t,n,i)},_linePoints:we.fn.points}),Tn(Te.fn,Se),De=be.extend({createSegment:function(t,e,n,i){var r,o,a=this,s=a.options,l=s.isStacked,c=(e.line||{}).style;return l&&n>0&&i&&(r=i.linePoints,c!==lo&&(r=r.slice(0).reverse())),c===co?new Ae(t,i,l,e,n):new(o=c===lo?Pe:Te)(t,r,e,n)},seriesMissingValues:function(t){return t.missingValues||Vo}}),Ae=Te.extend({init:function(t,e,n,i,r){var o=this;o.prevSegment=e,o.isStacked=n,we.fn.init.call(o,t,i,r)},strokeSegments:function(){var t,e,n=this._strokeSegments;return n||(t=new Rn(this.options.closed),e=we.fn.points.call(this),n=this._strokeSegments=t.process(e)),n},createVisual:function(){var t=this.series,e=t._defaults,n=t.color;An(n)&&e&&(n=e.color),this.visual=new ui.Group,this.createFill({fill:{color:n,opacity:t.opacity},stroke:null}),this.createStroke({stroke:Tn({color:n,opacity:t.opacity,lineCap:"butt"},t.line)})},createFill:function(e){var n,i,r,o,a,s=this.strokeSegments(),l=s.slice(0),c=this.prevSegment;this.isStacked&&c&&(n=c.strokeSegments(),i=ri(n).anchor(),l.push(new ui.Segment(i,i,ri(s).anchor())),r=t.map(n,function(t){return new ui.Segment(t.anchor(),t.controlOut(),t.controlIn())}).reverse(),Kn(l,r),o=l[0].anchor(),l.push(new ui.Segment(o,o,ri(r).anchor()))),a=new ui.Path(e),a.segments.push.apply(a.segments,l),this.closeFill(a),this.visual.append(a)},closeFill:function(t){var e=this,n=e.parent,i=e.prevSegment,r=n.plotArea,o=n.options.invertAxes,a=n.seriesValueAxis(e.series),s=a.lineBox(),l=r.seriesCategoryAxis(e.series),c=l.lineBox(),h=o?c.x1:c.y1,d=o?Ro:Oo,u=e.strokeSegments(),f=u[0].anchor(),p=ri(u).anchor();h=oi(h,s[d+1],s[d+2]),n.options.isStacked&&i||!(u.length>1)||(o?t.lineTo(h,p.y).lineTo(h,f.y):t.lineTo(p.x,h).lineTo(f.x,h))},createStroke:function(t){if(t.stroke.width>0){var e=new ui.Path(t);e.segments.push.apply(e.segments,this.strokeSegments()),this.visual.append(e)}}}),Pe=ke.extend({init:function(t,e,n,i){var r=this;r.stackPoints=e,ke.fn.init.call(r,t,n,i)},_linePoints:ke.fn.points}),Tn(Pe.fn,Se),Me=zn.extend({init:function(t,e){var n=this;zn.fn.init.call(n,e),n.id=ci(),n.plotArea=t,n.xAxisRanges={},n.yAxisRanges={},n.points=[],n.seriesPoints=[],n.render()},options:{series:[],tooltip:{format:"{0}, {1}"},labels:{format:"{0}, {1}"},clip:!0},render:function(){var t=this;t.traverseDataPoints(wn(t.addValue,t))},addErrorBar:function(t,e,n){var i,r=this,o=t.value[e],a=e+"Value",s=e+"ErrorLow",l=e+"ErrorHigh",c=n.seriesIx,h=n.series,d=t.options.errorBars,u=n[s],f=n[l];E(o)&&(E(u)&&E(f)&&(i={low:u,high:f}),d&&Jn(d[a])&&(r.seriesErrorRanges=r.seriesErrorRanges||{x:[],y:[]},r.seriesErrorRanges[e][c]=r.seriesErrorRanges[e][c]||new se(d[a],h,e),i=r.seriesErrorRanges[e][c].getErrorRange(o)),i&&r.addPointErrorBar(i,t,e))},addPointErrorBar:function(t,e,n){var i,r=this,o=t.low,a=t.high,s=e.series,l=n===Oo,c=e.options.errorBars,h={};e[n+"Low"]=o,e[n+"High"]=a,e.errorBars=e.errorBars||[],i=new ve(o,a,l,r,s,c),e.errorBars.push(i),e.append(i),h[n]=o,r.updateRange(h,s),h[n]=a,r.updateRange(h,s)},addValue:function(t,e){var n,i=this,r=t.x,o=t.y,a=e.seriesIx,s=i.seriesPoints[a];i.updateRange(t,e.series),Jn(r)&&null!==r&&Jn(o)&&null!==o&&(n=i.createPoint(t,e),n&&(_n(n,e),i.addErrorBar(n,Ro,e),i.addErrorBar(n,Oo,e))),i.points.push(n),s.push(n)},updateRange:function(t,e){var n=this,i=t.x,r=t.y,o=e.xAxis,a=e.yAxis,s=n.xAxisRanges[o],l=n.yAxisRanges[a];Jn(i)&&null!==i&&(s=n.xAxisRanges[o]=s||{min:Tr,max:Ar},typeof i===fo&&(i=m(i)),s.min=yn.min(s.min,i),s.max=yn.max(s.max,i)),Jn(r)&&null!==r&&(l=n.yAxisRanges[a]=l||{min:Tr,max:Ar},typeof r===fo&&(r=m(r)),l.min=yn.min(l.min,r),l.max=yn.max(l.max,r))},evalPointOptions:function(t,e,n){var i=n.series;z(t,{value:e,series:i,dataItem:n.dataItem},{defaults:i._defaults,excluded:["data","tooltip","tempate"]})},createPoint:function(t,e){var n,i,r=this,o=e.series;return i=Tn({},ye.fn.defaults,{markers:{opacity:o.opacity},tooltip:{format:r.options.tooltip.format},labels:{format:r.options.labels.format}},o,{color:e.color}),r.evalPointOptions(i,t,e),n=new ye(t,i),r.append(n),n},seriesAxes:function(t){var e=this.plotArea,n=t.xAxis,i=n?e.namedXAxes[n]:e.axisX,r=t.yAxis,o=r?e.namedYAxes[r]:e.axisY;if(!i)throw Error("Unable to locate X axis with name "+n);if(!o)throw Error("Unable to locate Y axis with name "+r);return{x:i,y:o}},reflow:function(t){var e,n,i=this,r=i.points,o=0,a=!i.options.clip;i.traverseDataPoints(function(t,s){e=r[o++],n=i.seriesAxes(s.series);var l,c=n.x.getSlot(t.x,t.x,a),h=n.y.getSlot(t.y,t.y,a);e&&(c&&h?(l=i.pointSlot(c,h),e.reflow(l)):e.visible=!1)}),i.box=t},pointSlot:function(t,e){return new Ln(t.x1,e.y1,t.x2,e.y2)},traverseDataPoints:function(t){var e,n,i,r,o,a,s,l=this,c=l.options,h=c.series,d=l.seriesPoints;for(n=0;h.length>n;n++)for(i=h[n],r=d[n],r||(d[n]=[]),e=0;i.data.length>e;e++)o=this._bindPoint(i,n,e),a=o.valueFields,s=o.fields,t(a,Tn({pointIx:e,series:i,seriesIx:n,dataItem:i.data[e],owner:l},s))},_bindPoint:le.fn._bindPoint,formatPointValue:function(t,e){var n=t.value;return Zn(e,n.x,n.y)}}),Ee=Me.extend({render:function(){var t=this;Me.fn.render.call(t),t.renderSegments()},createSegment:function(t,e,n){var i,r=e.style;return new(i=r===co?Ce:we)(t,e,n)}}),Tn(Ee.fn,xe),Ie=Me.extend({options:{tooltip:{format:"{3}"},labels:{format:"{3}"}},addValue:function(t,e){(null!==t.size&&t.size>=0||e.series.negativeValues.visible)&&Me.fn.addValue.call(this,t,e)},reflow:function(t){var e=this;e.updateBubblesSize(t),Me.fn.reflow.call(e,t)},createPoint:function(t,e){var n,i,r,o=this,a=e.series,s=a.data.length,l=e.pointIx*(fr/s),c={delay:l,duration:fr-l,type:Ti};return n=xn.isFunction(a.color)?a.color:e.color?e.color:a.color,r=Tn({tooltip:{format:o.options.tooltip.format},labels:{format:o.options.labels.format,animation:c}},a,{color:n,markers:{type:Ii,border:a.border,opacity:a.opacity,animation:c}}),o.evalPointOptions(r,t,e),0>t.size&&a.negativeValues.visible&&!xn.isFunction(a.color)&&(r.color=hi(a.negativeValues.color,r.color)),r.markers.background=hi(r.markers.background,r.color),i=new _e(t,r),i.color=r.color,o.append(i),i},updateBubblesSize:function(t){var e,n,i,r,o,a,s,l,c,h,d,u,f,p,g,m,v=this,y=v.options,_=y.series,w=yn.min(t.width(),t.height());for(e=0;_.length>e;e++)for(i=_[e],r=v.seriesPoints[e],o=v.maxSize(r),a=i.minSize||yn.max(.02*w,10),s=i.maxSize||.2*w,l=a/2,c=s/2,h=yn.PI*l*l,d=yn.PI*c*c,u=d-h,f=u/o,n=0;r.length>n;n++)p=r[n],g=yn.abs(p.value.size)*f,m=yn.sqrt((h+g)/yn.PI),Tn(p.options,{markers:{size:2*m,zIndex:c-m},labels:{zIndex:c-m+1}})},maxSize:function(t){var e,n,i=t.length,r=0;for(e=0;i>e;e++)n=t[e].value.size,r=yn.max(r,yn.abs(n));return r},formatPointValue:function(t,e){var n=t.value;return Zn(e,n.x,n.y,n.size,t.category)}}),Le=zn.extend({init:function(t,e){zn.fn.init.call(this,e),this.value=t},options:{border:{_brightness:.8},line:{width:2},overlay:{gradient:cr},tooltip:{format:"<table style='text-align: left;'><th colspan='2'>{4:d}</th><tr><td>Open:</td><td>{0:C}</td></tr><tr><td>High:</td><td>{1:C}</td></tr><tr><td>Low:</td><td>{2:C}</td></tr><tr><td>Close:</td><td>{3:C}</td></tr></table>"},highlight:{opacity:1,border:{width:1,opacity:1},line:{width:1,opacity:1}},notes:{visible:!0,label:{}}},reflow:function(t){var e,n,i,r=this,o=r.options,a=r.owner,s=r.value,l=a.seriesValueAxis(o),c=[];n=l.getSlot(s.open,s.close),i=l.getSlot(s.low,s.high),n.x1=i.x1=t.x1,n.x2=i.x2=t.x2,r.realBody=n,e=i.center().x,c.push([[e,i.y1],[e,n.y1]]),c.push([[e,n.y2],[e,i.y2]]),r.lines=c,r.box=i.clone().wrap(n),r._rendered||(r._rendered=!0,r.createNote()),r.reflowNote()},reflowNote:function(){var t=this;t.note&&t.note.reflow(t.box)},createVisual:function(){zn.fn.createVisual.call(this),this.visual.append(this.mainVisual(this.options)),this.createOverlay()},mainVisual:function(t){var e=new ui.Group;return this.createBody(e,t),this.createLines(e,t),e},createBody:function(t,e){var n=ui.Path.fromRect(this.realBody.toRect(),{fill:{color:this.color,opacity:e.opacity},stroke:null});e.border.width>0&&n.options.set("stroke",{color:this.getBorderColor(),width:e.border.width,dashType:e.border.dashType,opacity:hi(e.border.opacity,e.opacity)}),Mn.alignPathToPixel(n),t.append(n),G(e)&&t.append(this.createGradientOverlay(n,{baseColor:this.color},Tn({},e.overlay)))},createLines:function(t,e){this.drawLines(t,e,this.lines,e.line)},drawLines:function(t,e,n,i){var r,o,a={stroke:{color:i.color||this.color,opacity:hi(i.opacity,e.opacity),width:i.width,dashType:i.dashType,lineCap:"butt"}};for(r=0;n.length>r;r++)o=ui.Path.fromPoints(n[r],a),Mn.alignPathToPixel(o),t.append(o)},getBorderColor:function(){var t=this,e=t.options,n=e.border,i=n.color;return Jn(i)||(i=new Fn(t.color).brightness(n._brightness).toHex()),i},createOverlay:function(){var t=ui.Path.fromRect(this.box.toRect(),{fill:{color:Fo,opacity:0},stroke:null});this.visual.append(t)},createHighlight:function(){var t,e=this.options.highlight,n=this.color;return this.color=e.color||this.color,t=this.mainVisual(Tn({},this.options,e)),this.color=n,t},tooltipAnchor:function(){var t=this,e=t.box,n=t.owner.pane.clipBox()||e;return new Wn(e.x2+To,yn.max(e.y1,n.y1)+To)},formatValue:function(t){var e=this;return e.owner.formatPointValue(e,t)}}),Tn(Le.fn,ne),Tn(Le.fn,ie),Be=le.extend({options:{},reflowCategories:function(t){var e,n=this,i=n.children,r=i.length;for(e=0;r>e;e++)i[e].reflow(t[e])},addValue:function(t,e){var n,i,r=this,o=e.categoryIx,a=e.category,s=e.series,l=e.seriesIx,c=r.options,h=t.valueFields,d=r.children,u=r.splitValue(h),f=L(u),p=r.categoryPoints[o],g=s.data[o];p||(r.categoryPoints[o]=p=[]),f&&(n=r.createPoint(t,e)),i=d[o],i||(i=new te({vertical:c.invertAxes,gap:c.gap,spacing:c.spacing}),r.append(i)),n&&(r.updateRange(h,e),i.append(n),n.categoryIx=o,n.category=a,n.series=s,n.seriesIx=l,n.owner=r,n.dataItem=g,n.noteText=t.fields.noteText),r.points.push(n),p.push(n)},pointType:function(){return Le},createPoint:function(t,e){var n,i=this,r=e.categoryIx,o=e.category,a=e.series,s=e.seriesIx,l=t.valueFields,c=Tn({},a),h=i.pointType(),d=t.fields.color||a.color;return c=i.evalPointOptions(c,l,o,r,a,s),a.type==Ai&&l.open>l.close&&(d=t.fields.downColor||a.downColor||a.color),xn.isFunction(a.color)&&(d=c.color),n=new h(l,c),n.color=d,n},splitValue:function(t){return[t.low,t.open,t.close,t.high]},updateRange:function(t,e){var n=this,i=e.series.axis,r=n.valueAxisRanges[i],o=n.splitValue(t);r=n.valueAxisRanges[i]=r||{min:Tr,max:Ar},r=n.valueAxisRanges[i]={min:yn.min.apply(yn,o.concat([r.min])),max:yn.max.apply(yn,o.concat([r.max]))}},formatPointValue:function(t,e){var n=t.value;return Zn(e,n.open,n.high,n.low,n.close,t.category)}}),ze=Le.extend({reflow:function(t){var e,n,i,r,o=this,a=o.options,s=o.owner,l=o.value,c=s.seriesValueAxis(a),h=[],d=[],u=[];r=c.getSlot(l.low,l.high),n=c.getSlot(l.open,l.open),i=c.getSlot(l.close,l.close),n.x1=i.x1=r.x1=t.x1,n.x2=i.x2=r.x2=t.x2,e=r.center().x,h.push([n.x1,n.y1]),h.push([e,n.y1]),d.push([e,i.y1]),d.push([i.x2,i.y1]),u.push([e,r.y1]),u.push([e,r.y2]),o.lines=[h,d,u],o.box=r.clone().wrap(n.clone().wrap(i)),o.reflowNote()},createBody:t.noop}),Fe=Be.extend({pointType:function(){return ze}}),Re=Be.extend({addValue:function(t,e){var n,i,r=this,o=e.categoryIx,a=e.category,s=e.series,l=e.seriesIx,c=r.options,h=r.children,d=t.valueFields,u=r.splitValue(d),f=L(u),p=r.categoryPoints[o],g=s.data[o];p||(r.categoryPoints[o]=p=[]),f&&(n=r.createPoint(t,e)),i=h[o],i||(i=new te({vertical:c.invertAxes,gap:c.gap,spacing:c.spacing}),r.append(i)),n&&(r.updateRange(d,e),i.append(n),n.categoryIx=o,n.category=a,n.series=s,n.seriesIx=l,n.owner=r,n.dataItem=g),r.points.push(n),p.push(n)},pointType:function(){return Oe},splitValue:function(t){return[t.lower,t.q1,t.median,t.q3,t.upper]},updateRange:function(t,e){var n=this,i=e.series.axis,r=n.valueAxisRanges[i],o=n.splitValue(t).concat(n.filterOutliers(t.outliers));Jn(t.mean)&&(o=o.concat(t.mean)),r=n.valueAxisRanges[i]=r||{min:Tr,max:Ar},r=n.valueAxisRanges[i]={min:yn.min.apply(yn,o.concat([r.min])),max:yn.max.apply(yn,o.concat([r.max]))}},formatPointValue:function(t,e){var n=t.value;return Zn(e,n.lower,n.q1,n.median,n.q3,n.upper,n.mean,t.category)},filterOutliers:function(t){var e,n,i=(t||[]).length,r=[];for(e=0;i>e;e++)n=t[e],Jn(n)&&P(r,n);return r}}),Oe=Le.extend({init:function(t,e){var n=this;zn.fn.init.call(n,e),n.value=t,n.id=ci(),n.enableDiscovery(),n.createNote()},options:{border:{_brightness:.8},line:{width:2},mean:{width:2,dashType:"dash"},overlay:{gradient:cr},tooltip:{format:"<table style='text-align: left;'><th colspan='2'>{6:d}</th><tr><td>Lower:</td><td>{0:C}</td></tr><tr><td>Q1:</td><td>{1:C}</td></tr><tr><td>Median:</td><td>{2:C}</td></tr><tr><td>Mean:</td><td>{5:C}</td></tr><tr><td>Q3:</td><td>{3:C}</td></tr><tr><td>Upper:</td><td>{4:C}</td></tr></table>"},highlight:{opacity:1,border:{width:1,opacity:1},line:{width:1,opacity:1}},notes:{visible:!0,label:{}},outliers:{visible:!0,size:xr,type:Ri,background:Fo,border:{width:2,opacity:1},opacity:0},extremes:{visible:!0,size:xr,type:Ii,background:Fo,border:{width:2,opacity:1},opacity:0}},reflow:function(t){var e,n,i,r,o,a=this,s=a.options,l=a.owner,c=a.value,h=l.seriesValueAxis(s);i=h.getSlot(c.q1,c.q3),a.boxSlot=i,n=h.getSlot(c.lower,c.upper),r=h.getSlot(c.median),i.x1=n.x1=t.x1,i.x2=n.x2=t.x2,a.realBody=i,c.mean&&(o=h.getSlot(c.mean),a.meanPoints=[[[t.x1,o.y1],[t.x2,o.y1]]]),e=n.center().x,a.whiskerPoints=[[[e-5,n.y1],[e+5,n.y1],[e,n.y1],[e,i.y1]],[[e-5,n.y2],[e+5,n.y2],[e,n.y2],[e,i.y2]]],a.medianPoints=[[[t.x1,r.y1],[t.x2,r.y1]]],a.box=n.clone().wrap(i),a.reflowNote()},renderOutliers:function(t){var e,n,i,r,o=this,a=t.markers||{},s=o.value,l=s.outliers||[],c=(o.owner.seriesValueAxis(t),3*yn.abs(s.q3-s.q1)),h=[];for(r=0;l.length>r;r++)i=l[r],a=s.q3+c>i&&i>s.q1-c?t.outliers:t.extremes,e=Tn({},a.border),Jn(e.color)||(e.color=Jn(o.color)?o.color:new Fn(a.background).brightness(wi).toHex()),n=new qn({type:a.type,width:a.size,height:a.size,rotation:a.rotation,background:a.background,border:e,opacity:a.opacity}),n.value=i,h.push(n);return this.reflowOutliers(h),h},reflowOutliers:function(t){var e,n,i,r=this.owner.seriesValueAxis(this.options),o=this.box.center().x;for(e=0;t.length>e;e++)n=t[e].value,i=r.getSlot(n).move(o),this.box=this.box.wrap(i),t[e].reflow(i)},mainVisual:function(t){var e,n,i=Le.fn.mainVisual.call(this,t),r=this.renderOutliers(t);for(e=0;r.length>e;e++)n=r[e].getElement(),n&&i.append(n);return i},createLines:function(t,e){this.drawLines(t,e,this.whiskerPoints,e.line),this.drawLines(t,e,this.medianPoints,e.median),this.drawLines(t,e,this.meanPoints,e.mean)},getBorderColor:function(){return this.color?this.color:Le.getBorderColor.call(this)}}),Tn(Oe.fn,ne),Ne=zn.extend({init:function(t,e,n){var i=this;i.value=t,i.sector=e,zn.fn.init.call(i,n),i.id=ci(),i.enableDiscovery()},options:{color:Fo,overlay:{gradient:Zr},border:{width:.5},labels:{visible:!1,distance:35,font:Wi,margin:ei(.5),align:Ii,zIndex:1,position:jr},animation:{type:Gr},highlight:{visible:!0,border:{width:1}},visible:!0},render:function(){var t,e=this,n=e.options,i=n.labels,r=e.value;e._rendered||e.visible===!1||(e._rendered=!0,i.template?(t=Pn(i.template),r=t({dataItem:e.dataItem,category:e.category,value:e.value,series:e.series,percentage:e.percentage})):i.format&&(r=Zn(i.format,r)),i.visible&&r&&(e.label=new Yn(r,Tn({},i,{id:ci(),align:Mi,vAlign:"",animation:{type:or,delay:e.animationDelay}})),e.append(e.label)))},reflow:function(t){var e=this;e.render(),e.box=t,e.reflowLabel()},reflowLabel:function(){var t,e,n,i,r=this,o=r.sector.clone(),a=r.options,s=r.label,l=a.labels,c=l.distance,h=o.middle();s&&(i=s.box.height(),n=s.box.width(),l.position==Mi?(o.r=yn.abs((o.r-i)/2)+i,t=o.point(h),s.reflow(Ln(t.x,t.y-i/2,t.x,t.y))):l.position==gr?(o.r=o.r-i/2,t=o.point(h),s.reflow(Ln(t.x,t.y-i/2,t.x,t.y))):(t=o.clone().expand(c).point(h),t.x>=o.c.x?(e=t.x+n,s.orientation=Kr):(e=t.x-n,s.orientation=vr),s.reflow(Ln(e,t.y-i,t.x,t.y))))},createVisual:function(){var t,e=this,n=e.sector,i=e.options,r=i.border||{},o=r.width>0?{stroke:{color:r.color,width:r.width,opacity:r.opacity,dashType:r.dashType}}:{},a=i.color,s={color:a,opacity:i.opacity};zn.fn.createVisual.call(this),e.value&&(t=e.createSegment(n,Tn({fill:s,stroke:{opacity:i.opacity},zIndex:i.zIndex},o)),this.visual.append(t),G(i)&&this.visual.append(this.createGradientOverlay(t,{baseColor:a,fallbackFill:s},Tn({center:[n.c.x,n.c.y],innerRadius:n.ir,radius:n.r,userSpace:!0},i.overlay))))},createSegment:function(t,e){return e.singleSegment?new ui.Circle(new di.Circle(new di.Point(t.c.x,t.c.y),t.r),e):$n.current.createRing(t,e)},createAnimation:function(){var t=this.options,e=this.sector.c;Tn(t,{animation:{center:[e.x,e.y],delay:this.animationDelay}}),zn.fn.createAnimation.call(this)},createHighlight:function(t){var e=this,n=e.options.highlight||{},i=n.border||{};return e.createSegment(e.sector,Tn({},t,{fill:{color:n.color,opacity:n.opacity},stroke:{opacity:i.opacity,width:i.width,color:i.color}}))},tooltipAnchor:function(t,e){var n=this,i=n.sector.adjacentBox(To,t,e);return new Wn(i.x1,i.y1)},formatValue:function(t){var e=this;return e.owner.formatPointValue(e,t)}}),Tn(Ne.fn,ne),Ve={createLegendItem:function(t,e){var n,i,r,o,a,s=this,l=s.options.legend||{},c=l.labels||{},h=l.inactiveItems||{},d=h.labels||{};e&&e.visibleInLegend!==!1&&(a=e.visible!==!1,n=e.category||"",i=a?c.template:d.template||c.template,i&&(n=Pn(i)({text:n,series:e.series,dataItem:e.dataItem,percentage:e.percentage,value:t})),a?(o={},r=(e.series||{}).color):(o={color:d.color,font:d.font},r=(h.markers||{}).color),n&&s.legendItems.push({pointIndex:e.index,text:n,series:e.series,markerColor:r,labels:o}))}},He=zn.extend({init:function(t,e){var n=this;zn.fn.init.call(n,e),n.plotArea=t,n.points=[],n.legendItems=[],n.render()},options:{startAngle:90,connectors:{width:1,color:"#939393",padding:4},inactiveItems:{markers:{},labels:{}}},render:function(){var t=this;t.traverseDataPoints(wn(t.addValue,t))},traverseDataPoints:function(t){var e,n,i,r,o,a,s,l,c,h,d,u,f,p=this,g=p.options,m=p.plotArea.options.seriesColors||[],v=m.length,y=g.series,_=y.length,w=ci(),x=0;for(r=0;_>r;r++){for(e=y[r],a=e.data,d=j(e),s=360/d,u=Jn(e.startAngle)?e.startAngle:g.startAngle,r!=_-1&&e.labels.position==jr&&(e.labels.position=Mi),f=0;a.length>f;f++)n=$.current.bindPoint(e,f),l=n.valueFields.value,c=yn.abs(l),i=n.fields,o=si(c*s,Gi),h=1!=a.length&&!!i.explode,An(e.color)||(e.color=i.color||m[f%v]),t(l,new Gn(null,0,0,u,o),{owner:p,category:i.category||"",index:x,series:e,seriesIx:r,dataItem:a[f],percentage:c/d,explode:h,visibleInLegend:i.visibleInLegend,visible:i.visible,overlay:{id:w+r},zIndex:_-r,animationDelay:p.animationDelay(f,r,_)}),n.fields.visible!==!1&&(u+=o),x++;x=0}},evalSegmentOptions:function(t,e,n){var i=n.series;z(t,{value:e,series:i,dataItem:n.dataItem,category:n.category,percentage:n.percentage},{defaults:i._defaults,excluded:["data","template"]})},addValue:function(t,e,n){var i,r,o=this;o.createLegendItem(t,n),n.visible!==!1&&(r=Tn({},n.series,{index:n.index}),o.evalSegmentOptions(r,t,n),i=new Ne(t,e,r),_n(i,n),o.append(i),o.points.push(i))
},reflow:function(t){var e,n,i,r,o,a,s,l,c=this,h=c.options,d=t.clone(),u=5,f=yn.min(d.width(),d.height()),p=f/2,g=f-.85*f,m=hi(h.padding,g),v=Ln(d.x1,d.y1,d.x1+f,d.y1+f),y=v.center(),_=c.seriesConfigs||[],w=d.center(),x=c.points,b=x.length,k=h.series.length,C=[],S=[];for(m=m>p-u?p-u:m,v.translate(w.x-y.x,w.y-y.y),a=p-m,l=Wn(a+v.x1+m,a+v.y1+m),s=0;b>s;s++)r=x[s],o=r.sector,o.r=a,o.c=l,n=r.seriesIx,_.length&&(e=_[n],o.ir=e.ir,o.r=e.r),n==k-1&&r.explode&&(o.c=o.clone().radius(.15*o.r).point(o.middle())),r.reflow(v),i=r.label,i&&i.options.position===jr&&n==k-1&&(i.orientation===Kr?S.push(i):C.push(i));C.length>0&&(C.sort(c.labelComparator(!0)),c.leftLabelsReflow(C)),S.length>0&&(S.sort(c.labelComparator(!1)),c.rightLabelsReflow(S)),c.box=v},leftLabelsReflow:function(t){var e=this,n=e.distanceBetweenLabels(t);e.distributeLabels(n,t)},rightLabelsReflow:function(t){var e=this,n=e.distanceBetweenLabels(t);e.distributeLabels(n,t)},distanceBetweenLabels:function(t){var e,n,i,r=this,o=r.points,a=o[o.length-1],s=a.sector,l=t[0].box,c=t.length-1,h=s.r+a.options.labels.distance,d=[];for(n=si(l.y1-(s.c.y-h-l.height()-l.height()/2)),d.push(n),i=0;c>i;i++)l=t[i].box,e=t[i+1].box,n=si(e.y1-l.y2),d.push(n);return n=si(s.c.y+h-t[c].box.y2-t[c].box.height()/2),d.push(n),d},distributeLabels:function(t,e){var n,i,r,o,a=this,s=t.length;for(o=0;s>o;o++)for(i=r=o,n=-t[o];n>0&&(i>=0||s>r);)n=a._takeDistance(t,o,--i,n),n=a._takeDistance(t,o,++r,n);a.reflowLabels(t,e)},_takeDistance:function(t,e,n,i){if(t[n]>0){var r=yn.min(t[n],i);i-=r,t[n]-=r,t[e]+=r}return i},reflowLabels:function(t,e){var n,i,r,o,a=this,s=a.points,l=s[s.length-1],c=l.sector,h=e.length,d=l.options.labels,u=d.distance,f=c.c.y-(c.r+u)-e[0].box.height();for(t[0]+=2,o=0;h>o;o++)n=e[o],f+=t[o],r=n.box,i=a.hAlignLabel(r.x2,c.clone().expand(u),f,f+r.height(),n.orientation==Kr),n.orientation==Kr?(d.align!==Ii&&(i=c.r+c.c.x+u),n.reflow(Ln(i+r.width(),f,i,f))):(d.align!==Ii&&(i=c.c.x-c.r-u),n.reflow(Ln(i-r.width(),f,i,f))),f+=r.height()},createVisual:function(){var t,e,n,i,r,o,s,l,c,h,d,u,f,p,g=this,m=g.options,v=m.connectors,y=g.points,_=y.length,w=4;for(zn.fn.createVisual.call(this),s=0;_>s;s++)i=y[s],e=i.sector,n=e.middle(),o=i.label,r={seriesId:i.seriesIx},o&&(t=new ui.Path({stroke:{color:v.color,width:v.width},animation:{type:or,delay:i.animationDelay}}),o.options.position===jr&&0!==i.value&&(l=o.box,c=e.c,h=e.point(n),d=Wn(l.x1,l.center().y),h=e.clone().expand(v.padding).point(n),t.moveTo(h.x,h.y),o.orientation==Kr?(f=Wn(l.x1-v.padding,l.center().y),p=a(c,h,d,f),d=Wn(f.x-w,f.y),p=p||d,p.x=yn.min(p.x,d.x),g.pointInCircle(p,e.c,e.r+w)||e.c.x>p.x?(u=e.c.x+e.r+w,i.options.labels.align!==zi?d.x>u?t.lineTo(u,h.y):t.lineTo(h.x+2*w,h.y):t.lineTo(u,h.y),t.lineTo(d.x,f.y)):(p.y=f.y,t.lineTo(p.x,p.y))):(f=Wn(l.x2+v.padding,l.center().y),p=a(c,h,d,f),d=Wn(f.x+w,f.y),p=p||d,p.x=yn.max(p.x,d.x),g.pointInCircle(p,e.c,e.r+w)||p.x>e.c.x?(u=e.c.x-e.r-w,i.options.labels.align!==zi?u>d.x?t.lineTo(u,h.y):t.lineTo(h.x-2*w,h.y):t.lineTo(u,h.y),t.lineTo(d.x,f.y)):(p.y=f.y,t.lineTo(p.x,p.y))),t.lineTo(f.x,f.y),this.visual.append(t)))},labelComparator:function(t){return t=t?-1:1,function(e,n){return e=(e.parent.sector.middle()+270)%360,n=(n.parent.sector.middle()+270)%360,(e-n)*t}},hAlignLabel:function(t,e,n,i,r){var o=e.c.x,a=e.c.y,s=e.r,l=yn.min(yn.abs(a-n),yn.abs(a-i));return l>s?t:o+yn.sqrt(s*s-l*l)*(r?1:-1)},pointInCircle:function(t,e,n){return f(e.x-t.x)+f(e.y-t.y)<f(n)},formatPointValue:function(t,e){return Zn(e,t.value)},animationDelay:function(t){return t*qr}}),Tn(He.fn,Ve),Ue=Ne.extend({options:{overlay:{gradient:Jr},labels:{position:Mi},animation:{type:Gr}},reflowLabel:function(){var t,e,n=this,i=n.sector.clone(),r=n.options,o=n.label,a=r.labels,s=i.middle();o&&(e=o.box.height(),a.position==Mi?(i.r-=(i.r-i.ir)/2,t=i.point(s),o.reflow(new Ln(t.x,t.y-e/2,t.x,t.y))):Ne.fn.reflowLabel.call(n))},createSegment:function(t,e){return $n.current.createRing(t,e)}}),Tn(Ue.fn,ne),We=He.extend({options:{startAngle:90,connectors:{width:1,color:"#939393",padding:4}},addValue:function(t,e,n){var i,r,o=this;o.createLegendItem(t,n),t&&n.visible!==!1&&(r=Tn({},n.series,{index:n.index}),o.evalSegmentOptions(r,t,n),i=new Ue(t,e,r),_n(i,n),o.append(i),o.points.push(i))},reflow:function(t){var e,n,i,r,o,a,s=this,l=s.options,c=t.clone(),h=5,d=yn.min(c.width(),c.height()),u=d/2,f=d-.85*d,p=hi(l.padding,f),g=l.series,m=g.length,v=0,y=0,_=0,w=0;for(s.seriesConfigs=[],p=p>u-h?u-h:p,i=u-p,o=0;m>o;o++)e=g[o],0===o&&Jn(e.holeSize)&&(n=e.holeSize,i-=e.holeSize),Jn(e.size)?i-=e.size:v++,Jn(e.margin)&&o!=m-1&&(i-=e.margin);for(Jn(n)||(w=(u-p)/(m+.75),n=.75*w,i-=n),_=n,o=0;m>o;o++)e=g[o],r=hi(e.size,i/v),_+=y,a=_+r,s.seriesConfigs.push({ir:_,r:a}),y=e.margin||0,_=a;He.fn.reflow.call(s,t)},animationDelay:function(t,e,n){return t*Xi+fr*(e+1)/(n+1)}}),je=ce.extend({render:function(){ce.fn.render.call(this),this.createSegments()},traverseDataPoints:function(t){var e,n,i,r,o,a,s,l,c,h,d=this.options.series,f=this.categoryAxis.options.categories||[],p=u(d),g=!this.options.invertAxes;for(e=0;d.length>e;e++)for(n=d[e],i=0,r=0,o=0;p>o;o++)a=$.current.bindPoint(n,o),s=a.valueFields.value,l=a.fields.summary,c=i,l?"total"===l.toLowerCase()?(a.valueFields.value=i,c=0,h=i):(a.valueFields.value=r,h=c-r,r=0):E(s)&&(r+=s,i+=s,h=i),t(a,{category:f[o],categoryIx:o,series:n,seriesIx:e,total:i,runningTotal:r,from:c,to:h,isVertical:g})},updateRange:function(t,e){ce.fn.updateRange.call(this,{value:e.to},e)},aboveAxis:function(t){return t.value>=0},plotRange:function(t){return[t.from,t.to]},createSegments:function(){var t,e,n,i,r,o,a,s=this.options.series,l=this.seriesPoints,c=this.segments=[];for(t=0;s.length>t;t++)if(e=s[t],n=l[t])for(r=0;n.length>r;r++)o=n[r],o&&i&&(a=new Ge(i,o,e),c.push(a),this.append(a)),i=o}}),Ge=zn.extend({init:function(t,e,n){var i=this;zn.fn.init.call(i),i.from=t,i.to=e,i.series=n,i.id=ci()},options:{animation:{type:or,delay:fr}},linePoints:function(){var t,e,n=[],i=this.from,r=i.box,o=this.to.box;return i.isVertical?(t=i.aboveAxis?r.y1:r.y2,n.push([r.x1,t],[o.x2,t])):(e=i.aboveAxis?r.x2:r.x1,n.push([e,r.y1],[e,o.y2])),n},createVisual:function(){var t,e;zn.fn.createVisual.call(this),t=this.options,e=this.series.line||{},this.visual.append(ui.Path.fromPoints(this.linePoints(),{stroke:{color:e.color,width:e.width,opacity:e.opacity,dashType:e.dashType}}))}}),qe=Bn.extend({init:function(t){var e=this;Bn.fn.init.call(e,t),t=e.options,e.id=ci(),e.createTitle(),e.content=new zn,e.chartContainer=new $e({},e),e.append(e.content),e.axes=[],e.charts=[]},options:{zIndex:-1,shrinkToFit:!0,title:{align:vr},visible:!0},createTitle:function(){var t=this,e=t.options.title;typeof e===Ur&&(e=Tn({},e,{align:e.position,position:Co})),t.title=Xn.buildTitle(e,t,qe.fn.options.title)},appendAxis:function(t){var e=this;e.content.append(t),e.axes.push(t),t.pane=e},appendChart:function(t){var e=this;e.chartContainer.parent!==e.content&&e.content.append(e.chartContainer),e.charts.push(t),e.chartContainer.append(t),t.pane=e},empty:function(){var t,e=this,n=e.parent;if(n){for(t=0;e.axes.length>t;t++)n.removeAxis(e.axes[t]);for(t=0;e.charts.length>t;t++)n.removeChart(e.charts[t])}e.axes=[],e.charts=[],e.content.destroy(),e.content.children=[],e.chartContainer.children=[]},reflow:function(t){var e,n=this;ri(n.children)===n.content&&(e=n.children.pop()),Bn.fn.reflow.call(n,t),e&&n.children.push(e),n.title&&(n.contentBox.y1+=n.title.box.height())},renderComplete:function(){this.options.visible&&this.createGridLines()},stackRoot:function(){return this},createGridLines:function(){var t,e,n,i,r,o,a=this,s=a.axes,l=s.concat(a.parent.axes),c=[],h=[];for(e=0;s.length>e;e++)for(i=s[e],r=i.options.vertical,t=r?c:h,n=0;l.length>n;n++)0===t.length&&(o=l[n],r!==o.options.vertical&&Kn(t,i.createGridLines(o)))},refresh:function(){this.visual.clear(),this.content.parent=null,this.content.createGradient=t.proxy(this.createGradient,this),this.content.renderVisual(),this.content.parent=this,this.visual.append(this.content.visual),this.renderComplete()},clipBox:function(){return this.chartContainer.clipBox}}),$e=zn.extend({init:function(t,e){var n=this;zn.fn.init.call(n,t),n.pane=e},shouldClip:function(){var t,e=this,n=e.children,i=n.length;for(t=0;i>t;t++)if(n[t].options.clip===!0)return!0;return!1},_clipBox:function(){var t,e,n,i,r=this,o=r.pane,a=o.axes,s=a.length,l=o.box.clone();for(e=0;s>e;e++)i=a[e],t=i.options.vertical?Oo:Ro,n=i.lineBox(),l[t+1]=n[t+1],l[t+2]=n[t+2];return l},createVisual:function(){var t,e,n;this.visual=new ui.Group({zIndex:0}),this.shouldClip()&&(t=this.clipBox=this._clipBox(),e=t.toRect(),n=ui.Path.fromRect(e),this.visual.clip(n),this.unclipLabels())},stackRoot:function(){return this},unclipLabels:function(){var t,e,n,i,r,o=this,a=o.children,s=o.clipBox;for(n=0;a.length>n;n++)for(t=a[n].points||{},r=t.length,i=0;r>i;i++)e=t[i],e&&e.label&&e.box.overlaps(s)&&(e.label.alignToClipBox&&e.label.alignToClipBox(s),e.label.options.noclip=!0)},destroy:function(){zn.fn.destroy.call(this),delete this.parent}}),Ye=zn.extend({init:function(t,e){var n=this;zn.fn.init.call(n,e),n.series=t,n.initSeries(),n.charts=[],n.options.legend.items=[],n.axes=[],n.crosshairs=[],n.id=ci(),n.enableDiscovery(),n.createPanes(),n.render(),n.createCrosshairs()},options:{series:[],plotArea:{margin:{}},background:"",border:{color:bi,width:0},legend:{inactiveItems:{labels:{color:"#919191"},markers:{color:"#919191"}}}},initSeries:function(){var t,e,n=this.series;for(t=0;n.length>t;t++)e=n[t],e.index=t},createPanes:function(){var t,e,n=this,i=[],r=n.options.panes||[],o=yn.max(r.length,1);for(t=0;o>t;t++)e=new qe(r[t]),e.paneIndex=t,i.push(e),n.append(e);n.panes=i},destroy:function(){var t,e=this,n=e.charts,i=e.axes,r=e.crosshairs;for(t=0;n.length>t;t++)n[t].destroy();for(t=0;i.length>t;t++)i[t].destroy();for(t=0;r.length>t;t++)r[t].destroy();zn.fn.destroy.call(e)},createCrosshairs:function(t){var e,n,i,r,o,a=this;for(t=t||a.panes,e=0;t.length>e;e++)for(i=t[e],n=0;i.axes.length>n;n++)r=i.axes[n],r.options.crosshair&&r.options.crosshair.visible&&(o=new hn(r,r.options.crosshair),a.crosshairs.push(o),i.content.append(o))},removeCrosshairs:function(t){var e,n,i=this,r=i.crosshairs,o=t.axes;for(e=r.length-1;e>=0;e--)for(n=0;o.length>n;n++)if(r[e].axis===o[n]){r.splice(e,1);break}},findPane:function(t){var e,n,i=this,r=i.panes;for(e=0;r.length>e;e++)if(r[e].options.name===t){n=r[e];break}return n||r[0]},findPointPane:function(t){var e,n,i=this,r=i.panes;for(e=0;r.length>e;e++)if(r[e].box.containsPoint(t)){n=r[e];break}return n},appendAxis:function(t){var e=this,n=e.findPane(t.options.pane);n.appendAxis(t),e.axes.push(t),t.plotArea=e},removeAxis:function(t){var e,n,i=this,r=[];for(e=0;i.axes.length>e;e++)n=i.axes[e],t!==n?r.push(n):n.destroy();i.axes=r},appendChart:function(t,e){var n=this;n.charts.push(t),e?e.appendChart(t):n.append(t)},removeChart:function(t){var e,n,i=this,r=[];for(e=0;i.charts.length>e;e++)n=i.charts[e],n!==t?r.push(n):n.destroy();i.charts=r},addToLegend:function(t){var e,n,i,r,o,a,s,l,c,h=t.length,d=[],u=this.options.legend,f=u.labels||{},p=u.inactiveItems||{},g=p.labels||{};for(e=0;h>e;e++)n=t[e],l=n.visible!==!1,n.visibleInLegend!==!1&&(i=n.name||"",c=l?f.template:g.template||f.template,c&&(i=Pn(c)({text:i,series:n})),r=n.color,s=n._defaults,An(r)&&s&&(r=s.color),l?(o={},a=r):(o={color:g.color,font:g.font},a=p.markers.color),i&&d.push({text:i,labels:o,markerColor:a,series:n,active:l}));Kn(u.items,d)},groupAxes:function(t){var e,n,i,r,o=[],a=[];for(i=0;t.length>i;i++)for(e=t[i].axes,r=0;e.length>r;r++)n=e[r],n.options.vertical?a.push(n):o.push(n);return{x:o,y:a,any:o.concat(a)}},groupSeriesByPane:function(){var t,e,n,i=this,r=i.series,o={};for(t=0;r.length>t;t++)n=r[t],e=i.seriesPaneName(n),o[e]?o[e].push(n):o[e]=[n];return o},filterVisibleSeries:function(t){var e,n,i=[];for(e=0;t.length>e;e++)n=t[e],n.visible!==!1&&i.push(n);return i},reflow:function(t){var e=this,n=e.options.plotArea,i=e.panes,r=ei(n.margin);e.box=t.clone().unpad(r),e.reflowPanes(),e.reflowAxes(i),e.reflowCharts(i)},redraw:function(t){var e,n=this;for(t=[].concat(t),this.initSeries(),e=0;t.length>e;e++)n.removeCrosshairs(t[e]),t[e].empty();for(n.render(t),n.reflowAxes(n.panes),n.reflowCharts(t),n.createCrosshairs(t),e=0;t.length>e;e++)t[e].refresh()},axisCrossingValues:function(t,e){var n,i=t.options,r=[].concat(i.axisCrossingValues||i.axisCrossingValue),o=e.length-r.length,a=r[0]||0;for(n=0;o>n;n++)r.push(a);return r},alignAxisTo:function(t,e,n,i){var r=t.getSlot(n,n,!0),o=t.options.reverse?2:1,a=e.getSlot(i,i,!0),s=e.options.reverse?2:1,l=t.box.translate(a[Ro+s]-r[Ro+o],a[Oo+s]-r[Oo+o]);t.pane!==e.pane&&l.translate(0,t.pane.box.y1-e.pane.box.y1),t.reflow(l)},alignAxes:function(t,e){var n,i,r,o,a=this,s=t[0],l=e[0],c=a.axisCrossingValues(s,e),h=a.axisCrossingValues(l,t),d={},u={},f={},p={};for(o=0;e.length>o;o++)r=e[o],n=r.pane,i=n.id,a.alignAxisTo(r,s,h[o],c[o]),r.options._overlap||(si(r.lineBox().x1)===si(s.lineBox().x1)&&(d[i]&&r.reflow(r.box.alignTo(d[i].box,vr).translate(-r.options.margin,0)),d[i]=r),si(r.lineBox().x2)===si(s.lineBox().x2)&&(r._mirrored||(r.options.labels.mirror=!r.options.labels.mirror,r._mirrored=!0),a.alignAxisTo(r,s,h[o],c[o]),u[i]&&r.reflow(r.box.alignTo(u[i].box,Kr).translate(r.options.margin,0)),u[i]=r),0!==o&&l.pane===r.pane&&r.alignTo(l));for(o=0;t.length>o;o++)r=t[o],n=r.pane,i=n.id,a.alignAxisTo(r,l,c[o],h[o]),r.options._overlap||(si(r.lineBox().y1)===si(l.lineBox().y1)&&(r._mirrored||(r.options.labels.mirror=!r.options.labels.mirror,r._mirrored=!0),a.alignAxisTo(r,l,c[o],h[o]),f[i]&&r.reflow(r.box.alignTo(f[i].box,Co).translate(0,-r.options.margin)),f[i]=r),si(r.lineBox().y2,Fi)===si(l.lineBox().y2,Fi)&&(p[i]&&r.reflow(r.box.alignTo(p[i].box,Ci).translate(0,r.options.margin)),p[i]=r),0!==o&&r.alignTo(s))},shrinkAxisWidth:function(t){var e,n,i,r=this,o=r.groupAxes(t).any,a=T(o),s=0;for(e=0;t.length>e;e++)n=t[e],n.axes.length>0&&(s=yn.max(s,a.width()-n.contentBox.width()));for(e=0;o.length>e;e++)i=o[e],i.options.vertical||i.reflow(i.box.shrink(s,0))},shrinkAxisHeight:function(t){var e,n,i,r,o,a;for(e=0;t.length>e;e++)for(n=t[e],i=n.axes,r=yn.max(0,T(i).height()-n.contentBox.height()),o=0;i.length>o;o++)a=i[o],a.options.vertical&&a.reflow(a.box.shrink(0,r))},fitAxes:function(t){var e,n,i,r,o,a,s,l,c=this,h=c.groupAxes(t).any,d=0;for(s=0;t.length>s;s++)if(o=t[s],e=o.axes,n=o.contentBox,e.length>0)for(i=T(e),d=yn.max(d,n.x1-i.x1),r=yn.max(n.y1-i.y1,n.y2-i.y2),l=0;e.length>l;l++)a=e[l],a.reflow(a.box.translate(0,r));for(s=0;h.length>s;s++)a=h[s],a.reflow(a.box.translate(d,0))},reflowAxes:function(t){var e,n=this,i=n.groupAxes(t);for(e=0;t.length>e;e++)n.reflowPaneAxes(t[e]);i.x.length>0&&i.y.length>0&&(n.alignAxes(i.x,i.y),n.shrinkAxisWidth(t),n.alignAxes(i.x,i.y),n.shrinkAxisHeight(t),n.alignAxes(i.x,i.y),n.fitAxes(t))},reflowPaneAxes:function(t){var e,n=t.axes,i=n.length;if(i>0)for(e=0;i>e;e++)n[e].reflow(t.contentBox)},reflowCharts:function(t){var e,n,i=this,r=i.charts,o=r.length,a=i.box;for(n=0;o>n;n++)e=r[n].pane,(!e||ni(e,t))&&r[n].reflow(a)},reflowPanes:function(){var t,e,n,i,r,o=this,a=o.box,s=o.panes,l=s.length,c=a.height(),h=l,d=0,u=a.y1;for(t=0;l>t;t++)e=s[t],i=e.options.height,e.options.width=a.width(),e.options.height?(i.indexOf&&i.indexOf("%")&&(r=parseInt(i,10)/100,e.options.height=r*a.height()),e.reflow(a.clone()),c-=e.options.height):d++;for(t=0;l>t;t++)e=s[t],e.options.height||(e.options.height=c/d);for(t=0;l>t;t++)e=s[t],n=a.clone().move(a.x1,u),e.reflow(n),h--,u+=e.options.height},backgroundBox:function(){var t,e,n,i,r,o,a=this,s=a.axes,l=s.length;for(n=0;l>n;n++)for(r=s[n],i=0;l>i;i++)o=s[i],r.options.vertical!==o.options.vertical&&(t=r.lineBox().clone().wrap(o.lineBox()),e=e?e.wrap(t):t);return e||a.box},createVisual:function(){var t,e,n,i;zn.fn.createVisual.call(this),t=this.backgroundBox(),e=this.options.plotArea,n=e.border||{},i=ui.Path.fromRect(t.toRect(),{fill:{color:e.background,opacity:e.opacity},stroke:{color:n.width?n.color:"",width:n.width},zIndex:-1}),this.appendVisual(i)},pointsByCategoryIndex:function(t){var e,n,i,r,o,a=this.charts,s=[];if(null!==t)for(e=0;a.length>e;e++)if(o=a[e],"_navigator"!==o.pane.options.name&&(i=a[e].categoryPoints[t],i&&i.length))for(n=0;i.length>n;n++)r=i[n],r&&Jn(r.value)&&null!==r.value&&s.push(r);return s},pointsBySeriesIndex:function(t){var e,n,i,r,o,a=this.charts,s=[];for(i=0;a.length>i;i++)for(o=a[i],e=o.points,r=0;e.length>r;r++)n=e[r],n&&n.options.index===t&&s.push(n);return s},paneByPoint:function(t){var e,n,i=this,r=i.panes;for(n=0;r.length>n;n++)if(e=r[n],e.box.containsPoint(t))return e}}),Xe=Ye.extend({init:function(t,e){var n,i,r=this;if(r.namedCategoryAxes={},r.namedValueAxes={},r.valueAxisRangeTracker=new Qe,t.length>0)for(r.invertAxes=ni(t[0].type,[_i,Di,Lo,Eo,Xr,dr]),n=0;t.length>n;n++)if(i=t[n].stack,i&&"100%"===i.type){r.stack100=!0;break}Ye.fn.init.call(r,t,e)},options:{categoryAxis:{categories:[]},valueAxis:{}},render:function(t){var e=this;t=t||e.panes,e.createCategoryAxes(t),e.aggregateCategories(t),e.createCharts(t),e.createValueAxes(t)},removeAxis:function(t){var e=this,n=t.options.name;Ye.fn.removeAxis.call(e,t),t instanceof K?delete e.namedCategoryAxes[n]:(e.valueAxisRangeTracker.reset(n),delete e.namedValueAxes[n]),t===e.categoryAxis&&delete e.categoryAxis,t===e.valueAxis&&delete e.valueAxis},createCharts:function(t){var e,n,i,r,o=this,a=o.groupSeriesByPane();for(e=0;t.length>e;e++)n=t[e],i=a[n.options.name||"default"]||[],o.addToLegend(i),r=o.filterVisibleSeries(i),r&&(o.createAreaChart(R(r,[gi,Eo]),n),o.createBarChart(R(r,[zi,_i]),n),o.createRangeBarChart(R(r,[Qr,Xr]),n),o.createBulletChart(R(r,[Di,Io]),n),o.createLineChart(R(r,[wr,Lo]),n),o.createCandlestickChart(R(r,Ai),n),o.createBoxPlotChart(R(r,Si),n),o.createOHLCChart(R(r,Wr),n),o.createWaterfallChart(R(r,[Bo,dr]),n))},aggregateCategories:function(t){var e,n,i,r,o,a=this,s=a.srcSeries||a.series,l=[];for(e=0;s.length>e;e++)n=s[e],i=a.seriesCategoryAxis(n),r=a.findPane(i.options.pane),o=D(i.options.type,Hi),(o||n.categoryField)&&ni(r,t)&&(n=a.aggregateSeries(n,i)),l.push(n);a.srcSeries=s,a.series=l},aggregateSeries:function(t,e){var i,r,o,a,s,l=e.options,c=D(e.options.type,Hi),h=l.categories,d=l.srcCategories||h,u=t.data,f=[],m=e.range(),v=Tn({},t),y=Tn({},t),_=p;for(v.data=a=[],c&&(_=g),i=0;u.length>i;i++)r=t.categoryField?_(t.categoryField,u[i]):d[i],o=e.categoryIndex(r,m),o>-1&&(f[o]=f[o]||[],f[o].push(i));for(s=new pn(y,$.current,n.current),i=0;h.length>i;i++)a[i]=s.aggregatePoints(f[i],h[i]);return v},appendChart:function(t,e){for(var n=this,i=t.options.series,r=n.seriesCategoryAxis(i[0]),o=r.options.categories,a=yn.max(0,u(i)-o.length);a--;)o.push("");n.valueAxisRangeTracker.update(t.valueAxisRanges),Ye.fn.appendChart.call(n,t,e)},seriesPaneName:function(e){var n=this,i=n.options,r=e.axis,o=[].concat(i.valueAxis),a=t.grep(o,function(t){return t.name===r})[0],s=i.panes||[{}],l=(s[0]||{}).name||"default",c=(a||{}).pane||l;return c},seriesCategoryAxis:function(t){var e=this,n=t.categoryAxis,i=n?e.namedCategoryAxes[n]:e.categoryAxis;if(!i)throw Error("Unable to locate category axis with name "+n);return i},stackableChartOptions:function(t,e){var n,i=t.stack,r=i&&"100%"===i.type;return Jn(e.options.clip)?n=e.options.clip:r&&(n=!1),{isStacked:i,isStacked100:r,clip:n}},createBarChart:function(t,e){if(0!==t.length){var n=this,i=t[0],r=new ce(n,_n({series:t,invertAxes:n.invertAxes,gap:i.gap,spacing:i.spacing},n.stackableChartOptions(i,e)));n.appendChart(r,e)}},createRangeBarChart:function(t,e){if(0!==t.length){var n=this,i=t[0],r=new de(n,{series:t,invertAxes:n.invertAxes,gap:i.gap,spacing:i.spacing});n.appendChart(r,e)}},createBulletChart:function(t,e){if(0!==t.length){var n=this,i=t[0],r=new ue(n,{series:t,invertAxes:n.invertAxes,gap:i.gap,spacing:i.spacing,clip:e.options.clip});n.appendChart(r,e)}},createLineChart:function(t,e){if(0!==t.length){var n=this,i=t[0],r=new be(n,_n({invertAxes:n.invertAxes,series:t},n.stackableChartOptions(i,e)));n.appendChart(r,e)}},createAreaChart:function(t,e){if(0!==t.length){var n=this,i=t[0],r=new De(n,_n({invertAxes:n.invertAxes,series:t},n.stackableChartOptions(i,e)));n.appendChart(r,e)}},createOHLCChart:function(t,e){if(0!==t.length){var n=this,i=t[0],r=new Fe(n,{invertAxes:n.invertAxes,gap:i.gap,series:t,spacing:i.spacing,clip:e.options.clip});n.appendChart(r,e)}},createCandlestickChart:function(t,e){if(0!==t.length){var n=this,i=t[0],r=new Be(n,{invertAxes:n.invertAxes,gap:i.gap,series:t,spacing:i.spacing,clip:e.options.clip});n.appendChart(r,e)}},createBoxPlotChart:function(t,e){if(0!==t.length){var n=this,i=t[0],r=new Re(n,{invertAxes:n.invertAxes,gap:i.gap,series:t,spacing:i.spacing,clip:e.options.clip});n.appendChart(r,e)}},createWaterfallChart:function(t,e){if(0!==t.length){var n=this,i=t[0],r=new je(n,{series:t,invertAxes:n.invertAxes,gap:i.gap,spacing:i.spacing});n.appendChart(r,e)}},axisRequiresRounding:function(t,e){var n,i,r=this,o=R(r.series,qo);for(n=0;o.length>n;n++)if(i=o[n].categoryAxis||"",i===t||!i&&0===e)return!0},createCategoryAxes:function(t){var e,n,i,r,o,a,s,l,c=this,h=c.invertAxes,d=[].concat(c.options.categoryAxis),u=[];for(e=0;d.length>e;e++)if(n=d[e],i=c.findPane(n.pane),ni(i,t)){if(a=n.name,r=n.categories||[],o=n.type||"",n=Tn({vertical:h,axisCrossingValue:h?Tr:0},n),Jn(n.justified)||(n.justified=c.isJustified()),c.axisRequiresRounding(a,e)&&(n.justified=!1,n.roundToBaseUnit=!0),s=H(n,r[0])?new Z(n):new K(n),a){if(c.namedCategoryAxes[a])throw Error("Category axis with name "+a+" is already defined");c.namedCategoryAxes[a]=s}s.axisIndex=e,u.push(s),c.appendAxis(s)}l=c.categoryAxis||u[0],c.categoryAxis=l,h?c.axisY=l:c.axisX=l},isJustified:function(){var t,e,n=this,i=n.series;for(t=0;i.length>t;t++)if(e=i[t],!ni(e.type,[gi,Eo]))return!1;return!0},createValueAxes:function(t){var e,n,i,r,o,a,s,l,c,h=this,d=h.valueAxisRangeTracker,u=d.query(),f=[].concat(h.options.valueAxis),p=h.invertAxes,g={vertical:!p},m=[];for(h.stack100&&(g.roundToMajorUnit=!1,g.labels={format:"P0"}),c=0;f.length>c;c++)if(e=f[c],n=h.findPane(e.pane),ni(n,t)){if(l=e.name,s=D(e.type,kr)?{min:.1,max:1}:{min:0,max:1},o=d.query(l)||u||s,0===c&&o&&u&&(o.min=yn.min(o.min,u.min),o.max=yn.max(o.max,u.max)),a=D(e.type,kr)?Hn:Un,i=new a(o.min,o.max,Tn({},g,e)),l){if(h.namedValueAxes[l])throw Error("Value axis with name "+l+" is already defined");h.namedValueAxes[l]=i}i.axisIndex=c,m.push(i),h.appendAxis(i)}r=h.valueAxis||m[0],h.valueAxis=r,p?h.axisX=r:h.axisY=r},click:function(e,n){var i,r,o,a=this,s=e._eventCoordinates(n),l=new Wn(s.x,s.y),c=a.pointPane(l),h=[],d=[];if(c){for(i=c.axes,r=0;i.length>r;r++)o=i[r],o.getValue?P(d,o.getValue(l)):P(h,o.getCategory(l));0===h.length&&P(h,a.categoryAxis.getCategory(l)),h.length>0&&d.length>0&&e.trigger($r,{element:t(n.target),originalEvent:n,category:S(h),value:S(d)})}},pointPane:function(t){var e,n,i=this,r=i.panes;for(n=0;r.length>n;n++)if(e=r[n],e.contentBox.containsPoint(t))return e}}),Qe=bn.extend({init:function(){var t=this;t.axisRanges={}},update:function(t){var e,n,i,r=this,o=r.axisRanges;for(i in t)e=o[i],n=t[i],o[i]=e=e||{min:Tr,max:Ar},e.min=yn.min(e.min,n.min),e.max=yn.max(e.max,n.max)},reset:function(t){this.axisRanges[t]=e},query:function(t){return this.axisRanges[t]}}),Ke=Ye.extend({init:function(t,e){var n=this;n.namedXAxes={},n.namedYAxes={},n.xAxisRangeTracker=new Qe,n.yAxisRangeTracker=new Qe,Ye.fn.init.call(n,t,e)},options:{xAxis:{},yAxis:{}},render:function(t){var e,n,i,r,o=this,a=o.groupSeriesByPane();for(t=t||o.panes,e=0;t.length>e;e++)n=t[e],i=a[n.options.name||"default"]||[],o.addToLegend(i),r=o.filterVisibleSeries(i),r&&(o.createScatterChart(R(r,to),n),o.createScatterLineChart(R(r,eo),n),o.createBubbleChart(R(r,Ti),n));o.createAxes(t)},appendChart:function(t,e){var n=this;n.xAxisRangeTracker.update(t.xAxisRanges),n.yAxisRangeTracker.update(t.yAxisRanges),Ye.fn.appendChart.call(n,t,e)},removeAxis:function(t){var e=this,n=t.options.name;Ye.fn.removeAxis.call(e,t),t.options.vertical?(e.yAxisRangeTracker.reset(n),delete e.namedYAxes[n]):(e.xAxisRangeTracker.reset(n),delete e.namedXAxes[n]),t===e.axisX&&delete e.axisX,t===e.axisY&&delete e.axisY},seriesPaneName:function(e){var n=this,i=n.options,r=e.xAxis,o=[].concat(i.xAxis),a=t.grep(o,function(t){return t.name===r})[0],s=e.yAxis,l=[].concat(i.yAxis),c=t.grep(l,function(t){return t.name===s})[0],h=i.panes||[{}],d=h[0].name||"default",u=(a||{}).pane||(c||{}).pane||d;return u},createScatterChart:function(t,e){var n=this;t.length>0&&n.appendChart(new Me(n,{series:t,clip:e.options.clip}),e)},createScatterLineChart:function(t,e){var n=this;t.length>0&&n.appendChart(new Ee(n,{series:t,clip:e.options.clip}),e)},createBubbleChart:function(t,e){var n=this;t.length>0&&n.appendChart(new Ie(n,{series:t,clip:e.options.clip}),e)},createXYAxis:function(t,e,n){var i,r,o,a,s,l,c,h,d=this,u=t.name,f=e?d.namedYAxes:d.namedXAxes,p=e?d.yAxisRangeTracker:d.xAxisRangeTracker,g=Tn({},t,{vertical:e}),m=D(g.type,kr),v=p.query(),y=m?{min:.1,max:1}:{min:0,max:1},_=p.query(u)||v||y,w=d.series,x=[g.min,g.max];for(o=0;w.length>o;o++)if(a=w[o],s=a[e?"yAxis":"xAxis"],s==g.name||0===n&&!s){l=$.current.bindPoint(a,0).valueFields,x.push(l[e?"y":"x"]);break}for(0===n&&v&&(_.min=yn.min(_.min,v.min),_.max=yn.max(_.max,v.max)),h=0;x.length>h;h++)if(x[h]instanceof Date){c=!0;break}if(r=D(g.type,Hi)||!g.type&&c?J:m?Hn:Un,i=new r(_.min,_.max,g),u){if(f[u])throw Error((e?"Y":"X")+" axis with name "+u+" is already defined");f[u]=i}return d.appendAxis(i),i},createAxes:function(t){var e,n=this,i=n.options,r=[].concat(i.xAxis),o=[],a=[].concat(i.yAxis),s=[];gn(r,function(i){e=n.findPane(this.pane),ni(e,t)&&o.push(n.createXYAxis(this,!1,i))}),gn(a,function(i){e=n.findPane(this.pane),ni(e,t)&&s.push(n.createXYAxis(this,!0,i))}),n.axisX=n.axisX||o[0],n.axisY=n.axisY||s[0]},click:function(e,n){var i,r,o,a,s=this,l=e._eventCoordinates(n),c=new Wn(l.x,l.y),h=s.axes,d=h.length,u=[],f=[];for(i=0;d>i;i++)r=h[i],a=r.options.vertical?f:u,o=r.getValue(c),null!==o&&a.push(o);u.length>0&&f.length>0&&e.trigger($r,{element:t(n.target),originalEvent:n,x:S(u),y:S(f)})}}),Ze=Ye.extend({render:function(){var t=this,e=t.series;t.createPieChart(e)},createPieChart:function(t){var e=this,n=t[0],i=new He(e,{series:t,padding:n.padding,startAngle:n.startAngle,connectors:n.connectors,legend:e.options.legend});e.appendChart(i)},appendChart:function(t,e){Ye.fn.appendChart.call(this,t,e),Kn(this.options.legend.items,t.legendItems)}}),Je=Ze.extend({render:function(){var t=this,e=t.series;t.createDonutChart(e)},createDonutChart:function(t){var e=this,n=t[0],i=new We(e,{series:t,padding:n.padding,connectors:n.connectors,legend:e.options.legend});e.appendChart(i)}}),tn=ui.Animation.extend({options:{easing:"easeOutElastic",duration:fr},setup:function(){this.element.transform(di.transform().scale(0,0,this.options.center))},step:function(t){this.element.transform(di.transform().scale(t,t,this.options.center))}}),ui.AnimationFactory.current.register(Gr,tn),en=On.extend({options:{easing:"easeOutElastic",duration:fr},setup:function(){var t=this.element;t.endRadius=t.radius,t.radius=0},step:function(t){var e=this.element,n=e.endRadius;e.radius=ii(0,n,t)}}),nn=Qn(_i,oe),rn=Qn(Gr,tn),on=Qn(Ti,en),an=bn.extend({init:function(){this._points=[]},destroy:function(){this._points=[]},show:function(t){var e,n;for(t=[].concat(t),this.hide(),e=0;t.length>e;e++)n=t[e],n&&n.toggleHighlight&&(n.toggleHighlight(!0),this._points.push(n))},hide:function(){for(var t=this._points;t.length;)t.pop().toggleHighlight(!1)},isOverlay:function(t){var e,n,i=this._points;for(e=0;i.length>e;e++)if(n=i[e],t==n)return!0;return!1}}),sn=bn.extend({init:function(e,n){var i=this;i.options=Tn({},i.options,n),i.chartElement=e,i.template=sn.template,i.template||(i.template=sn.template=li("<div class='"+Oi+"tooltip "+Oi+"chart-tooltip' style='display:none; position: absolute; font: #= d.font #;border: #= d.border.width #px solid;opacity: #= d.opacity #; filter: alpha(opacity=#= d.opacity * 100 #);'></div>")),i.element=t(i.template(i.options)),i.move=wn(i.move,i),i._mouseleave=wn(i._mouseleave,i)},destroy:function(){this._clearShowTimeout(),this.element&&(this.element.off(Er).remove(),this.element=null)},options:{border:{width:1},opacity:1,animation:{duration:So}},move:function(){var t,e=this,n=e.options,i=e.element;e.anchor&&(t=e._offset(),e.visible||i.css({top:t.top,left:t.left}),e._ensureElement(document.body),i.stop(!0,!0).show().animate({left:t.left,top:t.top},n.animation.duration),e.visible=!0)},_clearShowTimeout:function(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)},_padding:function(){if(!this._chartPadding){var t=this.chartElement;this._chartPadding={top:parseInt(t.css("paddingTop"),10),left:parseInt(t.css("paddingLeft"),10)}}return this._chartPadding},_offset:function(){var e=this,n=e._measure(),i=e.anchor,r=e._padding(),o=e.chartElement.offset(),a=si(i.y+r.top+o.top),s=si(i.x+r.left+o.left),l=xn.support.zoomLevel(),c=t(window),h=window.pageYOffset||document.documentElement.scrollTop||0,d=window.pageXOffset||document.documentElement.scrollLeft||0;return a+=e._fit(a-h,n.height,c.outerHeight()/l),s+=e._fit(s-d,n.width,c.outerWidth()/l),{top:a,left:s}},setStyle:function(t,e){var n,i,r=t.background,o=t.border.color;e&&(n=e.color||e.options.color,r=hi(r,n),o=hi(o,n)),Jn(t.color)||(i=new Fn(r).percBrightness(),this.element.toggleClass(Oi+Po,i>180)),this.element.css({backgroundColor:r,borderColor:o,font:t.font,color:t.color,opacity:t.opacity,borderWidth:t.border.width})},show:function(){this._clearShowTimeout(),this.showTimeout=setTimeout(this.move,Do)},hide:function(){var t=this;clearTimeout(t.showTimeout),t._hideElement(),t.visible&&(t.point=null,t.visible=!1,t.index=null)},_measure:function(){this._ensureElement();var t={width:this.element.outerWidth(),height:this.element.outerHeight()};return t},_ensureElement:function(){this.element&&this.element.appendTo(document.body).on(Er,this._mouseleave)},_mouseleave:function(e){var n=e.relatedTarget,i=this.chartElement[0];n&&n!==i&&!t.contains(i,n)&&this.hide()},_hideElement:function(){this.element&&this.element.fadeOut({always:function(){t(this).off(Er).remove()}})},_pointContent:function(t){var e,n,i=this,r=Tn({},i.options,t.options.tooltip);return Jn(t.value)&&(e=""+t.value),r.template?(n=Pn(r.template),e=n({value:t.value,category:t.category,series:t.series,dataItem:t.dataItem,percentage:t.percentage,runningTotal:t.runningTotal,total:t.total,low:t.low,high:t.high,xLow:t.xLow,xHigh:t.xHigh,yLow:t.yLow,yHigh:t.yHigh})):r.format&&(e=t.formatValue(r.format)),e},_pointAnchor:function(t){var e=this._measure();return t.tooltipAnchor(e.width,e.height)},_fit:function(t,e,n){var i=0;return t+e>n&&(i=n-(t+e)),0>t&&(i=-t),i}}),ln=sn.extend({show:function(t){var e=this,n=Tn({},e.options,t.options.tooltip);t&&t.tooltipAnchor&&e.element&&(e.element.html(e._pointContent(t)),e.anchor=e._pointAnchor(t),e.anchor?(e.setStyle(n,t),sn.fn.show.call(e,t)):e.hide())}}),cn=sn.extend({init:function(t,e,n){var i=this;sn.fn.init.call(i,t,n),i.plotArea=e},options:{sharedTemplate:"<table><th colspan='2'>#= categoryText #</th># for(var i = 0; i < points.length; i++) { ## var point = points[i]; #<tr># if(point.series.name) { # <td> #= point.series.name #:</td># } #<td>#= content(point) #</td></tr># } #</table>",categoryFormat:"{0:d}"},showAt:function(e,n){var i,r=this,o=r.options,a=r.plotArea,s=a.categoryAxis,l=s.pointCategoryIndex(n),c=s.getCategory(n),h=s.getSlot(l);e=t.grep(e,function(t){var e=t.series.tooltip,n=e&&e.visible===!1;return!n}),e.length>0&&(i=r._content(e,c),r.element.html(i),r.anchor=r._slotAnchor(n,h),r.setStyle(o,e[0]),sn.fn.show.call(r))},_slotAnchor:function(t,e){var n,i=this,r=i.plotArea,o=r.categoryAxis,a=this._measure(),s=t.y-a.height/2;return n=o.options.vertical?Wn(t.x,s):Wn(e.center().x,s)},_content:function(t,e){var n,i,r=this;return n=xn.template(r.options.sharedTemplate),i=n({points:t,category:e,categoryText:Zn(r.options.categoryFormat,e),content:r._pointContent})
}}),hn=zn.extend({init:function(t,e){zn.fn.init.call(this,e),this.axis=t,this.stickyMode=t instanceof K},options:{color:bi,width:1,zIndex:-1,tooltip:{visible:!1}},showAt:function(t){var e;this.point=t,this.moveLine(),this.line.visible(!0),e=this.options.tooltip,e.visible&&(this.tooltip||(this.tooltip=new dn(this,Tn({},e,{stickyMode:this.stickyMode}))),this.tooltip.showAt(t))},hide:function(){this.line.visible(!1),this.tooltip&&this.tooltip.hide()},moveLine:function(){var t,e,n,i=this,r=i.axis,o=r.options.vertical,a=i.getBox(),s=i.point,l=o?Oo:Ro;e=new di.Point(a.x1,a.y1),n=o?new di.Point(a.x2,a.y1):new di.Point(a.x1,a.y2),s&&(i.stickyMode?(t=r.getSlot(r.pointCategoryIndex(s)),e[l]=n[l]=t.center()[l]):e[l]=n[l]=s[l]),i.box=a,this.line.moveTo(e).lineTo(n)},getBox:function(){var t,e,n,i=this,r=i.axis,o=r.pane.axes,a=o.length,s=r.options.vertical,l=r.lineBox().clone(),c=s?Ro:Oo;for(n=0;a>n;n++)e=o[n],e.options.vertical!=s&&(t?t.wrap(e.lineBox()):t=e.lineBox().clone());return l[c+1]=t[c+1],l[c+2]=t[c+2],l},createVisual:function(){zn.fn.createVisual.call(this);var t=this.options;this.line=new ui.Path({stroke:{color:t.color,width:t.width,opacity:t.opacity,dashType:t.dashType},visible:!1}),this.moveLine(),this.visual.append(this.line)},destroy:function(){var t=this;t.tooltip&&t.tooltip.destroy(),zn.fn.destroy.call(t)}}),dn=sn.extend({init:function(t,e){var n=this,i=t.axis.getRoot().chart.element;n.crosshair=t,sn.fn.init.call(n,i,Tn({},n.options,{background:t.axis.plotArea.options.seriesColors[0]},e)),n.setStyle(n.options)},options:{padding:10},showAt:function(t){var e=this,n=e.element;n&&(e.point=t,e.element.html(e.content(t)),e.anchor=e.getAnchor(),e.move())},move:function(){var t=this,e=t.element,n=t._offset();t._ensureElement(),e.css({top:n.top,left:n.left}).show()},content:function(t){var e,n,i,r=this,o=r.options,a=r.crosshair.axis,s=a.options;return n=e=a[o.stickyMode?"getCategory":"getValue"](t),o.template?(i=Pn(o.template),e=i({value:n})):o.format?e=Zn(o.format,n):s.type===Hi&&(e=Zn(s.labels.dateFormats[s.baseUnit],n)),e},getAnchor:function(){var t,e=this,n=e.options,i=n.position,r=this.crosshair,o=!r.axis.options.vertical,a=r.line.bbox(),s=this._measure(),l=s.width/2,c=s.height/2,h=n.padding;return t=o?i===Ci?a.bottomLeft().translate(-l,h):a.topLeft().translate(-l,-s.height-h):i===vr?a.topLeft().translate(-s.width-h,-c):a.topRight().translate(h,-c)},hide:function(){this.element.hide(),this.point=null},destroy:function(){sn.fn.destroy.call(this),this.point=null}}),un={min:function(t){var e,n,i=Tr,r=t.length;for(e=0;r>e;e++)n=t[e],E(n)&&(i=yn.min(i,n));return i===Tr?t[0]:i},max:function(t){var e,n,i=Ar,r=t.length;for(e=0;r>e;e++)n=t[e],E(n)&&(i=yn.max(i,n));return i===Ar?t[0]:i},sum:function(t){var e,n,i=t.length,r=0;for(e=0;i>e;e++)n=t[e],E(n)&&(r+=n);return r},sumOrNull:function(t){var e=null;return I(t)&&(e=un.sum(t)),e},count:function(t){var e,n,i=t.length,r=0;for(e=0;i>e;e++)n=t[e],null!==n&&Jn(n)&&r++;return r},avg:function(t){var e=t[0],n=I(t);return n>0&&(e=un.sum(t)/n),e},first:function(t){var e,n,i=t.length;for(e=0;i>e;e++)if(n=t[e],null!==n&&Jn(n))return n;return t[0]}},n.prototype={register:function(t,e){for(var n=0;t.length>n;n++)this._defaults[t[n]]=e},query:function(t){return this._defaults[t]}},n.current=new n,fn=kn.extend({init:function(e,n,i){var r,o,a=this,s=e.element,l=n.lineBox(),c=a.getValueAxis(n),h=c.lineBox(),d="."+Oi;kn.fn.init.call(a),a.options=Tn({},a.options,i),i=a.options,a.chart=e,a.chartElement=s,a.categoryAxis=n,a._dateAxis=a.categoryAxis instanceof Z,a.valueAxis=c,a._dateAxis&&Tn(i,{min:m(i.min),max:m(i.max),from:m(i.from),to:m(i.to)}),a.template=fn.template,a.template||(a.template=fn.template=li("<div class='"+Oi+"selector' style='width: #= d.width #px; height: #= d.height #px; top: #= d.offset.top #px; left: #= d.offset.left #px;'><div class='"+Oi+"mask'></div><div class='"+Oi+"mask'></div><div class='"+Oi+"selection'><div class='"+Oi+"selection-bg'></div><div class='"+Oi+"handle "+Oi+"leftHandle'><div></div></div><div class='"+Oi+"handle "+Oi+"rightHandle'><div></div></div></div></div>")),o={left:parseInt(s.css("paddingLeft"),10),right:parseInt(s.css("paddingTop"),10)},a.options=Tn({},{width:l.width(),height:h.height(),padding:o,offset:{left:h.x2+o.left,top:h.y1+o.right},from:i.min,to:i.max},i),a.options.visible&&(a.wrapper=r=t(a.template(a.options)).appendTo(s),a.selection=r.find(d+"selection"),a.leftMask=r.find(d+"mask").first(),a.rightMask=r.find(d+"mask").last(),a.leftHandle=r.find(d+"leftHandle"),a.rightHandle=r.find(d+"rightHandle"),a.options.selection={border:{left:parseFloat(a.selection.css("border-left-width"),10),right:parseFloat(a.selection.css("border-right-width"),10)}},a.leftHandle.css("top",(a.selection.height()-a.leftHandle.height())/2),a.rightHandle.css("top",(a.selection.height()-a.rightHandle.height())/2),a.set(a._index(i.from),a._index(i.to)),a.bind(a.events,a.options),a.wrapper[0].style.cssText=a.wrapper[0].style.cssText,a.wrapper.on(Or,wn(a._mousewheel,a)),xn.UserEvents?a.userEvents=new xn.UserEvents(a.wrapper,{global:!0,stopPropagation:!0,multiTouch:!0,start:wn(a._start,a),move:wn(a._move,a),end:wn(a._end,a),tap:wn(a._tap,a),gesturestart:wn(a._gesturechange,a),gesturechange:wn(a._gesturechange,a)}):a.leftHandle.add(a.rightHandle).removeClass(Oi+"handle"))},events:[io,ro,oo],options:{visible:!0,mousewheel:{zoom:ki},min:Ar,max:Tr},destroy:function(){var t=this,e=t.userEvents;e&&e.destroy(),t._state=null,this.wrapper.remove()},_rangeEventArgs:function(t){var e=this;return{axis:e.categoryAxis.options,from:e._value(t.from),to:e._value(t.to)}},_start:function(e){var n,i=this,r=i.options,o=t(e.event.target);!i._state&&o&&(i.chart._unsetActivePoint(),i._state={moveTarget:o.parents(".k-handle").add(o).first(),startLocation:e.x?e.x.location:0,range:{from:i._index(r.from),to:i._index(r.to)}},n=i._rangeEventArgs({from:i._index(r.from),to:i._index(r.to)}),i.trigger(io,n)&&(i.userEvents.cancel(),i._state=null))},_move:function(t){if(this._state){var e=this,n=e._state,i=e.options,r=e.categoryAxis.options.categories,o=e._index(i.from),a=e._index(i.to),s=e._index(i.min),l=e._index(i.max),c=n.startLocation-t.x.location,h=n.range,d={from:h.from,to:h.to},u=h.to-h.from,f=n.moveTarget,p=e.wrapper.width()/(r.length-1),g=yn.round(c/p);f&&(t.preventDefault(),f.is(".k-selection, .k-selection-bg")?(h.from=yn.min(yn.max(s,o-g),l-u),h.to=yn.min(h.from+u,l)):f.is(".k-leftHandle")?(h.from=yn.min(yn.max(s,o-g),l-1),h.to=yn.max(h.from+1,h.to)):f.is(".k-rightHandle")&&(h.to=yn.min(yn.max(s+1,a-g),l),h.from=yn.min(h.to-1,h.from)),(h.from!==d.from||h.to!==d.to)&&(e.move(h.from,h.to),e.trigger(ro,e._rangeEventArgs(h))))}},_end:function(){var t=this,e=t._state.range;delete t._state,t.set(e.from,e.to),t.trigger(oo,t._rangeEventArgs(e))},_gesturechange:function(t){if(this._state){var e=this,n=e.chart,i=e._state,r=e.options,o=e.categoryAxis,a=i.range,s=n._toModelCoordinates(t.touches[0].x.location).x,l=n._toModelCoordinates(t.touches[1].x.location).x,c=yn.min(s,l),h=yn.max(s,l);t.preventDefault(),i.moveTarget=null,a.from=o.pointCategoryIndex(new Mn.Point2D(c))||r.min,a.to=o.pointCategoryIndex(new Mn.Point2D(h))||r.max,e.move(a.from,a.to)}},_tap:function(t){var e=this,n=e.options,i=e.chart._eventCoordinates(t),r=e.categoryAxis,o=r.pointCategoryIndex(new Mn.Point2D(i.x,r.box.y1)),a=e._index(n.from),s=e._index(n.to),l=e._index(n.min),c=e._index(n.max),h=s-a,d=a+h/2,u=yn.round(d-o),f={},p=3===t.event.which;e._state||p||(t.preventDefault(),e.chart._unsetActivePoint(),r.options.justified||u--,f.from=yn.min(yn.max(l,a-u),c-h),f.to=yn.min(f.from+h,c),e._start(t),e._state&&(e._state.range=f,e.trigger(ro,e._rangeEventArgs(f)),e._end()))},_mousewheel:function(t){var e,n=this,i=n.options,r=ai(t);n._start({event:{target:n.selection}}),n._state&&(e=n._state.range,t.preventDefault(),t.stopPropagation(),yn.abs(r)>1&&(r*=Ho),i.mousewheel.reverse&&(r*=-1),n.expand(r)&&n.trigger(ro,{axis:n.categoryAxis.options,delta:r,originalEvent:t,from:n._value(e.from),to:n._value(e.to)}),n._mwTimeout&&clearTimeout(n._mwTimeout),n._mwTimeout=setTimeout(function(){n._end()},Rr))},_index:function(t){var e=this,n=e.categoryAxis,i=n.options.categories,r=t;return t instanceof Date&&(r=M(t,i),!n.options.justified&&t>ri(i)&&(r+=1)),r},_value:function(t){var e=this,n=this.categoryAxis,i=n.options.categories,r=t;return e._dateAxis&&(r=t>i.length-1?e.options.max:i[t]),r},_slot:function(t){var e=this,n=this.categoryAxis;return n.getSlot(e._index(t))},move:function(t,e){var n,i,r,o,a=this,s=a.options,l=s.offset,c=s.padding,h=s.selection.border;r=a._slot(t),n=si(r.x1-l.left+c.left),a.leftMask.width(n),a.selection.css("left",n),r=a._slot(e),i=si(s.width-(r.x1-l.left+c.left)),a.rightMask.width(i),o=s.width-i,o!=s.width&&(o+=h.right),a.rightMask.css("left",o),a.selection.width(yn.max(s.width-(n+i)-h.right,0))},set:function(t,e){var n=this,i=n.options,r=n._index(i.min),o=n._index(i.max);t=oi(n._index(t),r,o),e=oi(n._index(e),t+1,o),i.visible&&n.move(t,e),i.from=n._value(t),i.to=n._value(e)},expand:function(t){var n=this,i=n.options,r=n._index(i.min),o=n._index(i.max),a=i.mousewheel.zoom,s=n._index(i.from),l=n._index(i.to),c={from:s,to:l},h=Tn({},c);return n._state&&(c=n._state.range),a!==Kr&&(c.from=oi(oi(s-t,0,l-1),r,o)),a!==vr&&(c.to=oi(oi(l+t,c.from+1,o),r,o)),c.from!==h.from||c.to!==h.to?(n.set(c.from,c.to),!0):e},getValueAxis:function(t){var e,n,i=t.pane.axes,r=i.length;for(e=0;r>e;e++)if(n=i[e],n.options.vertical!==t.options.vertical)return n}}),pn=function(t,e,n){var i,r,o,a=this,s=e.canonicalFields(t),l=e.valueFields(t),c=e.sourceFields(t,s),h=a._seriesFields=[],d=n.query(t.type),u=t.aggregate||d;for(a._series=t,a._binder=e,i=0;s.length>i;i++){if(r=s[i],typeof u===Ur)o=u[r];else{if(0!==i&&!ni(r,l))break;o=u}o&&h.push({canonicalName:r,name:c[i],transform:An(o)?o:un[o]})}},pn.prototype={aggregatePoints:function(t,e){var n,i,r,o,a,s=this,l=s._bindPoints(t||[]),c=s._series,h=s._seriesFields,d=l.dataItems[0],u={};for(!d||E(d)||mn(d)||(a=function(){},a.prototype=d,u=new a),n=0;h.length>n;n++){if(i=h[n],r=s._bindField(l.values,i.canonicalName),o=i.transform(r,c,l.dataItems,e),null!==o&&typeof o===Ur&&!Jn(o.length)){u=o;break}Jn(o)&&(W(i.name,u),xn.setter(i.name)(u,o))}return u},_bindPoints:function(t){var e,n,i=this,r=i._binder,o=i._series,a=[],s=[];for(e=0;t.length>e;e++)n=t[e],a.push(r.bindPoint(o,n)),s.push(o.data[n]);return{values:a,dataItems:s}},_bindField:function(t,e){var n,i,r,o,a=[],s=t.length;for(n=0;s>n;n++)i=t[n],o=i.valueFields,r=Jn(o[e])?o[e]:i.fields[e],a.push(r);return a}},_n(t.easing,{easeOutElastic:function(t,e,n,i){var r=1.70158,o=0,a=i;return 0===t?n:1===t?n+i:(o||(o=.5),a<yn.abs(i)?(a=i,r=o/4):r=o/(2*yn.PI)*yn.asin(i/a),a*yn.pow(2,-10*t)*yn.sin(1.1*(1*t-r)*yn.PI/o)+i+n)}}),Mn.ui.plugin(Yo),q.current.register(Xe,[_i,zi,wr,Lo,gi,Eo,Ai,Wr,Di,Io,Si,Qr,Xr,Bo,dr]),q.current.register(Ke,[to,eo,Ti]),q.current.register(Ze,[Gr]),q.current.register(Je,[Yi]),$.current.register([_i,zi,wr,Lo,gi,Eo],[Mo],[Pi,Bi,Hr,Ji,tr]),$.current.register([Qr,Xr],[sr,ko],[Pi,Bi,Hr]),$.current.register([Bo,dr],[Mo],[Pi,Bi,Hr,po]),n.current.register([_i,zi,wr,Lo,gi,Eo,Bo,dr],{value:Cr,color:ar,noteText:ar,errorLow:Dr,errorHigh:Cr}),n.current.register([Qr,Xr],{from:Dr,to:Cr,color:ar,noteText:ar}),$.current.register([to,eo,Ti],[Ro,Oo],[Bi,Hr,er,nr,ir,rr]),$.current.register([Ti],[Ro,Oo,"size"],[Bi,Pi,Hr]),$.current.register([Ai,Wr],["open","high","low","close"],[Pi,Bi,"downColor",Hr]),n.current.register([Ai,Wr],{open:Cr,high:Cr,low:Dr,close:Cr,color:ar,downColor:ar,noteText:ar}),$.current.register([Si],["lower","q1","median","q3","upper","mean","outliers"],[Pi,Bi,Hr]),n.current.register([Si],{lower:Cr,q1:Cr,median:Cr,q3:Cr,upper:Cr,mean:Cr,outliers:ar,color:ar,noteText:ar}),$.current.register([Di,Io],["current","target"],[Pi,Bi,"visibleInLegend",Hr]),n.current.register([Di,Io],{current:Cr,target:Cr,color:ar,noteText:ar}),$.current.register([Gr,Yi],[Mo],[Pi,Bi,"explode","visibleInLegend","visible"]),Tn(Mn,{EQUALLY_SPACED_SERIES:qo,Aggregates:un,AreaChart:De,AreaSegment:Te,AxisGroupRangeTracker:Qe,Bar:re,BarAnimationDecorator:nn,BarChart:ce,BarLabel:Y,BubbleAnimationDecorator:on,BubbleChart:Ie,BulletChart:ue,CandlestickChart:Be,Candlestick:Le,CategoricalChart:le,CategoricalErrorBar:me,CategoricalPlotArea:Xe,CategoryAxis:K,ChartContainer:$e,ClusterLayout:te,Crosshair:hn,CrosshairTooltip:dn,DateCategoryAxis:Z,DateValueAxis:J,DefaultAggregates:n,DonutChart:We,DonutPlotArea:Je,DonutSegment:Ue,ErrorBarBase:ge,ErrorRangeCalculator:se,Highlight:an,SharedTooltip:cn,Legend:Q,LegendItem:X,LineChart:be,LinePoint:ye,LineSegment:we,Pane:qe,PieAnimation:tn,PieAnimationDecorator:rn,PieChart:He,PieChartMixin:Ve,PiePlotArea:Ze,PieSegment:Ne,PlotAreaBase:Ye,PlotAreaFactory:q,PointEventsMixin:ne,RangeBar:he,RangeBarChart:de,ScatterChart:Me,ScatterErrorBar:ve,ScatterLineChart:Ee,Selection:fn,SeriesAggregator:pn,SeriesBinder:$,ShapeElement:qn,SplineSegment:Ce,SplineAreaSegment:Ae,StackWrap:ee,Tooltip:ln,OHLCChart:Fe,OHLCPoint:ze,WaterfallChart:je,WaterfallSegment:Ge,XYPlotArea:Ke,addDuration:y,areNumbers:L,axisGroupBox:T,categoriesCount:u,ceilDate:x,countNumbers:I,duration:C,ensureTree:W,indexOf:O,isNumber:E,floorDate:w,filterSeriesByType:R,lteDateIndex:M,evalOptions:z,seriesTotal:j,singleItemOrArray:S,sortDates:N,sparseArrayLimits:o,startOfWeek:_,transpose:U,toDate:m,toTime:v,uniqueDates:V})}(window.kendo.jQuery),function(t,e){function n(t,e){return t.value.x-e.value.x}function i(t,e){return 180-C.abs(C.abs(t-e)-180)}var r,o,a,s,l,c,h,d,u,f,p,g,m,v,y,_,w,x,b,k,C=Math,S=window.kendo,T=S.deepExtend,D=S.drawing,A=S.geometry,P=S.dataviz,M=P.AreaSegment,E=P.Axis,I=P.AxisGroupRangeTracker,L=P.BarChart,B=P.Box2D,z=P.CategoryAxis,F=P.CategoricalChart,R=P.CategoricalPlotArea,O=P.ChartElement,N=P.CurveProcessor,V=P.DonutSegment,H=P.LineChart,U=P.LineSegment,W=P.LogarithmicAxis,j=P.NumericAxis,G=P.PlotAreaBase,q=P.PlotAreaFactory,$=P.Point2D,Y=P.Ring,X=P.ScatterChart,Q=P.ScatterLineChart,K=P.SeriesBinder,Z=P.ShapeBuilder,J=P.SplineSegment,te=P.SplineAreaSegment,ee=P.append,ne=P.getSpacing,ie=P.filterSeriesByType,re=P.limitValue,oe=P.round,ae="arc",se="#000",le=P.COORD_PRECISION,ce=.15,he=C.PI/180,de="log",ue="plotAreaClick",fe="polarArea",pe="polarLine",ge="polarScatter",me="radarArea",ve="radarColumn",ye="radarLine",_e="smooth",we="x",xe="y",be="zero",ke=[fe,pe,ge],Ce=[me,ve,ye],Se={createGridLines:function(t){var e,n,i=this,r=i.options,o=C.abs(i.box.center().y-t.lineBox().y1),a=!1,s=[];return r.majorGridLines.visible&&(e=i.majorGridLineAngles(t),a=!0,s=i.renderGridLines(e,o,r.majorGridLines)),r.minorGridLines.visible&&(n=i.minorGridLineAngles(t,a),ee(s,i.renderGridLines(n,o,r.minorGridLines))),s},renderGridLines:function(t,e,n){var i,r,o={stroke:{Width:n.width,color:n.color,dashType:n.dashType}},a=this.box.center(),s=new A.Circle([a.x,a.y],e),l=this._gridLines;for(i=0;t.length>i;i++)r=new D.Path(o),r.moveTo(s.center).lineTo(s.pointAt(t[i])),l.append(r);return l.children},gridLineAngles:function(n,i,r){var o=this,a=o.intervals(i,r);return t.map(a,function(t){var i=o.intervalAngle(t);return n.options.visible&&90===i?e:i})}},Te=z.extend({options:{startAngle:90,labels:{margin:ne(10)},majorGridLines:{visible:!0},justified:!0},range:function(){return{min:0,max:this.options.categories.length}},reflow:function(t){this.box=t,this.reflowLabels()},lineBox:function(){return this.box},reflowLabels:function(){var t,e,n=this,i=new B,r=n.labels;for(e=0;r.length>e;e++)r[e].reflow(i),t=r[e].box,r[e].reflow(n.getSlot(e).adjacentBox(0,t.width(),t.height()))},intervals:function(t,e){var n,i=this,r=i.options,o=r.categories.length,a=0,s=0,l=o/t||1,c=360/l,h=[];for(e&&(s=360/(o/e)),n=0;l>n;n++)a=oe(a,le),a%s!==0&&h.push(a%360),r.reverse?a=360+a-c:a+=c;return h},majorIntervals:function(){return this.intervals(1)},minorIntervals:function(){return this.intervals(.5)},intervalAngle:function(t){return(360+t+this.options.startAngle)%360},majorAngles:function(){return t.map(this.majorIntervals(),t.proxy(this.intervalAngle,this))},createLine:function(){return[]},majorGridLineAngles:function(t){return this.gridLineAngles(t,1)},minorGridLineAngles:function(t,e){return this.gridLineAngles(t,.5,e?1:0)},createPlotBands:function(){var t,e,n,i,r,o,a,s=this,l=s.options,c=l.plotBands||[],h=new D.Group({zIndex:-1});for(t=0;c.length>t;t++)e=c[t],n=s.plotBandSlot(e),i=s.getSlot(e.from),r=e.from-C.floor(e.from),n.startAngle+=r*i.angle,o=C.ceil(e.to)-e.to,n.angle-=(o+r)*i.angle,a=Z.current.createRing(n,{fill:{color:e.color,opacity:e.opacity},stroke:{opacity:e.opacity}}),h.append(a);s.appendVisual(h)},plotBandSlot:function(t){return this.getSlot(t.from,t.to-1)},getSlot:function(t,e){var n,i,r,o=this,a=o.options,s=a.justified,l=o.box,c=o.majorAngles(),h=c.length,d=360/h;return a.reverse&&!s&&(t=(t+1)%h),t=re(C.floor(t),0,h-1),i=c[t],s&&(i-=d/2,0>i&&(i+=360)),e=re(C.ceil(e||t),t,h-1),n=e-t+1,r=d*n,new Y(l.center(),0,l.height()/2,i,r)},pointCategoryIndex:function(t){var e,n,i=this,r=null,o=i.options.categories.length;for(e=0;o>e;e++)if(n=i.getSlot(e),n.containsPoint(t)){r=e;break}return r}});T(Te.fn,Se),r={options:{majorGridLines:{visible:!0}},createPlotBands:function(){var t,e,n,i,r,o,a=this,s=a.options,l=s.plotBands||[],c=s.majorGridLines.type,h=a.plotArea.polarAxis,d=h.majorAngles(),u=h.box.center(),f=new D.Group({zIndex:-1});for(t=0;l.length>t;t++)e=l[t],n={fill:{color:e.color,opacity:e.opacity},stroke:{opacity:e.opacity}},i=a.getSlot(e.from,e.to,!0),r=new Y(u,u.y-i.y2,u.y-i.y1,0,360),o=c===ae?Z.current.createRing(r,n):D.Path.fromPoints(a.plotBandPoints(r,d),n).close(),f.append(o);a.appendVisual(f)},plotBandPoints:function(t,e){var n,i=[],r=[],o=[t.c.x,t.c.y],a=new A.Circle(o,t.ir),s=new A.Circle(o,t.r);for(n=0;e.length>n;n++)i.push(a.pointAt(e[n])),r.push(s.pointAt(e[n]));return i.reverse(),i.push(i[0]),r.push(r[0]),r.concat(i)},createGridLines:function(t){var e,n=this,i=n.options,r=n.radarMajorGridLinePositions(),o=t.majorAngles(),a=t.box.center(),s=[];return i.majorGridLines.visible&&(s=n.renderGridLines(a,r,o,i.majorGridLines)),i.minorGridLines.visible&&(e=n.radarMinorGridLinePositions(),ee(s,n.renderGridLines(a,e,o,i.minorGridLines))),s},renderGridLines:function(t,e,n,i){var r,o,a,s,l,c={stroke:{width:i.width,color:i.color,dashType:i.dashType}},h=this._gridLines;for(o=0;e.length>o;o++)if(r=t.y-e[o],r>0)if(s=new A.Circle([t.x,t.y],r),i.type===ae)h.append(new D.Circle(s,c));else{for(l=new D.Path(c),a=0;n.length>a;a++)l.lineTo(s.pointAt(n[a]));l.close(),h.append(l)}return h.elements},getValue:function(t){var e,n,r,o,a,s,l,c=this,h=c.options,d=c.lineBox(),u=c.plotArea.polarAxis,f=u.majorAngles(),p=u.box.center(),g=t.distanceTo(p),m=g;return h.majorGridLines.type!==ae&&f.length>1&&(e=t.x-p.x,n=t.y-p.y,r=(C.atan2(n,e)/he+540)%360,f.sort(function(t,e){return i(t,r)-i(e,r)}),o=i(f[0],f[1])/2,a=i(r,f[0]),s=90-o,l=180-a-s,m=g*(C.sin(l*he)/C.sin(s*he))),c.axisType().fn.getValue.call(c,new $(d.x1,d.y2-m))}},o=j.extend({radarMajorGridLinePositions:function(){return this.getTickPositions(this.options.majorUnit)},radarMinorGridLinePositions:function(){var t=this,e=t.options,n=0;return e.majorGridLines.visible&&(n=e.majorUnit),t.getTickPositions(e.minorUnit,n)},axisType:function(){return j}}),T(o.fn,r),a=W.extend({radarMajorGridLinePositions:function(){var t=this,e=[];return t.traverseMajorTicksPositions(function(t){e.push(t)},t.options.majorGridLines),e},radarMinorGridLinePositions:function(){var t=this,e=[];return t.traverseMinorTicksPositions(function(t){e.push(t)},t.options.minorGridLines),e},axisType:function(){return W}}),T(a.fn,r),s=E.extend({init:function(t){var e=this;E.fn.init.call(e,t),t=e.options,t.minorUnit=t.minorUnit||e.options.majorUnit/2},options:{type:"polar",startAngle:0,reverse:!1,majorUnit:60,min:0,max:360,labels:{margin:ne(10)},majorGridLines:{color:se,visible:!0,width:1},minorGridLines:{color:"#aaa"}},getDivisions:function(t){return j.fn.getDivisions.call(this,t)-1},reflow:function(t){this.box=t,this.reflowLabels()},reflowLabels:function(){var t,e,n=this,i=new B,r=n.majorIntervals(),o=n.labels;for(e=0;o.length>e;e++)o[e].reflow(i),t=o[e].box,o[e].reflow(n.getSlot(r[e]).adjacentBox(0,t.width(),t.height()))},lineBox:function(){return this.box},intervals:function(t,e){var n,i=this,r=i.options,o=i.getDivisions(t),a=r.min,s=[];for(e&&(e/=t),n=0;o>n;n++)n%e!==0&&s.push((360+a)%360),a+=t;return s},majorIntervals:function(){return this.intervals(this.options.majorUnit)},minorIntervals:function(){return this.intervals(this.options.minorUnit)},intervalAngle:function(t){return(360+t-this.options.startAngle)%360},majorAngles:Te.fn.majorAngles,createLine:function(){return[]},majorGridLineAngles:function(t){return this.gridLineAngles(t,this.options.majorUnit)},minorGridLineAngles:function(t,e){return this.gridLineAngles(t,this.options.minorUnit,e?this.options.majorUnit:0)},createPlotBands:Te.fn.createPlotBands,plotBandSlot:function(t){return this.getSlot(t.from,t.to)},getSlot:function(t,e){var n,i=this,r=i.options,o=r.startAngle,a=i.box;return t=re(t,r.min,r.max),e=re(e||t,t,r.max),r.reverse&&(t*=-1,e*=-1),t=(540-t-o)%360,e=(540-e-o)%360,t>e&&(n=t,t=e,e=n),new Y(a.center(),0,a.height()/2,t,e-t)},getValue:function(t){var e=this,n=e.options,i=e.box.center(),r=t.x-i.x,o=t.y-i.y,a=C.round(C.atan2(o,r)/he),s=n.startAngle;return n.reverse||(a*=-1,s*=-1),(a+s+360)%360},labelsCount:j.fn.labelsCount,createAxisLabel:j.fn.createAxisLabel}),T(s.fn,Se),l=O.extend({options:{gap:1,spacing:0},reflow:function(t){var e,n,i=this,r=i.options,o=i.children,a=r.gap,s=r.spacing,l=o.length,c=l+a+s*(l-1),h=t.angle/c,d=t.startAngle+h*(a/2);for(n=0;l>n;n++)e=t.clone(),e.startAngle=d,e.angle=h,o[n].sector&&(e.r=o[n].sector.r),o[n].reflow(e),o[n].sector=e,d+=h+h*s}}),c=O.extend({reflow:function(t){var e,n,i=this,r=i.options.isReversed,o=i.children,a=o.length,s=r?a-1:0,l=r?-1:1;for(i.box=new B,n=s;n>=0&&a>n;n+=l)e=o[n].sector,e.startAngle=t.startAngle,e.angle=t.angle}}),h=V.extend({init:function(t,e){V.fn.init.call(this,t,null,e)},options:{overlay:{gradient:null},labels:{distance:10}}}),d=L.extend({pointType:function(){return h},clusterType:function(){return l},stackType:function(){return c},categorySlot:function(t,e){return t.getSlot(e)},pointSlot:function(t,e){var n=t.clone(),i=t.c.y;return n.r=i-e.y1,n.ir=i-e.y2,n},reflow:F.fn.reflow,reflowPoint:function(t,e){t.sector=e,t.reflow()},options:{clip:!1}}),u=H.extend({options:{clip:!1},pointSlot:function(t,e){var n=t.c.y-e.y1,i=$.onCircle(t.c,t.middle(),n);return new B(i.x,i.y,i.x,i.y)},createSegment:function(t,e,n){var i,r,o=e.style;return r=o==_e?J:U,i=new r(t,e,n),t.length===e.data.length&&(i.options.closed=!0),i}}),f=M.extend({points:function(){return U.fn.points.call(this,this.stackPoints)}}),p=te.extend({areaPoints:function(){return[]}}),g=u.extend({createSegment:function(t,e,n,i){var r,o,a=this,s=a.options,l=s.isStacked,c=(e.line||{}).style;return c===_e?(o=new p(t,i,l,e,n),o.options.closed=!0):(l&&n>0&&i&&(r=i.linePoints.slice(0).reverse()),t.push(t[0]),o=new f(t,r,e,n)),o},seriesMissingValues:function(t){return t.missingValues||be}}),m=X.extend({pointSlot:function(t,e){var n=t.c.y-e.y1,i=$.onCircle(t.c,t.startAngle,n);return new B(i.x,i.y,i.x,i.y)},options:{clip:!1}}),v=Q.extend({pointSlot:m.fn.pointSlot,options:{clip:!1}}),y=M.extend({points:function(){var t=this,e=t.parent,n=e.plotArea,i=n.polarAxis,r=i.box.center(),o=t.stackPoints,a=U.fn.points.call(t,o);return a.unshift([r.x,r.y]),a.push([r.x,r.y]),a}}),_=te.extend({areaPoints:function(){var t=this,e=t.parent,n=e.plotArea,i=n.polarAxis,r=i.box.center();return[r]},points:function(){var t,e=this,n=e.parent,i=n.plotArea,r=i.polarAxis,o=r.box.center(),a=new N(!1),s=U.fn.points.call(this);return s.push(o),t=a.process(s),t.splice(t.length-3,t.length-1),e.curvePoints=t,t}}),w=v.extend({createSegment:function(t,e,n){var i,r=(e.line||{}).style;return i=r==_e?new _(t,null,!1,e,n):new y(t,[],e,n)},seriesMissingValues:function(t){return t.missingValues||be},sortPoints:function(t){return t.sort(n)}}),x=G.extend({init:function(t,e){var n=this;n.valueAxisRangeTracker=new I,G.fn.init.call(n,t,e)},render:function(){var t=this;t.addToLegend(t.series),t.createPolarAxis(),t.createCharts(),t.createValueAxis()},createValueAxis:function(){var t,e,n,i,r=this,s=r.valueAxisRangeTracker,l=s.query(),c=r.valueAxisOptions({roundToMajorUnit:!1,zIndex:-1});c.type===de?(n=a,i={min:.1,max:1}):(n=o,i={min:0,max:1}),t=s.query(name)||l||i,t&&l&&(t.min=C.min(t.min,l.min),t.max=C.max(t.max,l.max)),e=new n(t.min,t.max,c),r.valueAxis=e,r.appendAxis(e)},reflowAxes:function(){var t,e=this,n=e.options.plotArea,i=e.valueAxis,r=e.polarAxis,o=e.box,a=C.min(o.width(),o.height())*ce,s=ne(n.padding||{},a),l=o.clone().unpad(s),c=l.clone().shrink(0,l.height()/2);r.reflow(l),i.reflow(c),t=i.lineBox().height()-i.box.height(),i.reflow(i.box.unpad({top:t})),e.axisBox=l,e.alignAxes(l)},alignAxes:function(){var t=this,e=t.valueAxis,n=e.getSlot(e.options.min),i=e.options.reverse?2:1,r=t.polarAxis.getSlot(0).c,o=e.box.translate(r.x-n[we+i],r.y-n[xe+i]);e.reflow(o)},backgroundBox:function(){return this.box}}),b=x.extend({options:{categoryAxis:{categories:[]},valueAxis:{}},createPolarAxis:function(){var t,e=this;t=new Te(e.options.categoryAxis),e.polarAxis=t,e.categoryAxis=t,e.appendAxis(t)},valueAxisOptions:function(t){var e=this;return e._hasBarCharts&&T(t,{majorGridLines:{type:ae},minorGridLines:{type:ae}}),e._isStacked100&&T(t,{roundToMajorUnit:!1,labels:{format:"P0"}}),T(t,e.options.valueAxis)},appendChart:R.fn.appendChart,createCharts:function(){var t=this,e=t.filterVisibleSeries(t.series),n=t.panes[0];t.createAreaChart(ie(e,[me]),n),t.createLineChart(ie(e,[ye]),n),t.createBarChart(ie(e,[ve]),n)},chartOptions:function(t){var e,n,i={series:t},r=t[0];return r&&(e=this.filterVisibleSeries(t),n=r.stack,i.isStacked=n&&e.length>1,i.isStacked100=n&&"100%"===n.type&&e.length>1,i.isStacked100&&(this._isStacked100=!0)),i},createAreaChart:function(t,e){if(0!==t.length){var n=new g(this,this.chartOptions(t));this.appendChart(n,e)}},createLineChart:function(t,e){if(0!==t.length){var n=new u(this,this.chartOptions(t));this.appendChart(n,e)}},createBarChart:function(t,e){var n,i,r;0!==t.length&&(n=t[0],i=this.chartOptions(t),i.gap=n.gap,i.spacing=n.spacing,r=new d(this,i),this.appendChart(r,e),this._hasBarCharts=!0)},seriesCategoryAxis:function(){return this.categoryAxis},click:function(e,n){var i,r,o=this,a=e._eventCoordinates(n),s=new $(a.x,a.y);i=o.categoryAxis.getCategory(s),r=o.valueAxis.getValue(s),null!==i&&null!==r&&e.trigger(ue,{element:t(n.target),category:i,value:r})}}),k=x.extend({options:{xAxis:{},yAxis:{}},createPolarAxis:function(){var t,e=this;t=new s(e.options.xAxis),e.polarAxis=t,e.axisX=t,e.appendAxis(t)},valueAxisOptions:function(t){var e=this;return T(t,{majorGridLines:{type:ae},minorGridLines:{type:ae}},e.options.yAxis)},createValueAxis:function(){var t=this;x.fn.createValueAxis.call(t),t.axisY=t.valueAxis},appendChart:function(t,e){var n=this;n.valueAxisRangeTracker.update(t.yAxisRanges),G.fn.appendChart.call(n,t,e)},createCharts:function(){var t=this,e=t.filterVisibleSeries(t.series),n=t.panes[0];t.createLineChart(ie(e,[pe]),n),t.createScatterChart(ie(e,[ge]),n),t.createAreaChart(ie(e,[fe]),n)},createLineChart:function(t,e){if(0!==t.length){var n=this,i=new v(n,{series:t});n.appendChart(i,e)}},createScatterChart:function(t,e){if(0!==t.length){var n=this,i=new m(n,{series:t});n.appendChart(i,e)}},createAreaChart:function(t,e){if(0!==t.length){var n=this,i=new w(n,{series:t});n.appendChart(i,e)}},click:function(e,n){var i,r,o=this,a=e._eventCoordinates(n),s=new $(a.x,a.y);i=o.axisX.getValue(s),r=o.axisY.getValue(s),null!==i&&null!==r&&e.trigger(ue,{element:t(n.target),x:i,y:r})}}),q.current.register(k,ke),q.current.register(b,Ce),K.current.register(ke,[we,xe],["color"]),K.current.register(Ce,["value"],["color"]),P.DefaultAggregates.current.register(Ce,{value:"max",color:"first"}),T(P,{PolarAreaChart:w,PolarAxis:s,PolarLineChart:v,PolarPlotArea:k,RadarAreaChart:g,RadarBarChart:d,RadarCategoryAxis:Te,RadarClusterLayout:l,RadarLineChart:u,RadarNumericAxis:o,RadarPlotArea:b,SplinePolarAreaSegment:_,SplineRadarAreaSegment:p,RadarStackLayout:c})}(window.kendo.jQuery),function(t,e){var n,i=window.kendo,r=i.deepExtend,o=t.extend,a=i.isFunction,s=i.template,l=i.drawing,c=i.geometry,h=i.dataviz,d=i.drawing.Color,u=h.ChartElement,f=h.PieChartMixin,p=h.PlotAreaBase,g=h.PlotAreaFactory,m=h.Point2D,v=h.Box2D,y=h.SeriesBinder,_=h.TextBox,w=h.append,x=h.autoFormat,b=h.evalOptions,k=h.limitValue,C=h.seriesTotal,S=h.uniqueId,T="category",D="color",A="funnel",P="value",M="black",E="white",I=p.extend({render:function(){var t=this,e=t.series;t.createFunnelChart(e)},createFunnelChart:function(t){var e=this,n=t[0],i=new L(e,{series:t,legend:e.options.legend,neckRatio:n.neckRatio,dynamicHeight:n.dynamicHeight,dynamicSlope:n.dynamicSlope,segmentSpacing:n.segmentSpacing,highlight:n.highlight});e.appendChart(i)},appendChart:function(t,e){p.fn.appendChart.call(this,t,e),w(this.options.legend.items,t.legendItems)}}),L=u.extend({init:function(t,e){var n=this;u.fn.init.call(n,e),n.plotArea=t,n.points=[],n.labels=[],n.legendItems=[],n.render()},options:{neckRatio:.3,width:300,dynamicSlope:!1,dynamicHeight:!0,segmentSpacing:0,labels:{visible:!1,align:"center",position:"center"}},formatPointValue:function(t,e){return x(e,t.value)},render:function(){var t,n,i,o,s,l,c,h=this,d=h.options,u=h.plotArea.options.seriesColors||[],f=u.length,p=d.series[0],g=p.data;if(g)for(i=C(p),s=0;g.length>s;s++)t=y.current.bindPoint(p,s),o=t.valueFields.value,null!==o&&o!==e&&(n=t.fields,a(p.color)||(p.color=n.color||u[s%f]),n=r({index:s,owner:h,series:p,category:n.category,dataItem:g[s],percentage:Math.abs(o)/i,visibleInLegend:n.visibleInLegend,visible:n.visible},n),l=h.createSegment(o,n),c=h.createLabel(o,n),l&&c&&l.append(c))},evalSegmentOptions:function(t,e,n){var i=n.series;b(t,{value:e,series:i,dataItem:n.dataItem,index:n.index},{defaults:i._defaults,excluded:["data"]})},createSegment:function(t,i){var a,s,l=this;return l.createLegendItem(t,i),i.visible!==!1?(s=r({},i.series),l.evalSegmentOptions(s,t,i),a=new n(t,s,i),o(a,i),l.append(a),l.points.push(a),a):e},createLabel:function(t,n){var i,o,a,l=this,c=n.series,h=n.dataItem,u=r({},l.options.labels,c.labels),f=t;return u.visible?(u.template?(o=s(u.template),f=o({dataItem:h,value:t,percentage:n.percentage,category:n.category,series:c})):u.format&&(f=x(u.format,f)),u.color||"center"!==u.align||(a=new d(c.color).percBrightness(),u.color=a>180?M:E),l.evalSegmentOptions(u,t,n),i=new _(f,r({vAlign:u.position,id:S()},u)),l.labels.push(i),i):e},labelPadding:function(){var t,e,n,i,r=this.labels,o={left:0,right:0};for(i=0;r.length>i;i++)t=r[i],e=t.options.align,"center"!==e&&(n=r[i].box.width(),"left"===e?o.left=Math.max(o.left,n):o.right=Math.max(o.right,n));return o},reflow:function(e){var n,i,r,o,a,s,l,h,d,u,f,p,g=this,m=g.options,v=g.points,y=v.length,_=1>=m.neckRatio,w=e.clone().unpad(g.labelPadding()),x=w.width(),b=0,C=_?0:(x-x/m.neckRatio)/2,S=m.segmentSpacing,T=m.dynamicSlope,D=w.height()-S*(y-1),A=_?m.neckRatio*x:x;if(y){if(T)for(l=v[0],h=l,t.each(v,function(t,e){e.percentage>h.percentage&&(h=e)}),r=l.percentage/h.percentage*x,C=(x-r)/2,n=0;y>n;n++)a=v[n].percentage,d=v[n+1],u=d?d.percentage:a,o=v[n].points=[],i=m.dynamicHeight?D*a:D/y,s=(x-r*(u/a))/2,s=k(s,0,x),o.push(new c.Point(w.x1+C,w.y1+b)),o.push(new c.Point(w.x1+x-C,w.y1+b)),o.push(new c.Point(w.x1+x-s,w.y1+i+b)),o.push(new c.Point(w.x1+s,w.y1+i+b)),C=s,b+=i+S,r*=u/a,r=k(r,0,x);else for(f=_?x:x-2*C,p=(f-A)/2,n=0;y>n;n++)o=v[n].points=[],a=v[n].percentage,s=m.dynamicHeight?p*a:p/y,i=m.dynamicHeight?D*a:D/y,o.push(new c.Point(w.x1+C,w.y1+b)),o.push(new c.Point(w.x1+x-C,w.y1+b)),o.push(new c.Point(w.x1+x-C-s,w.y1+i+b)),o.push(new c.Point(w.x1+C+s,w.y1+i+b)),C+=s,b+=i+S;for(n=0;y>n;n++)v[n].reflow(e)}}});r(L.fn,f),n=u.extend({init:function(t,e,n){var i=this;u.fn.init.call(i,e),i.value=t,i.id=S(),i.options.index=n.index,i.enableDiscovery()
},options:{color:E,border:{width:1}},reflow:function(t){var e=this,n=e.points,i=e.children[0];e.box=new v(n[0].x,n[0].y,n[1].x,n[2].y),i&&i.reflow(new v(t.x1,n[0].y,t.x2,n[2].y))},createVisual:function(){var t,e,n;u.fn.createVisual.call(this),t=this.options,e=t.border,n=l.Path.fromPoints(this.points,{fill:{color:t.color,opacity:t.opacity},stroke:{color:e.color,opacity:e.opacity,width:e.width}}).close(),this.visual.append(n)},createHighlight:function(t){return l.Path.fromPoints(this.points,t)},highlightOverlay:function(t,e){var n,i,r,a=this.options,s=a.highlight||{};if(s.visible!==!1)return n=s.border||{},i=o({},e,{fill:s.color,stroke:n.color,strokeOpacity:n.opacity,strokeWidth:n.width,fillOpacity:s.opacity,data:{modelId:this.modelId}}),r=t.createPolyline(this.points,!0,i)},tooltipAnchor:function(t){var e=this.box;return new m(e.center().x-t/2,e.y1)},formatValue:function(t){var e=this;return e.owner.formatPointValue(e,t)}}),r(n.fn,h.PointEventsMixin),g.current.register(I,[A]),y.current.register([A],[P],[T,D,"visibleInLegend","visible"]),r(h,{FunnelChart:L})}(window.kendo.jQuery),function(t,e){function n(t,e,n){var i=E(t.from)?t.from:G,r=E(t.to)?t.to:j;return t.from=h.max(h.min(r,i),e),t.to=h.min(h.max(r,i),n),t}function i(t,e,n){var i,r,o=e.tickX,a=e.tickY,s=e.position;return e.vertical?(i=L(o,s),r=L(o+n.size,s)):(i=L(s,a),r=L(s,a+n.size)),t.createLine(i.x,i.y,r.x,r.y,{strokeWidth:n.width,stroke:n.color,align:e._alignLines})}function r(t,e){return t>=e.min&&e.max>=t}var o,a,s,l,c,h=Math,d=t.map,u=window.kendo,f=u.ui.Widget,p=u.deepExtend,g=u.dataviz,m=g.Axis,v=g.Box2D,y=g.ChartElement,_=g.NumericAxis,w=g.Pin,x=g.Ring,b=g.RootElement,k=g.RotationAnimation,C=g.BarIndicatorAnimatin,S=g.ArrowAnimation,T=g.append,D=g.animationDecorator,A=g.autoMajorUnit,P=g.getElement,M=g.getSpacing,E=g.defined,I=g.rotatePoint,L=g.Point2D,B=g.round,z=g.valueOrDefault,F=g.uniqueId,R=150,O="arrow",N="arrowPointer",V="barIndicator",H="#000",U=.05,W=g.COORD_PRECISION,j=Number.MAX_VALUE,G=-Number.MAX_VALUE,q=200,$=.5,Y=200,X=60,Q=60,K=h.PI/180,Z="inside",J="needle",te="outside",ee="radialPointer",ne=90,ie=y.extend({init:function(t,e){var n=this,i=t.options;y.fn.init.call(n,e),e=n.options,e.id||(e.id=F()),e.fill=e.color,n.scale=t,e.value=E(e.value)?h.min(h.max(e.value,i.min),i.max):i.min},options:{color:H},value:function(t){var n=this,i=n.options,r=i.value,o=n.scale.options;return 0===arguments.length?r:(i._oldValue=i.value,i.value=h.min(h.max(t,o.min),o.max),n.repaint(),e)}}),re=ie.extend({options:{shape:J,cap:{size:U},arrow:{width:16,height:14},animation:{type:ee,speed:R}},reflow:function(){var t=this,e=t.options,n=t.scale,i=n.ring,r=i.c,o=i.r*e.cap.size;t.box=new v(r.x-o,r.y-o,r.x+o,r.y+o)},repaint:function(){var t=this,e=t.scale,n=t.options,i=t.elements[0],r=n.animation,o=e.slotAngle(e.options.min),a=e.slotAngle(n._oldValue)-o,s=i._animation;i.options.rotation[0]=e.slotAngle(n.value)-o,s&&s.abort(),r.transitions===!1?i.refresh(P(n.id)):(s=i._animation=new k(i,p(r,{startAngle:a,reverse:e.options.reverse})),s.setup(),s.play())},_renderNeedle:function(t,e,n,i){var r=this,o=r.options,a=r.scale,s=a.ring.r*o.cap.size;return[t.createPolyline([I((e.x1+e.x2)/2,e.y1+a.options.minorTicks.size,n.x,n.y,i),I(n.x-s/2,n.y,n.x,n.y,i),I(n.x+s/2,n.y,n.x,n.y,i)],!0,o),t.createCircle(n,s,{fill:o.cap.color||o.color})]},_renderArrow:function(t,e,n,i){var r=this,o=r.options,a=r.scale,s=a.ring.clone(),l=5,c=o.arrow,h=c.height;return s.ir=s.r-l,[t.createPin(new w({origin:I((e.x1+e.x2)/2,e.y1+h,n.x,n.y,i),height:c.height,radius:l,rotation:i,arcAngle:180}),o),t.createRing(s,{fill:o.color})]},renderPointer:function(t){var e,n=this,i=n.scale,r=i.ring,o=r.c,a=r.r,s=n.options,l=new v(o.x-a,o.y-a,o.x+a,o.y+a),c=l.center(),h=i.slotAngle(i.options.min),d=ne-h;return s.animation!==!1&&p(s.animation,{startAngle:0,center:c,reverse:i.options.reverse}),p(s,{rotation:[i.slotAngle(s.value)-h,c.x,c.y]}),e=s.shape==O?n._renderArrow(t,l,c,d):n._renderNeedle(t,l,c,d)},getViewElements:function(t){var e=this,n=e.renderPointer(t);return e.elements=n,n}}),oe=_.extend({init:function(t){var e=this;e.options=p({},e.options,t),e.options.majorUnit=e.options.majorUnit||A(e.options.min,e.options.max),m.fn.init.call(e,e.options),e.options.minorUnit=e.options.minorUnit||e.options.majorUnit/10},options:{min:0,max:100,majorTicks:{size:15,align:Z,color:H,width:$,visible:!0},minorTicks:{size:10,align:Z,color:H,width:$,visible:!0},startAngle:-30,endAngle:210,labels:{position:Z,padding:2}},reflow:function(t){var e=this,n=e.options,i=t.center(),r=h.min(t.height(),t.width())/2,o=e.ring||new g.Ring(i,r-n.majorTicks.size,r,n.startAngle,n.endAngle-n.startAngle);e.ring=o,e.box=o.getBBox(),e.arrangeLabels()},slotAngle:function(t){var e,n=this.options,i=n.startAngle,r=n.reverse,o=n.endAngle-i,a=n.min,s=n.max;return e=r?n.endAngle-(t-a)/(s-a)*o:(t-a)/(s-a)*o+i},renderTicks:function(t){function e(e,r,o,a,s){var l,c,h,d=n.tickAngles(e,r),u=s/r,f=d.length;if(a)for(l=0;f>l;l++)l%u!==0&&(h=e.point(d[l]),c=e.point(d[l],!0),i.push(t.createLine(c.x,c.y,h.x,h.y,{align:!1,stroke:o.color,strokeWidth:o.width})))}var n=this,i=[],r=n.ring,o=r.clone(),a=n.options,s=a.minorTicks.size;return e(r,a.majorUnit,a.majorTicks,a.majorTicks.visible),a.labels.position==Z?o.radius(o.r-s,!0):o.radius(o.ir+s),e(o,a.minorUnit,a.minorTicks,a.minorTicks.visible,a.majorUnit),i},arrangeLabels:function(){var t,n,i,r,o,a,s,l,c,d,u=this,f=u.options,p=u.ring.clone(),g=u.tickAngles(p,f.majorUnit),m=u.labels,y=m.length,_=f.labels,w=_.padding,x=.05*p.r,b=f.rangeSize=f.rangeSize||.1*p.r,k=f.ranges||[];for(e!==u.options.rangeDistance?x=u.options.rangeDistance:u.options.rangeDistance=x,_.position===Z&&k.length&&(p.r-=b+x,p.ir-=b+x),s=0;y>s;s++)o=m[s],t=o.box.width()/2,n=o.box.height()/2,r=g[s],i=r*K,d=_.position===Z,a=p.point(r,d),l=a.x+h.cos(i)*(t+w)*(d?1:-1),c=a.y+h.sin(i)*(n+w)*(d?1:-1),o.reflow(new v(l-t,c-n,l+t,c+n)),u.box.wrap(o.box)},tickAngles:function(t,e){var n,i=this,r=i.options,o=r.reverse,a=r.max-r.min,s=t.angle,l=t.startAngle,c=a/e,h=s/c,d=[];for(o&&(l+=s,h=-h),n=0;c>n;n++)d.push(B(l,W)),l+=h;return B(l)<=r.endAngle&&d.push(l),d},renderRanges:function(t){var e,n,i,r,o,a=this,s=[],l=a.rangeSegments(),c=l.length,h=a.options.reverse;if(c)for(r=a.getRadius(),o=0;c>o;o++)i=l[o],e=a.slotAngle(i[h?"to":"from"]),n=a.slotAngle(i[h?"from":"to"]),n-e!==0&&s.push(t.createRing(new x(a.ring.c,r.inner,r.outer,e,n-e),{fill:i.color,fillOpacity:i.opacity,zIndex:-1}));return s},rangeSegments:function(){function t(t,e,n,i){return{from:t,to:e,color:n,opacity:i}}var e,i,r,o,a,s=this,l=s.options,c=l.ranges||[],h=c.length,d=l.rangePlaceholderColor,u=[],f=l.min,p=l.max;if(h)for(u.push(t(f,p,d)),o=0;h>o;o++)for(e=n(c[o],f,p),i=u.length,a=0;i>a;a++)if(r=u[a],e.from>=r.from&&r.to>=e.from){u.push(t(e.from,e.to,e.color,e.opacity)),e.to>=r.from&&r.to>=e.to&&u.push(t(e.to,r.to,d,e.opacity)),r.to=e.from;break}return u},getRadius:function(){var t,e,n=this,i=n.options,r=i.rangeSize,o=i.rangeDistance,a=n.ring;return i.labels.position===te?(e=a.ir-o,t=e-r):(e=a.r,t=e-r,a.r-=r+o,a.ir-=r+o),{inner:t,outer:e}},getViewElements:function(t){var e=this,n=y.fn.getViewElements.call(e,t);return T(n,e.renderRanges(t)),T(n,e.renderTicks(t)),n}}),ae=y.extend({init:function(t){y.fn.init.call(this,t),this.render()},options:{margin:{},background:"",border:{color:H,width:0},minorTicks:{align:Z}},reflow:function(t){var e,n=this,i=n.scale,r=n.pointer;i.reflow(t),e=i.box.clone(),r.scale=i,r.reflow(),e.wrap(r.box),n.box=e,n.fitScale(t),n.alignScale(t)},alignScale:function(t){var e=this,n=e.box.center(),i=t.center(),r=n.x-i.x,o=n.y-i.y,a=e.scale,s=e.pointer;a.ring.c.x-=r,a.ring.c.y-=o,a.reflow(t),s.reflow(),e.box=a.box.clone().wrap(s.box)},fitScale:function(t){for(var e,n,i,r,o=this,a=o.scale,s=a.ring,l=o.box,c=h.abs(o.getDiff(l,t)),d=B(c,W),u=B(-c,W),f=0;!(!(100>f)||(f++,d!=r&&(e=o.getPlotBox(d,t,s),e>=0&&2>=e))||u!=r&&(i=o.getPlotBox(u,t,s),i>=0&&2>=i)||(r=e>0&&i>0?2*d:0>e&&0>i?2*u:B((d+u)/2||1,W),n=o.getPlotBox(r,t,s),n>=0&&2>=n));)n>0?(u=r,i=n):(d=r,e=n)},getPlotBox:function(t,e,n){var i=this,r=i.scale,o=i.pointer;return n=n.clone(),n.r+=t,n.ir+=t,r.ring=n,r.reflow(e),o.scale=r,o.reflow(),i.box=r.box.clone().wrap(o.box),i.getDiff(i.box,e)},getDiff:function(t,e){return h.min(e.width()-t.width(),e.height()-t.height())},render:function(){var t,e=this,n=e.options;t=e.scale=new oe(n.scale),e.append(e.scale),e.pointer=new re(t,p({},n.pointer,{animation:{transitions:n.transitions}})),e.append(e.pointer)}}),se=_.extend({init:function(t){var e=this;e.options=p({},e.options,t),e.options=p({},e.options,{labels:{mirror:e.options.mirror}}),e.options.majorUnit=e.options.majorUnit||A(e.options.min,e.options.max),m.fn.init.call(e,e.options),e.options.minorUnit=e.options.minorUnit||e.options.majorUnit/10},options:{min:0,max:50,majorTicks:{size:15,align:Z,color:H,width:$,visible:!0},minorTicks:{size:10,align:Z,color:H,width:$,visible:!0},line:{width:$},labels:{position:Z,padding:2},mirror:!1,_alignLines:!1},renderRanges:function(t){var e,i,r,o,a,s=this,l=s.options,c=l.min,h=l.max,d=l.ranges||[],u=l.vertical,f=l.labels.mirror,p=[],g=d.length,m=l.rangeSize||l.minorTicks.size/2;if(g)for(o=0;g>o;o++)e=n(d[o],c,h),a=s.getSlot(e.from,e.to),i=u?s.lineBox():a,r=u?a:s.lineBox(),u?i.x1-=m*(f?-1:1):r.y2+=m*(f?-1:1),p.push(t.createRect(new v(i.x1,r.y1,i.x2,r.y2),{fill:e.color,fillOpacity:e.opacity}));return p},renderTicks:function(t){function e(e,n){var o,l=e.length;if(n.visible)for(o=n.skip;l>o;o+=n.step)o%n.skipUnit!==0&&(c.tickX=s?a.x2:a.x2-n.size,c.tickY=s?a.y1-n.size:a.y1,c.position=e[o],r.push(i(t,c,n)))}var n=this,r=[],o=n.options,a=n.lineBox(),s=o.labels.mirror,l=o.majorTicks.visible?o.majorUnit:0,c={_alignLines:o._alignLines,vertical:o.vertical};return e(n.getMajorTickPositions(),o.majorTicks),e(n.getMinorTickPositions(),p({},{skipUnit:l/o.minorUnit},o.minorTicks)),r},renderLine:function(t){var e,n=this,i=n.options,r=i.line,o=n.lineBox(),a=[];return r.width>0&&r.visible&&(e={strokeWidth:r.width,stroke:r.color,dashType:r.dashType,zIndex:r.zIndex,align:i._alignLines},a.push(t.createLine(o.x1,o.y1,o.x2,o.y2,e)),T(a,n.renderTicks(t))),a},renderPlotBands:function(t){var e,n,i,o,a,s=this,l=s.options,c=l.plotBands||[],h=l.vertical,u=[],f=s.plotArea;return c.length&&(a=this.range(),u=d(c,function(l){i=z(l.from,G),o=z(l.to,j);var c=[];return(r(i,a)||r(o,a))&&(h?(e=f.axisX.lineBox(),n=s.getSlot(l.from,l.to,!0)):(e=s.getSlot(l.from,l.to,!0),n=f.axisY.lineBox()),c=t.createRect(v(e.x1,n.y1,e.x2,n.y2),{fill:l.color,fillOpacity:l.opacity,zIndex:-1})),c})),u},renderBackground:function(t){var e=this,n=e.options,i=n.background,r=e.box,o=[];return i&&o.push(t.createRect(r,{fill:i,zIndex:-1})),o},getViewElements:function(t){var e=this,n=y.fn.getViewElements.call(e,t);return T(n,e.renderLine(t)),T(n,e.renderPlotBands(t)),T(n,e.renderBackground(t)),T(n,e.renderRanges(t)),n}}),le={svg:function(){if(g.SVGView){var t=this._getModel(),e=new g.SVGView(p({encodeText:!0},t.options));return e.load(t),e.render()}throw Error("Unable to create SVGView. Check that kendo.dataviz.svg.js is loaded.")},imageDataURL:function(){if(g.CanvasView){if(g.supportsCanvas()){var t=this._getModel(),e=document.createElement("div"),n=new g.CanvasView(t.options);return n.load(t),n.renderTo(e).toDataURL()}return u.logToConsole("Warning: Unable to generate image. The browser does not support Canvas.\nUser agent: "+navigator.userAgent),null}throw Error("Unable to create CanvasView. Check that kendo.dataviz.canvas.js is loaded.")}},ce=ie.extend({init:function(t,e){var n=this;ie.fn.init.call(n,t,e),n.options=p({size:n.pointerSize(),track:{visible:E(e.track)}},n.options)},options:{shape:V,track:{border:{width:1}},color:H,border:{width:1},opacity:1,margin:M(3),animation:{type:V},visible:!0},repaint:function(){var t=this,e=t.scale,n=t.options,i=t.element,r=i._animation;r&&r.abort(),n.animation.transitions===!1?(t.getViewElements(t._view),i.points=t.element.points,i.refresh(P(n.id))):(n.animation=p({},n.animation,{endPosition:e.getSlot(e.options.min,n.value),reverse:e.options.reverse}),r=i._animation=n.shape===O?new S(i,n.animation):new C(i,n.animation),r.setup(),r.play())},reflow:function(){var t,e,n,i=this,r=i.options,o=i.scale,a=o.lineBox(),s=r.track.size||r.size,l=r.size/2,c=o.options.mirror,h=M(r.margin),d=o.options.vertical,u=d?h[c?"left":"right"]:h[c?"bottom":"top"];u=c?-u:u,d?(n=new v(a.x1+u,a.y1,a.x1+u,a.y2),c?n.x1-=s:n.x2+=s,r.shape!==V&&(e=new v(a.x2+u,a.y1-l,a.x2+u,a.y2+l),t=e)):(n=new v(a.x1,a.y1-u,a.x2,a.y1-u),c?n.y2+=s:n.y1-=s,r.shape!==V&&(e=new v(a.x1-l,a.y1-u,a.x2+l,a.y1-u),t=e)),i.trackBox=n,i.pointerRangeBox=e,i.box=t||n.clone().pad(r.border.width)},renderPointer:function(t){var e,n=this,i=n.scale,r=n.options,o=E(r.border)?{stroke:r.border.width?r.border.color||r.color:"",strokeWidth:r.border.width,dashType:r.border.dashType}:{},a=p({fill:r.color,fillOpacity:r.opacity,animation:p(r.animation,{startPosition:i.getSlot(i.options.min,r.value),size:r.size,vertical:i.options.vertical,reverse:i.options.reverse}),id:r.id,zIndex:2,align:!1},o),s=n.pointerShape(r.value);return r.shape===O?(a.animation.type=N,e=t.createPolyline(s,!0,a)):e=t.createRect(s,a),e},pointerShape:function(t){var e,n,i,r=this,o=r.options,a=r.scale,s=a.getSlot(t,a.options.min),l=o.size,c=r.pointerRangeBox,h=a.options.vertical,d=l/2,u=a.options.mirror?-1:1,f=a.options.reverse;return o.shape==O?h?(n=f?"y2":"y1",e=[new L(c.x1,s[n]-d),new L(c.x1-u*l,s[n]),new L(c.x1,s[n]+d)]):(n=f?"x1":"x2",e=[new L(s[n]-d,c.y2),new L(s[n],c.y2+u*l),new L(s[n]+d,c.y2)]):(i=r.trackBox,e=h?new v(i.x1,s.y1,i.x1+l,s.y2):new v(s.x1,i.y1,s.x2,i.y1+l)),e},pointerSize:function(){var t,e=this,n=e.options,i=e.scale,r=i.options.majorTicks.size;return t=n.shape===O?.6*r:.3*r,B(t)},renderTrack:function(t){var e=this,n=e.options,i=n.track,r=i.border||{},o=e.trackBox.clone().pad(r.width||0);return t.createRect(o,{fill:i.color,fillOpacity:i.opacity,stroke:r.width?r.color||i.color:"",strokeWidth:r.width,dashType:r.dashType,align:!1})},getViewElements:function(t){var e=this,n=e.options,i=[];return e.element=e.renderPointer(t),i.push(e.element),!n.track.visible||n.shape!==V&&""!==n.shape||i.push(e.renderTrack(t)),e._view=t,T(i,ie.fn.getViewElements.call(e,t)),i}}),he=y.extend({init:function(t){y.fn.init.call(this,t),this.render()},options:{plotArea:{margin:{},background:"",border:{color:H,width:0}},pointer:{},scale:{}},reflow:function(t){var e=this,n=e.scale,i=e.pointer;n.reflow(t),i.reflow(t),e.box=e.getBox(t),e.alignElements(),e.shrinkElements()},shrinkElements:function(){var t=this,e=t.scale,n=t.pointer,i=e.box.clone(),r=n.box,o=e.options.vertical?"y":"x";i[o+1]+=h.max(i[o+1]-r[o+1],0),i[o+2]-=h.max(r[o+2]-i[o+2],0),e.reflow(i),n.reflow(t.box)},getBox:function(t){var e,n=this,i=n.scale,r=n.pointer,o=t.center(),a=r.box.clone().wrap(i.box);return i.options.vertical?(e=a.width()/2,a=new v(o.x-e,t.y1,o.x+e,t.y2)):(e=a.height()/2,a=new v(t.x1,o.y-e,t.x2,o.y+e)),a},alignElements:function(){var t,e=this,n=e.scale,i=e.pointer,r=n.box,o=i.box.clone().wrap(n.box),a=e.box;n.options.vertical?(t=a.center().x-o.center().x,n.reflow(new v(r.x1+t,a.y1,r.x2+t,a.y2))):(t=a.center().y-o.center().y,n.reflow(new v(a.x1,r.y1+t,a.x2,r.y2+t))),i.reflow(e.box)},render:function(){var t,e=this,n=e.options;t=e.scale=new se(n.scale),e.append(e.scale),e.pointer=new ce(t,p({},n.pointer,{animation:{transitions:n.transitions}})),e.append(e.pointer)},getViewElements:function(t){var e=this,n=e.options.plotArea,i=y.fn.getViewElements.call(e,t),r=n.border||{},o=[t.createRect(e.box,{fill:n.background,stroke:r.width?r.color:"",strokeWidth:r.width,dashType:r.dashType})];return T(o,i),o}}),de=f.extend({init:function(t,e){var n,i,r,o,a=this,s=g.ui.themes||{};f.fn.init.call(a,t),a.wrapper=a.element,a._originalOptions=p({},e),n=p({},a.options,e),r=n.theme,o=s[r]||s[r.toLowerCase()],i=r&&o?o.gauge:{},a.options=p({},i,n),a.element.addClass("k-gauge"),a.redraw()},options:{plotArea:{},theme:"default",renderAs:"",pointer:{},scale:{},gaugeArea:{}},value:function(t){var n=this,i=n._pointers[0];return 0===arguments.length?i.value():(n.options.pointer.value=t,n._view.renderElement?i.value(t):n.redraw(),e)},redraw:function(){var t,e=this,n=e.element,i=e._model=e._getModel();e._plotArea=i._plotArea,t=e._view=g.ViewFactory.current.create(i.options,e.options.renderAs),t&&(t.load(i),e._viewElement=t.renderTo(n[0]))},getSize:function(){return this._getSize()},_resize:function(){var t=this.options.transitions;this.options.transitions=!1,this.redraw(),this.options.transitions=t},_createModel:function(){var t=this,e=t.options,n=t._getSize();return new b(p({width:n.width,height:n.height,transitions:e.transitions},e.gaugeArea))},_getSize:function(){var t=this,e=t.element,n=e.width(),i=e.height();return n||(n=Y),i||(i=q),{width:n,height:i}}});p(de.fn,le),o=de.extend({init:function(t,e){var n=this;de.fn.init.call(n,t,e),u.notify(n,g.ui)},options:{name:"RadialGauge",transitions:!0,gaugeArea:{background:""}},_getModel:function(){var t,e=this,n=e.options,i=e._createModel();return t=i._plotArea=new ae(n),e._pointers=[t.pointer],i.append(t),i.reflow(),i}}),a=de.extend({init:function(t,e){var n=this;de.fn.init.call(n,t,e),u.notify(n,g.ui)},options:{name:"LinearGauge",transitions:!0,gaugeArea:{background:""},scale:{vertical:!0}},_getModel:function(){var t,e=this,n=e.options,i=e._createModel();return t=i._plotArea=new he(n),e._pointers=[t.pointer],i.append(t),i.reflow(),i},_getSize:function(){var t=this,e=t.element,n=e.width(),i=e.height(),r=t.options.scale.vertical;return n||(n=r?X:Y),i||(i=r?q:Q),{width:n,height:i}}}),s=D(ee,k),l=D(N,S),c=D(V,C),g.ui.plugin(o),g.ui.plugin(a),p(g,{Gauge:de,RadialGaugePlotArea:ae,LinearGaugePlotArea:he,RadialPointer:re,LinearPointer:ce,LinearScale:se,RadialScale:oe,RadialPointerAnimationDecorator:s,ArrowPointerAnimationDecorator:l,BarIndicatorAnimationDecorator:c})}(window.kendo.jQuery),function(t,e){function n(t,e,n){return t.substring(e,e+n)}var i,r,o,a,s,l,c=window.kendo,h=c.ui.Widget,d=t.extend,u=c.deepExtend,f=t.inArray,p=t.isPlainObject,g=c.drawing,m=c.geometry,v=c.util,y=v.defined,_=c.dataviz,w=_.Box2D,x=_.TextBox,b=300,k=100,C=10,S=/^\d+$/,T=/^[a-z0-9]+$/i,D="Character '{0}' is not valid for symbology {1}",A=c.Class.extend({init:function(t){this.setOptions(t)},setOptions:function(t){var e=this;e.options=d({},e.options,t),e.quietZoneLength=e.options.addQuietZone?2*e.options.quietZoneLength:0},encode:function(t,e,n){var i=this;return y(t)&&(t+=""),i.initValue(t,e,n),i.options.addQuietZone&&i.addQuietZone(),i.addData(),i.options.addQuietZone&&i.addQuietZone(),{baseUnit:i.baseUnit,pattern:i.pattern}},options:{quietZoneLength:C,addQuietZone:!0,addCheckSum:!0},initValue:function(){},addQuietZone:function(){this.pattern.push(this.options.quietZoneLength||C)},addData:function(){},invalidCharacterError:function(t){throw Error(c.format(D,t,this.name))}}),P={},M=A.extend({minBaseUnitLength:.7,addData:function(){var t,e=this,n=e.value;for(e.addStart(),t=0;n.length>t;t++)e.addCharacter(n.charAt(t));e.options.addCheckSum&&e.pushCheckSum(),e.addStop(),e.prepareValues()},addCharacter:function(t){var e=this,n=e.characterMap[t];n||e.invalidCharacterError(t),e.addBase(n)},addBase:function(){}}),E={addCharacter:function(t){var e=this;e.characterMap[t]?e.addBase(e.characterMap[t]):t.charCodeAt(0)>127?e.invalidCharacterError(t):e.addExtended(t.charCodeAt(0))},addExtended:function(t){var n,i,r,o=this;for(i=0;o.extendedMappings.length>i;i++)if(n=o.extendedMappings[i].call(o,t)){for(r=0;n.length>r;r++)o.addBase(n[r]);return o.dataLength+=n.length-1,e}},extendedMappings:[function(t){if(t>=97&&122>=t){var e=this;return[e.characterMap[e.shiftCharacters[0]],e.characterMap[String.fromCharCode(t-32)]]}},function(t){if(t>=33&&58>=t){var e=this;return[e.characterMap[e.shiftCharacters[1]],e.characterMap[String.fromCharCode(t+32)]]}},function(t){if(t>=1&&26>=t){var e=this;return[e.characterMap[e.shiftCharacters[2]],e.characterMap[String.fromCharCode(t+64)]]}},function(t){var e,n,i,r=this;if(r.specialAsciiCodes[t])for(e=[],i=0;r.specialAsciiCodes[t].length>i;i++)e.push(r.characterMap[r.shiftCharacters[3]]),e.push(r.characterMap[r.specialAsciiCodes[t][i]]);else n=6*Math.floor(t/32)+(t-27)%32+64,e=[r.characterMap[r.shiftCharacters[3]],r.characterMap[String.fromCharCode(n)]];return e}],specialAsciiCodes:{0:["U"],64:["V"],96:["W"],127:["T","X","Y","Z"]},shiftValuesAsciiCodes:{39:36,40:47,41:43,42:37},characterMap:{"+":!1,"/":!1,$:!1,"%":!1},shiftCharacters:["SHIFT0","SHIFT1","SHIFT2","SHIFT3"]};P.code39=M.extend({name:"Code 39",checkSumMod:43,minRatio:2.5,maxRatio:3,gapWidth:1,splitCharacter:"|",initValue:function(t,e,n){var i=this;i.width=e,i.height=n,i.value=t,i.dataLength=t.length,i.pattern=[],i.patternString=""},prepareValues:function(){var t,e,n=this,i=n.minBaseUnitLength,r=n.maxRatio,o=n.minRatio,a=Math.max(.15*n.width,24);if(a>n.height)throw Error("Insufficient Height. The minimum height for value: "+n.value+" is: "+a);for(;(t=n.getBaseUnit(r))<i&&r>o;)r=parseFloat((r-.1).toFixed(1));if(i>t)throw e=Math.ceil(n.getBaseWidth(o)*i),Error("Insufficient width. The minimum width for value: "+n.value+" is: "+e);n.ratio=r,n.baseUnit=t,n.patternString=n.patternString.substring(0,n.patternString.length-1),n.pattern=n.pattern.concat(n.patternString.replace(/ratio/g,r).split(n.splitCharacter))},getBaseUnit:function(t){return this.width/this.getBaseWidth(t)},getBaseWidth:function(t){var e=this,n=3*(t+2);return e.quietZoneLength+n*(e.dataLength+2)+e.gapWidth*(e.dataLength+1)},addStart:function(){var t=this;t.addPattern(t.characterMap.START.pattern),t.addCharacterGap()},addBase:function(t){this.addPattern(t.pattern),this.addCharacterGap()},addStop:function(){this.addPattern(this.characterMap.START.pattern)},addPattern:function(t){for(var e=0;t.length>e;e++)this.patternString+=this.patternMappings[t.charAt(e)]},addCharacterGap:function(){var t=this;t.patternString+=t.gapWidth+t.splitCharacter},patternMappings:{b:"1|",w:"1|",B:"ratio|",W:"ratio|"},characterMap:{0:{pattern:"bwbWBwBwb",value:0},1:{pattern:"BwbWbwbwB",value:1},2:{pattern:"bwBWbwbwB",value:2},3:{pattern:"BwBWbwbwb",value:3},4:{pattern:"bwbWBwbwB",value:4},5:{pattern:"BwbWBwbwb",value:5},6:{pattern:"bwBWBwbwb",value:6},7:{pattern:"bwbWbwBwB",value:7},8:{pattern:"BwbWbwBwb",value:8},9:{pattern:"bwBWbwBwb",value:9},A:{pattern:"BwbwbWbwB",value:10},B:{pattern:"bwBwbWbwB",value:11},C:{pattern:"BwBwbWbwb",value:12},D:{pattern:"bwbwBWbwB",value:13},E:{pattern:"BwbwBWbwb",value:14},F:{pattern:"bwBwBWbwb",value:15},G:{pattern:"bwbwbWBwB",value:16},H:{pattern:"BwbwbWBwb",value:17},I:{pattern:"bwBwbWBwb",value:18},J:{pattern:"bwbwBWBwb",value:19},K:{pattern:"BwbwbwbWB",value:20},L:{pattern:"bwBwbwbWB",value:21},M:{pattern:"BwBwbwbWb",value:22},N:{pattern:"bwbwBwbWB",value:23},O:{pattern:"BwbwBwbWb",value:24},P:{pattern:"bwBwBwbWb",value:25},Q:{pattern:"bwbwbwBWB",value:26},R:{pattern:"BwbwbwBWb",value:27},S:{pattern:"bwBwbwBWb",value:28},T:{pattern:"bwbwBwBWb",value:29},U:{pattern:"BWbwbwbwB",value:30},V:{pattern:"bWBwbwbwB",value:31},W:{pattern:"BWBwbwbwb",value:32},X:{pattern:"bWbwBwbwB",value:33},Y:{pattern:"BWbwBwbwb",value:34},Z:{pattern:"bWBwBwbwb",value:35},"-":{pattern:"bWbwbwBwB",value:36},".":{pattern:"BWbwbwBwb",value:37}," ":{pattern:"bWBwbwBwb",value:38},$:{pattern:"bWbWbWbwb",value:39},"/":{pattern:"bWbWbwbWb",value:40},"+":{pattern:"bWbwbWbWb",value:41},"%":{pattern:"bwbWbWbWb",value:42},START:{pattern:"bWbwBwBwb"}},options:{addCheckSum:!1}}),P.code39extended=P.code39.extend(u({},E,{name:"Code 39 extended",characterMap:{SHIFT0:{pattern:"bWbwbWbWb",value:41},SHIFT1:{pattern:"bWbWbwbWb",value:40},SHIFT2:{pattern:"bWbWbWbwb",value:39},SHIFT3:{pattern:"bwbWbWbWb",value:42}}})),P.code93=M.extend({name:"Code 93",cCheckSumTotal:20,kCheckSumTotal:15,checkSumMod:47,initValue:function(t,e,n){var i=this;i.value=t,i.width=e,i.height=n,i.pattern=[],i.values=[],i.dataLength=t.length},prepareValues:function(){var t=this,e=Math.max(.15*t.width,24);if(e>t.height)throw Error("Insufficient Height");if(t.setBaseUnit(),t.minBaseUnitLength>t.baseUnit)throw Error("Insufficient Width")},setBaseUnit:function(){var t=this,e=2;t.baseUnit=t.width/(9*(t.dataLength+2+e)+t.quietZoneLength+1)},addStart:function(){var t=this.characterMap.START.pattern;this.addPattern(t)},addStop:function(){var t=this;t.addStart(),t.pattern.push(t.characterMap.TERMINATION_BAR)},addBase:function(t){this.addPattern(t.pattern),this.values.push(t.value)},pushCheckSum:function(){var t,e,n=this,i=n._getCheckValues();for(n.checksum=i.join(""),e=0;i.length>e;e++)t=n.characterMap[n._findCharacterByValue(i[e])],n.addPattern(t.pattern)},_getCheckValues:function(){var t,e,n,i=this,r=i.values,o=r.length,a=0;for(n=o-1;n>=0;n--)a+=i.weightedValue(r[n],o-n,i.cCheckSumTotal);for(t=a%i.checkSumMod,a=i.weightedValue(t,1,i.kCheckSumTotal),n=o-1;n>=0;n--)a+=i.weightedValue(r[n],o-n+1,i.kCheckSumTotal);return e=a%i.checkSumMod,[t,e]},_findCharacterByValue:function(t){for(var e in this.characterMap)if(this.characterMap[e].value===t)return e},weightedValue:function(t,e,n){return(e%n||n)*t},addPattern:function(t){var e,n;for(n=0;t.length>n;n++)e=parseInt(t.charAt(n),10),this.pattern.push(e)},characterMap:{0:{pattern:"131112",value:0},1:{pattern:"111213",value:1},2:{pattern:"111312",value:2},3:{pattern:"111411",value:3},4:{pattern:"121113",value:4},5:{pattern:"121212",value:5},6:{pattern:"121311",value:6},7:{pattern:"111114",value:7},8:{pattern:"131211",value:8},9:{pattern:"141111",value:9},A:{pattern:"211113",value:10},B:{pattern:"211212",value:11},C:{pattern:"211311",value:12},D:{pattern:"221112",value:13},E:{pattern:"221211",value:14},F:{pattern:"231111",value:15},G:{pattern:"112113",value:16},H:{pattern:"112212",value:17},I:{pattern:"112311",value:18},J:{pattern:"122112",value:19},K:{pattern:"132111",value:20},L:{pattern:"111123",value:21},M:{pattern:"111222",value:22},N:{pattern:"111321",value:23},O:{pattern:"121122",value:24},P:{pattern:"131121",value:25},Q:{pattern:"212112",value:26},R:{pattern:"212211",value:27},S:{pattern:"211122",value:28},T:{pattern:"211221",value:29},U:{pattern:"221121",value:30},V:{pattern:"222111",value:31},W:{pattern:"112122",value:32},X:{pattern:"112221",value:33},Y:{pattern:"122121",value:34},Z:{pattern:"123111",value:35},"-":{pattern:"121131",value:36},".":{pattern:"311112",value:37}," ":{pattern:"311211",value:38},$:{pattern:"321111",value:39},"/":{pattern:"112131",value:40},"+":{pattern:"113121",value:41},"%":{pattern:"211131",value:42},SHIFT0:{pattern:"122211",value:46},SHIFT1:{pattern:"311121",value:45},SHIFT2:{pattern:"121221",value:43},SHIFT3:{pattern:"312111",value:44},START:{pattern:"111141"},TERMINATION_BAR:"1"}}),P.code93extended=P.code93.extend(u({},E,{name:"Code 93 extended",pushCheckSum:function(){var t,e,n=this,i=n._getCheckValues();for(n.checksum=i.join(""),e=0;i.length>e;e++)t=i[e],n.shiftValuesAsciiCodes[t]?n.addExtended(n.shiftValuesAsciiCodes[t]):n.addPattern(n.characterMap[n._findCharacterByValue(t)].pattern)}})),i=c.Class.extend({init:function(t){this.encoding=t},addStart:function(){},is:function(){},move:function(){},pushState:function(){}}),r=i.extend({FNC4:"FNC4",init:function(t,e){var n=this;n.encoding=t,n.states=e,n._initMoves(e)},addStart:function(){this.encoding.addPattern(this.START)},is:function(t,e){var n=t.charCodeAt(e);return this.isCode(n)},move:function(t){for(var e=this,n=0;!e._moves[n].call(e,t)&&e._moves.length>n;)n++},pushState:function(t){var e,n,i=this,r=i.states,o=t.value,a=o.length;for(f("C",r)>=0&&(n=o.substr(t.index).match(/\d{4,}/g),n&&(a=o.indexOf(n[0],t.index)));(e=t.value.charCodeAt(t.index))>=0&&i.isCode(e)&&a>t.index;)i.encoding.addPattern(i.getValue(e)),t.index++},_initMoves:function(t){var e=this;e._moves=[],f(e.FNC4,t)>=0&&e._moves.push(e._moveFNC),f(e.shiftKey,t)>=0&&e._moves.push(e._shiftState),e._moves.push(e._moveState)},_moveFNC:function(t){return t.fnc?(t.fnc=!1,t.previousState==this.key):e},_shiftState:function(t){var n=this;return t.previousState==n.shiftKey&&(t.index+1>=t.value.length||n.encoding[n.shiftKey].is(t.value,t.index+1))?(n.encoding.addPattern(n.SHIFT),t.shifted=!0,!0):e},_moveState:function(){return this.encoding.addPattern(this.MOVE),!0},SHIFT:98}),o={},o.A=r.extend({key:"A",shiftKey:"B",isCode:function(t){return t>=0&&96>t},getValue:function(t){return 32>t?t+64:t-32},MOVE:101,START:103}),o.B=r.extend({key:"B",shiftKey:"A",isCode:function(t){return t>=32&&128>t},getValue:function(t){return t-32},MOVE:100,START:104}),o.C=i.extend({key:"C",addStart:function(){this.encoding.addPattern(this.START)},is:function(t,e){var i=n(t,e,4);return(t.length>=e+4||2==t.length)&&S.test(i)},move:function(){this.encoding.addPattern(this.MOVE)},pushState:function(t){for(var e;(e=n(t.value,t.index,2))&&S.test(e)&&2==e.length;)this.encoding.addPattern(parseInt(e,10)),t.index+=2},getValue:function(t){return t},MOVE:99,START:105}),o.FNC4=i.extend({key:"FNC4",dependentStates:["A","B"],init:function(t,e){this.encoding=t,this._initSubStates(e)},addStart:function(t){var e=t.value.charCodeAt(0)-128,n=this._getSubState(e);this.encoding[n].addStart()},is:function(t,e){var n=t.charCodeAt(e);return this.isCode(n)},isCode:function(t){return t>=128&&256>t},pushState:function(t){var e,n=this,i=n._initSubState(t),r=n.encoding,o=i.value.length;if(t.index+=o,3>o)for(;o>i.index;i.index++)e=i.value.charCodeAt(i.index),i.state=n._getSubState(e),i.previousState!=i.state&&(i.previousState=i.state,r[i.state].move(i)),r.addPattern(r[i.state].MOVE),r.addPattern(r[i.state].getValue(e));else i.state!=i.previousState&&r[i.state].move(i),n._pushStart(i),r.pushData(i,n.subStates),t.value.length>t.index&&n._pushStart(i);t.fnc=!0,t.state=i.state},_pushStart:function(t){var e=this;e.encoding.addPattern(e.encoding[t.state].MOVE),e.encoding.addPattern(e.encoding[t.state].MOVE)},_initSubState:function(t){var e=this,n={value:e._getAll(t.value,t.index),index:0};return n.state=e._getSubState(n.value.charCodeAt(0)),n.previousState=t.previousState==e.key?n.state:t.previousState,n},_initSubStates:function(t){var e,n=this;for(n.subStates=[],e=0;t.length>e;e++)f(t[e],n.dependentStates)>=0&&n.subStates.push(t[e])},_getSubState:function(t){var e,n=this;for(e=0;n.subStates.length>e;e++)if(n.encoding[n.subStates[e]].isCode(t))return n.subStates[e]},_getAll:function(t,e){for(var n,i="";(n=t.charCodeAt(e++))&&this.isCode(n);)i+=String.fromCharCode(n-128);return i}}),o.FNC1=i.extend({key:"FNC1",startState:"C",dependentStates:["C","B"],startAI:"(",endAI:")",init:function(t,e){this.encoding=t,this.states=e},addStart:function(){this.encoding[this.startState].addStart()},is:function(){return f(this.key,this.states)>=0},pushState:function(t){var e,n,i,r=this,o=r.encoding,a=t.value.replace(/\s/g,""),s=RegExp("["+r.startAI+r.endAI+"]","g"),l=t.index,c={state:r.startState};for(o.addPattern(r.START);;){if(c.index=0,i=a.charAt(l)===r.startAI?2:0,e=i>0?r.getBySeparator(a,l):r.getByLength(a,l),e.ai.length)n=l+i+e.id.length+e.ai.length;else if(n=a.indexOf(r.startAI,l+1),0>n){if(a.length>l+e.ai.max+e.id.length+i)throw Error("Separators are required after variable length identifiers");n=a.length}if(c.value=a.substring(l,n).replace(s,""),r.validate(e,c.value),o.pushData(c,r.dependentStates),n>=a.length)break;l=n,c.state!=r.startState&&(o[r.startState].move(c),c.state=r.startState),e.ai.length||o.addPattern(r.START)}t.index=t.value.length},validate:function(t,e){var n=e.substr(t.id.length),i=t.ai;if(!i.type&&!S.test(n))throw Error("Application identifier "+t.id+" is numeric only but contains non numeric character(s).");if("alphanumeric"==i.type&&!T.test(n))throw Error("Application identifier "+t.id+" is alphanumeric only but contains non alphanumeric character(s).");if(i.length&&i.length!==n.length)throw Error("Application identifier "+t.id+" must be "+i.length+" characters long.");if(i.min&&i.min>n.length)throw Error("Application identifier "+t.id+" must be at least "+i.min+" characters long.");if(i.max&&n.length>i.max)throw Error("Application identifier "+t.id+" must be at most "+i.max+" characters long.")
},getByLength:function(t,e){var i,r,o,a=this;for(o=2;4>=o;o++)if(i=n(t,e,o),r=a.getAI(i)||a.getAI(i.substring(0,i.length-1)))return{id:i,ai:r};a.unsupportedAIError(i)},unsupportedAIError:function(t){throw Error(c.format("'{0}' is not a supported Application Identifier"),t)},getBySeparator:function(t,e){var n=this,i=t.indexOf(n.startAI,e),r=t.indexOf(n.endAI,i),o=t.substring(i+1,r),a=n.getAI(o)||n.getAI(o.substr(o.length-1));return a||n.unsupportedAIError(o),{ai:a,id:o}},getAI:function(t){var e,n,i,r=this.applicationIdentifiers,o=r.multiKey;if(r[t])return r[t];for(e=0;o.length>e;e++){if(o[e].ids&&f(t,o[e].ids)>=0)return o[e].type;if(o[e].ranges)for(n=o[e].ranges,i=0;n.length>i;i++)if(t>=n[i][0]&&n[i][1]>=t)return o[e].type}},applicationIdentifiers:{22:{max:29,type:"alphanumeric"},402:{length:17},7004:{max:4,type:"alphanumeric"},242:{max:6,type:"alphanumeric"},8020:{max:25,type:"alphanumeric"},703:{min:3,max:30,type:"alphanumeric"},8008:{min:8,max:12,type:"alphanumeric"},253:{min:13,max:17,type:"alphanumeric"},8003:{min:14,max:30,type:"alphanumeric"},multiKey:[{ids:["15","17","8005","8100"],ranges:[[11,13],[310,316],[320,336],[340,369]],type:{length:6}},{ids:["240","241","250","251","400","401","403","7002","8004","8007","8110"],ranges:[[-9]],type:{max:30,type:"alphanumeric"}},{ids:["7001"],ranges:[[410,414]],type:{length:13}},{ids:["10","21","254","420","8002"],type:{max:20,type:"alphanumeric"}},{ids:["00","8006","8017","8018"],type:{length:18}},{ids:["01","02","8001"],type:{length:14}},{ids:["422"],ranges:[[424,426]],type:{length:3}},{ids:["20","8102"],type:{length:2}},{ids:["30","37"],type:{max:8,type:"alphanumeric"}},{ids:["390","392"],type:{max:15,type:"alphanumeric"}},{ids:["421","423"],type:{min:3,max:15,type:"alphanumeric"}},{ids:["391","393"],type:{min:3,max:18,type:"alphanumeric"}},{ids:["7003","8101"],type:{length:10}}]},START:102}),a=A.extend({init:function(t){A.fn.init.call(this,t),this._initStates()},_initStates:function(){var t,e=this;for(t=0;e.states.length>t;t++)e[e.states[t]]=new o[e.states[t]](e,e.states)},initValue:function(t,e,n){var i=this;i.pattern=[],i.value=t,i.width=e,i.height=n,i.checkSum=0,i.totalUnits=0,i.index=0,i.position=1},addData:function(){var t=this,e={value:t.value,index:0,state:""};0!==t.value.length&&(e.state=e.previousState=t.getNextState(e,t.states),t.addStart(e),t.pushData(e,t.states),t.addCheckSum(),t.addStop(),t.setBaseUnit())},pushData:function(t,e){for(var n,i=this;;){if(i[t.state].pushState(t),t.index>=t.value.length)break;t.shifted?(n=t.state,t.state=t.previousState,t.previousState=n,t.shifted=!1):(t.previousState=t.state,t.state=i.getNextState(t,e),i[t.state].move(t))}},addStart:function(t){this[t.state].addStart(t),this.position=1},addCheckSum:function(){var t=this;t.checksum=t.checkSum%103,t.addPattern(t.checksum)},addStop:function(){this.addPattern(this.STOP)},setBaseUnit:function(){var t=this;t.baseUnit=t.width/(t.totalUnits+t.quietZoneLength)},addPattern:function(t){var e,n,i=this,r=""+i.characterMap[t];for(n=0;r.length>n;n++)e=parseInt(r.charAt(n),10),i.pattern.push(e),i.totalUnits+=e;i.checkSum+=t*i.position++},getNextState:function(t,e){for(var n=0;e.length>n;n++)if(this[e[n]].is(t.value,t.index))return e[n];this.invalidCharacterError(t.value.charAt(t.index))},characterMap:[212222,222122,222221,121223,121322,131222,122213,122312,132212,221213,221312,231212,112232,122132,122231,113222,123122,123221,223211,221132,221231,213212,223112,312131,311222,321122,321221,312212,322112,322211,212123,212321,232121,111323,131123,131321,112313,132113,132311,211313,231113,231311,112133,112331,132131,113123,113321,133121,313121,211331,231131,213113,213311,213131,311123,311321,331121,312113,312311,332111,314111,221411,431111,111224,111422,121124,121421,141122,141221,112214,112412,122114,122411,142112,142211,241211,221114,413111,241112,134111,111242,121142,121241,114212,124112,124211,411212,421112,421211,212141,214121,412121,111143,111341,131141,114113,114311,411113,411311,113141,114131,311141,411131,211412,211214,211232,2331112],STOP:106}),P.code128a=a.extend({name:"Code 128 A",states:["A"]}),P.code128b=a.extend({name:"Code 128 B",states:["B"]}),P.code128c=a.extend({name:"Code 128 C",states:["C"]}),P.code128=a.extend({name:"Code 128",states:["C","B","A","FNC4"]}),P["gs1-128"]=a.extend({name:"Code GS1-128",states:["FNC1","C","B"]}),s=A.extend({initValue:function(t,e){var n=this;n.pattern=[],n.value=t,n.checkSumLength=0,n.width=e},setBaseUnit:function(){var t=this,e=7;t.baseUnit=t.width/(12*(t.value.length+t.checkSumLength)+t.quietZoneLength+e)},addData:function(){var t,e=this,n=e.value;for(e.addPattern(e.START),t=0;n.length>t;t++)e.addCharacter(n.charAt(t));e.options.addCheckSum&&e.addCheckSum(),e.addPattern(e.STOP),e.setBaseUnit()},addCharacter:function(t){var e=this,n=e.characterMap[t];n||e.invalidCharacterError(t),e.addPattern(n)},addPattern:function(t){for(var e=0;t.length>e;e++)this.pattern.push(parseInt(t.charAt(e),10))},addCheckSum:function(){var t,e=this,n=e.checkSums[e.checkSumType],i=n.call(e.checkSums,e.value);for(e.checksum=i.join(""),t=0;i.length>t;t++)e.checkSumLength++,e.addPattern(e.characterMap[i[t]])},checkSums:{Modulo10:function(t){var e,n,i,r=[0,""],o=t.length%2;for(e=0;t.length>e;e++)r[(e+o)%2]+=parseInt(t.charAt(e),10);for(i=r[0],n=""+2*r[1],e=0;n.length>e;e++)i+=parseInt(n.charAt(e),10);return[(10-i%10)%10]},Modulo11:function(t){var e,n,i,r=0,o=11,a=t.length;for(i=0;a>i;i++)e=((a-i)%6||6)+1,r+=e*t.charAt(i);return n=(o-r%o)%o,10!=n?[n]:[1,0]},Modulo11Modulo10:function(t){var e,n=this.Modulo11(t);return e=t+n[0],n.concat(this.Modulo10(e))},Modulo10Modulo10:function(t){var e,n=this.Modulo10(t);return e=t+n[0],n.concat(this.Modulo10(e))}},characterMap:["12121212","12121221","12122112","12122121","12211212","12211221","12212112","12212121","21121212","21121221"],START:"21",STOP:"121",checkSumType:""}),P.msimod10=s.extend({name:"MSI Modulo10",checkSumType:"Modulo10"}),P.msimod11=s.extend({name:"MSI Modulo11",checkSumType:"Modulo11"}),P.msimod1110=s.extend({name:"MSI Modulo11 Modulo10",checkSumType:"Modulo11Modulo10"}),P.msimod1010=s.extend({name:"MSI Modulo10 Modulo10",checkSumType:"Modulo10Modulo10"}),P.code11=A.extend({name:"Code 11",cCheckSumTotal:10,kCheckSumTotal:9,kCheckSumMinLength:10,checkSumMod:11,DASH_VALUE:10,DASH:"-",START:"112211",STOP:"11221",initValue:function(t,e){var n=this;n.pattern=[],n.value=t,n.width=e,n.totalUnits=0},addData:function(){var t,e=this,n=e.value;for(e.addPattern(e.START),t=0;n.length>t;t++)e.addCharacter(n.charAt(t));e.options.addCheckSum&&e.addCheckSum(),e.addPattern(e.STOP),e.setBaseUnit()},setBaseUnit:function(){var t=this;t.baseUnit=t.width/(t.totalUnits+t.quietZoneLength)},addCheckSum:function(){var t,e=this,n=e.value,i=n.length,r=e.getWeightedSum(n,i,e.cCheckSumTotal)%e.checkSumMod;e.checksum=r+"",e.addPattern(e.characterMap[r]),i++,i>=e.kCheckSumMinLength&&(t=(r+e.getWeightedSum(n,i,e.kCheckSumTotal))%e.checkSumMod,e.checksum+=t,e.addPattern(e.characterMap[t]))},getWeightedSum:function(t,e,n){var i,r=0;for(i=0;t.length>i;i++)r+=this.weightedValue(this.getValue(t.charAt(i)),e,i,n);return r},weightedValue:function(t,e,n,i){var r=(e-n)%i||i;return r*t},getValue:function(t){var e=this;return isNaN(t)?(t!==e.DASH&&e.invalidCharacterError(t),e.DASH_VALUE):parseInt(t,10)},addCharacter:function(t){var e=this,n=e.getValue(t),i=e.characterMap[n];e.addPattern(i)},addPattern:function(t){var e,n;for(n=0;t.length>n;n++)e=parseInt(t.charAt(n),10),this.pattern.push(e),this.totalUnits+=e},characterMap:["111121","211121","121121","221111","112121","212111","122111","111221","211211","211111","112111"],options:{addCheckSum:!0}}),P.postnet=A.extend({name:"Postnet",START:"2",VALID_CODE_LENGTHS:[5,9,11],DIGIT_SEPARATOR:"-",initValue:function(t,e,n){var i=this;i.height=n,i.width=e,i.baseHeight=n/2,i.value=t.replace(RegExp(i.DIGIT_SEPARATOR,"g"),""),i.pattern=[],i.validate(i.value),i.checkSum=0,i.setBaseUnit()},addData:function(){var t,e=this,n=e.value;for(e.addPattern(e.START),t=0;n.length>t;t++)e.addCharacter(n.charAt(t));e.options.addCheckSum&&e.addCheckSum(),e.addPattern(e.START),e.pattern.pop()},addCharacter:function(t){var e=this,n=e.characterMap[t];e.checkSum+=parseInt(t,10),e.addPattern(n)},addCheckSum:function(){var t=this;t.checksum=(10-t.checkSum%10)%10,t.addCharacter(t.checksum)},setBaseUnit:function(){var t=this,e=3;t.baseUnit=t.width/(10*(t.value.length+1)+e+t.quietZoneLength)},validate:function(t){var e=this;if(S.test(t)||e.invalidCharacterError(t.match(/[^0-9]/)[0]),f(t.length,e.VALID_CODE_LENGTHS)<0)throw Error("Invalid value length. Valid lengths for the Postnet symbology are "+e.VALID_CODE_LENGTHS.join(","))},addPattern:function(t){var e,n,i=this;for(n=0;t.length>n;n++)e=i.height-i.baseHeight*t.charAt(n),i.pattern.push({width:1,y1:e,y2:i.height}),i.pattern.push(1)},characterMap:["22111","11122","11212","11221","12112","12121","12211","21112","21121","21211"]}),P.ean13=A.extend({initValue:function(t,e,n){if(t+="",12!=t.length||/\D/.test(t))throw Error('The value of the "EAN13" encoding should be 12 symbols');var i=this;i.pattern=[],i.options.height=n,i.baseUnit=e/(95+i.quietZoneLength),i.value=t,i.checksum=i.calculateChecksum(),i.leftKey=t[0],i.leftPart=t.substr(1,6),i.rightPart=t.substr(7)+i.checksum},addData:function(){var t=this;t.addPieces(t.characterMap.start),t.addSide(t.leftPart,t.leftKey),t.addPieces(t.characterMap.middle),t.addSide(t.rightPart),t.addPieces(t.characterMap.start)},addSide:function(t,e){var n,i=this;for(n=0;t.length>n;n++)e&&parseInt(i.keyTable[e].charAt(n),10)?i.addPieces(Array.prototype.slice.call(i.characterMap.digits[t.charAt(n)]).reverse(),!0):i.addPieces(i.characterMap.digits[t.charAt(n)],!0)},addPieces:function(t,e){var n,i=this;for(n=0;t.length>n;n++)i.pattern.push(e?{y1:0,y2:.95*i.options.height,width:t[n]}:t[n])},calculateChecksum:function(){var t,e,n=0,i=0,r=this.value.split("").reverse().join("");for(t=0;r.length>t;t++)t%2?i+=parseInt(r.charAt(t),10):n+=parseInt(r.charAt(t),10);return e=(10-(3*n+i)%10)%10},keyTable:["000000","001011","001101","001110","010011","011001","011100","010101","010110","011010"],characterMap:{digits:[[3,2,1,1],[2,2,2,1],[2,1,2,2],[1,4,1,1],[1,1,3,2],[1,2,3,1],[1,1,1,4],[1,3,1,2],[1,2,1,3],[3,1,1,2]],start:[1,1,1],middle:[1,1,1,1,1]}}),P.ean8=P.ean13.extend({initValue:function(t,e,n){var i=this;if(7!=t.length||/\D/.test(t))throw Error("Invalid value provided");i.value=t,i.options.height=n,i.checksum=i.calculateChecksum(i.value),i.leftPart=i.value.substr(0,4),i.rightPart=i.value.substr(4)+i.checksum,i.pattern=[],i.baseUnit=e/(67+i.quietZoneLength)}}),l=h.extend({init:function(e,n){var i=this;h.fn.init.call(i,e,n),i.element=t(e),i.wrapper=i.element,i.element.addClass("k-barcode").css("display","block"),i.surfaceWrap=t("<div />").css("position","relative").appendTo(this.element),i.surface=g.Surface.create(i.surfaceWrap,{type:i.options.renderAs}),i.setOptions(n)},setOptions:function(t){var e=this;if(e.type=(t.type||e.options.type).toLowerCase(),"upca"==e.type&&(e.type="ean13",t.value="0"+t.value),"upce"==e.type&&(e.type="ean8",t.value="0"+t.value),!P[e.type])throw Error("Encoding "+e.type+"is not supported.");e.encoding=new P[e.type],e.options=d(!0,e.options,t),y(t.value)&&e.redraw()},redraw:function(){var t=this._getSize();this.surfaceWrap.css({width:t.width,height:t.height}),this.surface.clear(),this.createVisual(),this.surface.draw(this.visual)},getSize:function(){return c.dimensions(this.element)},_resize:function(){this.redraw()},createVisual:function(){var t,e,n,i,r=this,o=r.options,a=o.value,s=o.text,l=_.getSpacing(s.margin),c=r._getSize(),h=o.border||{},d=r.encoding,u=w(0,0,c.width,c.height).unpad(h.width).unpad(o.padding),f=u.height();this.visual=new g.Group,r.contentBox=u,r._createBackground(c),s.visible&&(e=a,o.checksum&&y(d.checksum)&&(e+=" "+d.checksum),i=r._getTextElement(e),n=i.bbox().height(),f-=n+l.top+l.bottom,this.visual.append(i)),t=d.encode(a,u.width(),f),r.barHeight=f,r._createElements(t.pattern,t.baseUnit)},exportVisual:function(){return this.visual},_getSize:function(){var t=this,e=t.element,n=new m.Size(b,k);return e.width()>0&&(n.width=e.width()),e.height()>0&&(n.height=e.height()),t.options.width&&(n.width=t.options.width),t.options.height&&(n.height=t.options.height),n},value:function(t){var n=this;return y(t)?(n.options.value=t+"",n.redraw(),e):n.options.value},_createElements:function(t,e){var n,i,r,o,a,s=this,l=s.contentBox,c=l.x1;for(r=0;t.length>r;r++)i=p(t[r])?t[r]:{width:t[r],y1:0,y2:s.barHeight},n=i.width*e,r%2&&(o=m.Rect.fromPoints(new m.Point(c,i.y1+l.y1),new m.Point(c+n,i.y2+l.y1)),a=g.Path.fromRect(o,{fill:{color:s.options.color},stroke:null}),this.visual.append(a)),c+=n},_createBackground:function(t){var e=this,n=e.options,i=n.border||{},r=w(0,0,t.width,t.height).unpad(i.width/2),o=g.Path.fromRect(r.toRect(),{fill:{color:n.background},stroke:{color:i.width?i.color:"",width:i.width,dashType:i.dashType}});this.visual.append(o)},_getTextElement:function(t){var e=this,n=e.options.text,i=new x(t,{font:n.font,color:n.color,align:"center",vAlign:"bottom",margin:n.margin});return i.reflow(e.contentBox),i.renderVisual(),i.visual},options:{name:"Barcode",renderAs:"svg",value:"",type:"code39",checksum:!1,width:0,height:0,color:"black",background:"white",text:{visible:!0,font:"16px Consolas, Monaco, Sans Mono, monospace, sans-serif",color:"black",margin:{top:0,bottom:0,left:0,right:0}},border:{width:0,dashType:"solid",color:"black"},padding:{top:0,bottom:0,left:0,right:0}}}),_.ExportMixin.extend(l.fn),_.ui.plugin(l),c.deepExtend(_,{encodings:P,Encoding:A})}(window.kendo.jQuery),function(t){function e(t){return(t+540)%360*b}function n(t){return r.round(t)+.5}function i(t,e){var n,i,r,o=e.length;for(n=0;o>n;n++)i=e[n],r=new l(i.color),t.addColorStop(i.offset,"rgba("+r.r+","+r.g+","+r.b+","+i.opacity+")")}var r=Math,o=window.kendo,a=o.dataviz,s=a.Box2D,l=o.drawing.Color,c=a.Point2D,h=a.Ring,d=a.ViewBase,u=a.ViewElement,f=o.deepExtend,p=a.round,g=a.renderTemplate,m="butt",v=a.COORD_PRECISION,y=a.DASH_ARRAYS,_=a.DEFAULT_WIDTH,w=a.DEFAULT_HEIGHT,x=a.DEFAULT_FONT,b=r.PI/180,k=2*r.PI,C="linear",S="radial",T="solid",D="square",A=g("<canvas width='#= d.options.width #px' height='#= d.options.height #px' style='position: relative; display: #= d.display #;'></canvas>"),P=d.extend({init:function(t){var e=this;d.fn.init.call(e,t),e.display=e.options.inline?"inline":"block"},options:{width:_,height:w},renderTo:function(e){var n,i=this,r=i.options;return n=e.firstElementChild,n&&"canvas"===n.tagName.toLowerCase()?(t(n).siblings().remove(),n.width=r.width,n.height=r.height):(e.innerHTML=A(this),n=e.firstElementChild),i._viewElement=n,i.renderContent(n.getContext("2d")),n},replace:function(t){var e,n=this,i=n._viewElement,r=t.box;i&&r&&(e=i.getContext("2d"),e.clearRect(r.x1,r.y1,r.width(),r.height()),t.getViewElements(n)[0].render(e))},renderContent:function(t){var e,n=this,i=n.sortChildren(),r=i.length,o=n.clipPath;for(o&&(t.save(),o.render(t)),e=0;r>e;e++)i[e].render(t);o&&t.restore()},applyDefinitions:function(t){return t.options.clipPathId&&(t.clipPath=this.definitions[t.options.clipPathId]),t},createGroup:function(t){return this.applyDefinitions(new E(t))},createClipPath:function(t,e){var n=this,i=n.definitions[t];return i||(i=new M({id:t}),n.definitions[t]=i),i.children=[n.createRect(e,{fill:"none"})],i},createText:function(t,e){return new N(t,e)},createTextBox:function(t){return new V(t)},createRect:function(t,e){return new B(t.points(),!0,this.setDefaults(e))},createCubicCurve:function(t,e,n){return new L(t,e,n)},createLine:function(t,e,n,i,r){return new B([new c(t,e),new c(n,i)],!1,this.setDefaults(r))},createMultiLine:function(t,e){return this.decorate(new z(t,!1,this.setDefaults(e)))},createPolyline:function(t,e,n){return new B(t,e,this.setDefaults(n))},createCircle:function(t,e,n){return new R(t,e,n)},createSector:function(t,e){return new F(t,e)},createRing:function(t,e){return new F(t,e)},createPin:function(t,e){return new O(t,e)}}),M=u.extend({render:function(t){var e=this,n=e.children,i=0,r=n.length;for(t.beginPath();r>i;i++)n[i].renderPoints(t);t.clip()}}),E=u.extend({render:function(t){this.renderContent(t)},renderContent:P.fn.renderContent}),I=u.extend({options:{fillOpacity:1,strokeOpacity:1,strokeLineCap:D},render:function(t){var e=this,n=e.options;t.save(),t.beginPath(),e.renderPoints(t),e.setLineDash(t),e.setLineCap(t),n.fill&&"transparent"!==n.fill&&(e.setFill(t),t.globalAlpha=n.fillOpacity,t.fill()),n.stroke&&n.strokeWidth&&(t.strokeStyle=n.stroke,t.lineWidth=n.strokeWidth,t.lineJoin="round",t.globalAlpha=n.strokeOpacity,t.stroke()),e.renderOverlay(t),t.restore()},setLineDash:function(t){var e,n=this.options.dashType;n=n?n.toLowerCase():null,n&&n!=T&&(e=y[n],t.setLineDash?t.setLineDash(e):(t.mozDash=e,t.webkitLineDash=e))},setLineCap:function(t){var e=this.options,n=e.dashType;t.lineCap=n&&n!==T?m:e.strokeLineCap},setFill:function(t){var e=this.options,n=e.fill;t.fillStyle=n},renderOverlay:function(t){var e,n,i=this.options,r=i.overlay;r&&r.gradient&&(n=a.Gradients[r.gradient],e=this.buildGradient(t,n),e&&(t.fillStyle=e,t.fill()))},renderPoints:t.noop,buildGradient:t.noop}),L=I.extend({init:function(t,e,n){var i=this;I.fn.init.call(i,e),i.points=t,i.areaPoints=n},renderPoints:function(t){var e,n=this,i=n.areaPoints,r=n.points;for(t.moveTo(r[0].x,r[0].y),e=1;r.length>e;e+=3)t.bezierCurveTo(p(r[e].x,v),p(r[e].y,v),p(r[e+1].x,v),p(r[e+1].y,v),p(r[e+2].x,v),p(r[e+2].y,v));if(i&&i.length){for(e=0;i.length>e;e++)t.lineTo(p(i[e].x,v),p(i[e].y,v));t.closePath()}}}),B=I.extend({init:function(t,e,n){var i=this;I.fn.init.call(i,n),i.points=t,i.closed=e},options:{rotation:[0,0,0]},renderPoints:function(t){var e=this,n=e.points;e._renderPoints(t,n)},_renderPoints:function(t,e){var i,r,o=this,a=o.options,s=a.strokeWidth,l=a.align!==!1&&s&&s%2!==0,c=l?n:p;if(0!==e.length&&(a.fill||a.stroke)){for(0!==a.rotation[0]&&o.setRotation(t),r=e[0],t.moveTo(c(r.x,v),c(r.y,v)),i=1;e.length>i;i++)r=e[i],t.lineTo(c(r.x,v),c(r.y,v));o.closed&&t.closePath()}},buildGradient:function(t,e){var n,r=this.bbox(),o=this.options.overlay.rotation,a=r.x2,s=r.y1;return 90===o&&(a=r.x1,s=r.y2),e&&e.type===C&&(n=t.createLinearGradient(r.x1,r.y1,a,s),i(n,e.stops)),n},bbox:function(){var t,e=this.points,n=new s;if(e.length>0)for(n.move(e[0].x,e[0].y),t=1;e.length>t;t++)n.wrapPoint(e[t]);return n},setRotation:function(t){var e=this,n=e.options,i=n.rotation,r=i[1],o=i[2];t.translate(r,o),t.rotate(i[0]*b),t.translate(-r,-o)}}),z=B.extend({renderPoints:function(t){var e,n=this,i=n.points;for(e=0;i.length>e;e++)n._renderPoints(t,i[e])}}),F=I.extend({init:function(t,e){var n=this;I.fn.init.call(n,e),n.config=t||{}},options:{strokeLineCap:D},renderPoints:function(t){var n,i,o=this,a=o.config,s=a.startAngle,l=a.angle+s,c=r.max(a.r,0),h=r.max(a.ir,0),d=a.c,u=e(s),f=e(l);u===f&&(s=0,l=360,u=0,f=2*Math.PI),n=a.point(s),i=a.point(l,!0),t.moveTo(n.x,n.y),t.arc(d.x,d.y,c,u,f),h>0?(t.lineTo(i.x,i.y),t.arc(d.x,d.y,h,f,u,!0)):t.lineTo(d.x,d.y)},buildGradient:function(t,e){var n,r=this.config,o=r.c;return e&&e.type===S&&(n=t.createRadialGradient(o.x,o.y,r.ir,o.x,o.y,r.r),i(n,e.stops)),n}}),R=I.extend({init:function(t,e,n){var i=this;I.fn.init.call(i,n),i.config=new h(t,0,e)},renderPoints:function(t){var e=this.config,n=e.c;t.arc(n.x,n.y,e.r,0,k,!1)},buildGradient:F.fn.buildGradient}),O=I.extend({init:function(t,e){var n=this;I.fn.init.call(n,e),n.config=t},renderPoints:function(t){var n=this,i=n.config,o=i.radius,a=r.PI/180,s=i.arcAngle,l=i.height-o*(1-r.cos(s*a/2)),c=i.origin,h=n.options.rotation;t.translate(h[1],h[2]),t.rotate(e(h[0])),t.translate(h[1]-c.x,h[2]-c.y),t.rotate(e(-n.config.rotation)),t.moveTo(0,0),t.arc(0,-l,o,e(90-s/2),e(90+s/2)),t.lineTo(0,0),t.closePath()}}),N=u.extend({init:function(t,e){var n=this;u.fn.init.call(n,e),n.content=a.decodeEntities(t)},options:{x:0,y:0,baseline:0,font:x,size:{width:0,height:0},fillOpacity:1},render:function(t){var e=this,n=e.options,i=e.content,r=n.x,o=n.y+n.baseline;t.save(),t.font=n.font,t.fillStyle=n.color,t.globalAlpha=n.fillOpacity,t.fillText(i,r,o),t.restore()}}),V=u.extend({render:function(t){var e=this.options.matrix;e&&(t.save(),t.transform(e.a,e.b,e.c,e.d,e.e,e.f)),this.renderContent(t),e&&t.restore()},renderContent:P.fn.renderContent});a.supportsCanvas()&&a.ViewFactory.current.register("canvas",P,30),f(a,{CanvasCircle:R,CanvasClipPath:M,CanvasGroup:E,CanvasLine:B,CanvasMultiLine:z,CanvasPath:I,CanvasRing:F,CanvasText:N,CanvasTextBox:V,CanvasView:P})}(window.kendo.jQuery),function(t,e){function n(t){return parseInt(t,2)}function i(t,e){var n=(+t).toString(2);return e>n.length&&(n=Array(e-n.length+1).join(0)+n),n}function r(t,e){for(var n=[],i=0;t.length>i;)n.push(t.substring(i,i+e)),i+=e;return n}function o(t,e,n,i){for(var r=0;t.length>r;r++)t[r][n][i]=e}function a(t,e,n,i){for(var r=0;me.length>r;r++)t[r][n][i]=me[r](n,i)?1^e:parseInt(e,10)}function s(){var t,e;for(e=1;255>e;e++)t=2*re[e-1],t>255&&(t=285^t),re[e]=t,ie[t]=e;t=2*re[e-1]^285,re[e]=t,re[-1]=0}function l(){var t,e,n,i=68;for(t=2;i>=t;t++)e=oe[t-1],n=[t,0],oe[t]=w(e,n)}function c(t,n){var i=[],r=t.length-1;do i[r]=re[(t[r]+n)%255],r--;while(t[r]!==e);return i}function h(t,e){return parseInt(t.charAt(e),10)}function d(t,e,n,i,r){e[t][i]=(e[t][i]<<1^r)%128,e[t][i]==ge&&(n[t]+=40)}function u(t,e,n,i,r,o){n[t][o]==i?r[t][o]++:(n[t][o]=i,r[t][o]>=5&&(e[t]+=3+r[t][o]-5),r[t][o]=1)}function f(t,e){var n=Math.floor(t/e*100),i=n%5,r=Math.abs(n-i-50),o=Math.abs(n+5-i-50),a=10*Math.min(r/5,o/5);return a}var p,g,m,v,y,_,w,x,b,k,C,S,T,D,A,P,M,E,I,L,B,z,F,R,O,N,V,H,U,W,j,G,q,$,Y=window.kendo,X=t.extend,Q=Y.dataviz,K=Y.ui.Widget,Z=Q.Box2D,J="0000",te="numeric",ee="alphanumeric",ne="byte",ie={1:0},re={0:1},oe=[[1,0],[1,25,0]],ae={15:20,16:20,18:24,19:24,22:20,24:22,26:24,28:20,30:20,31:24,32:28,33:24,36:18,37:22,39:20,40:24},se=[{L:{groups:[[1,19]],totalDataCodewords:19,errorCodewordsPerBlock:7},M:{groups:[[1,16]],totalDataCodewords:16,errorCodewordsPerBlock:10},Q:{groups:[[1,13]],totalDataCodewords:13,errorCodewordsPerBlock:13},H:{groups:[[1,9]],totalDataCodewords:9,errorCodewordsPerBlock:17}},{L:{groups:[[1,34]],totalDataCodewords:34,errorCodewordsPerBlock:10},M:{groups:[[1,28]],totalDataCodewords:28,errorCodewordsPerBlock:16},Q:{groups:[[1,22]],totalDataCodewords:22,errorCodewordsPerBlock:22},H:{groups:[[1,16]],totalDataCodewords:16,errorCodewordsPerBlock:28}},{L:{groups:[[1,55]],totalDataCodewords:55,errorCodewordsPerBlock:15},M:{groups:[[1,44]],totalDataCodewords:44,errorCodewordsPerBlock:26},Q:{groups:[[2,17]],totalDataCodewords:34,errorCodewordsPerBlock:18},H:{groups:[[2,13]],totalDataCodewords:26,errorCodewordsPerBlock:22}},{L:{groups:[[1,80]],totalDataCodewords:80,errorCodewordsPerBlock:20},M:{groups:[[2,32]],totalDataCodewords:64,errorCodewordsPerBlock:18},Q:{groups:[[2,24]],totalDataCodewords:48,errorCodewordsPerBlock:26},H:{groups:[[4,9]],totalDataCodewords:36,errorCodewordsPerBlock:16}},{L:{groups:[[1,108]],totalDataCodewords:108,errorCodewordsPerBlock:26},M:{groups:[[2,43]],totalDataCodewords:86,errorCodewordsPerBlock:24},Q:{groups:[[2,15],[2,16]],totalDataCodewords:62,errorCodewordsPerBlock:18},H:{groups:[[2,11],[2,12]],totalDataCodewords:46,errorCodewordsPerBlock:22}},{L:{groups:[[2,68]],totalDataCodewords:136,errorCodewordsPerBlock:18},M:{groups:[[4,27]],totalDataCodewords:108,errorCodewordsPerBlock:16},Q:{groups:[[4,19]],totalDataCodewords:76,errorCodewordsPerBlock:24},H:{groups:[[4,15]],totalDataCodewords:60,errorCodewordsPerBlock:28}},{L:{groups:[[2,78]],totalDataCodewords:156,errorCodewordsPerBlock:20},M:{groups:[[4,31]],totalDataCodewords:124,errorCodewordsPerBlock:18},Q:{groups:[[2,14],[4,15]],totalDataCodewords:88,errorCodewordsPerBlock:18},H:{groups:[[4,13],[1,14]],totalDataCodewords:66,errorCodewordsPerBlock:26}},{L:{groups:[[2,97]],totalDataCodewords:194,errorCodewordsPerBlock:24},M:{groups:[[2,38],[2,39]],totalDataCodewords:154,errorCodewordsPerBlock:22},Q:{groups:[[4,18],[2,19]],totalDataCodewords:110,errorCodewordsPerBlock:22},H:{groups:[[4,14],[2,15]],totalDataCodewords:86,errorCodewordsPerBlock:26}},{L:{groups:[[2,116]],totalDataCodewords:232,errorCodewordsPerBlock:30},M:{groups:[[3,36],[2,37]],totalDataCodewords:182,errorCodewordsPerBlock:22},Q:{groups:[[4,16],[4,17]],totalDataCodewords:132,errorCodewordsPerBlock:20},H:{groups:[[4,12],[4,13]],totalDataCodewords:100,errorCodewordsPerBlock:24}},{L:{groups:[[2,68],[2,69]],totalDataCodewords:274,errorCodewordsPerBlock:18},M:{groups:[[4,43],[1,44]],totalDataCodewords:216,errorCodewordsPerBlock:26},Q:{groups:[[6,19],[2,20]],totalDataCodewords:154,errorCodewordsPerBlock:24},H:{groups:[[6,15],[2,16]],totalDataCodewords:122,errorCodewordsPerBlock:28}},{L:{groups:[[4,81]],totalDataCodewords:324,errorCodewordsPerBlock:20},M:{groups:[[1,50],[4,51]],totalDataCodewords:254,errorCodewordsPerBlock:30},Q:{groups:[[4,22],[4,23]],totalDataCodewords:180,errorCodewordsPerBlock:28},H:{groups:[[3,12],[8,13]],totalDataCodewords:140,errorCodewordsPerBlock:24}},{L:{groups:[[2,92],[2,93]],totalDataCodewords:370,errorCodewordsPerBlock:24},M:{groups:[[6,36],[2,37]],totalDataCodewords:290,errorCodewordsPerBlock:22},Q:{groups:[[4,20],[6,21]],totalDataCodewords:206,errorCodewordsPerBlock:26},H:{groups:[[7,14],[4,15]],totalDataCodewords:158,errorCodewordsPerBlock:28}},{L:{groups:[[4,107]],totalDataCodewords:428,errorCodewordsPerBlock:26},M:{groups:[[8,37],[1,38]],totalDataCodewords:334,errorCodewordsPerBlock:22},Q:{groups:[[8,20],[4,21]],totalDataCodewords:244,errorCodewordsPerBlock:24},H:{groups:[[12,11],[4,12]],totalDataCodewords:180,errorCodewordsPerBlock:22}},{L:{groups:[[3,115],[1,116]],totalDataCodewords:461,errorCodewordsPerBlock:30},M:{groups:[[4,40],[5,41]],totalDataCodewords:365,errorCodewordsPerBlock:24},Q:{groups:[[11,16],[5,17]],totalDataCodewords:261,errorCodewordsPerBlock:20},H:{groups:[[11,12],[5,13]],totalDataCodewords:197,errorCodewordsPerBlock:24}},{L:{groups:[[5,87],[1,88]],totalDataCodewords:523,errorCodewordsPerBlock:22},M:{groups:[[5,41],[5,42]],totalDataCodewords:415,errorCodewordsPerBlock:24},Q:{groups:[[5,24],[7,25]],totalDataCodewords:295,errorCodewordsPerBlock:30},H:{groups:[[11,12],[7,13]],totalDataCodewords:223,errorCodewordsPerBlock:24}},{L:{groups:[[5,98],[1,99]],totalDataCodewords:589,errorCodewordsPerBlock:24},M:{groups:[[7,45],[3,46]],totalDataCodewords:453,errorCodewordsPerBlock:28},Q:{groups:[[15,19],[2,20]],totalDataCodewords:325,errorCodewordsPerBlock:24},H:{groups:[[3,15],[13,16]],totalDataCodewords:253,errorCodewordsPerBlock:30}},{L:{groups:[[1,107],[5,108]],totalDataCodewords:647,errorCodewordsPerBlock:28},M:{groups:[[10,46],[1,47]],totalDataCodewords:507,errorCodewordsPerBlock:28},Q:{groups:[[1,22],[15,23]],totalDataCodewords:367,errorCodewordsPerBlock:28},H:{groups:[[2,14],[17,15]],totalDataCodewords:283,errorCodewordsPerBlock:28}},{L:{groups:[[5,120],[1,121]],totalDataCodewords:721,errorCodewordsPerBlock:30},M:{groups:[[9,43],[4,44]],totalDataCodewords:563,errorCodewordsPerBlock:26},Q:{groups:[[17,22],[1,23]],totalDataCodewords:397,errorCodewordsPerBlock:28},H:{groups:[[2,14],[19,15]],totalDataCodewords:313,errorCodewordsPerBlock:28}},{L:{groups:[[3,113],[4,114]],totalDataCodewords:795,errorCodewordsPerBlock:28},M:{groups:[[3,44],[11,45]],totalDataCodewords:627,errorCodewordsPerBlock:26},Q:{groups:[[17,21],[4,22]],totalDataCodewords:445,errorCodewordsPerBlock:26},H:{groups:[[9,13],[16,14]],totalDataCodewords:341,errorCodewordsPerBlock:26}},{L:{groups:[[3,107],[5,108]],totalDataCodewords:861,errorCodewordsPerBlock:28},M:{groups:[[3,41],[13,42]],totalDataCodewords:669,errorCodewordsPerBlock:26},Q:{groups:[[15,24],[5,25]],totalDataCodewords:485,errorCodewordsPerBlock:30},H:{groups:[[15,15],[10,16]],totalDataCodewords:385,errorCodewordsPerBlock:28}},{L:{groups:[[4,116],[4,117]],totalDataCodewords:932,errorCodewordsPerBlock:28},M:{groups:[[17,42]],totalDataCodewords:714,errorCodewordsPerBlock:26},Q:{groups:[[17,22],[6,23]],totalDataCodewords:512,errorCodewordsPerBlock:28},H:{groups:[[19,16],[6,17]],totalDataCodewords:406,errorCodewordsPerBlock:30}},{L:{groups:[[2,111],[7,112]],totalDataCodewords:1006,errorCodewordsPerBlock:28},M:{groups:[[17,46]],totalDataCodewords:782,errorCodewordsPerBlock:28},Q:{groups:[[7,24],[16,25]],totalDataCodewords:568,errorCodewordsPerBlock:30},H:{groups:[[34,13]],totalDataCodewords:442,errorCodewordsPerBlock:24}},{L:{groups:[[4,121],[5,122]],totalDataCodewords:1094,errorCodewordsPerBlock:30},M:{groups:[[4,47],[14,48]],totalDataCodewords:860,errorCodewordsPerBlock:28},Q:{groups:[[11,24],[14,25]],totalDataCodewords:614,errorCodewordsPerBlock:30},H:{groups:[[16,15],[14,16]],totalDataCodewords:464,errorCodewordsPerBlock:30}},{L:{groups:[[6,117],[4,118]],totalDataCodewords:1174,errorCodewordsPerBlock:30},M:{groups:[[6,45],[14,46]],totalDataCodewords:914,errorCodewordsPerBlock:28},Q:{groups:[[11,24],[16,25]],totalDataCodewords:664,errorCodewordsPerBlock:30},H:{groups:[[30,16],[2,17]],totalDataCodewords:514,errorCodewordsPerBlock:30}},{L:{groups:[[8,106],[4,107]],totalDataCodewords:1276,errorCodewordsPerBlock:26},M:{groups:[[8,47],[13,48]],totalDataCodewords:1e3,errorCodewordsPerBlock:28},Q:{groups:[[7,24],[22,25]],totalDataCodewords:718,errorCodewordsPerBlock:30},H:{groups:[[22,15],[13,16]],totalDataCodewords:538,errorCodewordsPerBlock:30}},{L:{groups:[[10,114],[2,115]],totalDataCodewords:1370,errorCodewordsPerBlock:28},M:{groups:[[19,46],[4,47]],totalDataCodewords:1062,errorCodewordsPerBlock:28},Q:{groups:[[28,22],[6,23]],totalDataCodewords:754,errorCodewordsPerBlock:28},H:{groups:[[33,16],[4,17]],totalDataCodewords:596,errorCodewordsPerBlock:30}},{L:{groups:[[8,122],[4,123]],totalDataCodewords:1468,errorCodewordsPerBlock:30},M:{groups:[[22,45],[3,46]],totalDataCodewords:1128,errorCodewordsPerBlock:28},Q:{groups:[[8,23],[26,24]],totalDataCodewords:808,errorCodewordsPerBlock:30},H:{groups:[[12,15],[28,16]],totalDataCodewords:628,errorCodewordsPerBlock:30}},{L:{groups:[[3,117],[10,118]],totalDataCodewords:1531,errorCodewordsPerBlock:30},M:{groups:[[3,45],[23,46]],totalDataCodewords:1193,errorCodewordsPerBlock:28},Q:{groups:[[4,24],[31,25]],totalDataCodewords:871,errorCodewordsPerBlock:30},H:{groups:[[11,15],[31,16]],totalDataCodewords:661,errorCodewordsPerBlock:30}},{L:{groups:[[7,116],[7,117]],totalDataCodewords:1631,errorCodewordsPerBlock:30},M:{groups:[[21,45],[7,46]],totalDataCodewords:1267,errorCodewordsPerBlock:28},Q:{groups:[[1,23],[37,24]],totalDataCodewords:911,errorCodewordsPerBlock:30},H:{groups:[[19,15],[26,16]],totalDataCodewords:701,errorCodewordsPerBlock:30}},{L:{groups:[[5,115],[10,116]],totalDataCodewords:1735,errorCodewordsPerBlock:30},M:{groups:[[19,47],[10,48]],totalDataCodewords:1373,errorCodewordsPerBlock:28},Q:{groups:[[15,24],[25,25]],totalDataCodewords:985,errorCodewordsPerBlock:30},H:{groups:[[23,15],[25,16]],totalDataCodewords:745,errorCodewordsPerBlock:30}},{L:{groups:[[13,115],[3,116]],totalDataCodewords:1843,errorCodewordsPerBlock:30},M:{groups:[[2,46],[29,47]],totalDataCodewords:1455,errorCodewordsPerBlock:28},Q:{groups:[[42,24],[1,25]],totalDataCodewords:1033,errorCodewordsPerBlock:30},H:{groups:[[23,15],[28,16]],totalDataCodewords:793,errorCodewordsPerBlock:30}},{L:{groups:[[17,115]],totalDataCodewords:1955,errorCodewordsPerBlock:30},M:{groups:[[10,46],[23,47]],totalDataCodewords:1541,errorCodewordsPerBlock:28},Q:{groups:[[10,24],[35,25]],totalDataCodewords:1115,errorCodewordsPerBlock:30},H:{groups:[[19,15],[35,16]],totalDataCodewords:845,errorCodewordsPerBlock:30}},{L:{groups:[[17,115],[1,116]],totalDataCodewords:2071,errorCodewordsPerBlock:30},M:{groups:[[14,46],[21,47]],totalDataCodewords:1631,errorCodewordsPerBlock:28},Q:{groups:[[29,24],[19,25]],totalDataCodewords:1171,errorCodewordsPerBlock:30},H:{groups:[[11,15],[46,16]],totalDataCodewords:901,errorCodewordsPerBlock:30}},{L:{groups:[[13,115],[6,116]],totalDataCodewords:2191,errorCodewordsPerBlock:30},M:{groups:[[14,46],[23,47]],totalDataCodewords:1725,errorCodewordsPerBlock:28},Q:{groups:[[44,24],[7,25]],totalDataCodewords:1231,errorCodewordsPerBlock:30},H:{groups:[[59,16],[1,17]],totalDataCodewords:961,errorCodewordsPerBlock:30}},{L:{groups:[[12,121],[7,122]],totalDataCodewords:2306,errorCodewordsPerBlock:30},M:{groups:[[12,47],[26,48]],totalDataCodewords:1812,errorCodewordsPerBlock:28},Q:{groups:[[39,24],[14,25]],totalDataCodewords:1286,errorCodewordsPerBlock:30},H:{groups:[[22,15],[41,16]],totalDataCodewords:986,errorCodewordsPerBlock:30}},{L:{groups:[[6,121],[14,122]],totalDataCodewords:2434,errorCodewordsPerBlock:30},M:{groups:[[6,47],[34,48]],totalDataCodewords:1914,errorCodewordsPerBlock:28},Q:{groups:[[46,24],[10,25]],totalDataCodewords:1354,errorCodewordsPerBlock:30},H:{groups:[[2,15],[64,16]],totalDataCodewords:1054,errorCodewordsPerBlock:30}},{L:{groups:[[17,122],[4,123]],totalDataCodewords:2566,errorCodewordsPerBlock:30},M:{groups:[[29,46],[14,47]],totalDataCodewords:1992,errorCodewordsPerBlock:28},Q:{groups:[[49,24],[10,25]],totalDataCodewords:1426,errorCodewordsPerBlock:30},H:{groups:[[24,15],[46,16]],totalDataCodewords:1096,errorCodewordsPerBlock:30}},{L:{groups:[[4,122],[18,123]],totalDataCodewords:2702,errorCodewordsPerBlock:30},M:{groups:[[13,46],[32,47]],totalDataCodewords:2102,errorCodewordsPerBlock:28},Q:{groups:[[48,24],[14,25]],totalDataCodewords:1502,errorCodewordsPerBlock:30},H:{groups:[[42,15],[32,16]],totalDataCodewords:1142,errorCodewordsPerBlock:30}},{L:{groups:[[20,117],[4,118]],totalDataCodewords:2812,errorCodewordsPerBlock:30},M:{groups:[[40,47],[7,48]],totalDataCodewords:2216,errorCodewordsPerBlock:28},Q:{groups:[[43,24],[22,25]],totalDataCodewords:1582,errorCodewordsPerBlock:30},H:{groups:[[10,15],[67,16]],totalDataCodewords:1222,errorCodewordsPerBlock:30}},{L:{groups:[[19,118],[6,119]],totalDataCodewords:2956,errorCodewordsPerBlock:30},M:{groups:[[18,47],[31,48]],totalDataCodewords:2334,errorCodewordsPerBlock:28},Q:{groups:[[34,24],[34,25]],totalDataCodewords:1666,errorCodewordsPerBlock:30},H:{groups:[[20,15],[61,16]],totalDataCodewords:1276,errorCodewordsPerBlock:30}}],le=[1,0,1,1,1],ce=[1,0,1],he={L:"01",M:"00",Q:"11",H:"10"},de="101010000010010",ue="10100110111",fe="1111100100101",pe=["11101100","00010001"],ge=93,me=[function(t,e){return(t+e)%2===0
},function(t){return t%2===0},function(t,e){return e%3===0},function(t,e){return(t+e)%3===0},function(t,e){return(Math.floor(t/2)+Math.floor(e/3))%2===0},function(t,e){return t*e%2+t*e%3===0},function(t,e){return(t*e%2+t*e%3)%2===0},function(t,e){return((t+e)%2+t*e%3)%2===0}],ve=/^\d+/,ye="A-Z0-9 $%*+./:-",_e="A-Z $%*+./:-",we=RegExp("^["+_e+"]+"),xe=RegExp("^["+ye+"]+"),be=RegExp("^[^"+ye+"]+"),ke=8,Ce=5,Se=8,Te=17,De=9,Ae=16,Pe=Math.round,Me=Y.Class.extend({getVersionIndex:function(t){return 10>t?0:t>26?2:1},getBitsCharacterCount:function(t){var e=this;return e.bitsInCharacterCount[e.getVersionIndex(t||40)]},getModeCountString:function(t,e){var n=this;return n.modeIndicator+i(t,n.getBitsCharacterCount(e))},encode:function(){},getStringBitsLength:function(){},getValue:function(){},modeIndicator:"",bitsInCharacterCount:[]}),Ee={};Ee[te]=Me.extend({bitsInCharacterCount:[10,12,14],modeIndicator:"0001",getValue:function(t){return parseInt(t,10)},encode:function(t,e){var n,o=this,a=r(t,3),s=o.getModeCountString(t.length,e);for(n=0;a.length-1>n;n++)s+=i(a[n],10);return s+i(a[n],1+3*a[n].length)},getStringBitsLength:function(t,e){var n=t%3;return 4+this.getBitsCharacterCount(e)+10*Math.floor(t/3)+3*n+(0===n?0:1)}}),Ee[ee]=Me.extend({characters:{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,G:16,H:17,I:18,J:19,K:20,L:21,M:22,N:23,O:24,P:25,Q:26,R:27,S:28,T:29,U:30,V:31,W:32,X:33,Y:34,Z:35," ":36,$:37,"%":38,"*":39,"+":40,"-":41,".":42,"/":43,":":44},bitsInCharacterCount:[9,11,13],modeIndicator:"0010",getValue:function(t){return this.characters[t]},encode:function(t,e){var n,o,a=this,s=r(t,2),l=a.getModeCountString(t.length,e);for(o=0;s.length-1>o;o++)n=45*a.getValue(s[o].charAt(0))+a.getValue(s[o].charAt(1)),l+=i(n,11);return n=2==s[o].length?45*a.getValue(s[o].charAt(0))+a.getValue(s[o].charAt(1)):a.getValue(s[o].charAt(0)),l+i(n,1+5*s[o].length)},getStringBitsLength:function(t,e){return 4+this.getBitsCharacterCount(e)+11*Math.floor(t/2)+6*(t%2)}}),Ee[ne]=Me.extend({bitsInCharacterCount:[8,16,16],modeIndicator:"0100",getValue:function(t){var e=t.charCodeAt(0);if(127>=e||e>=160&&255>=e)return e;throw Error("Unsupported character: "+t)},encode:function(t,e){var n,r=this,o=r.getModeCountString(t.length,e);for(n=0;t.length>n;n++)o+=i(r.getValue(t.charAt(n)),8);return o},getStringBitsLength:function(t,e){return 4+this.getBitsCharacterCount(e)+8*t}}),p={};for(g in Ee)p[g]=new Ee[g];m=function(t){var n=this,i=t.length-1,r=t.length-1,o=r,a=-1,s=0;n.move=function(){i+=a*s,s^=1,r=o-s},n.getNextCell=function(){for(;t[i][r]!==e;)n.move(),(0>i||i>=t.length)&&(a=-a,o-=8!=o?2:3,r=o,i=0>a?t.length-1:0);return{row:i,column:r}},n.getNextRemainderCell=function(){return n.move(),t[i][r]===e?{row:i,column:r}:e}},v=function(t,e){var n,i,r,o,s,l,c=new m(t[0]);for(o=0;e.length>o;o++)for(n=e[o],i=0;n.length>0;){for(s=0;n.length>s;s++)for(l=0;8>l;l++)r=c.getNextCell(),a(t,n[s][i].charAt(l),r.row,r.column);for(i++;n[0]&&i==n[0].length;)n.splice(0,1)}for(;r=c.getNextRemainderCell();)a(t,0,r.row,r.column)},y=function(t,e){for(var n=8*e,i=0,r=0;n>t.length&&J.length>i;)t+=J.charAt(i++);for(t.length%8!==0&&(t+=Array(9-t.length%8).join("0"));n>t.length;)t+=pe[r],r^=1;return t},_=function(t,e){var n,i=[],r=t.length-2;for(n=r;n>=0;n--)i[n]=t[n]^e[n];return i},w=function(t,n){var i,r,o=[];for(i=0;t.length>i;i++)for(r=0;n.length>r;r++)o[i+r]=o[i+r]===e?(t[i]+(n[r]>=0?n[r]:0))%255:ie[re[o[i+r]]^re[(t[i]+n[r])%255]];return o},s(),l(),x=function(t,e){var n,r,o=oe[e-1],a=Array(e).concat(t),s=Array(a.length-o.length).concat(o),l=t.length,h=[];for(r=0;l>r;r++)n=c(s,ie[a[a.length-1]]),s.splice(0,1),a=_(n,a);for(r=a.length-1;r>=0;r--)h[e-1-r]=i(a[r],8);return h},b=function(t,e){var i,r,o,a,s,l,c,h,d=0,u=[],f=[],p=e.groups;for(l=0;p.length>l;l++)for(o=p[l][0],c=0;o>c;c++){for(r=p[l][1],i=[],a=[],h=1;r>=h;h++)s=t.substring(d,d+8),i.push(s),a[r-h]=n(s),d+=8;u.push(i),f.push(x(a,e.errorCodewordsPerBlock))}return[u,f]},k=function(t,e,n,i,r){var o,a,s=ve.exec(t),l=s?s[0]:"",c=we.exec(t),h=c?c[0]:"",d=xe.exec(t),u=d?d[0]:"";return l&&(l.length>=e||t.length==l.length||l.length>=n&&!xe.test(t.charAt(l.length)))?(o=te,a=l):u&&(t.length==u.length||u.length>=i||r==ee)?(o=ee,a=l||h):(o=ne,a=u?u+be.exec(t.substring(u.length))[0]:be.exec(t)[0]),{mode:o,modeString:a}},C=function(t){var e,n,i=[],r=0;for(i.push(k(t,ke,Ce,Se,e)),e=i[0].mode,t=t.substr(i[0].modeString.length);t.length>0;)n=k(t,Te,De,Ae,e),n.mode!=e?(e=n.mode,i.push(n),r++):i[r].modeString+=n.modeString,t=t.substr(n.modeString.length);return i},S=function(t){var e,n,i=0;for(n=0;t.length>n;n++)e=p[t[n].mode],i+=e.getStringBitsLength(t[n].modeString.length);return Math.ceil(i/8)},T=function(t,e){var n=0,i=se.length-1,r=Math.floor(se.length/2);do se[r][e].totalDataCodewords>t?i=r:n=r,r=n+Math.floor((i-n)/2);while(i-n>1);return se[n][e].totalDataCodewords>=t?r+1:i+1},D=function(t,e){var n,i,r="";for(i=0;t.length>i;i++)n=p[t[i].mode],r+=n.encode(t[i].modeString,e);return r},A=function(t){var e,i,r=n(t),o="";if(0===r)return"101010000010010";for(e=P(n(t),ue,15),i=0;e.length>i;i++)o+=e.charAt(i)^de.charAt(i);return o},P=function(t,e,r){var o=n(e),a=e.length-1,s=t<<a,l=r-a,c=i(t,l),h=M(s,o);return h=c+i(h,a)},M=function(t,e){var n=e.toString(2).length,i=t.toString(2).length;do t^=e<<i-n,i=t.toString(2).length;while(i>=n);return t},E=function(t){var e,n,i=[],r=17+4*t;for(e=0;me.length>e;e++)for(i[e]=Array(r),n=0;r>n;n++)i[e][n]=Array(r);return i},I=function(t,e){var n,i,r=t[0],a=0,s=e.length;for(n=0,i=8;8>=n;n++)6!==n&&o(t,h(e,s-1-a++),n,i);for(n=8,i=7;i>=0;i--)6!==i&&o(t,h(e,s-1-a++),n,i);for(a=0,i=r.length-1,n=8;i>=r.length-8;i--)o(t,h(e,s-1-a++),n,i);for(o(t,1,r.length-8,8),n=r.length-7,i=8;r.length>n;n++)o(t,h(e,s-1-a++),n,i)},L=function(t){return P(t,fe,18)},B=function(t,e){var n,i,r,a,s=t[0],l=s.length,c=0,d=l-11,u=l-11,f=0;for(a=0;e.length>a;a++)n=Math.floor(a/3),i=a%3,r=h(e,e.length-a-1),o(t,r,c+n,d+i),o(t,r,u+i,f+n)},z=function(t,e,n,i){var r,a,s,l=e.length+2,c=e.length+1;for(a=0;e.length>a;a++)for(s=a;l-a>s;s++)r=e[a],o(t,r,n+s,i+a),o(t,r,n+a,i+s),o(t,r,n+c-s,i+c-a),o(t,r,n+c-a,i+c-s)},F=function(t,e,n,i){var r=n,a=i,s=t[0];do o(t,0,r,i),o(t,0,n,a),r+=e[0],a+=e[1];while(r>=0&&s.length>r)},R=function(t){var e=t[0].length;z(t,le,0,0),F(t,[-1,-1],7,7),z(t,le,e-7,0),F(t,[1,-1],e-8,7),z(t,le,0,e-7),F(t,[-1,1],7,e-8)},O=function(t,n){var i,r,o,a,s,l,c,h,d;if(!(2>n)){for(i=t[0],r=i.length,o=Math.floor(n/7),a=[6],c=0,(s=ae[n])?l=(r-13-s)/o:s=l=(r-13)/(o+1),a.push(a[c++]+s);r>a[c]+l;)a.push(a[c++]+l);for(h=0;a.length>h;h++)for(d=0;a.length>d;d++)i[a[h]][a[d]]===e&&z(t,ce,a[h]-2,a[d]-2)}},N=function(t){var e,n=6,i=6,r=1,a=t[0].length;for(e=8;a-8>e;e++)o(t,r,n,e),o(t,r,e,i),r^=1},V=function(t){var e,n,i,r,o,a,s,l=[],c=[],h=[],p=[],g=[],m=0,v=1,y=t[0].length;for(n=0;t.length>n;n++)l[n]=0,h[n]=0,g[n]=[0,0],p[n]=[0,0],c[n]=[];for(n=0;y>n;n++)for(i=0;y>i;i++)for(r=0;t.length>r;r++)e=t[r],h[r]+=parseInt(e[n][i],10),c[r][m]===e[n][i]&&y>n+1&&i-1>=0&&e[n+1][i]==c[r][m]&&e[n+1][i-1]==c[r][m]&&(l[r]+=3),d(r,p,l,m,e[n][i]),d(r,p,l,v,e[i][n]),u(r,l,c,e[n][i],g,m),u(r,l,c,e[i][n],g,v);for(o=y*y,s=Number.MAX_VALUE,n=0;l.length>n;n++)l[n]+=f(h[n],o),s>l[n]&&(s=l[n],a=n);return a},H=function(t,e){this.dataString=t,this.version=e},U=function(){this.getEncodingResult=function(t,e){var n=C(t),i=S(n),r=T(i,e),o=D(n,r);return new H(o,r)}},W=function(){this.mode=p[this.encodingMode]},W.fn=W.prototype={encodingMode:ne,utfBOM:"111011111011101110111111",initialModeCountStringLength:20,getEncodingResult:function(t,e){var n=this,i=n.encode(t),r=n.getDataCodewordsCount(i),o=T(r,e),a=n.mode.getModeCountString(i.length/8,o)+i;return new H(a,o)},getDataCodewordsCount:function(t){var e=this,n=t.length,i=Math.ceil((e.initialModeCountStringLength+n)/8);return i},encode:function(t){var e,n=this,i=n.utfBOM;for(e=0;t.length>e;e++)i+=n.encodeCharacter(t.charCodeAt(e));return i},encodeCharacter:function(t){var e,n,r=this.getBytesCount(t),o=r-1,a="";if(1==r)a=i(t,8);else{for(e=8-r,n=0;o>n;n++)a=i(t>>6*n&63|128,8)+a;a=(t>>6*o|255>>e<<e).toString(2)+a}return a},getBytesCount:function(t){var e,n=this.ranges;for(e=0;n.length>e;e++)if(n[e]>t)return e+1},ranges:[128,2048,65536,2097152,67108864]},j=function(t){return t&&t.toLowerCase().indexOf("utf_8")>=0?new W:new U},G=function(t,e,n){var r,o,a,s=new j(n),l=s.getEncodingResult(t,e),c=l.version,h=se[c-1][e],d=y(l.dataString,h.totalDataCodewords),u=b(d,h),f=E(c);return R(f),O(f,c),N(f),c>=7&&B(f,i(0,18)),I(f,i(0,15)),v(f,u),r=V(f),o=f[r],c>=7&&B([o],L(c)),a=he[e]+i(r,3),I([o],A(a)),o},q={DEFAULT_SIZE:200,QUIET_ZONE_LENGTH:4,DEFAULT_ERROR_CORRECTION_LEVEL:"L",DEFAULT_BACKGROUND:"#fff",DEFAULT_DARK_MODULE_COLOR:"#000",MIN_BASE_UNIT_SIZE:1},$=K.extend({init:function(e,n){var i=this;K.fn.init.call(i,e,n),i.element=t(e),i.wrapper=i.element,i.element.addClass("k-qrcode"),i._view=Q.ViewFactory.current.create({},i.options.renderAs),i.setOptions(n)},redraw:function(){var t=this,e=t._view;t._redraw(e),e.renderTo(t.element[0])},svg:function(){if(Q.SVGView){var t=new Q.SVGView;return this._redraw(t),t.render()}throw Error("Unable to create SVGView. Check that kendo.dataviz.svg.js is loaded.")},imageDataURL:function(){if(Q.CanvasView){if(Q.supportsCanvas()){var t=document.createElement("div"),e=new Q.CanvasView;return this._redraw(e),e.renderTo(t).toDataURL()}return Y.logToConsole("Warning: Unable to generate image. The browser does not support Canvas.\nUser agent: "+navigator.userAgent),null}throw Error("Unable to create CanvasView. Check that kendo.dataviz.canvas.js is loaded.")},getSize:function(){return Y.dimensions(this.element)},_resize:function(){this.redraw()},_redraw:function(t){var e,n,i,r,o,a,s=this,l=s._value,c=s.options.border||{},h=s.options.padding||0,d=c.width||0;c.width=d,l&&(i=G(l,s.options.errorCorrection,s.options.encoding),r=s._getSize(),a=r-2*(d+h),e=s._calculateBaseUnit(a,i.length),o=i.length*e,n=s._calculateQuietZone(o,a,d,h),t.children=[],t.options.width=r,t.options.height=r,s._renderBackground(t,r,c),s._renderMatrix(t,i,e,n))},_getSize:function(){var t,e,n,i=this;return i.options.size?t=parseInt(i.options.size,10):(e=i.element,n=Math.min(e.width(),e.height()),t=n>0?n:q.DEFAULT_SIZE),t},_calculateBaseUnit:function(t,e){var n=Math.floor(t/e);if(q.MIN_BASE_UNIT_SIZE>n)throw Error("Insufficient size.");return n*e>=t&&n-1>=q.MIN_BASE_UNIT_SIZE&&n--,n},_calculateQuietZone:function(t,e,n,i){return n+i+(e-t)/2},_renderMatrix:function(t,e,n,i){var r,o,a,s,l,c=this,h=[];for(l=0;e.length>l;l++)for(r=i+l*n,s=0;e.length>s;){for(;0===e[l][s]&&e.length>s;)s++;if(e.length>s){for(o=s;1==e[l][s];)s++;a=new Z(Pe(i+o*n),Pe(r),Pe(i+s*n),Pe(r+n)),h.push(a.points())}}t.children.push(t.createMultiLine(h,{fill:c.options.color,stroke:c.options.color,strokeWidth:0,align:!1}))},_renderBackground:function(t,e,n){var i=this;t.children.push(t.createRect(Z(0,0,e,e).unpad(n.width/2),{fill:i.options.background,stroke:n.color,strokeWidth:n.width,align:!1}))},setOptions:function(t){var n=this;t=t||{},n.options=X(n.options,t),t.value!==e&&(n._value=n.options.value+""),n.redraw()},value:function(t){var n=this;return t===e?n._value:(n._value=t+"",n.redraw(),e)},options:{name:"QRCode",renderAs:"svg",encoding:"ISO_8859_1",value:"",errorCorrection:q.DEFAULT_ERROR_CORRECTION_LEVEL,background:q.DEFAULT_BACKGROUND,color:q.DEFAULT_DARK_MODULE_COLOR,size:"",padding:0,border:{color:"",width:0}}}),Q.ui.plugin($),Y.deepExtend(Q,{QRCode:$,QRCodeDefaults:q,QRCodeFunctions:{FreeCellVisitor:m,fillData:v,padDataString:y,generateErrorCodewords:x,xorPolynomials:_,getBlocks:b,multiplyPolynomials:w,chooseMode:k,getModes:C,getDataCodewordsCount:S,getVersion:T,getDataString:D,encodeFormatInformation:A,encodeBCH:P,dividePolynomials:M,initMatrices:E,addFormatInformation:I,encodeVersionInformation:L,addVersionInformation:B,addCentricPattern:z,addFinderSeparator:F,addFinderPatterns:R,addAlignmentPatterns:O,addTimingFunctions:N,scoreMaskMatrixes:V,encodeData:G,UTF8Encoder:W},QRCodeFields:{modes:p,powersOfTwo:ie,powersOfTwoResult:re,generatorPolynomials:oe}})}(window.kendo.jQuery),function(t,e){function n(){}function i(t){return n.prototype=t,new n}var r,o=window.kendo,a=o.Class,s=o.Observable,l=o.deepExtend,c=Math,h=t.proxy,d=o.dataviz,u=d.defined,f=d.filterSeriesByType,p=o.template,g=d.ui.Chart,m=d.Selection,v=d.addDuration,y=d.last,_=d.limitValue,w=d.lteDateIndex,x=d.renderTemplate,b=d.toDate,k=d.toTime,C=28,S="change",T="k-",D="drag",A="dragEnd",P="_navigator",M=P,E=d.EQUALLY_SPACED_SERIES,I=3,L="zoom",B="zoomEnd",z=g.extend({init:function(e,n){t(e).addClass(T+"chart"),g.fn.init.call(this,e,n)},_applyDefaults:function(t,e){var n=this,i=n.element.width()||d.DEFAULT_WIDTH,r={seriesDefaults:{categoryField:t.dateField},axisDefaults:{categoryAxis:{name:"default",majorGridLines:{visible:!1},labels:{step:2},majorTicks:{visible:!1},maxDateGroups:c.floor(i/C)}}};e&&(e=l({},e,r)),n._navigator||F.setup(t,e),g.fn._applyDefaults.call(n,t,e)},_initDataSource:function(t){var e,n,i=t||{},r=i.dataSource,o=r&&r.serverFiltering,a=[].concat(i.categoryAxis)[0],s=i.navigator||{},c=s.select,h=c&&c.from&&c.to;o&&h&&(e=[].concat(r.filter||[]),n=new d.DateCategoryAxis(l({baseUnit:"fit"},a,{categories:[c.from,c.to]})),r.filter=F.buildFilter(n.range().min,c.to).concat(e)),g.fn._initDataSource.call(this,t)},options:{name:"StockChart",dateField:"date",axisDefaults:{categoryAxis:{type:"date",baseUnit:"fit",justified:!0},valueAxis:{narrowRange:!0,labels:{format:"C"}}},navigator:{select:{},seriesDefaults:{markers:{visible:!1},tooltip:{visible:!0,template:"#= kendo.toString(category, 'd') #"},line:{width:2}},hint:{},visible:!0},tooltip:{visible:!0},legend:{visible:!1}},_resize:function(){var t=this.options.transitions;this.options.transitions=!1,this._fullRedraw(),this.options.transitions=t},_redraw:function(){var t=this,e=t._navigator;e&&e.dataSource?e.redrawSlaves():t._fullRedraw()},_fullRedraw:function(){var t=this,e=t._navigator;e||(e=t._navigator=new F(t)),g.fn._redraw.call(t),e.redraw(),e.redrawSlaves()},_onDataChanged:function(){var t=this;g.fn._onDataChanged.call(t),t._dataBound=!0},_bindCategoryAxis:function(t,e,n){var i,r=this,o=r.options.categoryAxis,a=o.length;if(g.fn._bindCategoryAxis.apply(this,arguments),t.name===M)for(;a>n;)i=o[n++],i.pane==P&&(i.categories=t.categories)},_trackSharedTooltip:function(t){var e=this,n=e._plotArea,i=n.paneByPoint(t);i&&i.options.name===P?e._unsetActivePoint():g.fn._trackSharedTooltip.call(e,t)},destroy:function(){var t=this;t._navigator.destroy(),g.fn.destroy.call(t)}}),F=s.extend({init:function(t){var e=this;e.chart=t,e.options=l({},e.options,t.options.navigator),e._initDataSource(),u(e.options.hint.visible)||(e.options.hint.visible=e.options.visible),t.bind(D,h(e._drag,e)),t.bind(A,h(e._dragEnd,e)),t.bind(L,h(e._zoom,e)),t.bind(B,h(e._zoomEnd,e))},options:{},_initDataSource:function(){var t=this,e=t.options,n=e.autoBind,i=e.dataSource;u(n)||(n=t.chart.options.autoBind),t._dataChangedHandler=h(t._onDataChanged,t),i&&(t.dataSource=o.data.DataSource.create(i).bind(S,t._dataChangedHandler),n&&t.dataSource.fetch())},_onDataChanged:function(){var t,e,n,i,r,o=this,a=o.chart,s=a.options.series,l=s.length,c=a.options.categoryAxis,h=c.length,d=o.dataSource.view();for(t=0;l>t;t++)n=s[t],n.axis==M&&a._isBindable(n)&&(n.data=d);for(e=0;h>e;e++)i=c[e],i.pane==P&&(i.name==M?(a._bindCategoryAxis(i,d,e),r=i.categories):i.categories=r);a._model&&(o.redraw(),o.filterAxes(),(!a.options.dataSource||a.options.dataSource&&a._dataBound)&&o.redrawSlaves())},destroy:function(){var t=this,e=t.dataSource;e&&e.unbind(S,t._dataChangeHandler),t.selection&&t.selection.destroy()},redraw:function(){this._redrawSelf();var e=this,n=e.chart,o=e.options,a=e.mainAxis(),s=i(a),l=a.options.categories,c=e.options.select||{},h=e.selection,d=a.range(),u=d.min,f=d.max,p=b(c.from)||u,g=b(c.to)||f;u>p&&(p=u),g>f&&(g=f),l.length>0&&(h&&(h.destroy(),h.wrapper.remove()),s.box=a.box,h=e.selection=new m(n,s,{min:u,max:f,from:p,to:g,selectStart:t.proxy(e._selectStart,e),select:t.proxy(e._select,e),selectEnd:t.proxy(e._selectEnd,e),mousewheel:{zoom:"left"}}),o.hint.visible&&(e.hint=new r(n.element,{min:u,max:f,template:o.hint.template,format:o.hint.format})),e.readSelection(),e.filterAxes())},_redrawSelf:function(t){var e=this.chart._plotArea;e&&e.redraw(y(e.panes),t)},redrawSlaves:function(){var t=this,e=t.chart,n=e._plotArea,i=n.panes.slice(0,-1);n.srcSeries=e.options.series,n.redraw(i)},_drag:function(t){var e,n,i,r=this,o=r.chart,a=o._eventCoordinates(t.originalEvent),s=r.mainAxis(),l=s.range(),c=s.pane.box.containsPoint(a),h=o._plotArea.categoryAxis,d=t.axisRanges[h.options.name],u=r.options.select,f=r.selection;d&&!c&&f&&(e=u.from&&u.to?k(u.to)-k(u.from):k(f.options.to)-k(f.options.from),n=b(_(k(d.min),l.min,k(l.max)-e)),i=b(_(k(n)+e,k(l.min)+e,l.max)),r.options.select={from:n,to:i},r._liveDrag()&&(r.filterAxes(),r.redrawSlaves()),f.set(n,i),r.showHint(n,i))},_dragEnd:function(){var t=this;t.filterAxes(),t.filterDataSource(),t.redrawSlaves(),t.hint&&t.hint.hide()},_liveDrag:function(){var t=o.support,e=t.touch,n=t.browser,i=n.mozilla,r=n.msie&&9>n.version;return!e&&!i&&!r},readSelection:function(){var t=this,e=t.selection,n=e.options,i=t.options.select;i.from=n.from,i.to=n.to},filterAxes:function(){var t,e,n=this,i=n.options.select||{},r=n.chart,o=r.options.categoryAxis,a=i.from,s=i.to;for(t=0;o.length>t;t++)e=o[t],e.pane!==P&&(e.min=b(a),e.max=b(s))},filterDataSource:function(){var t,e=this,n=e.options.select||{},i=e.chart,r=i.dataSource,o=r&&r.options.serverFiltering;e.dataSource&&o&&(t=new d.DateCategoryAxis(l({baseUnit:"fit"},i.options.categoryAxis[0],{categories:[n.from,n.to]})).options,r.filter(F.buildFilter(v(t.min,-t.baseUnitStep,t.baseUnit),v(t.max,t.baseUnitStep,t.baseUnit))))},_zoom:function(t){var e,n,i=this,r=i.chart,a=t.delta,s=r._plotArea.categoryAxis,l=i.options.select,h=i.selection,d=i.mainAxis().options.categories;h&&(e=w(h.options.from,d),n=w(h.options.to,d),t.originalEvent.preventDefault(),c.abs(a)>1&&(a*=I),n-e>1?(h.expand(a),i.readSelection()):(s.options.min=l.from,l.from=s.scaleRange(-t.delta).min),o.support.touch||(i.filterAxes(),i.redrawSlaves()),h.set(l.from,l.to),i.showHint(i.options.select.from,i.options.select.to))},_zoomEnd:function(t){this._dragEnd(t)},showHint:function(t,e){var n=this,i=n.chart,r=i._plotArea;n.hint&&n.hint.show(t,e,r.backgroundBox())},_selectStart:function(t){var e=this.chart;e._selectStart.call(e,t)},_select:function(t){var e=this,n=e.chart;e.showHint(t.from,t.to),n._select.call(n,t)},_selectEnd:function(t){var e=this,n=e.chart;e.hint&&e.hint.hide(),e.readSelection(),e.filterAxes(),e.filterDataSource(),e.redrawSlaves(),n._selectEnd.call(n,t)},mainAxis:function(){var t=this.chart._plotArea;return t?t.namedCategoryAxes[M]:e}});F.setup=function(t,e){t=t||{},e=e||{};var n=l({},e.navigator,t.navigator),i=t.panes=[].concat(t.panes),r=l({},n.pane,{name:P});n.visible||(r.visible=!1,r.height=.1),i.push(r),F.attachAxes(t,n),F.attachSeries(t,n,e)},F.attachAxes=function(t,e){var n=e.series||[],i=t.categoryAxis=[].concat(t.categoryAxis),r=t.valueAxis=[].concat(t.valueAxis),o=f(n,E),a=0===o.length,s=l({type:"date",pane:P,roundToBaseUnit:!a,justified:a,_collapse:!1,tooltip:{visible:!1},labels:{step:1},autoBind:!e.dataSource,autoBaseUnitSteps:{minutes:[1],hours:[1,2],days:[1,2],weeks:[],months:[1],years:[1]},_overlap:!1}),c=e.categoryAxis;i.push(l({},s,{maxDateGroups:200},c,{name:M,baseUnit:"fit",baseUnitStep:"auto",labels:{visible:!1},majorTicks:{visible:!1}}),l({},s,c,{name:M+"_labels",maxDateGroups:20,baseUnitStep:"auto",autoBaseUnitSteps:{minutes:[]},majorTicks:{visible:!0}}),l({},s,c,{name:M+"_ticks",maxDateGroups:200,majorTicks:{visible:!0,width:.5},labels:{visible:!1,mirror:!0}})),r.push(l({name:M,pane:P,majorGridLines:{visible:!1},visible:!1},e.valueAxis))},F.attachSeries=function(t,e,n){var i,r=t.series=t.series||[],o=[].concat(e.series||[]),a=n.seriesColors,s=e.seriesDefaults;for(i=0;o.length>i;i++)r.push(l({color:a[i%a.length],categoryField:e.dateField,visibleInLegend:!1,tooltip:{visible:!1}},s,o[i],{axis:M,categoryAxis:M,autoBind:!e.dataSource}))},F.buildFilter=function(t,e){return[{field:"Date",operator:"gte",value:b(t)},{field:"Date",operator:"lt",value:b(e)}]},r=a.extend({init:function(e,n){var i=this;i.options=l({},i.options,n),i.container=e,i.chartPadding={top:parseInt(e.css("paddingTop"),10),left:parseInt(e.css("paddingLeft"),10)},i.template=i.template,i.template||(i.template=i.template=x("<div class='"+T+"navigator-hint' style='display: none; position: absolute; top: 1px; left: 1px;'><div class='"+T+"tooltip "+T+"chart-tooltip'>&nbsp;</div><div class='"+T+"scroll' /></div>")),i.element=t(i.template()).appendTo(e)},options:{format:"{0:d} - {1:d}",hideDelay:500},show:function(t,e,n){var i,r=this,a=b(k(t)+k(e-t)/2),s=r.options,l=o.format(r.options.format,t,e),c=r.element.find("."+T+"tooltip"),h=r.element.find("."+T+"scroll"),d=.4*n.width(),u=n.center().x-d,f=n.center().x,g=f-u,m=s.max-s.min,v=g/m,y=a-s.min;r._hideTimeout&&clearTimeout(r._hideTimeout),r._visible||(r.element.stop(!1,!0).css("visibility","hidden").show(),r._visible=!0),s.template&&(i=p(s.template),l=i({from:t,to:e})),c.html(l).css({left:n.center().x-c.outerWidth()/2,top:n.y1}),h.css({width:d,left:u+y*v,top:n.y1+parseInt(c.css("margin-top"),10)+parseInt(c.css("border-top-width"),10)+c.height()/2}),r.element.css("visibility","visible")},hide:function(){var t=this;t._hideTimeout&&clearTimeout(t._hideTimeout),t._hideTimeout=setTimeout(function(){t._visible=!1,t.element.fadeOut("slow")},t.options.hideDelay)}}),d.ui.plugin(z),l(d,{Navigator:F})}(window.kendo.jQuery),function(t){function e(t){return"number"==typeof t?[t]:t}var n=window.kendo,i=n.dataviz,r=i.ui.Chart,o=n.data.ObservableArray,a=i.SharedTooltip,s=n.deepExtend,l=t.isArray,c=i.inArray,h=Math,d="k-",u=150,f=150,p="bar",g="bullet",m="pie",v=[p,g],y=r.extend({init:function(n,i){var a=this,u=a.stage=t("<span />"),f=i||{};n=t(n).addClass(d+"sparkline").empty().append(u),a._initialWidth=h.floor(n.width()),f=e(f),(l(f)||f instanceof o)&&(f={seriesDefaults:{data:f}}),f.series||(f.series=[{data:e(f.data)}]),s(f,{seriesDefaults:{type:f.type}}),(c(f.series[0].type,v)||c(f.seriesDefaults.type,v))&&(f=s({},{categoryAxis:{crosshair:{visible:!1}}},f)),r.fn.init.call(a,n,f)},options:{name:"Sparkline",chartArea:{margin:2},axisDefaults:{visible:!1,majorGridLines:{visible:!1},valueAxis:{narrowRange:!0}},seriesDefaults:{type:"line",area:{line:{width:.5}},bar:{stack:!0},padding:2,width:.5,overlay:{gradient:null},highlight:{visible:!1},border:{width:0},markers:{size:2,visible:!1}},tooltip:{visible:!0,shared:!0},categoryAxis:{crosshair:{visible:!0,tooltip:{visible:!1}}},legend:{visible:!1},transitions:!1,pointWidth:5,panes:[{clip:!1}]},_applyDefaults:function(t){var e=this,n=i.ViewFactory.current.create({},t.renderAs);i.CanvasView&&n instanceof i.CanvasView&&s(t,{categoryAxis:{crosshair:{visible:!1}}}),r.fn._applyDefaults.apply(e,arguments)},_modelOptions:function(){var e,n,i=this,r=i.options,o=i._initialWidth,a=i.stage;return i.stage.children().hide(),n=t("<span>&nbsp;</span>"),i.stage.append(n),e=s({width:o?o:i._autoWidth(),height:a.height(),transitions:r.transitions},r.chartArea,{inline:!0,align:!1}),a.css({width:e.width,height:e.height}),n.remove(),i.stage.children().show(),i.surface.resize(),e},_createTooltip:function(){var t,e=this,n=e.options,i=e.element;return t=e._sharedTooltip()?new _(i,e._plotArea,n.tooltip):r.fn._createTooltip.call(e)},_surfaceWrap:function(){return this.stage},_autoWidth:function(){var t,e,n,r=this,o=r.options,a=i.getSpacing(o.chartArea.margin),s=o.series,l=r.dataSource.total(),c=0;for(e=0;s.length>e;e++){if(n=s[e],n.type===p)return u;if(n.type===g)return f;if(n.type===m)return r.stage.height();n.data&&(c=h.max(c,n.data.length))}return t=h.max(l,c)*o.pointWidth,t>0&&(t+=a.left+a.right),t}}),_=a.extend({options:{animation:{duration:0}},_anchor:function(t,e){var n=a.fn._anchor.call(this,t,e),i=this._measure();return n.y=-i.height-this.options.offset,n},_hideElement:function(){this.element&&this.element.hide().remove()}});i.ui.plugin(y),s(i,{SparklineSharedTooltip:_})}(window.kendo.jQuery),function(t){function e(t){this.view=t}function n(t){this.view=t}function i(t){this.view=t}function r(){return d.support.browser.msie&&!T()&&void 0!==window.performance}function o(t,e,n){var i=new g(t),r=new g(e),o=a(i.r,r.r,n),s=a(i.g,r.g,n),l=a(i.b,r.b,n);return new g(o,s,l).toHex()}function a(t,e,n){return h.round(n*e+(1-n)*t)}function s(t,e){var n,i,r,a=e.stops,s=a.length,l=f({},e);for(l.stops=[],n=0;s>n;n++)i=a[n],r=l.stops[n]=f({},a[n]),r.color=o(t,i.color,i.opacity),r.opacity=0;return l}var l,c=document,h=Math,d=window.kendo,u=d.Class,f=d.deepExtend,p=d.dataviz,g=d.drawing.Color,m=p.Box2D,v=p.Point2D,y=p.ExpandAnimation,_=p.ViewBase,w=p.ViewElement,x=p.defined,b=p.renderTemplate,k=p.uniqueId,C=p.rotatePoint,S=p.round,T=p.supportsSVG,D="#000",A=p.CLIP,P=p.COORD_PRECISION,M=p.DEFAULT_WIDTH,E=p.DEFAULT_HEIGHT,I=p.DEFAULT_FONT,L="object",B="linear",z="radial",F="transparent",R=_.extend({init:function(t){var o=this;_.fn.init.call(o,t),o.decorators.push(new e(o),new n(o),new i(o)),p.ui.Chart&&o.decorators.push(new p.BarAnimationDecorator(o),new p.PieAnimationDecorator(o),new p.BubbleAnimationDecorator(o)),o.decorators.push(new l(o)),r()||o.decorators.push(new p.FadeAnimationDecorator(o)),p.Gauge&&o.decorators.push(new p.RadialPointerAnimationDecorator(o),new p.ArrowPointerAnimationDecorator(o),new p.BarIndicatorAnimationDecorator(o)),o.template=R.template,o.tagName=o.options.inline?"span":"div",o.template||(o.template=R.template=b("<#= d.tagName # style='width:#= d.options.width #px; height:#= d.options.height #px; position: relative;'>#= d.renderContent() #</#= d.tagName #>"))},options:{width:M,height:E},renderTo:function(t){var e,n=this;return c.namespaces&&c.namespaces.add("kvml","urn:schemas-microsoft-com:vml","#default#VML"),n.setupAnimations(),t.innerHTML=n.render(),n.playAnimations(),e=t.firstChild,n._viewElement=e,e},renderElement:function(t){var e,n=c.createElement("div");return n.style.display="none",c.body.appendChild(n),n.innerHTML=t.render(),e=n.firstChild,c.body.removeChild(n),e},createText:function(t,e){return this.decorate(new O(t,e))},createTextBox:function(t){return this.decorate(new N(t))},createRect:function(t,e){return this.decorate(new j(t.points(),!0,this.setDefaults(e)))},createCubicCurve:function(t,e,n){return new W(t,e,n)},createLine:function(t,e,n,i,r){return this.decorate(new j([new v(t,e),new v(n,i)],!1,this.setDefaults(r)))},createMultiLine:function(t,e){return this.decorate(new G(t,!1,this.setDefaults(e)))},createPolyline:function(t,e,n){return this.decorate(new j(t,e,this.setDefaults(n)))},createCircle:function(t,e,n){return this.decorate(new Y(t,e,n))},createSector:function(t,e){return this.decorate(new $(t,e))},createRing:function(t,e){return this.decorate(new q(t,this.setDefaults(e)))},createGroup:function(t){return this.decorate(new X(this.setDefaults(t)))},createClipPath:function(t,e){var n,i=this;return n=new Q(e,{id:t}),i.definitions[t]=n,n},createGradient:function(t){var e=x(t.cx)&&x(t.cy)&&x(t.bbox);return t.type===z&&e?new J(t):t.type===B?new Z(t):D}}),O=w.extend({init:function(t,e){var n=this;w.fn.init.call(n,e),n.content=t,n.template=O.template,n.template||(n.template=O.template=b("#if (d.options.matrix) {#<kvml:shape #= d.renderId() # #= d.renderDataAttributes() #style='position: absolute; top: 0px; left: 0px; width: 1px; height: 1px;' stroked='false' coordsize='1,1'>#= d.renderPath() #<kvml:fill color='#= d.options.color #' /><kvml:textpath on='true' style='font: #= d.options.font #;' fitpath='false' string='#= d.content #' /></kvml:shape>#} else {#<kvml:textbox #= d.renderId() # #= d.renderDataAttributes() #style='position: absolute; left: #= d.options.x #px; top: #= d.options.y #px; font: #= d.options.font #; color: #= d.options.color #; visibility: #= d.renderVisibility() #; white-space: nowrap; #= d.renderCursor() #'>#= d.content #</kvml:textbox>#}#"))},options:{x:0,y:0,font:I,color:D,fillOpacity:1,cursor:{}},refresh:function(e){t(e).css("visibility",this.renderVisibility())},clone:function(){var t=this;return new O(t.content,f({},t.options))},renderVisibility:function(){return this.options.fillOpacity>0?"visible":"hidden"},renderCursor:function(){var t=this.options,e="";return x(t.cursor.style)&&(e+="cursor: "+t.cursor.style+";"),e},renderPath:function(){var t=this,e=t.options,n=e.matrix,i=e.size,r=e.x,o=e.y+i.height/2,a=v(r,o),s=v(r+i.width,o);return a.transform(n),s.transform(n),"<kvml:path textpathok='true' v='m "+S(a.x)+","+S(a.y)+" l "+S(s.x)+","+S(s.y)+"' />"}}),N=w.extend({init:function(t){var e=this;w.fn.init.call(e,t),e.template=N.template,e.template||(e.template=N.template=b("# if (d.options.matrix) {##= d.renderRotatedChildren() ##} else {##= d.renderContent() ##}#"))},renderRotatedChildren:function(){var t,e=this,n=e.options.matrix,i="",r=e.sortChildren(),o=r.length;for(t=0;o>t;t++)r[t].options.matrix=n,i+=r[t].render();return i}}),V=w.extend({init:function(t){var e=this;w.fn.init.call(e,t),e.template=V.template,e.template||(e.template=V.template=b('<kvml:stroke on=\'#= !!d.options.stroke && !!d.options.strokeWidth #\' #= d.renderAttr("color", d.options.stroke) #weight=\'#= d.options.strokeWidth || 0 #px\' #= d.renderAttr("dashstyle", d.options.dashType) ##= d.renderAttr("opacity", d.options.strokeOpacity) # />'))},refresh:function(t){try{t.opacity=this.options.strokeOpacity}catch(e){}}}),H=w.extend({init:function(t){var e=this;w.fn.init.call(e,t),e.template=H.template,e.template||(e.template=H.template=b('<kvml:fill on=\'#= d.isEnabled() #\' #= d.renderAttr("color", d.options.fill) ##= d.renderAttr("weight", d.options.fillWidth) ##= d.renderAttr("opacity", d.options.fillOpacity) # />'))},isEnabled:function(){var t=this.options.fill;return!!t&&t.toLowerCase()!==F},refresh:function(t){try{t.opacity=this.options.fillOpacity}catch(e){}}}),U=w.extend({init:function(t){var e=this;w.fn.init.call(e,t),e.template=U.template,e.template||(e.template=U.template=b("<kvml:shape #= d.renderId() # #= d.renderDataAttributes() #style='position:absolute; #= d.renderSize() # display:#= d.renderDisplay() #; #= d.renderCursor() #' coordorigin='0 0' #= d.renderCoordsize() #><kvml:path v='#= d.renderPoints() # e' />#= d.fill.render() + d.stroke.render() #</kvml:shape>")),e.stroke=new V(e.options),e.fill=new H(e.options)},options:{fill:"",fillOpacity:1,strokeOpacity:1,rotation:[0,0,0],visible:!0,cursor:{}},renderCoordsize:function(){var t=this.options.align===!1?1e4:1;return"coordsize='"+t+" "+t+"'"},renderSize:function(){var t=this.options.align===!1?100:1;return"width:"+t+"px; height:"+t+"px;"},render:function(){var t=this;return t.fill.options.fillOpacity=t.options.fillOpacity,t.stroke.options.strokeOpacity=t.options.strokeOpacity,w.fn.render.call(t)},renderDisplay:function(){return this.options.visible?"block":"none"},renderPoints:function(){},refresh:function(e){if(e){var n=this,i=t(e),r=i[0].parentNode,o=n.fill,a=n.stroke;r&&(i.find("path")[0].v=this.renderPoints(),o.options=a.options=n.options,o.refresh(i.find("fill")[0]),a.refresh(i.find("stroke")[0]),i.css("display",n.renderDisplay()),r.style.cssText=r.style.cssText)}},renderCursor:function(){var t=this.options,e="";return x(t.cursor.style)&&(e+="cursor: "+t.cursor.style+";"),e}}),W=U.extend({init:function(t,e,n){var i=this;U.fn.init.call(i,e),i.points=t,i.areaPoints=n},renderPoints:function(){var t,e,n,i,r=this,o=r.areaPoints,a=r.points,s=[];for(t=1;a.length>t;t+=3){for(n=[],i=0;3>i;i++)e=a[t+i],n.push(S(e.x)+","+S(e.y));s.push("C "+n.join(" "))}if(o&&o.length){for(t=0;o.length>t;t++)s.push("L "+S(o[t].x)+","+S(o[t].y));s.push("X")}return"M "+h.round(a[0].x)+","+h.round(a[0].y)+" "+s.join(" ")+" E"}}),j=U.extend({init:function(t,e,n){var i=this;U.fn.init.call(i,n),i.points=t,i.closed=e},renderPoints:function(){var t=this,e=t.points;return t._renderPoints(e)},_renderPoints:function(t){var e,n=this,i=t.length,r=function(t){var e=n.options,i=e.rotation,r=e.matrix;
return r?t.clone().transform(r):C(t.x,t.y,i[1],i[2],-i[0])},o="m "+n._print(r(t[0]));if(i>1)for(o+=" l ",e=1;i>e;e++)o+=n._print(r(t[e])),i-1>e&&(o+=", ");return n.closed&&(o+=" x"),o},clone:function(){var t=this;return new j(f([],t.points),t.closed,f({},t.options))},_print:function(t){var e=this.options.align===!1?100:1;return h.round(t.x*e)+","+h.round(t.y*e)}}),G=j.extend({renderPoints:function(){var t,e=this,n=e.points,i=[];for(t=0;n.length>t;t++)i.push(e._renderPoints(n[t]));return i.join(" ")}}),q=U.extend({init:function(t,e){var n=this;U.fn.init.call(n,e),n.pathTemplate=q.pathTemplate,n.pathTemplate||(n.pathTemplate=q.pathTemplate=b("M #= d.osp.x #,#= d.osp.y # WA #= d.obb.l #,#= d.obb.t # #= d.obb.r #,#= d.obb.b # #= d.osp.x #,#= d.osp.y # #= d.oep.x #,#= d.oep.y # L #= d.iep.x #,#= d.iep.y # AT #= d.ibb.l #,#= d.ibb.t # #= d.ibb.r #,#= d.ibb.b # #= d.iep.x #,#= d.iep.y # #= d.isp.x #,#= d.isp.y # X E")),n.config=t},renderPoints:function(){function t(t){return new v(S(t.x),S(t.y))}var e,n,i,r,o=this,a=o.config,s=h.max(S(a.r),0),l=h.max(S(a.ir),0),c=S(a.c.x),d=S(a.c.y),u=a.startAngle,f=a.angle+u,p=f-u,g={l:c-s,t:d-s,r:c+s,b:d+s},m={l:c-l,t:d-l,r:c+l,b:d+l};return 1>=p?f+=1-p:p>359&&(f-=1-p),e=t(a.point(u)),n=t(a.point(u,!0)),r=t(a.point(f)),i=t(a.point(f,!0)),o.pathTemplate({obb:g,ibb:m,osp:e,isp:n,oep:r,iep:i,cx:c,cy:d})},clone:function(){var t=this;return new q(f({},t.config),f({},t.options))}}),$=q.extend({init:function(t,e){var n=this;q.fn.init.call(n,t,e),n.pathTemplate=$.pathTemplate,n.pathTemplate||(n.pathTemplate=$.pathTemplate=b("M #= d.osp.x #,#= d.osp.y # WA #= d.obb.l #,#= d.obb.t # #= d.obb.r #,#= d.obb.b # #= d.osp.x #,#= d.osp.y # #= d.oep.x #,#= d.oep.y # L #= d.cx #,#= d.cy # X E"))},clone:function(){var t=this;return new $(f({},t.config),f({},t.options))}}),Y=w.extend({init:function(t,e,n){var i=this;w.fn.init.call(i,n),i.c=t,i.r=e,i.template=Y.template,i.template||(i.template=Y.template=b("<kvml:oval #= d.renderId() # #= d.renderDataAttributes() #style='position:absolute; width:#= d.r * 2 #px; height:#= d.r * 2 #px; top:#= d.c.y - d.r #px; left:#= d.c.x - d.r #px;'>#= d.fill.render() + d.stroke.render() #</kvml:oval>")),i.stroke=new V(i.options),i.fill=new H(i.options)},options:{fill:"",fillOpacity:1},refresh:function(e){var n=this,i=n.c,r=h.max(0,n.r),o=2*r,a=t(e);a.css({width:o,height:o,top:i.y-r,left:i.x-r}),n.fill.options=n.options,n.fill.refresh(a.find("fill")[0])},clone:function(){var t=this;return new Y(f({},t.c),t.r,f({},t.options))}}),X=w.extend({init:function(t){var e=this;w.fn.init.call(e,t),e.tagName=e.options.inline?"span":"div",e.template=X.template,e.template||(e.template=X.template=b("<#= d.tagName # #= d.renderId() ##= d.renderDataAttributes() #style='position: absolute; white-space: nowrap;'>#= d.renderContent() #</#= d.tagName #>"))}}),Q=w.extend({init:function(t,e){var n=this;w.fn.init.call(n,e),n.tagName=n.options.inline?"span":"div",n.template=Q.template,n.clipTemplate=Q.clipTemplate,n.template||(n.template=Q.template=b("<#= d.tagName # #= d.renderId() #style='position:absolute;width:#= d.box.width() + d.box.x1 #px; height:#= d.box.height() + d.box.y1 #px; top:0px; left:0px; clip:#= d._renderClip() #;' >#= d.renderContent() #</#= d.tagName #>"),n.clipTemplate=Q.clipTemplate=b("rect(#= d.points[0].y #px #= d.points[1].x #px #= d.points[2].y #px #= d.points[0].x #px)")),n.box=t,n.points=t.points()},clone:function(){var t=this;return new Q(t.box,f({},t.options))},refresh:function(t){t&&(t.style.clip=this._renderClip())},_renderClip:function(){return this.clipTemplate(this)},destroy:function(){t("#"+this.options.id+">*").unwrap()}}),K=w.extend({init:function(t){var e=this;w.fn.init.call(e,t)},options:{opacity:1},renderColors:function(){var t,e,n=this,i=n.options,r=i.stops,o=r.length,a=[],s=h.round;for(e=0;o>e;e++)t=r[e],a.push(s(100*t.offset)+"% "+t.color);return a.join(",")}}),Z=K.extend({init:function(t){var e=this;K.fn.init.call(e,t),e.template=Z.template,e.template||(e.template=Z.template=b("<kvml:fill type='gradient' angle='#= 270 - d.options.rotation #' colors='#= d.renderColors() #' opacity='#= d.options.opacity #' />"))},options:{rotation:0}}),J=K.extend({init:function(t){var e=this;K.fn.init.call(e,t),e.template=J.template,e.template||(e.template=J.template=b("<kvml:fill type='gradienttitle' focus='100%' focusposition='#= d.focusPosition() #'colors='#= d.renderColors() #' color='#= d.firstColor() #' color2='#= d.lastColor() #' opacity='#= d.options.opacity #' />"))},focusPosition:function(){var t=this.options,e=t.bbox,n=t.cx,i=t.cy,r=Math.max(0,Math.min(1,(n-e.x1)/e.width())),o=Math.max(0,Math.min(1,(i-e.y1)/e.height()));return S(r,P)+" "+S(o,P)},firstColor:function(){var t=this.options.stops;return t[0].color},lastColor:function(){var t=this.options.stops;return t[t.length-1].color}});e.prototype={decorate:function(t){var e,n,i=t.options,r=this.view;return i.overlay&&(n=i.overlay.bbox,e=r.buildGradient(f({},i.overlay,{_overlayFill:i.fill,_bboxHash:x(n)?n.getHash():""}))),e?(delete i.overlay,i.fill=f(s(i.fill,e),{opacity:i.fillOpacity}),t):t}},n.prototype={decorate:function(t){var e=this,n=e.view,i=t.options,r=i.fill;return r&&r.supportVML!==!1&&(r.gradient&&(r=n.buildGradient(r)),typeof r===L&&(t.fill=n.createGradient(r))),t}},i.prototype={decorate:function(t){var e=this,n=e.view,i=n.definitions[t.options.clipPathId];return i?(i=i.clone(),i.options.id=k(),i.children.push(t),i):t}},l=u.extend({init:function(t){this.view=t},decorate:function(t){var e,n=this,i=n.view,r=i.options,o=t.options.animation;return o&&o.type===A&&r.transitions?(e=new Q(new m(0,0,r.width,r.height),{id:k(),inline:r.inline}),i.animations.push(new y(e,{size:r.width})),e.children.push(t),e):t}}),d.support.browser.msie&&p.ViewFactory.current.register("vml",R,20),f(p,{VMLCircle:Y,VMLClipAnimationDecorator:l,VMLClipDecorator:i,VMLClipRect:Q,VMLFill:H,VMLGroup:X,VMLLine:j,VMLMultiLine:G,VMLLinearGradient:Z,VMLOverlayDecorator:e,VMLPath:U,VMLRadialGradient:J,VMLRing:q,VMLSector:$,VMLStroke:V,VMLText:O,VMLTextBox:N,VMLView:R,blendColors:o,blendGradient:s})}(window.kendo.jQuery),function(t,e){var n,i=Math,r=i.abs,o=i.atan,a=i.atan2,s=i.cos,l=i.max,c=i.min,h=i.sin,d=i.tan,u=window.kendo,f=u.Class,p=u.dataviz,g=u.deepExtend,m=u.util,v=m.defined,y=m.deg,_=m.rad,w=m.round,x=m.sqr,b=m.valueOrDefault,k=f.extend({init:function(t,e){1===arguments.length?(this.lat=t[0],this.lng=t[1]):(this.lat=t,this.lng=e)},DISTANCE_ITERATIONS:100,DISTANCE_CONVERGENCE:1e-12,DISTANCE_PRECISION:2,FORMAT:"{0:N6},{1:N6}",toArray:function(){return[this.lat,this.lng]},equals:function(t){return t&&t.lat===this.lat&&t.lng===this.lng},clone:function(){return new k(this.lat,this.lng)},round:function(t){return this.lng=w(this.lng,t),this.lat=w(this.lat,t),this},wrap:function(){return this.lng=this.lng%180,this.lat=this.lat%90,this},distanceTo:function(t,e){return this.greatCircleTo(t,e).distance},destination:function(t,e,n){var r,o,l,c,d;return e=_(e),n=n||p.map.datums.WGS84,r=_(this.lat),o=_(this.lng),l=t/u.dataviz.map.datums.WGS84.a,c=i.asin(h(r)*s(l)+s(r)*h(l)*s(e)),d=o+a(h(e)*h(l)*s(r),s(l)-h(r)*h(c)),new k(y(c),y(d))},greatCircleTo:function(t,e){var n,l,c,u,f,g,m,v,b,C,S,T,D,A,P,M,E,I,L,B,z,F,R,O,N,V,H,U,W;if(t=k.create(t),e=e||p.map.datums.WGS84,!t||this.clone().round(8).equals(t.clone().round(8)))return{distance:0,azimuthFrom:0,azimuthTo:0};for(n=e.a,l=e.b,c=e.f,u=_(t.lng-this.lng),f=o((1-c)*d(_(this.lat))),g=h(f),m=s(f),v=o((1-c)*d(_(t.lat))),b=h(v),C=s(v),S=u,D=this.DISTANCE_ITERATIONS,A=!1;!A&&D-->0;)P=h(S),M=s(S),E=i.sqrt(x(C*P)+x(m*b-g*C*M)),L=g*b+m*C*M,z=a(E,L),F=m*C*P/E,I=1-x(F),B=0,0!==I&&(B=L-2*g*b/I),T=S,R=c/16*I*(4+c*(4-3*I)),S=u+(1-R)*c*F*(z+R*E*(B+R*L*(-1+2*x(B)))),A=r(S-T)<=this.DISTANCE_CONVERGENCE;return O=I*(x(n)-x(l))/x(l),N=1+O/16384*(4096+O*(-768+O*(320-175*O))),V=O/1024*(256+O*(-128+O*(74-47*O))),H=V*E*(B+V/4*(L*(-1+2*x(B))-V/6*B*(-3+4*x(E))*(-3+4*x(B)))),U=a(C*P,m*b-g*C*M),W=a(m*P,-g*C+m*b*M),{distance:w(l*N*(z-H),this.DISTANCE_PRECISION),azimuthFrom:y(U),azimuthTo:y(W)}}});k.fn.toString=function(){return u.format(this.FORMAT,this.lng,this.lat)},k.fromLngLat=function(t){return new k(t[1],t[0])},k.fromLatLng=function(t){return new k(t[0],t[1])},k.create=function(t,n){return v(t)?t instanceof k?t.clone():1===arguments.length&&2===t.length?k.fromLatLng(t):new k(t,n):e},n=f.extend({init:function(t,e){t=k.create(t),e=k.create(e),t.lng+180>e.lng+180&&e.lat+90>t.lat+90?(this.se=t,this.nw=e):(this.se=e,this.nw=t)},contains:function(t){var e=this.nw,n=this.se,i=b(t.lng,t[1]),r=b(t.lat,t[0]);return t&&i+180>=e.lng+180&&n.lng+180>=i+180&&r+90>=n.lat+90&&e.lat+90>=r+90},center:function(){var t=this.nw,e=this.se,n=t.lng+(e.lng-t.lng)/2,i=t.lat+(e.lat-t.lat)/2;return new k(i,n)},containsAny:function(t){var e,n=!1;for(e=0;t.length>e;e++)n=n||this.contains(t[e]);return n},include:function(t){var e=this.nw,n=this.se,i=b(t.lng,t[1]),r=b(t.lat,t[0]);e.lng=c(e.lng,i),e.lat=l(e.lat,r),n.lng=l(n.lng,i),n.lat=c(n.lat,r)},includeAll:function(t){for(var e=0;t.length>e;e++)this.include(t[e])},edges:function(){var t=this.nw,e=this.se;return{nw:this.nw,ne:new k(t.lat,e.lng),se:this.se,sw:new k(t.lng,e.lat)}},toArray:function(){var t=this.nw,e=this.se;return[t,new k(t.lat,e.lng),e,new k(t.lng,e.lat)]},overlaps:function(t){return this.containsAny(t.toArray())||t.containsAny(this.toArray())}}),n.World=new n([90,-180],[-90,180]),n.create=function(t,i){return t instanceof n?t:t&&i?new n(t,i):t&&4===t.length&&!i?new n([t[0],t[1]],[t[2],t[3]]):e},g(p,{map:{Extent:n,Location:k}})}(window.kendo.jQuery),function(){var t=window.kendo,e=t.ui.Widget,n=t.template,i=t.util.valueOrDefault,r=t.util.defined,o=e.extend({init:function(t,n){e.fn.init.call(this,t,n),this._initOptions(n),this.items=[],this.element.addClass("k-widget k-attribution")},options:{name:"Attribution",separator:"&nbsp;|&nbsp;",itemTemplate:"#= text #"},filter:function(t,e){this._extent=t,this._zoom=e,this._render()},add:function(t){r(t)&&("string"==typeof t&&(t={text:t}),this.items.push(t),this._render())},remove:function(t){var e,n,i=[];for(e=0;this.items.length>e;e++)n=this.items[e],n.text!==t&&i.push(n);this.items=i,this._render()},clear:function(){this.items=[],this.element.empty()},_render:function(){var t,e,i,r=[],o=n(this.options.itemTemplate);for(t=0;this.items.length>t;t++)e=this.items[t],i=this._itemText(e),""!==i&&r.push(o({text:i}));r.length>0?this.element.empty().append(r.join(this.options.separator)).show():this.element.hide()},_itemText:function(t){var e="",n=this._inZoomLevel(t.minZoom,t.maxZoom),i=this._inArea(t.extent);return n&&i&&(e+=t.text),e},_inZoomLevel:function(t,e){var n=!0;return t=i(t,-Number.MAX_VALUE),e=i(e,Number.MAX_VALUE),n=this._zoom>t&&e>this._zoom},_inArea:function(t){var e=!0;return t&&(e=t.contains(this._extent)),e}});t.dataviz.ui.plugin(o)}(window.kendo.jQuery),function(t){function e(t){return n.format('<button class="k-button k-navigator-{0}"><span class="k-icon k-i-arrow-{0}"/></button>',t)}var n=window.kendo,i=n.ui.Widget,r=n.keys,o=t.proxy,a=".kendoNavigator",s=e("n")+e("e")+e("s")+e("w"),l=i.extend({init:function(t,e){i.fn.init.call(this,t,e),this._initOptions(e),this.element.addClass("k-widget k-header k-shadow k-navigator").append(s).on("click"+a,".k-button",o(this,"_click"));var r=this.element.parent().closest("["+n.attr("role")+"]");this._keyroot=r.length>0?r:this.element,this._tabindex(this._keyroot),this._keydown=o(this._keydown,this),this._keyroot.on("keydown",this._keydown)},options:{name:"Navigator",panStep:1},events:["pan"],dispose:function(){this._keyroot.off("keydown",this._keydown)},_pan:function(t,e){var n=this.options.panStep;this.trigger("pan",{x:t*n,y:e*n})},_click:function(e){var n=0,i=0,r=t(e.currentTarget);r.is(".k-navigator-n")?i=1:r.is(".k-navigator-s")?i=-1:r.is(".k-navigator-e")?n=1:r.is(".k-navigator-w")&&(n=-1),this._pan(n,i),e.preventDefault()},_keydown:function(t){switch(t.which){case r.UP:this._pan(0,1),t.preventDefault();break;case r.DOWN:this._pan(0,-1),t.preventDefault();break;case r.RIGHT:this._pan(1,0),t.preventDefault();break;case r.LEFT:this._pan(-1,0),t.preventDefault()}}});n.dataviz.ui.plugin(l)}(window.kendo.jQuery),function(t){function e(t,e){return n.format('<button class="k-button k-zoom-{0}" title="zoom-{0}">{1}</button>',t,e)}var n=window.kendo,i=n.ui.Widget,r=n.keys,o=t.proxy,a=".kendoZoomControl",s=e("in","+")+e("out","-"),l=187,c=189,h=61,d=173,u=i.extend({init:function(t,e){i.fn.init.call(this,t,e),this._initOptions(e),this.element.addClass("k-widget k-zoom-control k-button-wrap k-buttons-horizontal").append(s).on("click"+a,".k-button",o(this,"_click"));var r=this.element.parent().closest("["+n.attr("role")+"]");this._keyroot=r.length>0?r:this.element,this._tabindex(this._keyroot),this._keydown=o(this._keydown,this),this._keyroot.on("keydown",this._keydown)},options:{name:"ZoomControl",zoomStep:1},events:["change"],_change:function(t){var e=this.options.zoomStep;this.trigger("change",{delta:t*e})},_click:function(e){var n=t(e.currentTarget),i=1;n.is(".k-zoom-out")&&(i=-1),this._change(i),e.preventDefault()},_keydown:function(t){switch(t.which){case r.NUMPAD_PLUS:case l:case h:this._change(1);break;case r.NUMPAD_MINUS:case c:case d:this._change(-1)}}});n.dataviz.ui.plugin(u)}(window.kendo.jQuery),function(){var t=Math,e=t.atan,n=t.exp,i=t.pow,r=t.sin,o=t.log,a=t.tan,s=window.kendo,l=s.Class,c=s.dataviz,h=s.deepExtend,d=s.geometry,u=d.Point,f=c.map,p=f.Location,g=s.util,m=g.rad,v=g.deg,y=g.limitValue,_=t.PI,w=_/2,x=_/4,b=_/180,k={a:6378137,b:6356752.314245179,f:.0033528106647474805,e:.08181919084262149},C=l.extend({init:function(t){this._initOptions(t)},MAX_LNG:180,MAX_LAT:85.0840590501,INVERSE_ITERATIONS:15,INVERSE_CONVERGENCE:1e-12,options:{centralMeridian:0,datum:k},forward:function(t,e){var n=this,i=n.options,r=i.datum,o=r.a,a=i.centralMeridian,s=y(t.lat,-n.MAX_LAT,n.MAX_LAT),l=e?y(t.lng,-n.MAX_LNG,n.MAX_LNG):t.lng,c=m(l-a)*o,h=n._projectLat(s);return new u(c,h)},_projectLat:function(t){var e=this.options.datum,n=e.e,s=e.a,l=m(t),c=a(x+l/2),h=n*r(l),d=i((1-h)/(1+h),n/2);return s*o(c*d)},inverse:function(t,e){var n=this,i=n.options,r=i.datum,o=r.a,a=i.centralMeridian,s=t.x/(b*o)+a,l=y(n._inverseY(t.y),-n.MAX_LAT,n.MAX_LAT);return e&&(s=y(s,-n.MAX_LNG,n.MAX_LNG)),new p(l,s)},_inverseY:function(o){var a,s,l,c,h=this,d=h.options.datum,u=d.a,f=d.e,p=f/2,g=n(-o/u),m=w-2*e(g);for(a=0;h.INVERSE_ITERATIONS>=a&&(s=f*r(m),l=i((1-s)/(1+s),p),c=w-2*e(g*l)-m,m+=c,!(t.abs(c)<=h.INVERSE_CONVERGENCE));a++);return v(m)}}),S=C.extend({MAX_LAT:85.0511287798,_projectLat:function(t){var e=this.options.datum.a,n=m(t),i=a(x+n/2);return e*o(i)},_inverseY:function(t){var i=this.options.datum.a,r=n(-t/i);return v(w-2*e(r))}}),T=l.extend({forward:function(t){return new u(t.lng,t.lat)},inverse:function(t){return new p(t.y,t.x)}}),D=l.extend({init:function(){var t=this,e=t._proj=new S,n=this.c=2*_*e.options.datum.a;this._tm=d.transform().translate(.5,.5).scale(1/n,-1/n),this._itm=d.transform().scale(n,-n).translate(-.5,-.5)},toPoint:function(t,e,n){var i=this._proj.forward(t,n);return i.transform(this._tm).scale(e||1)},toLocation:function(t,e,n){return t=t.clone().scale(1/(e||1)).transform(this._itm),this._proj.inverse(t,n)}}),A=l.extend({init:function(){this._proj=new C},toPoint:function(t){return this._proj.forward(t)},toLocation:function(t){return this._proj.inverse(t)}}),P=l.extend({init:function(){this._proj=new T},toPoint:function(t){return this._proj.forward(t)},toLocation:function(t){return this._proj.inverse(t)}});h(c,{map:{crs:{EPSG3395:A,EPSG3857:D,EPSG4326:P},datums:{WGS84:k},projections:{Equirectangular:T,Mercator:C,SphericalMercator:S}}})}(window.kendo.jQuery),function(t){var e=t.proxy,n=window.kendo,i=n.Class,r=n.dataviz,o=n.deepExtend,a=r.map.Extent,s=n.util,l=s.defined,c=i.extend({init:function(n,i){this._initOptions(i),this.map=n,this.element=t("<div class='k-layer'></div>").css({zIndex:this.options.zIndex,opacity:this.options.opacity}).appendTo(n.scrollElement),this._beforeReset=e(this._beforeReset,this),this._reset=e(this._reset,this),this._resize=e(this._resize,this),this._panEnd=e(this._panEnd,this),this._activate(),this._updateAttribution()},destroy:function(){this._deactivate()},show:function(){this.reset(),this._activate(),this._applyExtent(!0)},hide:function(){this._deactivate(),this._setVisibility(!1)},reset:function(){this._beforeReset(),this._reset()},_reset:function(){this._applyExtent()},_beforeReset:t.noop,_resize:t.noop,_panEnd:function(){this._applyExtent()},_applyExtent:function(){var t=this.options,e=this.map.zoom(),n=!l(t.minZoom)||e>=t.minZoom,i=!l(t.maxZoom)||t.maxZoom>=e,r=a.create(t.extent),o=!r||r.overlaps(this.map.extent());this._setVisibility(n&&i&&o)},_setVisibility:function(t){this.element.css("display",t?"":"none")},_activate:function(){var t=this.map;t.bind("beforeReset",this._beforeReset),t.bind("reset",this._reset),t.bind("resize",this._resize),t.bind("panEnd",this._panEnd)},_deactivate:function(){var t=this.map;t.unbind("beforeReset",this._beforeReset),t.unbind("reset",this._reset),t.unbind("resize",this._resize),t.unbind("panEnd",this._panEnd)},_updateAttribution:function(){var t=this.map.attribution;t&&t.add(this.options.attribution)}});o(r,{map:{layers:{Layer:c}}})}(window.kendo.jQuery),function(t){var e=t.proxy,n=window.kendo,i=n.Class,r=n.data.DataSource,o=n.dataviz,a=n.deepExtend,s=n.util.last,l=n.util.defined,c=n.geometry,h=n.drawing,d=h.Group,u=o.map,f=u.Location,p=u.layers.Layer,g=p.extend({init:function(t,e){p.fn.init.call(this,t,e),this.surface=h.Surface.create(this.element,{width:t.scrollElement.width(),height:t.scrollElement.height()}),this._initRoot(),this.movable=new n.ui.Movable(this.surface.element),this._markers=[],this._click=this._handler("shapeClick"),this.surface.bind("click",this._click),this._mouseenter=this._handler("shapeMouseEnter"),this.surface.bind("mouseenter",this._mouseenter),this._mouseleave=this._handler("shapeMouseLeave"),this.surface.bind("mouseleave",this._mouseleave),this._initDataSource()},options:{autoBind:!0},destroy:function(){p.fn.destroy.call(this),this.surface.destroy(),this.dataSource.unbind("change",this._dataChange)},setDataSource:function(t){this.dataSource&&this.dataSource.unbind("change",this._dataChange),this.dataSource=t,this.dataSource.bind("change",this._dataChange),this.options.autoBind&&this.dataSource.fetch()},_reset:function(){p.fn._reset.call(this),this._translateSurface(),this._data&&this._load(this._data)},_initRoot:function(){this._root=new d,this.surface.draw(this._root)},_beforeReset:function(){this.surface.clear(),this._initRoot()},_resize:function(){this.surface.size(this.map.size())},_initDataSource:function(){var t=this.options.dataSource;this._dataChange=e(this._dataChange,this),this.dataSource=r.create(t).bind("change",this._dataChange),t&&this.options.autoBind&&this.dataSource.fetch()},_dataChange:function(t){this._data=t.sender.view(),this._load(this._data)},_load:function(t){var e,n,i;for(this._clearMarkers(),this._loader||(this._loader=new m(this.map,this.options.style,this)),e=new d,n=0;t.length>n;n++)i=this._loader.parse(t[n]),i&&e.append(i);this._root.clear(),this._root.append(e)},shapeCreated:function(t){var e,n=!1;return t instanceof h.Circle&&(n=l(this._createMarker(t))),n||(e={layer:this,shape:t},n=this.map.trigger("shapeCreated",e)),n},_createMarker:function(t){var e=this.map.markers.bind({location:t.location},t.dataItem);return e&&this._markers.push(e),e},_clearMarkers:function(){for(var t=0;this._markers.length>t;t++)this.map.markers.remove(this._markers[t]);this._markers=[]},_panEnd:function(t){p.fn._panEnd.call(this,t),this._translateSurface()},_translateSurface:function(){var t=this.map,e=t.locationToView(t.extent().nw);this.surface.translate&&(this.surface.translate(e),this.movable.moveTo({x:e.x,y:e.y}))},_handler:function(t){var e=this;return function(n){if(n.element){var i={layer:e,shape:n.element,originalEvent:n.originalEvent};e.map.trigger(t,i)}}}}),m=i.extend({init:function(t,e,n){this.observer=n,this.locator=t,this.style=e},parse:function(t){var e=new d;return"Feature"===t.type?this._loadGeometryTo(e,t.geometry,t):this._loadGeometryTo(e,t,t),2>e.children.length&&(e=e.children[0]),e},_shapeCreated:function(t){var e=!1;return this.observer&&this.observer.shapeCreated&&(e=this.observer.shapeCreated(t)),e},_loadGeometryTo:function(t,e,n){var i,r,o=e.coordinates;switch(e.type){case"LineString":r=this._loadPolygon(t,[o],n),this._setLineFill(r);break;case"MultiLineString":for(i=0;o.length>i;i++)r=this._loadPolygon(t,[o[i]],n),this._setLineFill(r);break;case"Polygon":this._loadPolygon(t,o,n);break;case"MultiPolygon":for(i=0;o.length>i;i++)this._loadPolygon(t,o[i],n);break;case"Point":this._loadPoint(t,o,n);break;case"MultiPoint":for(i=0;o.length>i;i++)this._loadPoint(t,o[i],n)}},_setLineFill:function(t){var e=t.segments;(4>e.length||!e[0].anchor().equals(s(e).anchor()))&&(t.options.fill=null)},_loadShape:function(t,e){return this._shapeCreated(e)||t.append(e),e},_loadPolygon:function(t,e,n){var i=this._buildPolygon(e);return i.dataItem=n,this._loadShape(t,i)},_buildPolygon:function(t){var e,n,i,r=t.length>1?h.MultiPath:h.Path,o=new r(this.style);for(e=0;t.length>e;e++)for(n=0;t[e].length>n;n++)i=this.locator.locationToView(f.fromLngLat(t[e][n])),0===n?o.moveTo(i.x,i.y):o.lineTo(i.x,i.y);return o},_loadPoint:function(t,e,n){var i=f.fromLngLat(e),r=this.locator.locationToView(i),o=new c.Circle(r,10),a=new h.Circle(o,this.style);return a.dataItem=n,a.location=i,this._loadShape(t,a)}});a(n.data,{schemas:{geojson:{type:"json",data:function(t){return"FeatureCollection"===t.type?t.features:"GeometryCollection"===t.type?t.geometries:t}}},transports:{geojson:{read:{dataType:"json"}}}}),a(o,{map:{layers:{shape:g,ShapeLayer:g},GeoJSONLoader:m}})}(window.kendo.jQuery),function(t){var e=window.kendo,n=e.getter,i=e.dataviz,r=e.deepExtend,o=e.util,a=o.defined,s=e.geometry,l=e.drawing,c=i.map,h=c.Location,d=c.layers.ShapeLayer,u=d.extend({options:{autoBind:!0,locationField:"location",valueField:"value",minSize:0,maxSize:100,scale:"sqrt",symbol:"circle"},_load:function(t){var e,i,r,o,s,l,c,d,u,f,p,g;if(0!==t.length)for(e=this.options,i=n(e.valueField),t=t.slice(0),t.sort(function(t,e){return i(e)-i(t)}),r=i(t[0]),o=this._scaleType(),l=0;t.length>l;l++)c=t[l],d=n(e.locationField)(c),u=n(e.valueField)(c),a(d)&&a(u)&&(s||(s=new o([0,u],[e.minSize,e.maxSize])),d=h.create(d),f=this.map.locationToView(d),p=s.map(u),g=this._createSymbol({center:f,size:p,style:e.style,dataItem:c,location:d}),g.dataItem=c,g.location=d,g.value=u,this._drawSymbol(g))},_scaleType:function(){var t=this.options.scale;return e.isFunction(t)?t:i.map.scales[t]},_createSymbol:function(t){var n=this.options.symbol;return e.isFunction(n)||(n=i.map.symbols[n]),n(t)},_drawSymbol:function(t){var e={layer:this,shape:t},n=this.map.trigger("shapeCreated",e);n||this.surface.draw(t)}}),f=e.Class.extend({init:function(t,e){var n,i;this._domain=t,this._range=e,n=Math.sqrt(t[1])-Math.sqrt(t[0]),i=e[1]-e[0],this._ratio=i/n},map:function(t){var e=(Math.sqrt(t)-Math.sqrt(this._domain[0]))*this._ratio;return this._range[0]+e}}),p={circle:function(t){var e=new s.Circle(t.center,t.size/2);return new l.Circle(e,t.style)},square:function(t){var e=new l.Path(t.style),n=t.size/2,i=t.center;return e.moveTo(i.x-n,i.y-n).lineTo(i.x+n,i.y-n).lineTo(i.x+n,i.y+n).lineTo(i.x-n,i.y+n).close(),e}};r(i,{map:{layers:{bubble:u,BubbleLayer:u},scales:{sqrt:f},symbols:p}})}(window.kendo.jQuery),function(t){function e(t){return new d(p(t.x),p(t.y))}function n(t,e){return"x:"+t.x+"y:"+t.y+"zoom:"+e}var i=Math,r=t.proxy,o=window.kendo,a=o.Class,s=o.template,l=o.dataviz,c=o.deepExtend,h=o.geometry,d=h.Point,u=l.map.layers.Layer,f=o.util,p=f.round,g=f.renderSize,m=f.limitValue,v=u.extend({init:function(t,e){u.fn.init.call(this,t,e),"string"==typeof this.options.subdomains&&(this.options.subdomains=this.options.subdomains.split(""));var n=this._viewType();this._view=new n(this.element,this.options)},destroy:function(){u.fn.destroy.call(this),this._view.destroy(),this._view=null},_reset:function(){u.fn._reset.call(this),this._updateView(),this._view.clear(),this._view.reset()},_viewType:function(){return y},_activate:function(){u.fn._activate.call(this),o.support.mobileOS||(this._pan||(this._pan=o.throttle(r(this._render,this),100)),this.map.bind("pan",this._pan))},_deactivate:function(){u.fn._deactivate.call(this),this._pan&&this.map.unbind("pan",this._pan)},_updateView:function(){var t=this._view,e=this.map,n=e.extent(),i={nw:e.locationToLayer(n.nw).round(),se:e.locationToLayer(n.se).round()};t.center(e.locationToLayer(e.center())),t.extent(i),t.zoom(e.zoom())},_resize:function(){this._render()},_panEnd:function(t){u.fn._panEnd.call(this,t),this._render()},_render:function(){this._updateView(),this._view.render()}}),y=a.extend({init:function(t,e){this.element=t,this._initOptions(e),this.pool=new w},options:{tileSize:256,subdomains:["a","b","c"],urlTemplate:""},center:function(t){this._center=t},extent:function(t){this._extent=t},zoom:function(t){this._zoom=t},pointToTileIndex:function(t){return new d(i.floor(t.x/this.options.tileSize),i.floor(t.y/this.options.tileSize))},clear:function(){this.pool.empty()},tileCount:function(){var t=this.size(),e=this.pointToTileIndex(this._extent.nw),n=this._extent.nw,r=this.indexToPoint(e).translate(-n.x,-n.y);return{x:i.ceil((i.abs(r.x)+t.width)/this.options.tileSize),y:i.ceil((i.abs(r.y)+t.height)/this.options.tileSize)}},size:function(){var t=this._extent.nw,e=this._extent.se,n=e.clone().translate(-t.x,-t.y);return{width:n.x,height:n.y}},indexToPoint:function(t){var e=t.x,n=t.y;return new d(e*this.options.tileSize,n*this.options.tileSize)},subdomainText:function(){var t=this.options.subdomains;return t[this.subdomainIndex++%t.length]},destroy:function(){this.element.empty(),this.pool.empty()},reset:function(){this.subdomainIndex=0,this.basePoint=this._extent.nw,this.render()},render:function(){var t,e,n,i=this.tileCount(),r=this.pointToTileIndex(this._extent.nw);for(e=0;i.x>e;e++)for(n=0;i.y>n;n++)t=this.createTile({x:r.x+e,y:r.y+n}),t.options.visible||(this.element.append(t.element),t.options.visible=!0)},createTile:function(t){var e=this.tileOptions(t);return this.pool.get(this._center,e)},tileOptions:function(t){var n=this.wrapIndex(t),i=this.indexToPoint(t),r=this.basePoint,o=i.clone().translate(-r.x,-r.y);return{index:n,currentIndex:t,point:i,offset:e(o),zoom:this._zoom,subdomain:this.subdomainText(),urlTemplate:this.options.urlTemplate,errorUrlTemplate:this.options.errorUrlTemplate}},wrapIndex:function(t){var e=i.pow(2,this._zoom);return{x:this.wrapValue(t.x,e),y:m(t.y,0,e-1)}},wrapValue:function(t,e){var n=i.abs(t)%e;return t=t>=0?n:e-(0===n?e:n)}}),_=a.extend({init:function(t){this._initOptions(t),this.createElement(),this.load(),this.options.visible=!1},options:{urlTemplate:"",errorUrlTemplate:"",visible:!1},createElement:function(){this.element=t("<img style='position: absolute; display: block; visibility: visible;' />").error(r(function(t){this.errorUrl()?t.target.setAttribute("src",this.errorUrl()):t.target.removeAttribute("src")},this))},load:function(t){this.options=c({},this.options,t);var e=this.element[0];e.style.visibility="visible",e.style.display="block",e.style.top=g(this.options.offset.y),e.style.left=g(this.options.offset.x),e.setAttribute("src",this.url()),this.options.id=n(this.options.currentIndex,this.options.zoom),this.options.visible=!0},url:function(){var t=s(this.options.urlTemplate);return t(this.urlOptions())},errorUrl:function(){var t=s(this.options.errorUrlTemplate);return t(this.urlOptions())},urlOptions:function(){var t=this.options;return{zoom:t.zoom,subdomain:t.subdomain,z:t.zoom,x:t.index.x,y:t.index.y,s:t.subdomain,quadkey:t.quadkey,q:t.quadkey,culture:t.culture,c:t.culture}},destroy:function(){this.element&&(this.element.remove(),this.element=null)}}),w=a.extend({init:function(){this._items=[]},options:{maxSize:100},get:function(t,e){var n,i=this;return n=i._items.length>=i.options.maxSize?i._update(t,e):i._create(e)},empty:function(){var t,e=this._items;for(t=0;e.length>t;t++)e[t].destroy();this._items=[]},_create:function(t){var e,i,r,o,a=this,s=a._items,l=n(t.currentIndex,t.zoom);for(i=0;s.length>i;i++)r=s[i],r.options.id===l&&(e=r,o=e);return e?e.load(t):(o=new _(t),this._items.push(o)),o},_update:function(t,e){var i,r,o,a,s=this,l=s._items,c=-Number.MAX_VALUE,h=n(e.currentIndex,e.zoom);for(o=0;l.length>o;o++){if(a=l[o],i=a.options.point.clone().distanceTo(t),a.options.id===h)return l[o];i>c&&(r=o,c=i)}return l[r].load(e),l[r]}});c(l,{map:{layers:{tile:v,TileLayer:v,ImageTile:_,TilePool:w,TileView:y}}})}(window.kendo.jQuery),function(t,e){var n=window.kendo,i=n.dataviz,r=n.deepExtend,o=n.util.defined,a=i.map.Extent,s=i.map.Location,l=i.map.layers.TileLayer,c=i.map.layers.TileView,h=l.extend({init:function(e,n){l.fn.init.call(this,e,n),this._onMetadata=t.proxy(this._onMetadata,this),this._fetchMetadata()},options:{baseUrl:"//dev.virtualearth.net/REST/v1/Imagery/Metadata/",imagerySet:"road"},_fetchMetadata:function(){var e=this.options;if(!e.key)throw Error("Bing tile layer: API key is required");t.ajax({url:e.baseUrl+e.imagerySet,data:{output:"json",include:"ImageryProviders",key:e.key,uriScheme:this._scheme(window.location.protocol)},type:"get",dataType:"jsonp",jsonp:"jsonp",success:this._onMetadata})},_scheme:function(t){return"https"===t.replace(":","")?"https":"http"},_onMetadata:function(t){var e,n;t&&t.resourceSets.length&&(e=this.resource=t.resourceSets[0].resources[0],r(this._view.options,{urlTemplate:e.imageUrl.replace("{subdomain}","#= subdomain #").replace("{quadkey}","#= quadkey #").replace("{culture}","#= culture #"),subdomains:e.imageUrlSubdomains}),n=this.options,o(n.minZoom)||(n.minZoom=e.zoomMin),o(n.maxZoom)||(n.maxZoom=e.zoomMax),this._addAttribution(),this.reset())},_viewType:function(){return d},_addAttribution:function(){var t,e,n,i,r,o=this.map.attribution;if(o&&(t=this.resource.imageryProviders))for(e=0;t.length>e;e++)for(n=t[e],i=0;n.coverageAreas.length>i;i++)r=n.coverageAreas[i],o.add({text:n.attribution,minZoom:r.zoomMin,maxZoom:r.zoomMax,extent:new a(new s(r.bbox[2],r.bbox[1]),new s(r.bbox[0],r.bbox[3]))})},imagerySet:function(t){return t?(this.options.imagerySet=t,this.map.attribution.clear(),this._fetchMetadata(),this._reset(),e):this.options.imagerySet}}),d=c.extend({options:{culture:"en-US"},tileOptions:function(t){var e=c.fn.tileOptions.call(this,t);return e.culture=this.options.culture,e.quadkey=this.tileQuadKey(this.wrapIndex(t)),e},tileQuadKey:function(t){var e,n,i,r="";for(i=this._zoom;i>0;i--)e=0,n=1<<i-1,0!==(t.x&n)&&e++,0!==(t.y&n)&&(e+=2),r+=e;return r}});r(i,{map:{layers:{bing:h,BingLayer:h,BingView:d}}})}(window.kendo.jQuery),function(t,e){var n=document,i=Math,r=t.inArray,o=t.proxy,a=window.kendo,s=a.Class,l=a.data.DataSource,c=a.ui.Tooltip,h=a.dataviz,d=a.deepExtend,u=h.map,f=u.Location,p=u.layers.Layer,g=p.extend({init:function(t,e){p.fn.init.call(this,t,e),this._markerClick=o(this._markerClick,this),this.element.on("click",".k-marker",this._markerClick),this.items=[],this._initDataSource()},destroy:function(){p.fn.destroy.call(this),this.element.off("click",".k-marker",this._markerClick),this.dataSource.unbind("change",this._dataChange),this.clear()},options:{zIndex:1e3,autoBind:!0,dataSource:{},locationField:"location",titleField:"title"},add:function(e){if(!t.isArray(e))return this._addOne(e);for(var n=0;e.length>n;n++)this._addOne(e[n])},remove:function(t){t.destroy();var e=r(t,this.items);e>-1&&this.items.splice(e,1)},clear:function(){for(var t=0;this.items.length>t;t++)this.items[t].destroy();this.items=[]},update:function(t){var e,n=t.location();n&&(t.showAt(this.map.locationToView(n)),e={marker:t,layer:this},this.map.trigger("markerActivate",e))},_reset:function(){var t,e;for(p.fn._reset.call(this),t=this.items,e=0;t.length>e;e++)this.update(t[e])},bind:function(t,n){var i,r,o=u.Marker.create(t,this.options);
return o.dataItem=n,i={marker:o,layer:this},r=this.map.trigger("markerCreated",i),r?e:(this.add(o),o)},setDataSource:function(t){this.dataSource&&this.dataSource.unbind("change",this._dataChange),this.dataSource=t,this.dataSource.bind("change",this._dataChange),this.options.autoBind&&this.dataSource.fetch()},_addOne:function(t){var e=m.create(t,this.options);return e.addTo(this),e},_initDataSource:function(){var t=this.options.dataSource;this._dataChange=o(this._dataChange,this),this.dataSource=l.create(t).bind("change",this._dataChange),t&&this.options.autoBind&&this.dataSource.fetch()},_dataChange:function(t){this._load(t.sender.view())},_load:function(t){var e,n,i,r;for(this._data=t,this.clear(),e=a.getter(this.options.locationField),n=a.getter(this.options.titleField),i=0;t.length>i;i++)r=t[i],this.bind({location:e(r),title:n(r)},r)},_markerClick:function(e){var n={marker:t(e.target).data("kendoMarker"),layer:this};this.map.trigger("markerClick",n)}}),m=s.extend({init:function(t){this.options=t||{}},addTo:function(t){this.layer=t.markers||t,this.layer.items.push(this),this.layer.update(this)},location:function(t){return t?(this.options.location=f.create(t).toArray(),this.layer&&this.layer.update(this),this):f.create(this.options.location)},showAt:function(t){this.render(),this.element.css({left:i.round(t.x),top:i.round(t.y)}),this.tooltip&&this.tooltip.popup&&this.tooltip.popup._position()},hide:function(){this.element&&(this.element.remove(),this.element=null),this.tooltip&&(this.tooltip.destroy(),this.tooltip=null)},destroy:function(){this.layer=null,this.hide()},render:function(){var e,i;this.element||(e=this.options,i=this.layer,this.element=t(n.createElement("span")).addClass("k-marker k-marker-"+a.toHyphens(e.shape||"pin")).attr("title",e.title).data("kendoMarker",this).css("zIndex",e.zIndex),i&&i.element.append(this.element),this.renderTooltip())},renderTooltip:function(){var t,e,n=this,i=n.options.title,r=n.options.tooltip||{};r&&c&&(t=r.template,t&&(e=a.template(t),r.content=function(t){return t.location=n.location(),t.marker=n,e(t)}),(i||r.content||r.contentUrl)&&(this.tooltip=new c(this.element,r),this.tooltip.marker=this))}});m.create=function(t,e){return t instanceof m?t:new m(d({},e,t))},d(h,{map:{layers:{marker:g,MarkerLayer:g},Marker:m}})}(window.kendo.jQuery),function(t){var e=document,n=Math,i=n.min,r=n.pow,o=t.proxy,a=window.kendo,s=a.ui.Widget,l=a.deepExtend,c=a.dataviz,h=c.ui,d=a.geometry,u=d.Point,f=c.map,p=f.Extent,g=f.Location,m=f.crs.EPSG3857,v=a.util,y=v.defined,_=v.limitValue,w=v.renderPos,x=v.valueOrDefault,b="k-",k=.9,C=.93,S="DOMMouseScroll mousewheel",T=5,D=s.extend({init:function(t,n){a.destroy(t),s.fn.init.call(this,t),this._initOptions(n),this.bind(this.events,n),this.crs=new m,this.element.addClass(b+this.options.name.toLowerCase()).css("position","relative").empty().append(e.createElement("div")),this._viewOrigin=this._getOrigin(),this._initScroller(),this._initMarkers(),this._initControls(),this._initLayers(),this._reset(),this._mousewheel=o(this._mousewheel,this),this.element.bind("click",o(this._click,this)),this.element.bind(S,this._mousewheel)},options:{name:"Map",controls:{attribution:!0,navigator:{panStep:100},zoom:!0},layers:[],layerDefaults:{shape:{style:{fill:{color:"#fff"},stroke:{color:"#aaa",width:.5}}},bubble:{style:{fill:{color:"#fff",opacity:.5},stroke:{color:"#aaa",width:.5}}},marker:{shape:"pinTarget",tooltip:{position:"top"}}},center:[0,0],zoom:3,minSize:256,minZoom:1,maxZoom:19,markers:[],markerDefaults:{shape:"pinTarget",tooltip:{position:"top"}},wraparound:!0},events:["beforeReset","click","reset","pan","panEnd","markerActivate","markerClick","markerCreated","shapeClick","shapeCreated","shapeMouseEnter","shapeMouseLeave","zoomStart","zoomEnd"],destroy:function(){this.scroller.destroy(),this.navigator&&this.navigator.destroy(),this.attribution&&this.attribution.destroy(),this.zoomControl&&this.zoomControl.destroy(),this.markers.destroy();for(var t=0;this.layers.length>t;t++)this.layers[t].destroy();s.fn.destroy.call(this)},zoom:function(t){var e=this.options;return y(t)?(t=_(t,e.minZoom,e.maxZoom),e.zoom!==t&&(e.zoom=t,this._reset()),this):e.zoom},center:function(t){return t?(this.options.center=g.create(t).toArray(),this._reset(),this):g.create(this.options.center)},extent:function(t){return t?(this._setExtent(t),this):this._getExtent()},setOptions:function(t){s.fn.setOptions.call(this,t),this._reset()},locationToLayer:function(t,e){var n=!this.options.wraparound;return t=g.create(t),this.crs.toPoint(t,this._layerSize(e),n)},layerToLocation:function(t,e){var n=!this.options.wraparound;return t=u.create(t),this.crs.toLocation(t,this._layerSize(e),n)},locationToView:function(t){var e,n;return t=g.create(t),e=this.locationToLayer(this._viewOrigin),n=this.locationToLayer(t),n.translateWith(e.scale(-1))},viewToLocation:function(t,e){var n=this.locationToLayer(this._getOrigin(),e);return t=u.create(t),t=t.clone().translateWith(n),this.layerToLocation(t,e)},eventOffset:function(t){var e=this.element.offset(),n=t.originalEvent||t,i=x(n.pageX,n.clientX)-e.left,r=x(n.pageY,n.clientY)-e.top;return new d.Point(i,r)},eventToView:function(t){var e=this.eventOffset(t);return this.locationToView(this.viewToLocation(e))},eventToLayer:function(t){return this.locationToLayer(this.eventToLocation(t))},eventToLocation:function(t){var e=this.eventOffset(t);return this.viewToLocation(e)},viewSize:function(){var t=this.element,e=this._layerSize(),n=t.width();return this.options.wraparound||(n=i(e,n)),{width:n,height:i(e,t.height())}},_setOrigin:function(t,e){var n,i=this.viewSize();return t=this._origin=g.create(t),n=this.locationToLayer(t,e),n.x+=i.width/2,n.y+=i.height/2,this.options.center=this.layerToLocation(n,e).toArray(),this},_getOrigin:function(t){var e,n=this.viewSize();return(t||!this._origin)&&(e=this.locationToLayer(this.center()),e.x-=n.width/2,e.y-=n.height/2,this._origin=this.layerToLocation(e)),this._origin},_setExtent:function(t){var e,i,r,o,a,s,l;for(t=p.create(t),this.center(t.center()),e=this.element.width(),i=this.element.height(),r=this.options.maxZoom;r>=this.options.minZoom&&(o=this.locationToLayer(t.nw,r),a=this.locationToLayer(t.se,r),s=n.abs(a.x-o.x),l=n.abs(a.y-o.y),!(e>=s&&i>=l));r--);this.zoom(r)},_getExtent:function(){var t,e=this._getOrigin(),n=this.locationToLayer(e),i=this.viewSize();return n.x+=i.width,n.y+=i.height,t=this.layerToLocation(n),new p(e,t)},_zoomAround:function(t,e){this._setOrigin(this.layerToLocation(t,e),e),this.zoom(e)},_initControls:function(){var t=this.options.controls;h.Attribution&&t.attribution&&this._createAttribution(t.attribution),a.support.mobileOS||(h.Navigator&&t.navigator&&this._createNavigator(t.navigator),h.ZoomControl&&t.zoom&&this._createZoomControl(t.zoom))},_createControlElement:function(e,n){var i=e.position||n,r="."+w(i).replace(" ","."),o=t(".k-map-controls"+r,this.element);return 0===o.length&&(o=t("<div>").addClass("k-map-controls "+w(i)).appendTo(this.element)),t("<div>").appendTo(o)},_createAttribution:function(t){var e=this._createControlElement(t,"bottomRight");this.attribution=new h.Attribution(e,t)},_createNavigator:function(t){var e=this._createControlElement(t,"topLeft"),n=this.navigator=new h.Navigator(e,t);this._navigatorPan=o(this._navigatorPan,this),n.bind("pan",this._navigatorPan),this._navigatorCenter=o(this._navigatorCenter,this),n.bind("center",this._navigatorCenter)},_navigatorPan:function(t){var e=this,n=e.scroller,i=n.scrollLeft+t.x,r=n.scrollTop-t.y,o=this._virtualSize,a=this.element.height(),s=this.element.width();i=_(i,o.x.min,o.x.max-s),r=_(r,o.y.min,o.y.max-a),e.scroller.one("scroll",function(t){e._scrollEnd(t)}),e.scroller.scrollTo(-i,-r)},_navigatorCenter:function(){this.center(this.options.center)},_createZoomControl:function(t){var e=this._createControlElement(t,"topLeft"),n=this.zoomControl=new h.ZoomControl(e,t);this._zoomControlChange=o(this._zoomControlChange,this),n.bind("change",this._zoomControlChange)},_zoomControlChange:function(t){this.trigger("zoomStart",{originalEvent:t})||(this.zoom(this.zoom()+t.delta),this.trigger("zoomEnd",{originalEvent:t}))},_initScroller:function(){var t=a.support.mobileOS?C:k,e=this.options.zoomable!==!1,n=this.scroller=new a.mobile.ui.Scroller(this.element.children(0),{friction:t,velocityMultiplier:T,zoom:e,mousewheelScrolling:!1});n.bind("scroll",o(this._scroll,this)),n.bind("scrollEnd",o(this._scrollEnd,this)),n.userEvents.bind("gesturestart",o(this._scaleStart,this)),n.userEvents.bind("gestureend",o(this._scale,this)),this.scrollElement=n.scrollElement},_initLayers:function(){var t,e,n,i,r,o=this.options.layers,a=this.layers=[];for(t=0;o.length>t;t++)e=o[t],n=e.type||"shape",i=this.options.layerDefaults[n],r=c.map.layers[n],a.push(new r(this,l({},i,e)))},_initMarkers:function(){this.markers=new f.layers.MarkerLayer(this,this.options.markerDefaults),this.markers.add(this.options.markers)},_scroll:function(t){var e=this.locationToLayer(this._viewOrigin).round(),n=t.sender.movable,i=new d.Point(n.x,n.y).scale(-1).scale(1/n.scale);e.x+=i.x,e.y+=i.y,this._setOrigin(this.layerToLocation(e)),this.trigger("pan",{originalEvent:t,origin:this._getOrigin(),center:this.center()})},_scrollEnd:function(t){this.trigger("panEnd",{originalEvent:t,origin:this._getOrigin(),center:this.center()})},_scaleStart:function(t){if(this.trigger("zoomStart",{originalEvent:t})){var e=t.touches[1];e&&e.cancel()}},_scale:function(t){var e=this.scroller.movable.scale,n=this._scaleToZoom(e),i=new d.Point(t.center.x,t.center.y),r=this.viewToLocation(i,n),o=this.locationToLayer(r,n),a=o.translate(-i.x,-i.y);this._zoomAround(a,n),this.trigger("zoomEnd",{originalEvent:t})},_scaleToZoom:function(t){var e=this._layerSize()*t,i=e/this.options.minSize,r=n.log(i)/n.log(2);return n.round(r)},_reset:function(){this.attribution&&this.attribution.filter(this.center(),this.zoom()),this._viewOrigin=this._getOrigin(!0),this._resetScroller(),this.trigger("beforeReset"),this.trigger("reset")},_resetScroller:function(){var t,e,n,i,o=this.scroller,a=o.dimensions.x,s=o.dimensions.y,l=this._layerSize(),c=20*l,h=this.extent().nw,d=this.locationToLayer(h).round();o.movable.round=!0,o.reset(),o.userEvents.cancel(),t=this.options.maxZoom-this.zoom(),o.dimensions.maxScale=r(2,t),e={min:-d.x,max:l-d.x},n={min:-d.y,max:l-d.y},this.options.wraparound&&(e.min=-c,e.max=c),this.options.pannable===!1&&(i=this.viewSize(),e.min=n.min=0,e.max=i.width,n.max=i.height),a.makeVirtual(),s.makeVirtual(),a.virtualSize(e.min,e.max),s.virtualSize(n.min,n.max),this._virtualSize={x:e,y:n}},_renderLayers:function(){var t,e,n,i,r,o=this.options.layers,a=this.layers=[],s=this.scrollWrap;for(s.empty(),t=0;o.length>t;t++)e=o[t],n=e.type||"shape",i=this.options.layerDefaults[n],r=c.map.layers[n],a.push(new r(this,l({},i,e)))},_layerSize:function(t){return t=x(t,this.options.zoom),this.options.minSize*r(2,t)},_click:function(t){var e=this.eventOffset(t);this.trigger("click",{originalEvent:t,location:this.viewToLocation(e)})},_mousewheel:function(t){var e,n,i,r,o,a,s,l;t.preventDefault(),e=c.mwDelta(t)>0?-1:1,n=this.options,i=this.zoom(),r=_(i+e,n.minZoom,n.maxZoom),n.zoomable!==!1&&r!==i&&(this.trigger("zoomStart",{originalEvent:t})||(o=this.eventOffset(t),a=this.viewToLocation(o),s=this.locationToLayer(a,r),l=s.translate(-o.x,-o.y),this._zoomAround(l,r),this.trigger("zoomEnd",{originalEvent:t})))}});c.ui.plugin(D)}(window.kendo.jQuery),function(t,e){function n(t,n,i){function r(t){for(var e=1;t*e%1;)e*=10;return e}var o,a,s,l;if(e===t||e===n)return[];if(i&&d.sign(n-t)!=d.sign(i))throw"The sign of the increment should allow to reach the stop-value.";if(i=i||1,t=t||0,n=n||t,(n-t)/i===1/0)throw"Infinite range defined.";if(o=[],a=-1,l=r(Math.abs(i)),t*=l,n*=l,i*=l,t>n&&i>0&&(i=-i),0>i)for(;(s=t+i*++a)>=n;)o.push(s/l);else for(;(s=t+i*++a)<=n;)o.push(s/l);return o}function i(t,e){if(t==e)return 0;var n=e.x-t.x,i=t.y-e.y,r=Math.atan(n/i);return i>=0?0>n?r+2*Math.PI:r:r+Math.PI}var r,o,a=window.kendo,s=a.dataviz.diagram={},l=a.deepExtend,c=t.isArray,h=1e-6,d={};l(d,{isNearZero:function(t){return Math.abs(t)<h},isDefined:function(t){return e!==t},isUndefined:function(t){return e===t||null===t},isObject:function(t){return t===Object(t)},has:function(t,e){return Object.hasOwnProperty.call(t,e)},isString:function(t){return"[object String]"==Object.prototype.toString.call(t)},isBoolean:function(t){return"[object Boolean]"==Object.prototype.toString.call(t)},isType:function(t,e){return Object.prototype.toString.call(t)=="[object "+e+"]"},isNumber:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},isEmpty:function(t){if(null===t)return!0;if(c(t)||d.isString(t))return 0===t.length;for(var e in t)if(d.has(t,e))return!1;return!0},simpleExtend:function(t,e){if(d.isObject(e))for(var n in e)t[n]=e[n]},initArray:function(t,e){var n,i=[];for(n=0;t>n;++n)i[n]=e;return i},serializePoints:function(t){var e,n,i=[];for(e=0;t.length>e;e++)n=t[e],i.push(n.x+";"+n.y);return i.join(";")},deserializePoints:function(t){var e,n=t.split(";"),i=[];if(n.length%2!==0)throw"Not an array of points.";for(e=0;n.length>e;e+=2)i.push(new s.Point(parseInt(n[e],10),parseInt(n[e+1],10)));return i},randomInteger:function(t,e){return parseInt(Math.floor(Math.random()*e)+t,10)},DFT:function(t,e){var n,i;if(e(t),t.childNodes)for(n=0;t.childNodes.length>n;n++)i=t.childNodes[n],this.DFT(i,e)},getMatrixAngle:function(t){return null===t||0===t.d?0:180*Math.atan2(t.b,t.d)/Math.PI},getMatrixScaling:function(t){var e=Math.sqrt(t.a*t.a+t.c*t.c),n=Math.sqrt(t.b*t.b+t.d*t.d);return[e,n]}}),d.sign=function(t){return t?0>t?-1:1:0},d.findAngle=function(t,e){return 180*i(t,e)/Math.PI},d.forEach=function(t,e,n){for(var i=0;t.length>i;i++)e.call(n,t[i],i,t)},d.any=function(t,e){for(var n=0;t.length>n;++n)if(e(t[n]))return t[n];return null},d.remove=function(t,e){for(var n;-1!==(n=d.indexOf(t,e));)t.splice(n,1);return t},d.contains=function(t,e){return-1!==d.indexOf(t,e)},d.indexOf=function(e,n){return t.inArray(n,e)},d.fold=function(t,e,n,i){var r,o,a=arguments.length>2;for(r=0;t.length>r;r++)o=t[r],a?n=e.call(i,n,o,r,t):(n=o,a=!0);if(!a)throw"Reduce of empty array with no initial value";return n},d.find=function(t,e,n){var i;return d.any(t,function(t,r,o){return e.call(n,t,r,o)?(i=t,!0):!1}),i},d.first=function(t,e,n){return 0===t.length?null:d.isUndefined(e)?t[0]:d.find(t,e,n)},d.insert=function(t,e,n){return t.splice(n,0,e),t},d.all=function(t,e,n){var i,r,o=!0;for(r=0;t.length>r&&(i=t[r],o=o&&e.call(n,i,r,t),o);r++);return o},d.clear=function(t){t.splice(0,t.length)},d.bisort=function(t,e,n){if(d.isUndefined(t))throw"First array is not specified.";if(d.isUndefined(e))throw"Second array is not specified.";if(t.length!=e.length)throw"The two arrays should have equal length";var i,r=[];for(i=0;t.length>i;i++)r.push({x:t[i],y:e[i]});for(r.sort(d.isUndefined(n)?function(t,e){return t.x-e.x}:function(t,e){return n(t.x,e.x)}),d.clear(t),d.clear(e),i=0;r.length>i;i++)t.push(r[i].x),e.push(r[i].y)},d.addRange=function(t,e){t.push.apply(t,e)},r={easeInOut:function(t){return-Math.cos(t*Math.PI)/2+.5}},o=a.Class.extend({init:function(){this.adapters=[],this.target=0,this.tick=0,this.interval=20,this.duration=800,this.lastTime=null,this.handlers=[];var t=this;this.transition=r.easeInOut,this.timerDelegate=function(){t.onTimerEvent()}},addAdapter:function(t){this.adapters.push(t)},onComplete:function(t){this.handlers.push(t)},removeHandler:function(e){this.handlers=t.grep(this.handlers,function(t){return t!==e})},trigger:function(){var t=this;this.handlers&&d.forEach(this.handlers,function(e){return e.call(null!==t.caller?t.caller:t)})},onStep:function(){},seekTo:function(t){this.seekFromTo(this.tick,t)},seekFromTo:function(t,e){this.target=Math.max(0,Math.min(1,e)),this.tick=Math.max(0,Math.min(1,t)),this.lastTime=(new Date).getTime(),this.intervalId||(this.intervalId=window.setInterval(this.timerDelegate,this.interval))},stop:function(){this.intervalId&&(window.clearInterval(this.intervalId),this.intervalId=null,this.trigger())},play:function(t){0!==this.adapters.length&&(null!==t&&(this.caller=t),this.initState(),this.seekFromTo(0,1))},reverse:function(){this.seekFromTo(1,0)},initState:function(){if(0!==this.adapters.length)for(var t=0;this.adapters.length>t;t++)this.adapters[t].initState()},propagate:function(){var t,e=this.transition(this.tick);for(t=0;this.adapters.length>t;t++)this.adapters[t].update(e)},onTimerEvent:function(){var t,e=(new Date).getTime(),n=e-this.lastTime;this.lastTime=e,t=n/this.duration*(this.target>this.tick?1:-1),Math.abs(t)>=Math.abs(this.tick-this.target)?this.tick=this.target:this.tick+=t;try{this.propagate()}finally{this.onStep.call(this),this.target==this.tick&&this.stop()}}}),a.deepExtend(s,{init:function(t){a.init(t,s.ui)},Utils:d,Range:n,Ticker:o})}(window.kendo.jQuery),function(t,e){function n(t){return Math.abs(t)<L}function i(t,e,i,r,o){var a,s,l,c,h=(e.x-t.x)*(r.y-i.y)-(e.y-t.y)*(r.x-i.x);if(!n(h)&&(a=(t.y-i.y)*(r.x-i.x)-(t.x-i.x)*(r.y-i.y),s=(t.y-i.y)*(e.x-t.x)-(t.x-i.x)*(e.y-t.y),l=a/h,c=s/h,!o||!(0>l||l>1||0>c||c>1)))return new A(t.x+l*(e.x-t.x),t.y+l*(e.y-t.y))}function r(t,e){var n,i,r;do n=2*Math.random()-1,i=2*Math.random()-1,r=n*n+i*i;while(!r||r>1);return t+e*n*Math.sqrt(-2*Math.log(r)/r)}function o(t){var e,n,i;for(D.isUndefined(t)&&(t=10),e="",n="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",i=t;i>0;--i)e+=n.charAt(Math.round(Math.random()*(n.length-1)));return e}var a,s,l,c,h,d,u,f,p,g,m,v,y,_,w,x,b=window.kendo,k=b.dataviz.diagram,C=b.Class,S=b.deepExtend,T=b.dataviz,D=k.Utils,A=T.Point2D,P=b.isFunction,M=D.contains,E=t.map,I=3,L=1e-6;S(A.fn,{plus:function(t){return new A(this.x+t.x,this.y+t.y)},minus:function(t){return new A(this.x-t.x,this.y-t.y)},offset:function(t){return new A(this.x-t,this.y-t)},times:function(t){return new A(this.x*t,this.y*t)},normalize:function(){return 0===this.length()?new A:this.times(1/this.length())},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},toString:function(){return"("+this.x+","+this.y+")"},lengthSquared:function(){return this.x*this.x+this.y*this.y},middleOf:function(t,e){return new A(e.x-t.x,e.y-t.y).times(.5).plus(t)},toPolar:function(t){var e,n,i,r=1;if(t&&(r=180/Math.PI),e=Math.atan2(Math.abs(this.y),Math.abs(this.x)),n=Math.PI/2,i=this.length(),0===this.x){if(0===this.y)return new d(0,0);if(this.y>0)return new d(i,r*n);if(0>this.y)return new d(i,3*r*n)}else if(this.x>0){if(0===this.y)return new d(i,0);if(this.y>0)return new d(i,r*e);if(0>this.y)return new d(i,r*(4*n-e))}else{if(0===this.y)return new d(i,2*n);if(this.y>0)return new d(i,r*(2*n-e));if(0>this.y)return new d(i,r*(2*n+e))}},isOnLine:function(t,e){var n,i,r,o,a;return t.x>e.x&&(n=e,e=t,t=n),i=new s(t.x,t.y).inflate(I,I),r=new s(e.x,e.y).inflate(I,I),i.union(r).contains(this)?t.x===e.x||t.y===e.y?!0:(e.y>t.y?(o=i.x+(r.x-i.x)*(this.y-(i.y+i.height))/(r.y+r.height-(i.y+i.height)),a=i.x+i.width+(r.x+r.width-(i.x+i.width))*(this.y-i.y)/(r.y-i.y)):(o=i.x+(r.x-i.x)*(this.y-i.y)/(r.y-i.y),a=i.x+i.width+(r.x+r.width-(i.x+i.width))*(this.y-(i.y+i.height))/(r.y+r.height-(i.y+i.height))),this.x>o&&a>this.x):!1}}),S(A,{parse:function(t){var n=t.slice(1,t.length-1),i=n.split(","),r=parseInt(i[0],10),o=parseInt(i[1],10);return isNaN(r)||isNaN(o)?e:new A(r,o)}}),a=C.extend({init:function(t,e,n){this.point=t,this.left=e,this.right=n}}),s=C.extend({init:function(t,e,n,i){this.x=t||0,this.y=e||0,this.width=n||0,this.height=i||0},contains:function(t){return t.x>=this.x&&this.x+this.width>=t.x&&t.y>=this.y&&this.y+this.height>=t.y},inflate:function(t,n){return n===e&&(n=t),this.x-=t,this.y-=n,this.width+=2*t+1,this.height+=2*n+1,this},offset:function(t,e){var n=t,i=e;return t instanceof A&&(n=t.x,i=t.y),this.x+=n,this.y+=i,this},union:function(t){var e=Math.min(this.x,t.x),n=Math.min(this.y,t.y),i=Math.max(this.x+this.width,t.x+t.width),r=Math.max(this.y+this.height,t.y+t.height);return new s(e,n,i-e,r-n)},center:function(){return new A(this.x+this.width/2,this.y+this.height/2)},top:function(){return new A(this.x+this.width/2,this.y)},right:function(){return new A(this.x+this.width,this.y+this.height/2)},bottom:function(){return new A(this.x+this.width/2,this.y+this.height)},left:function(){return new A(this.x,this.y+this.height/2)},topLeft:function(){return new A(this.x,this.y)},topRight:function(){return new A(this.x+this.width,this.y)},bottomLeft:function(){return new A(this.x,this.y+this.height)},bottomRight:function(){return new A(this.x+this.width,this.y+this.height)},clone:function(){return new s(this.x,this.y,this.width,this.height)},isEmpty:function(){return!this.width&&!this.height},equals:function(t){return this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height},rotatedBounds:function(t){var e=this.clone(),n=this.rotatedPoints(t),i=n[0],r=n[1],o=n[2],a=n[3];return e.x=Math.min(o.x,i.x,r.x,a.x),e.y=Math.min(o.y,i.y,r.y,a.y),e.width=Math.max(o.x,i.x,r.x,a.x)-e.x,e.height=Math.max(o.y,i.y,r.y,a.y)-e.y,e},rotatedPoints:function(t){var e=this,n=e.center(),i=e.bottomRight().rotate(n,360-t),r=e.topLeft().rotate(n,360-t),o=e.topRight().rotate(n,360-t),a=e.bottomLeft().rotate(n,360-t);return[r,o,i,a]},toString:function(t){return t=t||" ",this.x+t+this.y+t+this.width+t+this.height},scale:function(t,e,n,i,r){var o,a,s,l=this.topLeft(),c=this.center();l.rotate(c,360-r).rotate(i,r),o=n.minus(l),a=new A(o.x*t,o.y*e),s=o.minus(a),l=l.plus(s),l.rotate(i,360-r).rotate(c,r),this.x=l.x,this.y=l.y,this.width*=t,this.height*=e},zoom:function(t){return this.x*=t,this.y*=t,this.width*=t,this.height*=t,this}}),l=C.extend({init:function(t,e){this.width=t,this.height=e}}),l.prototype.Empty=new l(0,0),s.toRect=function(t){return t instanceof s||(t=new s(t.x,t.y,t.width,t.height)),t},s.empty=function(){return new s(0,0,0,0)},s.fromPoints=function(t,e){if(isNaN(t.x)||isNaN(t.y)||isNaN(e.x)||isNaN(e.y))throw"Some values are NaN.";return new s(Math.min(t.x,e.x),Math.min(t.y,e.y),Math.abs(t.x-e.x),Math.abs(t.y-e.y))},c={lines:function(t,e,n,r){return i(t,e,n,r)},segments:function(t,e,n,r){return i(t,e,n,r,!0)},rectWithLine:function(t,e,n){return c.segments(e,n,t.topLeft(),t.topRight())||c.segments(e,n,t.topRight(),t.bottomRight())||c.segments(e,n,t.bottomLeft(),t.bottomRight())||c.segments(e,n,t.topLeft(),t.bottomLeft())},rects:function(t,e,n){var i,r,o=e.topLeft(),a=e.topRight(),s=e.bottomLeft(),l=e.bottomRight(),h=e.center();return n&&(o=o.rotate(h,n),a=a.rotate(h,n),s=s.rotate(h,n),l=l.rotate(h,n)),i=t.contains(o)||t.contains(a)||t.contains(s)||t.contains(l)||c.rectWithLine(t,o,a)||c.rectWithLine(t,o,s)||c.rectWithLine(t,a,l)||c.rectWithLine(t,s,l),i||(o=t.topLeft(),a=t.topRight(),s=t.bottomLeft(),l=t.bottomRight(),n&&(r=360-n,o=o.rotate(h,r),a=a.rotate(h,r),s=s.rotate(h,r),l=l.rotate(h,r)),i=e.contains(o)||e.contains(a)||e.contains(s)||e.contains(l)),i}},h=C.extend({init:function(t){this.container=s.toRect(t)},align:function(t,e){var n,i=e.toLowerCase().split(" ");for(n=0;i.length>n;n++)t=this._singleAlign(t,i[n]);return t},_singleAlign:function(t,e){return P(this[e])?this[e](t):t},left:function(t){return this._align(t,this._left)},center:function(t){return this._align(t,this._center)},right:function(t){return this._align(t,this._right)},stretch:function(t){return this._align(t,this._stretch)},top:function(t){return this._align(t,this._top)},middle:function(t){return this._align(t,this._middle)},bottom:function(t){return this._align(t,this._bottom)},_left:function(t,e){e.x=t.x},_center:function(t,e){e.x=(t.width-e.width)/2||0},_right:function(t,e){e.x=t.width-e.width},_top:function(t,e){e.y=t.y},_middle:function(t,e){e.y=(t.height-e.height)/2||0},_bottom:function(t,e){e.y=t.height-e.height},_stretch:function(t,e){e.x=0,e.y=0,e.height=t.height,e.width=t.width},_align:function(t,e){return t=s.toRect(t),e(this.container,t),t}}),d=C.extend({init:function(t,e){this.r=t,this.angle=e}}),u=C.extend({init:function(t,e,n,i,r,o){this.a=t||0,this.b=e||0,this.c=n||0,this.d=i||0,this.e=r||0,this.f=o||0},plus:function(t){this.a+=t.a,this.b+=t.b,this.c+=t.c,this.d+=t.d,this.e+=t.e,this.f+=t.f},minus:function(t){this.a-=t.a,this.b-=t.b,this.c-=t.c,this.d-=t.d,this.e-=t.e,this.f-=t.f},times:function(t){return new u(this.a*t.a+this.c*t.b,this.b*t.a+this.d*t.b,this.a*t.c+this.c*t.d,this.b*t.c+this.d*t.d,this.a*t.e+this.c*t.f+this.e,this.b*t.e+this.d*t.f+this.f)},apply:function(t){return new A(this.a*t.x+this.c*t.y+this.e,this.b*t.x+this.d*t.y+this.f)},applyRect:function(t){return s.fromPoints(this.apply(t.topLeft()),this.apply(t.bottomRight()))},toString:function(){return"matrix("+this.a+" "+this.b+" "+this.c+" "+this.d+" "+this.e+" "+this.f+")"}}),S(u,{fromSVGMatrix:function(t){var e=new u;return e.a=t.a,e.b=t.b,e.c=t.c,e.d=t.d,e.e=t.e,e.f=t.f,e},fromMatrixVector:function(t){var e=new u;return e.a=t.a,e.b=t.b,e.c=t.c,e.d=t.d,e.e=t.e,e.f=t.f,e},fromList:function(t){if(6!==t.length)throw"The given list should consist of six elements.";var e=new u;return e.a=t[0],e.b=t[1],e.c=t[2],e.d=t[3],e.e=t[4],e.f=t[5],e},translation:function(t,e){var n=new u;return n.a=1,n.b=0,n.c=0,n.d=1,n.e=t,n.f=e,n},unit:function(){return new u(1,0,0,1,0,0)},rotation:function(t,e,n){var i=new u;return i.a=Math.cos(t*Math.PI/180),i.b=Math.sin(t*Math.PI/180),i.c=-i.b,i.d=i.a,i.e=e-e*i.a+n*i.b||0,i.f=n-n*i.a-e*i.b||0,i},scaling:function(t,e){var n=new u;return n.a=t,n.b=0,n.c=0,n.d=e,n.e=0,n.f=0,n},parse:function(t){var e,n;if(t){if(t=t.trim(),"matrix"===t.slice(0,6).toLowerCase()){if(n=t.slice(7,t.length-1).trim(),e=n.split(","),6===e.length)return u.fromList(E(e,function(t){return parseFloat(t)}));if(e=n.split(" "),6===e.length)return u.fromList(E(e,function(t){return parseFloat(t)}))}if("("===t.slice(0,1)&&")"===t.slice(t.length-1)&&(t=t.substr(1,t.length-1)),t.indexOf(",")>0&&(e=t.split(","),6===e.length))return u.fromList(E(e,function(t){return parseFloat(t)}));if(t.indexOf(" ")>0&&(e=t.split(" "),6===e.length))return u.fromList(E(e,function(t){return parseFloat(t)}))}return e}}),f=C.extend({init:function(t,e,n,i,r,o){this.a=t||0,this.b=e||0,this.c=n||0,this.d=i||0,this.e=r||0,this.f=o||0},fromMatrix:function(t){var e=new f;return e.a=t.a,e.b=t.b,e.c=t.c,e.d=t.d,e.e=t.e,e.f=t.f,e}}),p={_distanceToLineSquared:function(t,e,n){function i(t,e){return(t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y)}if(e===n)return i(t,e);var r=n.x-e.x,o=n.y-e.y,a=(t.x-e.x)*r+(t.y-e.y)*o;return 0>a?i(e,t):(a=(n.x-t.x)*r+(n.y-t.y)*o,0>a?i(n,t):(a=(n.x-t.x)*o-(n.y-t.y)*r,a*a/(r*r+o*o)))},distanceToLine:function(t,e,n){return Math.sqrt(this._distanceToLineSquared(t,e,n))},distanceToPolyline:function(t,e){var n,i,r,o,a=Number.MAX_VALUE;if(D.isUndefined(e)||0===e.length)return Number.MAX_VALUE;for(n=0;e.length-1>n;n++)i=e[n],r=e[n+1],o=this._distanceToLineSquared(t,i,r),a>o&&(a=o);return Math.sqrt(a)}},g=b.Class.extend({init:function(){this._buckets=[],this.length=0},add:function(t,e){var n=this._createGetBucket(t);return D.isDefined(e)&&(n.value=e),n},get:function(t){return this._bucketExists(t)?this._createGetBucket(t):null},set:function(t,e){this.add(t,e)},containsKey:function(t){return this._bucketExists(t)},remove:function(t){if(this._bucketExists(t)){var e=this._hash(t);return delete this._buckets[e],this.length--,t}},forEach:function(t){var e,n,i,r,o=this._hashes();for(e=0,n=o.length;n>e;e++)i=o[e],r=this._buckets[i],D.isUndefined(r)||t(r)},clone:function(){var t,e,n,i,r=new g,o=this._hashes();for(t=0,e=o.length;e>t;t++)n=o[t],i=this._buckets[n],D.isUndefined(i)||r.add(i.key,i.value);return r},_hashes:function(){var t,e=[];for(t in this._buckets)this._buckets.hasOwnProperty(t)&&e.push(t);return e},_bucketExists:function(t){var e=this._hash(t);return D.isDefined(this._buckets[e])},_createGetBucket:function(t){var e=this._hash(t),n=this._buckets[e];return D.isUndefined(n)&&(n={key:t},this._buckets[e]=n,this.length++),n},_hash:function(t){if(D.isNumber(t))return t;if(D.isString(t))return this._hashString(t);if(D.isObject(t))return this._objectHashId(t);throw"Unsupported key type."},_hashString:function(t){var e,n,i=0;if(0===t.length)return i;for(e=0;t.length>e;e++)n=t.charCodeAt(e),i=32*i-i+n;return i},_objectHashId:function(t){var e=t._hashId;return D.isUndefined(e)&&(e=o(),t._hashId=e),e}}),m=b.Observable.extend({init:function(e){var n,i=this;if(b.Observable.fn.init.call(i),this._hashTable=new g,this.length=0,D.isDefined(e))if(t.isArray(e))for(n=0;e.length>n;n++)this.add(e[n]);else e.forEach(function(t,e){this.add(t,e)},this)},add:function(t,e){var n=this._hashTable.get(t);n||(n=this._hashTable.add(t),this.length++,this.trigger("changed")),n.value=e},set:function(t,e){this.add(t,e)},get:function(t){var e=this._hashTable.get(t);if(e)return e.value;throw Error("Cannot find key "+t)},containsKey:function(t){return this._hashTable.containsKey(t)},remove:function(t){return this.containsKey(t)?(this.trigger("changed"),this.length--,this._hashTable.remove(t)):e},forEach:function(t,e){this._hashTable.forEach(function(n){t.call(e,n.key,n.value)})},forEachValue:function(t,e){this._hashTable.forEach(function(n){t.call(e,n.value)})},forEachKey:function(t,e){this._hashTable.forEach(function(n){t.call(e,n.key)})},keys:function(){var t=[];return this.forEachKey(function(e){t.push(e)}),t}}),v=b.Class.extend({init:function(){this._tail=null,this._head=null,this.length=0},enqueue:function(t){var e={value:t,next:null};this._head?(this._tail.next=e,this._tail=this._tail.next):(this._head=e,this._tail=this._head),this.length++},dequeue:function(){if(1>this.length)throw Error("The queue is empty.");var t=this._head.value;return this._head=this._head.next,this.length--,t},contains:function(t){for(var e=this._head;e;){if(e.value===t)return!0;e=e.next}return!1}}),y=b.Observable.extend({init:function(t){var e=this;b.Observable.fn.init.call(e),this._hashTable=new g,this.length=0,D.isDefined(t)&&(t instanceof g?t.forEach(function(t){this.add(t)}):t instanceof m&&t.forEach(function(t,e){this.add({key:t,value:e})},this))},contains:function(t){return this._hashTable.containsKey(t)},add:function(t){var e=this._hashTable.get(t);e||(this._hashTable.add(t,t),this.length++,this.trigger("changed"))},get:function(t){return this.contains(t)?this._hashTable.get(t).value:null},hash:function(t){return this._hashTable._hash(t)},remove:function(t){this.contains(t)&&(this._hashTable.remove(t),this.length--,this.trigger("changed"))},forEach:function(t,e){this._hashTable.forEach(function(e){t(e.value)},e)},toArray:function(){var t=[];return this.forEach(function(e){t.push(e)}),t}}),_=b.Class.extend({init:function(t,e){if(this.links=[],this.outgoing=[],this.incoming=[],this.weight=1,this.id=D.isDefined(t)?t:o(),D.isDefined(e)){this.associatedShape=e;var n=e.bounds();this.width=n.width,this.height=n.height,this.x=n.x,this.y=n.y}else this.associatedShape=null;this.data=null,this.type="Node",this.shortForm="Node '"+this.id+"'",this.isVirtual=!1},isIsolated:function(){return D.isEmpty(this.links)},bounds:function(t){return D.isDefined(t)?(this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,e):new k.Rect(this.x,this.y,this.width,this.height)},isLinkedTo:function(t){var e=this;return D.any(e.links,function(n){return n.getComplement(e)===t})},getChildren:function(){var t,e,n,i;if(0===this.outgoing.length)return[];for(t=[],e=0,n=this.outgoing.length;n>e;e++)i=this.outgoing[e],t.push(i.getComplement(this));return t},getParents:function(){var t,e,n,i;if(0===this.incoming.length)return[];for(t=[],e=0,n=this.incoming.length;n>e;e++)i=this.incoming[e],t.push(i.getComplement(this));return t},clone:function(){var t=new _;return D.isDefined(this.weight)&&(t.weight=this.weight),D.isDefined(this.balance)&&(t.balance=this.balance),D.isDefined(this.owner)&&(t.owner=this.owner),t.associatedShape=this.associatedShape,t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},adjacentTo:function(t){return null!==this.isLinkedTo(t)},removeLink:function(t){t.source===this&&(D.remove(this.links,t),D.remove(this.outgoing,t),t.source=null),t.target===this&&(D.remove(this.links,t),D.remove(this.incoming,t),t.target=null)
},hasLinkTo:function(t){return D.any(this.outgoing,function(e){return e.target===t})},degree:function(){return this.links.length},incidentWith:function(t){return M(this.links,t)},getLinksWith:function(t){return D.all(this.links,function(e){return e.getComplement(this)===t},this)},getNeighbors:function(){var t=[];return D.forEach(this.incoming,function(e){t.push(e.getComplement(this))},this),D.forEach(this.outgoing,function(e){t.push(e.getComplement(this))},this),t}}),w=b.Class.extend({init:function(t,e,n,i){if(D.isUndefined(t))throw"The source of the new link is not set.";if(D.isUndefined(e))throw"The target of the new link is not set.";var r,a;r=D.isString(t)?new _(t):t,a=D.isString(e)?new _(e):e,this.source=r,this.target=a,this.source.links.push(this),this.target.links.push(this),this.source.outgoing.push(this),this.target.incoming.push(this),this.id=D.isDefined(n)?n:o(),this.associatedConnection=D.isDefined(i)?i:null,this.type="Link",this.shortForm="Link '"+this.source.id+"->"+this.target.id+"'"},getComplement:function(t){if(this.source!==t&&this.target!==t)throw"The given node is not incident with this link.";return this.source===t?this.target:this.source},getCommonNode:function(t){return this.source===t.source||this.source===t.target?this.source:this.target===t.source||this.target===t.target?this.target:null},isBridging:function(t,e){return this.source===t&&this.target===e||this.source===e&&this.target===t},getNodes:function(){return[this.source,this.target]},incidentWith:function(t){return this.source===t||this.target===t},adjacentTo:function(t){return M(this.source.links,t)||M(this.target.links,t)},changeSource:function(t){D.remove(this.source.links,this),D.remove(this.source.outgoing,this),t.links.push(this),t.outgoing.push(this),this.source=t},changeTarget:function(t){D.remove(this.target.links,this),D.remove(this.target.incoming,this),t.links.push(this),t.incoming.push(this),this.target=t},changesNodes:function(t,e){this.source===t?this.changeSource(e):this.target===t&&this.changeTarget(e)},reverse:function(){var t=this.source,e=this.target;return this.source=e,D.remove(t.outgoing,this),this.source.outgoing.push(this),this.target=t,D.remove(e.incoming,this),this.target.incoming.push(this),this},directTo:function(t){if(this.source!==t&&this.target!==t)throw"The given node is not incident with this link.";this.target!==t&&this.reverse()},createReverseEdge:function(){var t=this.clone();return t.reverse(),t.reversed=!0,t},clone:function(){var t=new w(this.source,this.target);return t}}),x=b.Class.extend({init:function(t){this.links=[],this.nodes=[],this.diagram=null,this._root=null,D.isDefined(t)?D.isString(t)?this.id=t:(this.diagram=t,this.id=t.id):this.id=o(),this.bounds=new s,this._hasCachedRelationships=!1,this.type="Graph"},cacheRelationships:function(t){var e,n,i;if(D.isUndefined(t)&&(t=!1),!this._hasCachedRelationships||t){for(e=0,n=this.nodes.length;n>e;e++)i=this.nodes[e],i.children=this.getChildren(i),i.parents=this.getParents(i);this._hasCachedRelationships=!0}},assignLevels:function(t,e,n){var i,r,o,a;if(!t)throw"Start node not specified.";for(D.isUndefined(e)&&(e=0),this.cacheRelationships(),D.isUndefined(n)&&(n=new m,D.forEach(this.nodes,function(t){n.add(t,!1)})),n.set(t,!0),t.level=e,i=t.children,r=0,o=i.length;o>r;r++)a=i[r],a&&!n.get(a)&&this.assignLevels(a,e+1,n)},root:function(t){if(D.isUndefined(t)){if(this._root)return this._root;var e=D.first(this.nodes,function(t){return 0===t.incoming.length});return e?e:D.first(this.nodes)}this._root=t},getConnectedComponents:function(){var t,e,n,i,r;for(this.componentIndex=0,this.setItemIndices(),t=D.initArray(this.nodes.length,-1),e=0;this.nodes.length>e;e++)-1===t[e]&&(this._collectConnectedNodes(t,e),this.componentIndex++);for(n=[],i=0;this.componentIndex>i;++i)n[i]=new x;for(i=0;t.length>i;++i)r=n[t[i]],r.addNodeAndOutgoings(this.nodes[i]);return n.sort(function(t,e){return e.nodes.length-t.nodes.length}),n},_collectConnectedNodes:function(t,e){t[e]=this.componentIndex;var n=this.nodes[e];D.forEach(n.links,function(e){var i=e.getComplement(n),r=i.index;-1===t[r]&&this._collectConnectedNodes(t,r)},this)},calcBounds:function(){var t,e,n,i;if(this.isEmpty())return this.bounds=new s;for(t=null,e=0,n=this.nodes.length;n>e;e++)i=this.nodes[e],t=t?t.union(i.bounds()):i.bounds();return this.bounds=t},getSpanningTree:function(t){var e,n,i,r,o,a,s,l,c,h,d,u,f=new x,p=new m;for(f.root=t.clone(),f.root.level=0,f.root.id=t.id,p.add(t,f.root),t.level=0,i=[],r=[],f.nodes.push(f.root),i.push(t),r.push(t),o=1;r.length>0;)for(a=r.pop(),s=0;a.links.length>s;s++)l=a.links[s],c=l.getComplement(a),M(i,c)||(c.level=a.level+1,c.level+1>o&&(o=c.level+1),M(r,c)||r.push(c),M(i,c)||i.push(c),p.containsKey(a)?e=p.get(a):(e=a.clone(),e.level=a.level,e.id=a.id,p.add(a,e)),p.containsKey(c)?n=p.get(c):(n=c.clone(),n.level=c.level,n.id=c.id,p.add(c,n)),h=new w(e,n),f.addLink(h));for(d=[],u=0;o>u;u++)d.push([]);return D.forEach(f.nodes,function(t){d[t.level].push(t)}),f.treeLevels=d,f.cacheRelationships(),f},takeRandomNode:function(e,n){if(D.isUndefined(e)&&(e=[]),D.isUndefined(n)&&(n=4),0===this.nodes.length)return null;if(1===this.nodes.length)return M(e,this.nodes[0])?null:this.nodes[0];var i=t.grep(this.nodes,function(t){return!M(e,t)&&t.degree()<=n});return D.isEmpty(i)?null:i[D.randomInteger(0,i.length)]},isEmpty:function(){return D.isEmpty(this.nodes)},isHealthy:function(){return D.all(this.links,function(t){return M(this.nodes,t.source)&&M(this.nodes,t.target)},this)},getParents:function(t){if(!this.hasNode(t))throw"The given node is not part of this graph.";return t.getParents()},getChildren:function(t){if(!this.hasNode(t))throw"The given node is not part of this graph.";return t.getChildren()},addLink:function(t,n,i){var r,o,a;if(D.isUndefined(t))throw"The source of the link is not defined.";if(D.isUndefined(n)){if(D.isDefined(t.type)&&"Link"===t.type)return this.addExistingLink(t),e;throw"The target of the link is not defined."}return r=this.getNode(t),D.isUndefined(r)&&(r=this.addNode(t)),o=this.getNode(n),D.isUndefined(o)&&(o=this.addNode(n)),a=new w(r,o),D.isDefined(i)&&(a.owner=i),this.links.push(a),a},removeAllLinks:function(){for(;this.links.length>0;){var t=this.links[0];this.removeLink(t)}},addExistingLink:function(t){var e,n;this.hasLink(t)||(this.links.push(t),this.hasNode(t.source.id)?(e=this.getNode(t.source.id),t.changeSource(e)):this.addNode(t.source),this.hasNode(t.target.id)?(n=this.getNode(t.target.id),t.changeTarget(n)):this.addNode(t.target))},hasLink:function(t){if(D.isString(t))return D.any(this.links,function(e){return e.id===t});if("Link"===t.type)return M(this.links,t);throw"The given object is neither an identifier nor a Link."},getNode:function(t){if(D.isUndefined(t))throw"No identifier or Node specified.";return D.isString(t)?D.find(this.nodes,function(e){return e.id==t}):this.hasNode(t)?t:null},hasNode:function(t){if(D.isString(t))return D.any(this.nodes,function(e){return e.id===t});if(D.isObject(t))return D.any(this.nodes,function(e){return e===t});throw"The identifier should be a Node or the Id (string) of a node."},removeNode:function(t){var e,n,i,r,o=t;if(D.isString(t)&&(o=this.getNode(t)),!D.isDefined(o))throw"The identifier should be a Node or the Id (string) of a node.";for(e=o.links,o.links=[],n=0,i=e.length;i>n;n++)r=e[n],this.removeLink(r);D.remove(this.nodes,o)},areConnected:function(t,e){return D.any(this.links,function(n){return n.source==t&&n.target==e||n.source==e&&n.target==t})},removeLink:function(t){D.remove(this.links,t),D.remove(t.source.outgoing,t),D.remove(t.source.links,t),D.remove(t.target.incoming,t),D.remove(t.target.links,t)},addNode:function(t,e,n){var i=null;if(!D.isDefined(t))throw"No Node or identifier for a new Node is given.";if(D.isString(t)){if(this.hasNode(t))return this.getNode(t);i=new _(t)}else{if(this.hasNode(t))return this.getNode(t);i=t}return D.isDefined(e)&&i.bounds(e),D.isDefined(n)&&(i.owner=n),this.nodes.push(i),i},addNodeAndOutgoings:function(t){M(this.nodes,t)||this.nodes.push(t);var e=t.outgoing;t.outgoing=[],D.forEach(e,function(t){this.addExistingLink(t)},this)},setItemIndices:function(){var t;for(t=0;this.nodes.length>t;++t)this.nodes[t].index=t;for(t=0;this.links.length>t;++t)this.links[t].index=t},clone:function(t){var e,n=new x,i=D.isDefined(t)&&t===!0;return i&&(n.nodeMap=new m,n.linkMap=new m),e=new m,D.forEach(this.nodes,function(t){var r=t.clone();e.set(t,r),n.nodes.push(r),i&&n.nodeMap.set(r,t)}),D.forEach(this.links,function(t){if(e.containsKey(t.source)&&e.containsKey(t.target)){var r=n.addLink(e.get(t.source),e.get(t.target));i&&n.linkMap.set(r,t)}}),n},linearize:function(t){return x.Utils.linearize(this,t)},depthFirstTraversal:function(t,e){var n,i;if(D.isUndefined(t))throw"You need to supply a starting node.";if(D.isUndefined(e))throw"You need to supply an action.";if(!this.hasNode(t))throw"The given start-node is not part of this graph";n=this.getNode(t),i=[],this._dftIterator(n,e,i)},_dftIterator:function(t,e,n){var i,r,o,a;for(e(t),n.push(t),i=t.getChildren(),r=0,o=i.length;o>r;r++)a=i[r],M(n,a)||this._dftIterator(a,e,n)},breadthFirstTraversal:function(t,e){var n,i,r,o,a,s,l,c;if(D.isUndefined(t))throw"You need to supply a starting node.";if(D.isUndefined(e))throw"You need to supply an action.";if(!this.hasNode(t))throw"The given start-node is not part of this graph";for(n=this.getNode(t),i=new v,r=[],i.enqueue(n);i.length>0;)for(o=i.dequeue(),e(o),r.push(o),a=o.getChildren(),s=0,l=a.length;l>s;s++)c=a[s],M(r,c)||M(i,c)||i.enqueue(c)},_stronglyConnectedComponents:function(t,e,n,i,r,o,a){var s,l,c,h,d;for(n.add(e,a),i.add(e,a),a++,o.push(e),s=e.getChildren(),c=0,h=s.length;h>c;c++)l=s[c],n.containsKey(l)?M(o,l)&&i.add(e,Math.min(i.get(e),n.get(l))):(this._stronglyConnectedComponents(t,l,n,i,r,o,a),i.add(e,Math.min(i.get(e),i.get(l))));if(i.get(e)===n.get(e)){d=[];do l=o.pop(),d.push(l);while(l!==e);(!t||d.length>1)&&r.push(d)}},findCycles:function(t){var e,n,i,r,o,a,s;for(D.isUndefined(t)&&(t=!0),e=new m,n=new m,i=[],r=[],o=0,a=this.nodes.length;a>o;o++)s=this.nodes[o],e.containsKey(s)||this._stronglyConnectedComponents(t,s,e,n,i,r,0);return i},isAcyclic:function(){return D.isEmpty(this.findCycles())},isSubGraph:function(t){var e=t.linearize(),n=this.linearize();return D.all(e,function(t){return M(n,t)})},makeAcyclic:function(){var t,e,n,i,r,o,a,s,l,c,h,d,u,f,p,g,v,y,_,w,x,b,k,C,S,T,A,P,M,E,I,L;if(this.isEmpty()||1>=this.nodes.length||1>=this.links.length)return[];if(2==this.nodes.length){if(t=[],this.links.length>1)for(e=this.links[0],n=e.source,i=0,r=this.links.length;r>i;i++)o=this.links[i],o.source!=n&&(a=o.reverse(),t.push(a));return t}for(s=this.clone(!0),l=this.nodes.length,c=new m,h=function(t){return 0===t.outgoing.length?2-l:0===t.incoming.length?l-2:t.outgoing.length-t.incoming.length},d=function(t,e){var n=h(t,l);e.containsKey(n)||e.set(n,[]),e.get(n).push(t)},D.forEach(s.nodes,function(t){d(t,c)}),u=[],f=[];s.nodes.length>0;){if(c.containsKey(2-l))for(y=c.get(2-l);y.length>0;){for(g=y.pop(),_=0;g.links.length>_;_++)w=g.links[_],p=w.getComplement(g),v=h(p,l),D.remove(c.get(v),p),p.removeLink(w),d(p,c);D.remove(s.nodes,g),f.unshift(g)}if(c.containsKey(l-2))for(x=c.get(l-2);x.length>0;){for(p=x.pop(),b=0;p.links.length>b;b++)k=p.links[b],g=k.getComplement(p),v=h(g,l),D.remove(c.get(v),g),g.removeLink(k),d(g,c);u.push(p),D.remove(s.nodes,p)}if(s.nodes.length>0)for(C=l-3;C>2-l;C--)if(c.containsKey(C)&&c.get(C).length>0){for(S=c.get(C),T=S.pop(),A=0;T.links.length>A;A++)P=T.links[A],M=P.getComplement(T),v=h(M,l),D.remove(c.get(v),M),M.removeLink(P),d(M,c);u.push(T),D.remove(s.nodes,T);break}}for(u=u.concat(f),E=new m,I=0;this.nodes.length>I;I++)E.set(s.nodeMap.get(u[I]),I);return L=[],D.forEach(this.links,function(t){E.get(t.source)>E.get(t.target)&&(t.reverse(),L.push(t))}),L}}),x.Predefined={EightGraph:function(){return x.Utils.parse(["1->2","2->3","3->4","4->1","3->5","5->6","6->7","7->3"])},Mindmap:function(){return x.Utils.parse(["0->1","0->2","0->3","0->4","0->5","1->6","1->7","7->8","2->9","9->10","9->11","3->12","12->13","13->14","4->15","4->16","15->17","15->18","18->19","18->20","14->21","14->22","5->23","23->24","23->25","6->26"])},ThreeGraph:function(){return x.Utils.parse(["1->2","2->3","3->1"])},BinaryTree:function(t){return D.isUndefined(t)&&(t=5),x.Utils.createBalancedTree(t,2)},Linear:function(t){return D.isUndefined(t)&&(t=10),x.Utils.createBalancedTree(t,1)},Tree:function(t,e){return x.Utils.createBalancedTree(t,e)},Forest:function(t,e,n){return x.Utils.createBalancedForest(t,e,n)},Workflow:function(){return x.Utils.parse(["0->1","1->2","2->3","1->4","4->3","3->5","5->6","6->3","6->7","5->4"])},Grid:function(t,e){var n,i,r,o,a,s=new k.Graph;if(0>=t&&0>=e)return s;for(n=0;t+1>n;n++)for(i=null,r=0;e+1>r;r++)o=new _(""+n+"."+r),s.addNode(o),i&&s.addLink(i,o),n>0&&(a=s.getNode(""+(n-1)+"."+r),s.addLink(a,o)),i=o;return s}},x.Utils={parse:function(t){var e,n,i,r,o,a=new k.Graph,s=t.slice();for(n=0,i=s.length;i>n;n++){if(r=s[n],D.isString(r)){if(r.indexOf("->")<0)throw"The link should be specified as 'a->b'.";if(o=r.split("->"),2!=o.length)throw"The link should be specified as 'a->b'.";e=new w(o[0],o[1]),a.addLink(e)}if(D.isObject(r)){if(!e)throw"Specification found before Link definition.";b.deepExtend(e,r)}}return a},linearize:function(t,e){var n,i,r,o;if(D.isUndefined(t))throw"Expected an instance of a Graph object in slot one.";for(D.isUndefined(e)&&(e=!1),n=[],i=0,r=t.links.length;r>i;i++)o=t.links[i],n.push(o.source.id+"->"+o.target.id),e&&n.push({id:o.id});return n},_addShape:function(t,e,n,i){return D.isUndefined(e)&&(e=new k.Point(0,0)),D.isUndefined(n)&&(n=o()),i=b.deepExtend({width:20,height:20,id:n,radius:10,fill:"#778899",data:"circle",undoable:!1,x:e.x,y:e.y},i),t.addShape(i)},_addConnection:function(t,e,n,i){return t.connect(e,n,i)},createDiagramFromGraph:function(t,e,n,i){var r,o,a,l,c,h,d,u,f,p,g,m,v,y,_,w;if(D.isUndefined(t))throw"The diagram surface is undefined.";if(D.isUndefined(e))throw"No graph specification defined.";for(D.isUndefined(n)&&(n=!0),D.isUndefined(i)&&(i=!1),r=t.element.clientWidth||200,o=t.element.clientHeight||200,a=[],h=0,d=e.nodes.length;d>h;h++)l=e.nodes[h],u=l.position,D.isUndefined(u)&&(u=D.isDefined(l.x)&&D.isDefined(l.y)?new A(l.x,l.y):new A(D.randomInteger(10,r-20),D.randomInteger(10,o-20))),f={},"0"===l.id||i&&b.deepExtend(f,{width:150*Math.random()+20,height:80*Math.random()+50,data:"rectangle",fill:{color:"#778899"}}),c=this._addShape(t,u,l.id,f),p=c.bounds(),D.isDefined(p)&&(l.x=p.x,l.y=p.y,l.width=p.width,l.height=p.height),a[l.id]=c;for(g=0;e.links.length>g;g++)m=e.links[g],v=a[m.source.id],D.isUndefined(v)||(y=a[m.target.id],D.isUndefined(y)||this._addConnection(t,v,y,{id:m.id}));if(n)for(_=new t.SpringLayout(t),_.layoutGraph(e,{limitToView:!1}),w=0;e.nodes.length>w;w++)l=e.nodes[w],c=a[l.id],c.bounds(new s(l.x,l.y,l.width,l.height))},createBalancedTree:function(t,e){var n,i,r,o,a,s,l,c,h,d;if(D.isUndefined(t)&&(t=3),D.isUndefined(e)&&(e=3),n=new k.Graph,i=-1,r=[],0>=t||0>=e)return n;for(a=new _(""+ ++i),n.addNode(a),n.root=a,r.push(a),s=0;t>s;s++){for(o=[],l=0;r.length>l;l++)for(c=r[l],h=0;e>h;h++)d=new _(""+ ++i),n.addLink(c,d),o.push(d);r=o}return n},createBalancedForest:function(t,e,n){var i,r,o,a,s,l,c,h,d,u,f;if(D.isUndefined(t)&&(t=3),D.isUndefined(e)&&(e=3),D.isUndefined(n)&&(n=5),i=new k.Graph,r=-1,o=[],0>=t||0>=e||0>=n)return i;for(s=0;n>s;s++)for(l=new _(""+ ++r),i.addNode(l),o=[l],c=0;t>c;c++){for(a=[],h=0;o.length>h;h++)for(d=o[h],u=0;e>u;u++)f=new _(""+ ++r),i.addLink(d,f),a.push(f);o=a}return i},createRandomConnectedGraph:function(t,e,n){var i,r,o,a,s,l,c,h,d,u;if(D.isUndefined(t)&&(t=40),D.isUndefined(e)&&(e=4),D.isUndefined(n)&&(n=!1),i=new k.Graph,r=-1,0>=t)return i;if(o=new _(""+ ++r),i.addNode(o),1===t)return i;if(t>1){for(a=1;t>a&&(s=i.takeRandomNode([],e),s);a++)l=i.addNode(""+a),i.addLink(s,l);if(!n&&t>1)for(c=D.randomInteger(1,t),h=0;c>h;h++)d=i.takeRandomNode([],e),u=i.takeRandomNode([],e),d&&u&&!i.areConnected(d,u)&&i.addLink(d,u);return i}},randomDiagram:function(t,e,n,i,r){var o=b.dataviz.diagram.Graph.Utils.createRandomConnectedGraph(e,n,i);x.Utils.createDiagramFromGraph(t,o,!1,r)}},b.deepExtend(k,{init:function(t){b.init(t,k.ui)},Point:A,Intersect:c,Geometry:p,Rect:s,Size:l,RectAlign:h,Matrix:u,MatrixVector:f,normalVariable:r,randomId:o,Dictionary:m,HashTable:g,Queue:v,Set:y,Node:_,Link:w,Graph:x,PathDefiner:a})}(window.kendo.jQuery),function(t,e){function n(t){return{x:t.x||0,y:t.y||0,width:t.width||0,height:t.height||0}}function i(t){if(t){var e=t;return O(e)&&(e={color:e}),e.color&&(e.color=r(e.color)),e}}function r(t){var e;return e=t!=j?new H.Color(t).toHex():t}function o(t,e){var n=e.x-t.x,i=e.y-t.y,r=A.util.deg(Math.atan2(i,n));return r}function a(t,e){var n,i,r,o=this.options,a=!1;for(r=0;e.length>r;r++)i=e[r],n=t[i],R(n)&&o[i]!==n&&(o[i]=n,a=!0);return a}function s(t,e){return new H.Segment(new V.Point(t,e))}var l,c,h,d,u,f,p,g,m,v,y,_,w,x,b,k,C,S,T,D,A=window.kendo,P=A.dataviz.diagram,M=A.Class,E=A.deepExtend,I=A.dataviz,L=P.Point,B=P.Rect,z=P.Matrix,F=P.Utils,R=F.isNumber,O=F.isString,N=P.MatrixVector,V=A.geometry,H=A.drawing,U=I.defined,W=t.inArray,j="transparent",G={none:"none",arrowStart:"ArrowStart",filledCircle:"FilledCircle",arrowEnd:"ArrowEnd"},q=360,$="start",Y="end",X="width",Q="height",K="x",Z="y";P.Markers=G,l=M.extend({init:function(t,e){this.x=t,this.y=e},toMatrix:function(){return z.scaling(this.x,this.y)},toString:function(){return A.format("scale({0},{1})",this.x,this.y)},invert:function(){return new l(1/this.x,1/this.y)}}),c=M.extend({init:function(t,e){this.x=t,this.y=e},toMatrixVector:function(){return new N(0,0,0,0,this.x,this.y)},toMatrix:function(){return z.translation(this.x,this.y)},toString:function(){return A.format("translate({0},{1})",this.x,this.y)},plus:function(t){this.x+=t.x,this.y+=t.y},times:function(t){this.x*=t,this.y*=t},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},normalize:function(){0!==this.Length&&this.times(1/this.length())},invert:function(){return new c(-this.x,-this.y)}}),h=M.extend({init:function(t,e,n){this.x=e||0,this.y=n||0,this.angle=t},toString:function(){return this.x&&this.y?A.format("rotate({0},{1},{2})",this.angle,this.x,this.y):A.format("rotate({0})",this.angle)},toMatrix:function(){return z.rotation(this.angle,this.x,this.y)},center:function(){return new L(this.x,this.y)},invert:function(){return new h(q-this.angle,this.x,this.y)}}),h.create=function(t){return new h(t.angle,t.x,t.y)},h.parse=function(t){var e=t.slice(1,t.length-1).split(","),n=e[0],i=e[1],r=e[2],o=new h(n,i,r);return o},d=M.extend({init:function(t,n,i,r,o,a){this.translate=new c(t,n),i!==e&&r!==e&&(this.scale=new l(i,r)),o!==e&&(this.rotate=a?new h(o,a.x,a.y):new h(o))},toString:function(){var t=function(t){return t?""+t:""};return t(this.translate)+t(this.rotate)+t(this.scale)},render:function(t){t._transform=this,t._renderTransform()},toMatrix:function(){var t=z.unit();return this.translate&&(t=t.times(this.translate.toMatrix())),this.rotate&&(t=t.times(this.rotate.toMatrix())),this.scale&&(t=t.times(this.scale.toMatrix())),t},invert:function(){var t,n,i=this.rotate?this.rotate.invert():e,r=i?i.toMatrix():z.unit(),o=this.scale?this.scale.invert():e,a=o?o.toMatrix():z.unit(),s=new L(-this.translate.x,-this.translate.y);return s=r.times(a).apply(s),t=new c(s.x,s.y),n=new d,n.translate=t,n.rotate=i,n.scale=o,n}}),u={_setScale:function(){var t=this.options,e=this._originWidth,n=this._originHeight,i=t.width/e,r=t.height/n;R(i)||(i=1),R(r)||(r=1),this._transform.scale=new l(i,r)},_setTranslate:function(){var t=this.options,e=t.x||0,n=t.y||0;this._transform.translate=new c(e,n)},_initSize:function(){var t=this.options,e=!1;t.autoSize!==!1&&(U(t.width)||U(t.height))&&(this._measure(!0),this._setScale(),e=!0),(U(t.x)||U(t.y))&&(this._setTranslate(),e=!0),e&&this._renderTransform()},_updateSize:function(t){var e=!1;return this.options.autoSize!==!1&&this._diffNumericOptions(t,[X,Q])&&(e=!0,this._measure(!0),this._setScale()),this._diffNumericOptions(t,[K,Z])&&(e=!0,this._setTranslate()),e&&this._renderTransform(),e}},f=M.extend({init:function(t){var e=this;e.options=E({},e.options,t),e.id=e.options.id,e._originSize=B.empty(),e._transform=new d},visible:function(t){return this.drawingContainer().visible(t)},redraw:function(t){t&&t.id&&(this.id=t.id)},position:function(t,n){var i=this.options;return U(t)?(U(n)?(i.x=t,i.y=n):t instanceof L&&(i.x=t.x,i.y=t.y),this._transform.translate=new c(i.x,i.y),this._renderTransform(),e):new L(i.x,i.y)},rotate:function(t,e){return U(t)&&(this._transform.rotate=new h(t,e.x,e.y),this._renderTransform()),this._transform.rotate||new h(0)},drawingContainer:function(){return this.drawingElement},_renderTransform:function(){var t=this._transform.toMatrix();this.drawingContainer().transform(new V.Matrix(t.a,t.b,t.c,t.d,t.e,t.f))},_hover:function(){},_diffNumericOptions:a,_measure:function(t){var e,n,i;return!this._measured||t?(n=this._boundingBox()||new V.Rect,i=n.topLeft(),e=new B(i.x,i.y,n.width(),n.height()),this._originSize=e,this._originWidth=e.width,this._originHeight=e.height,this._measured=!0):e=this._originSize,e},_boundingBox:function(){return this.drawingElement.rawBBox()}}),p=f.extend({init:function(t){f.fn.init.call(this,t),t=this.options,t.fill=i(t.fill),t.stroke=i(t.stroke)},options:{stroke:{color:"gray",width:1},fill:{color:j}},fill:function(t,e){this._fill({color:r(t),opacity:e})},stroke:function(t,e,n){this._stroke({color:r(t),width:e,opacity:n})},redraw:function(t){var e,n;t&&(e=t.stroke,n=t.fill,e&&this._stroke(i(e)),n&&this._fill(i(n)),f.fn.redraw.call(this,t))},_hover:function(t){var e,n=this.drawingElement,r=this.options,o=r.hover;o&&o.fill&&(e=t?i(o.fill):r.fill,n.fill(e.color,e.opacity))},_stroke:function(t){var e,n=this.options;E(n,{stroke:t}),e=n.stroke,this.drawingElement.stroke(e.color,e.width,e.opacity)},_fill:function(t){var e,n=this.options;E(n,{fill:t}),e=n.fill,this.drawingElement.fill(e.color,e.opacity)}}),g=p.extend({init:function(t){this._textColor(t),p.fn.init.call(this,t),this._font(),this._initText(),this._initSize()},options:{fontSize:15,fontFamily:"sans-serif",stroke:{width:0},fill:{color:"black"},autoSize:!0},_initText:function(){var t=this.options;this.drawingElement=new H.Text(U(t.text)?t.text:"",new V.Point,{fill:t.fill,stroke:t.stroke,font:t.font})},_textColor:function(t){t&&t.color&&E(t,{fill:{color:t.color}})},_font:function(){var t=this.options;t.fontFamily&&U(t.fontSize)?t.font=t.fontSize+"px "+t.fontFamily:delete t.font},content:function(t){return this.drawingElement.content(t)},redraw:function(t){var e,n;t&&(e=!1,n=this.options,this._textColor(t),p.fn.redraw.call(this,t),(t.fontFamily||U(t.fontSize))&&(E(n,{fontFamily:t.fontFamily,fontSize:t.fontSize}),this._font(),this.drawingElement.options.set("font",n.font),e=!0),t.text&&(this.content(t.text),e=!0),!this._updateSize(t)&&e&&this._initSize())}}),E(g.fn,u),m=p.extend({init:function(t){p.fn.init.call(this,t),this._initPath(),this._setPosition()},_setPosition:function(){var t=this.options,e=t.x,n=t.y;(U(e)||U(n))&&this.position(e||0,n||0)},redraw:function(t){t&&(p.fn.redraw.call(this,t),this._diffNumericOptions(t,[X,Q])&&this._drawPath(),this._diffNumericOptions(t,[K,Z])&&this._setPosition())},_initPath:function(){{var t=this.options;this.drawingElement=new H.Path({fill:t.fill,stroke:t.stroke,closed:!0})}this._drawPath()},_drawPath:function(){var t=this.drawingElement,e=n(this.options),i=e.width,r=e.height;t.segments.elements([s(0,0),s(i,0),s(i,r),s(0,r)])}}),v=p.extend({init:function(t){p.fn.init.call(this,t);var e=this.options.anchor;this.anchor=new V.Point(e.x,e.y),this.createElement()},options:{stroke:{color:j,width:0},fill:{color:"black"}},_transformToPath:function(t,e){var n=e.transform();return t&&n&&(t=t.transformCopy(n)),t},redraw:function(t){t&&(t.position&&(this.options.position=t.position),p.fn.redraw.call(this,t))}}),y=v.extend({options:{radius:4,anchor:{x:0,y:0}},createElement:function(){var t=this.options;this.drawingElement=new H.Circle(new V.Circle(this.anchor,t.radius),{fill:t.fill,stroke:t.stroke})},positionMarker:function(t){var e,n,i=this.options,r=i.position,o=t.segments;e=r==$?o[0]:o[o.length-1],e&&(n=this._transformToPath(e.anchor(),t),this.drawingElement.transform(V.transform().translate(n.x,n.y)))}}),_=v.extend({options:{path:"M 0 0 L 10 5 L 0 10 L 3 5 z",anchor:{x:10,y:5}},createElement:function(){var t=this.options;this.drawingElement=H.Path.parse(t.path,{fill:t.fill,stroke:t.stroke})},positionMarker:function(t){var e,n,i=this._linePoints(t),r=i.start,a=i.end,s=V.transform();r&&s.rotate(o(r,a),a),a&&(e=this.anchor,n=a.clone().translate(-e.x,-e.y),s.translate(n.x,n.y)),this.drawingElement.transform(s)},_linePoints:function(t){var n,i,r,o,a,s=this.options,l=t.segments;return s.position==$?(r=l[0],r&&(i=r.anchor(),n=r.controlOut(),o=l[1],!n&&o&&(n=o.anchor()))):(r=l[l.length-1],r&&(i=r.anchor(),n=r.controlIn(),a=l[l.length-2],!n&&a&&(n=a.anchor()))),i?{start:this._transformToPath(n,t),end:this._transformToPath(i,t)}:e}}),w={_getPath:function(t){var n=this.drawingElement;return n instanceof H.MultiPath&&(n=t==$?n.paths[0]:n.paths[n.paths.length-1]),n&&n.segments.length?n:e},_removeMarker:function(t){var e=this._markers[t];e&&(this.drawingContainer().remove(e.drawingElement),delete this._markers[t])},_createMarkers:function(){var t=this.options,e=t.startCap,n=t.endCap;this._markers={},this._markers[$]=this._createMarker(e,$),this._markers[Y]=this._createMarker(n,Y)},_createMarker:function(t,n){var i,r,o=this._getPath(n);return o?(t==G.filledCircle?i=y:t==G.arrowStart||t==G.arrowEnd?i=_:this._removeMarker(n),i?(r=new i({position:n}),r.positionMarker(o),this.drawingContainer().append(r.drawingElement),r):e):(this._removeMarker(n),e)},_positionMarker:function(t){var e,n=this._markers[t];n&&(e=this._getPath(t),e?n.positionMarker(e):this._removeMarker(t))},_capMap:{start:"startCap",end:"endCap"},_redrawMarker:function(t,e,n){var i=this.options,r=this._capMap[e],o=n[r],a=!1;return o&&i[r]!=o?(i[r]=o,this._removeMarker(e),this._markers[e]=this._createMarker(o,e),a=!0):t&&!this._markers[e]&&i[r]&&(this._markers[e]=this._createMarker(i[r],e),a=!0),a},_redrawMarkers:function(t,e){!this._redrawMarker(t,$,e)&&t&&this._positionMarker($),!this._redrawMarker(t,Y,e)&&t&&this._positionMarker(Y)}},x=p.extend({init:function(t){p.fn.init.call(this,t),this.container=new H.Group,this._createElements(),this._initSize()},options:{autoSize:!0},drawingContainer:function(){return this.container},data:function(t){var n=this.options;return t?(n.data!=t&&(n.data=t,this._setData(t),this._initSize(),this._redrawMarkers(!0,{})),e):n.data},redraw:function(t){var e,n;t&&(p.fn.redraw.call(this,t),e=this.options,n=t.data,U(n)&&e.data!=n?(e.data=n,this._setData(n),this._updateSize(t)||this._initSize(),this._redrawMarkers(!0,t)):(this._updateSize(t),this._redrawMarkers(!1,t)))},_createElements:function(){var t=this.options;this.drawingElement=H.Path.parse(t.data||"",{fill:t.fill,stroke:t.stroke}),this.container.append(this.drawingElement),this._createMarkers()},_setData:function(t){var e=this.drawingElement,n=H.Path.parse(t||""),i=n.paths.slice(0);n.paths.elements([]),e.paths.elements(i)}}),E(x.fn,u),E(x.fn,w),b=p.extend({init:function(t){p.fn.init.call(this,t),this.container=new H.Group,this._initPath(),this._createMarkers()},drawingContainer:function(){return this.container},redraw:function(t){var e,n;t&&(t=t||{},e=t.from,n=t.to,e&&(this.options.from=e),n&&(this.options.to=n),e||n?(this._drawPath(),this._redrawMarkers(!0,t)):this._redrawMarkers(!1,t),p.fn.redraw.call(this,t))},_initPath:function(){var t=this.options,e=this.drawingElement=new H.Path({fill:t.fill,stroke:t.stroke});this._drawPath(),this.container.append(e)},_drawPath:function(){var t=this.options,e=this.drawingElement,n=t.from||new L,i=t.to||new L;e.segments.elements([s(n.x,n.y),s(i.x,i.y)])}}),E(b.fn,w),k=p.extend({init:function(t){p.fn.init.call(this,t),this.container=new H.Group,this._initPath(),this._createMarkers()},drawingContainer:function(){return this.container},points:function(t){var n=this.options;return t?(n.points=t,this._updatePath(),e):n.points},redraw:function(t){if(t){var e=t.points;p.fn.redraw.call(this,t),e&&this._pointsDiffer(e)?(this.points(e),this._redrawMarkers(!0,t)):this._redrawMarkers(!1,t)}},_initPath:function(){var t=this.options;this.drawingElement=new H.Path({fill:t.fill,stroke:t.stroke}),this.container.append(this.drawingElement),t.points&&this._updatePath()},_pointsDiffer:function(t){var e,n=this.options.points,i=n.length!==t.length;if(!i)for(e=0;t.length>e;e++)if(n[e].x!==t[e].x||n[e].y!==t[e].y){i=!0;break}return i},_updatePath:function(){var t,e,n=this.drawingElement,i=this.options,r=i.points,o=[];for(e=0;r.length>e;e++)t=r[e],o.push(s(t.x,t.y));n.segments.elements(o)},options:{points:[]}}),E(k.fn,w),C=f.extend({init:function(t){f.fn.init.call(this,t),this._initImage()},redraw:function(t){t&&(t.source&&this.drawingElement.src(t.source),this._diffNumericOptions(t,[X,Q,K,Z])&&this.drawingElement.rect(this._rect()),f.fn.redraw.call(this,t))},_initImage:function(){var t=this.options,e=this._rect();this.drawingElement=new H.Image(t.source,e,{})},_rect:function(){var t=n(this.options),e=new V.Point(t.x,t.y),i=new V.Size(t.width,t.height);return new V.Rect(e,i)}}),S=f.extend({init:function(t){this.children=[],f.fn.init.call(this,t),this.drawingElement=new H.Group,this._initSize()},options:{autoSize:!1},append:function(t){this.drawingElement.append(t.drawingContainer()),this.children.push(t),this._childrenChange=!0},remove:function(t){this._remove(t)&&(this._childrenChange=!0)},_remove:function(t){var n=W(t,this.children);return n>=0?(this.drawingElement.removeAt(n),this.children.splice(n,1),!0):e},clear:function(){this.drawingElement.clear(),this.children=[],this._childrenChange=!0},toFront:function(t){var e,n;for(n=0;t.length>n;n++)e=t[n],this._remove(e)&&this.append(e)},toBack:function(t){this._reorderChildren(t,0)},toIndex:function(t,e){this._reorderChildren(t,e)},_reorderChildren:function(t,e){var n,i,r,o,a,s=this.drawingElement,l=s.children.slice(0),c=this.children,h=R(e);for(n=0;t.length>n;n++)a=t[n],o=a.drawingContainer(),i=W(a,c),i>=0&&(l.splice(i,1),c.splice(i,1),r=h?e:e[n],l.splice(r,0,o),c.splice(r,0,a));s.clear(),s.append.apply(s,l)},redraw:function(t){t&&(this._childrenChange?(this._childrenChange=!1,this._updateSize(t)||this._initSize()):this._updateSize(t),f.fn.redraw.call(this,t))},_boundingBox:function(){var t,e,n,i,r=this.children;for(i=0;r.length>i;i++)e=r[i],e.visible()&&e._includeInBBox!==!1&&(n=e.drawingContainer().bbox(null),n&&(t=t?B.union(t,n):n));return t}}),E(S.fn,u),T=p.extend({init:function(t){p.fn.init.call(this,t),this._initCircle()},redraw:function(t){if(t){var e=this.options;t.center&&(E(e,{center:t.center}),this._center.move(e.center.x,e.center.y)),this._diffNumericOptions(t,["radius"])&&this._circle.setRadius(e.radius),p.fn.redraw.call(this,t)}},_initCircle:function(){var t,e=this.options,n=e.width,i=e.height,r=e.radius;U(r)||(U(n)||(n=i),U(i)||(i=n),e.radius=r=Math.min(n,i)/2),t=e.center||{x:r,y:r},this._center=new V.Point(t.x,t.y),this._circle=new V.Circle(this._center,r),this.drawingElement=new H.Circle(this._circle,{fill:e.fill,stroke:e.stroke})}}),D=M.extend({init:function(t,e){e=e||{},this.element=t,this.surface=H.Surface.create(t,e),A.isFunction(this.surface.translate)&&(this.translate=this._translate),this.drawingElement=new H.Group,this._viewBox=new B(0,0,e.width,e.height),this.size(this._viewBox)},bounds:function(){var t=this.drawingElement.bbox();return new B(0,0,t.width(),t.height())},size:function(t){var e=this._viewBox;return U(t)&&(e.width=t.width,e.height=t.height,this.surface.setSize(t)),{width:e.width,height:e.height}},_translate:function(t,e){var n=this._viewBox;return U(t)&&U(e)&&(n.x=t,n.y=e,this.surface.translate({x:t,y:e})),{x:n.x,y:n.y}
},draw:function(){this.surface.draw(this.drawingElement)},append:function(t){return this.drawingElement.append(t.drawingContainer()),this},remove:function(t){this.drawingElement.remove(t.drawingContainer())},insertBefore:function(){},clear:function(){this.drawingElement.clear()},destroy:function(e){this.surface.destroy(),e&&t(this.element).remove()}}),A.deepExtend(P,{init:function(t){A.init(t,P.ui)},diffNumericOptions:a,Element:f,Scale:l,Translation:c,Rotation:h,Circle:T,Group:S,Rectangle:m,Canvas:D,Path:x,Line:b,MarkerBase:v,ArrowMarker:_,CircleMarker:y,Polyline:k,CompositeTransform:d,TextBlock:g,Image:C,VisualBase:p})}(window.kendo.jQuery),function(t,e){function n(t,e){t.isSelected?e.ctrlKey&&t.select(!1):t.diagram.select(t,{addToSelection:e.ctrlKey})}function i(t,e){return e.charCodeAt(0)==t||e.toUpperCase().charCodeAt(0)==t}function r(t,e){var n;return-1==t.x&&-1==t.y?n=e.bottomRight():1==t.x&&1==t.y?n=e.topLeft():-1==t.x&&1==t.y?n=e.topRight():1==t.x&&-1==t.y?n=e.bottomLeft():0===t.x&&-1==t.y?n=e.bottom():0===t.x&&1==t.y?n=e.top():1==t.x&&0===t.y?n=e.left():-1==t.x&&0===t.y&&(n=e.right()),n}var o,a,s,l,c,h,d,u,f,p,g,m,v,y,_,w,x,b,k,C,S,T,D,A,P,M,E,I,L,B,z,F,R=window.kendo,O=R.dataviz,N=O.diagram,V=R.Class,H=N.Group,U=N.Rect,W=N.Rectangle,j=N.Utils,G=j.isUndefined,q=N.Point,$=N.Circle,Y=N.Ticker,X=R.deepExtend,Q=R.ui.Movable,K=R.support.browser,Z=O.defined,J=t.proxy,te={arrow:"default",grip:"pointer",cross:"pointer",add:"pointer",move:"move",select:"pointer",south:"s-resize",east:"e-resize",west:"w-resize",north:"n-resize",rowresize:"row-resize",colresize:"col-resize"},ee=10,ne="Auto",ie="Top",re="Right",oe="Left",ae="Bottom",se=[ie,re,ae,oe,ne],le="itemBoundsChange",ce="zoomStart",he="zoomEnd",de=-2e4,ue=2e4,fe=.9,pe=.93,ge=5,me="transparent",ve="pan";N.Cursors=te,o=R.Class.extend({init:function(t){this.layoutState=t,this.diagram=t.diagram},initState:function(){function t(t,e){var n=this.diagram.getShapeById(t);n&&(this.subjects.push(n),this.froms.push(n.bounds().topLeft()),this.tos.push(e.topLeft()))}this.froms=[],this.tos=[],this.subjects=[],this.layoutState.nodeMap.forEach(t,this)},update:function(t){if(!(0>=this.subjects.length))for(var e=0;this.subjects.length>e;e++)this.subjects[e].position(new q(this.froms[e].x+(this.tos[e].x-this.froms[e].x)*t,this.froms[e].y+(this.tos[e].y-this.froms[e].y)*t))}}),a=V.extend({init:function(t,e,n){this.animate=G(n)?!1:n,this._initialState=t,this._finalState=e,this.title="Diagram layout"},undo:function(){this.setState(this._initialState)},redo:function(){this.setState(this._finalState)},setState:function(t){var e,n=t.diagram;this.animate?(t.linkMap.forEach(function(t,e){var i=n.getShapeById(t);i.visible(!1),i&&i.points(e)}),e=new Y,e.addAdapter(new o(t)),e.onComplete(function(){t.linkMap.forEach(function(t){var e=n.getShapeById(t);e.visible(!0)})}),e.play()):(t.nodeMap.forEach(function(t,e){var i=n.getShapeById(t);i&&i.position(e.topLeft())}),t.linkMap.forEach(function(t,e){var i=n.getShapeById(t);i&&i.points(e)}))}}),s=V.extend({init:function(t){this.units=[],this.title="Composite unit",t!==e&&this.units.push(t)},add:function(t){this.units.push(t)},undo:function(){for(var t=0;this.units.length>t;t++)this.units[t].undo()},redo:function(){for(var t=0;this.units.length>t;t++)this.units[t].redo()}}),l=V.extend({init:function(t,e,n){this.item=t,this._redoSource=e,this._redoTarget=n,this._undoSource=t.source(),this._undoTarget=t.target(),this.title="Connection Editing"},undo:function(){this._undoSource!==e&&this.item.source(this._undoSource,!1),this._undoTarget!==e&&this.item.target(this._undoTarget,!1),this.item.updateModel(this._undoSource,this._undoTarget)},redo:function(){this._redoSource!==e&&this.item.source(this._redoSource,!1),this._redoTarget!==e&&this.item.target(this._redoTarget,!1),this.item.updateModel(this._undoSource,this._undoTarget)}}),c=V.extend({init:function(t,e,n){this.item=t,this._undoSource=e,this._undoTarget=n,this._redoSource=t.source(),this._redoTarget=t.target(),this.title="Connection Editing"},undo:function(){this.item.source(this._undoSource,!1),this.item.target(this._undoTarget,!1),this.item.updateModel(this._undoSource,this._undoTarget)},redo:function(){this.item.source(this._redoSource,!1),this.item.target(this._redoTarget,!1),this.item.updateModel(this._undoSource,this._undoTarget)}}),h=V.extend({init:function(t){this.connection=t,this.diagram=t.diagram,this.targetConnector=t.targetConnector,this.title="Delete connection"},undo:function(){this.diagram._addConnection(this.connection,!1)},redo:function(){this.diagram._remove(this.connection,!1)}}),d=V.extend({init:function(t){this.shape=t,this.diagram=t.diagram,this.title="Deletion"},undo:function(){this.diagram._addShape(this.shape,{undoable:!1}),this.shape.select(!1)},redo:function(){this.shape.select(!1),this.diagram._remove(this.shape,!1)}}),u=V.extend({init:function(t,e,n){var i,r;for(this.shapes=t,this.undoStates=e,this.title="Transformation",this.redoStates=[],this.adorner=n,i=0;this.shapes.length>i;i++)r=this.shapes[i],this.redoStates.push(r.bounds())},undo:function(){var t,e;for(t=0;this.shapes.length>t;t++)e=this.shapes[t],e.bounds(this.undoStates[t]),e.hasOwnProperty("layout")&&e.layout(e,this.redoStates[t],this.undoStates[t]);this.adorner&&(this.adorner.refreshBounds(),this.adorner.refresh())},redo:function(){var t,e;for(t=0;this.shapes.length>t;t++)e=this.shapes[t],e.bounds(this.redoStates[t]),e.hasOwnProperty("layout")&&e.layout(e,this.undoStates[t],this.redoStates[t]);this.adorner&&(this.adorner.refreshBounds(),this.adorner.refresh())}}),f=V.extend({init:function(t,e){this.connection=t,this.diagram=e,this.title="New connection"},undo:function(){this.diagram._remove(this.connection,!1)},redo:function(){this.diagram._addConnection(this.connection,!1)}}),p=V.extend({init:function(t,e){this.shape=t,this.diagram=e,this.title="New shape"},undo:function(){this.diagram._remove(this.shape,!1)},redo:function(){this.diagram._addShape(this.shape,!1)}}),g=V.extend({init:function(t,e,n){this.initial=t,this.finalPos=e,this.diagram=n,this.title="Pan Unit"},undo:function(){this.diagram.pan(this.initial)},redo:function(){this.diagram.pan(this.finalPos)}}),m=V.extend({init:function(t,e,n){var i,r;for(this.shapes=e,this.undoRotates=n,this.title="Rotation",this.redoRotates=[],this.redoAngle=t._angle,this.adorner=t,this.center=t._innerBounds.center(),i=0;this.shapes.length>i;i++)r=this.shapes[i],this.redoRotates.push(r.rotate().angle)},undo:function(){var t,e;for(t=0;this.shapes.length>t;t++)e=this.shapes[t],e.rotate(this.undoRotates[t],this.center,!1),e.hasOwnProperty("layout")&&e.layout(e);this.adorner&&(this.adorner._initialize(),this.adorner.refresh())},redo:function(){var t,e;for(t=0;this.shapes.length>t;t++)e=this.shapes[t],e.rotate(this.redoRotates[t],this.center,!1),e.hasOwnProperty("layout")&&e.layout(e);this.adorner&&(this.adorner._initialize(),this.adorner.refresh())}}),v=V.extend({init:function(t,e,n){this.diagram=t,this.indices=n,this.items=e,this.title="Rotate Unit"},undo:function(){this.diagram._toIndex(this.items,this.indices)},redo:function(){this.diagram.toFront(this.items,!1)}}),y=V.extend({init:function(t,e,n){this.diagram=t,this.indices=n,this.items=e,this.title="Rotate Unit"},undo:function(){this.diagram._toIndex(this.items,this.indices)},redo:function(){this.diagram.toBack(this.items,!1)}}),_=V.extend({init:function(){this.stack=[],this.index=0,this.capacity=100},begin:function(){this.composite=new s},cancel:function(){this.composite=e},commit:function(){this.composite.units.length>0&&this._restart(this.composite),this.composite=e},addCompositeItem:function(t){this.composite?this.composite.add(t):this.add(t)},add:function(t,e){this._restart(t,e)},count:function(){return this.stack.length},undo:function(){this.index>0&&(this.index--,this.stack[this.index].undo())},redo:function(){this.stack.length>0&&this.stack.length>this.index&&(this.stack[this.index].redo(),this.index++)},_restart:function(t,e){this.stack.splice(this.index,this.stack.length-this.index),this.stack.push(t),G(e)||e&&e===!0?this.redo():this.index++,this.stack.length>this.capacity&&(this.stack.splice(0,this.stack.length-this.capacity),this.index=this.capacity)},clear:function(){this.stack=[],this.index=0}}),w=V.extend({init:function(t){this.toolService=t},start:function(){},move:function(){},end:function(){},tryActivate:function(){return!1},getCursor:function(){return te.arrow}}),x=w.extend({init:function(e){var n,i,r,o,a=this,s=R.support.mobileOS?pe:fe;w.fn.init.call(a,e),n=a.toolService.diagram,i=n.canvas,r=n.scroller=a.scroller=t(n.scrollable).kendoMobileScroller({friction:s,velocityMultiplier:ge,mousewheelScrolling:!1,zoom:!1,scroll:J(a._move,a)}).data("kendoMobileScroller"),i.translate&&(a.movableCanvas=new Q(i.element)),o=function(t,e,n){t.makeVirtual(),t.virtualSize(e||de,n||ue)},o(r.dimensions.x),o(r.dimensions.y),r.disable()},tryActivate:function(t,n){return this.toolService.hoveredItem===e&&n.ctrlKey},start:function(){this.scroller.enable()},move:function(){},_move:function(t){var e=this,n=e.toolService.diagram,i=n.canvas,r=new q(t.scrollLeft,t.scrollTop);i.translate?(n._storePan(r.times(-1)),e.movableCanvas.moveTo(r),i.translate(r.x,r.y)):r=r.plus(n._pan.times(-1)),n.trigger(ve,{pan:r})},end:function(){this.scroller.disable()},getCursor:function(){return te.move}}),b=V.extend({init:function(t){this.toolService=t},tryActivate:function(){return!0},start:function(t,e){var i=this.toolService,r=i.diagram,o=i.hoveredItem,a=r.options.selectable!==!1;o&&(a&&n(o,e),o.adorner&&(this.adorner=o.adorner,this.handle=this.adorner._hitTest(t))),this.handle||(this.handle=r._resizingAdorner._hitTest(t),this.handle&&(this.adorner=r._resizingAdorner)),this.adorner&&this.adorner.start(t)},move:function(t){var e=this;this.adorner&&this.adorner.move(e.handle,t)},end:function(t,n){var i,r=this.toolService.diagram,o=this.toolService;this.adorner&&(i=this.adorner.stop(),i&&r.undoRedoService.add(i,!1)),o.hoveredItem&&this.toolService.triggerClick({item:o.hoveredItem,point:t,meta:n}),this.adorner=e,this.handle=e},getCursor:function(t){return this.toolService.hoveredItem?this.toolService.hoveredItem._getCursor(t):te.arrow}}),k=V.extend({init:function(t){this.toolService=t},tryActivate:function(){var t=this.toolService,e=t.diagram,n=e.options.selectable!==!1;return n&&!Z(t.hoveredItem)&&!Z(t.hoveredAdorner)},start:function(t){var e=this.toolService.diagram;e.deselect(),e.selector.start(t)},move:function(t){var e=this.toolService.diagram;e.selector.move(t)},end:function(t,e){var n=this.toolService.diagram,i=this.toolService.hoveredItem,r=n.selector.bounds();i&&i.isSelected||e.ctrlKey||n.deselect(),r.isEmpty()||n.selectArea(r),n.selector.end()},getCursor:function(){return te.arrow}}),C=V.extend({init:function(t){this.toolService=t,this.type="ConnectionTool"},tryActivate:function(t,e){return this.toolService._hoveredConnector&&!e.ctrlKey},start:function(t,e){var i=this.toolService.diagram,r=this.toolService._hoveredConnector,o=i.connect(r._c,t);this.toolService._connectionManipulation(o,r._c.shape,!0),this.toolService._removeHover(),n(this.toolService.activeConnection,e)},move:function(t){return this.toolService.activeConnection.target(t),!0},end:function(){var t=this.toolService.activeConnection,e=this.toolService.hoveredItem,n=this.toolService._hoveredConnector;n&&n._c!=t.sourceConnector?t.target(n._c):e&&t.target(e),t.updateModel(),this.toolService._connectionManipulation()},getCursor:function(){return te.arrow}}),S=V.extend({init:function(t){this.toolService=t,this.type="ConnectionTool"},tryActivate:function(){var t=this.toolService,e=t.diagram,n=e.options.selectable!==!1,i=t.hoveredItem,r=n&&i&&i.path;return r&&(this._c=i),r},start:function(t,e){n(this._c,e),this.handle=this._c.adorner._hitTest(t),this._c.adorner.start(t)},move:function(t){return this._c.adorner.move(this.handle,t),!0},end:function(t,e){this.toolService.triggerClick({item:this._c,point:t,meta:e});var n=this._c.adorner.stop(t);this.toolService.diagram.undoRedoService.add(n,!1)},getCursor:function(){return te.move}}),T=V.extend({init:function(t){this.diagram=t,this.tools=[new x(this),new S(this),new C(this),new k(this),new b(this)],this.activeTool=e},start:function(t,e){return e=X({},e),this.activeTool&&this.activeTool.end(t,e),this._updateHoveredItem(t),this._activateTool(t,e),this.activeTool.start(t,e),this._updateCursor(t),this.diagram.focus(),this.startPoint=t,!0},move:function(t,e){e=X({},e);var n=!0;return this.activeTool&&(n=this.activeTool.move(t,e)),n&&this._updateHoveredItem(t),this._updateCursor(t),!0},end:function(t,n){return n=X({},n),this.activeTool&&this.activeTool.end(t,n),this.activeTool=e,this._updateCursor(t),!0},keyDown:function(t,e){var n=this.diagram;if(e=X({ctrlKey:!1,metaKey:!1,altKey:!1},e),!e.ctrlKey&&!e.metaKey||e.altKey){if(46===t||8===t)return n.remove(n.select(),!0),n._destroyToolBar(),!0;if(27===t)return this._discardNewConnection(),n.deselect(),n._destroyToolBar(),!0}else{if(i(t,"a"))return n.selectAll(),n._destroyToolBar(),!0;if(i(t,"z"))return n.undo(),n._destroyToolBar(),!0;if(i(t,"y"))return n.redo(),n._destroyToolBar(),!0;i(t,"c")?(n.copy(),n._destroyToolBar()):i(t,"x")?(n.cut(),n._destroyToolBar()):i(t,"v")?(n.paste(),n._destroyToolBar()):i(t,"l")?(n.layout(),n._destroyToolBar()):i(t,"d")&&(n._destroyToolBar(),n.copy(),n.paste())}},wheel:function(t,e){var n=this.diagram,i=e.delta,r=n.zoom(),o=n.options,a=o.zoomRate,s={point:t,meta:e,zoom:r};return n.trigger(ce,s),0>i?r+=a:r-=a,r=R.dataviz.round(Math.max(o.minZoom,Math.min(o.maxZoom,r)),2),s.zoom=r,n.zoom(r,s),n.trigger(he,s),!0},setTool:function(t,e){t.toolService=this,this.tools[e]=t},triggerClick:function(t){this.startPoint.equals(t.point)&&this.diagram.trigger("click",t)},_discardNewConnection:function(){this.newConnection&&(this.diagram.remove(this.newConnection),this.newConnection=e)},_activateTool:function(t,e){var n,i;for(n=0;this.tools.length>n;n++)if(i=this.tools[n],i.tryActivate(t,e)){this.activeTool=i;break}},_updateCursor:function(t){var e=this.diagram.element,n=this.activeTool?this.activeTool.getCursor(t):this.hoveredAdorner?this.hoveredAdorner._getCursor(t):this.hoveredItem?this.hoveredItem._getCursor(t):te.arrow;e.css({cursor:n}),K.msie&&7==K.version&&(e[0].style.cssText=e[0].style.cssText)},_connectionManipulation:function(t,n,i){this.activeConnection=t,this.disabledShape=n,this.newConnection=i?this.activeConnection:e},_updateHoveredItem:function(t){var n=this._hitTest(t);n==this.hoveredItem||this.disabledShape&&n==this.disabledShape||(this.hoveredItem&&this.hoveredItem._hover(!1),n&&n.options.enable?(this.hoveredItem=n,this.hoveredItem._hover(!0)):this.hoveredItem=e)},_removeHover:function(){this.hoveredItem&&(this.hoveredItem._hover(!1),this.hoveredItem=e)},_hitTest:function(t){var n,i,r,o,a=this.diagram;if(this._hoveredConnector&&(this._hoveredConnector._hover(!1),this._hoveredConnector=e),a._connectorsAdorner._visible&&(n=a._connectorsAdorner._hitTest(t)))return n;if(n=this.diagram._resizingAdorner._hitTest(t)){if(this.hoveredAdorner=a._resizingAdorner,0!==n.x&&0!==n.y)return;n=e}else this.hoveredAdorner=e;if(!this.activeTool||"ConnectionTool"!==this.activeTool.type){for(o=[],r=0;a._selectedItems.length>r;r++)i=a._selectedItems[r],i instanceof N.Connection&&o.push(i);n=this._hitTestItems(o,t)}return n||this._hitTestItems(a.shapes,t)||this._hitTestItems(a.connections,t)},_hitTestItems:function(t,e){var n,i,r;for(n=t.length-1;n>=0;n--)if(i=t[n],r=i._hitTest(e))return r}}),D=R.Class.extend({init:function(){}}),A=D.extend({init:function(t){var e=this;D.fn.init.call(e),this.connection=t},hitTest:function(t){var e=this.getBounds().inflate(10);return e.contains(t)?N.Geometry.distanceToPolyline(t,this.connection.allPoints())<ee:!1},getBounds:function(){var t,e=this.connection.allPoints(),n=e[0],i=e[e.length-1],r=Math.max(n.x,i.x),o=Math.min(n.x,i.x),a=Math.min(n.y,i.y),s=Math.max(n.y,i.y);for(t=1;e.length-1>t;++t)r=Math.max(r,e[t].x),o=Math.min(o,e[t].x),a=Math.min(a,e[t].y),s=Math.max(s,e[t].y);return new U(o,a,r-o,s-a)}}),P=A.extend({init:function(t){var e=this;A.fn.init.call(e),this.connection=t},route:function(){}}),M=A.extend({init:function(t){var e=this;A.fn.init.call(e),this.connection=t},route:function(){function t(){if(null!==d){if(d===re||d===oe)return!0;if(d===ie||d===ae)return!1}return Math.abs(o.x-a.x)>Math.abs(o.y-a.y)}var e,n,i,r=this.connection,o=this.connection.sourcePoint(),a=this.connection.targetPoint(),s=[o,o,a,a],l=a.x-o.x,c=a.y-o.y,h=s.length,d=null,u=null;if(j.isDefined(r._resolvedSourceConnector)&&(d=r._resolvedSourceConnector.options.name),j.isDefined(r._resolvedTargetConnector)&&(u=r._resolvedTargetConnector.options.name),null!==d&&null!==u&&j.contains(se,d)&&j.contains(se,u))this.connection.points(d===ie||d==ae?u==ie||u==ae?[new q(o.x,o.y+c/2),new q(a.x,o.y+c/2)]:[new q(o.x,o.y+c)]:u==oe||u==re?[new q(o.x+l/2,o.y),new q(o.x+l/2,o.y+c)]:[new q(a.x,o.y)]);else{for(this.connection.cascadeStartHorizontal=t(this.connection),i=1;h-1>i;++i)r.cascadeStartHorizontal?i%2!==0?(e=l/(h/2),n=0):(e=0,n=c/((h-1)/2)):i%2!==0?(e=0,n=c/(h/2)):(e=l/((h-1)/2),n=0),s[i]=new q(s[i-1].x+e,s[i-1].y+n);i--,s[h-2]=r.cascadeStartHorizontal&&i%2!==0||!r.cascadeStartHorizontal&&i%2===0?new q(s[h-1].x,s[h-2].y):new q(s[h-2].x,s[h-1].y),this.connection.points([s[1],s[2]])}}}),E=V.extend({init:function(t,e){var n=this;n.diagram=t,n.options=X({},n.options,e),n.visual=new H,n.diagram._adorners.push(n)},refresh:function(){}}),I=E.extend({init:function(t,e){var n,i,r,o=this;o.connection=t,n=o.connection.diagram,o._ts=n.toolService,E.fn.init.call(o,n,e),i=o.connection.sourcePoint(),r=o.connection.targetPoint(),o.spVisual=new $(X(o.options.handles,{center:i})),o.epVisual=new $(X(o.options.handles,{center:r})),o.visual.append(o.spVisual),o.visual.append(o.epVisual)},options:{handles:{}},_getCursor:function(){return te.move},start:function(t){switch(this.handle=this._hitTest(t),this.startPoint=t,this._initialSource=this.connection.source(),this._initialTarget=this.connection.target(),this.handle){case-1:this.connection.targetConnector&&this._ts._connectionManipulation(this.connection,this.connection.targetConnector.shape);break;case 1:this.connection.sourceConnector&&this._ts._connectionManipulation(this.connection,this.connection.sourceConnector.shape)}},move:function(t,e){switch(t){case-1:this.connection.source(e);break;case 1:this.connection.target(e);break;default:var n=e.minus(this.startPoint);this.startPoint=e,this.connection.sourceConnector||this.connection.source(this.connection.sourcePoint().plus(n)),this.connection.targetConnector||this.connection.target(this.connection.targetPoint().plus(n))}return this.refresh(),!0},stop:function(t){var n,i=this.diagram.toolService,r=i.hoveredItem;return n=i._hoveredConnector?i._hoveredConnector._c:r&&r instanceof N.Shape?r:t,-1===this.handle?this.connection.source(n):1===this.handle&&this.connection.target(n),this.handle&&this.connection.updateModel(),this.handle=e,this._ts._connectionManipulation(),new c(this.connection,this._initialSource,this._initialTarget)},_hitTest:function(t){var e=this.connection.sourcePoint(),n=this.connection.targetPoint(),i=this.options.handles.width/2,r=this.options.handles.height/2,o=new U(e.x,e.y).inflate(i,r),a=new U(n.x,n.y).inflate(i,r);return o.contains(t)?-1:a.contains(t)?1:0},refresh:function(){this.spVisual.redraw({center:this.diagram.modelToLayer(this.connection.sourcePoint())}),this.epVisual.redraw({center:this.diagram.modelToLayer(this.connection.targetPoint())})}}),L=E.extend({init:function(t,e){var n=this;E.fn.init.call(n,t,e),n._refreshHandler=function(t){t.item==n.shape&&n.refresh()}},show:function(t){var e,n,i,r=this;for(r._visible=!0,r.shape=t,r.diagram.bind(le,r._refreshHandler),e=t.connectors.length,r.connectors=[],r.visual.clear(),n=0;e>n;n++)i=new F(t.connectors[n]),r.connectors.push(i),r.visual.append(i.visual);r.visual.visible(!0),r.refresh()},destroy:function(){var t=this;t.diagram.unbind(le,t._refreshHandler),t.shape=e,t._visible=e,t.visual.visible(!1)},_hitTest:function(t){var e,n;for(n=0;this.connectors.length>n;n++)if(e=this.connectors[n],e._hitTest(t)){e._hover(!0),this.diagram.toolService._hoveredConnector=e;break}},refresh:function(){if(this.shape){var e=this.shape.bounds();e=this.diagram.modelToLayer(e),this.visual.position(e.topLeft()),t.each(this.connectors,function(){this.refresh()})}}}),B=E.extend({init:function(t,e){var n=this;E.fn.init.call(n,t,e),n._manipulating=!1,n.map=[],n.shapes=[],n._initSelection(),n._createHandles(),n.redraw(),n.diagram.bind("select",function(t){n._initialize(t.selected)}),n._refreshHandler=function(){n._internalChange||(n.refreshBounds(),n.refresh())},n.diagram.bind(le,n._refreshHandler),n.refreshBounds(),n.refresh()},options:{editable:{},selectable:{stroke:{color:"#778899",width:1,dashType:"dash"},fill:{color:me}},offset:10},_initSelection:function(){var t=this,e=t.diagram,n=e.options.selectable,i=X({},t.options.selectable,n);t.rect=new W(i),t.visual.append(t.rect)},_createHandles:function(){var t,e,n,i,r=this.options.editable;if(r&&r.resize)for(t=r.resize.handles,i=-1;1>=i;i++)for(n=-1;1>=n;n++)(0!==i||0!==n)&&(e=new W(t),e.drawingElement._hover=J(this._hover,this),this.map.push({x:i,y:n,visual:e}),this.visual.append(e))},bounds:function(t){return t?(this._innerBounds=t.clone(),this._bounds=this.diagram.modelToLayer(t).inflate(this.options.offset,this.options.offset),e):this._bounds},_hitTest:function(t){var n,i,r,o,a=this.diagram.modelToLayer(t),s=this.options.editable,l=this.map.length;if(s&&s.resize)for(n=0;l>n;n++)if(o=this.map[n],i=new q(o.x,o.y),r=this._getHandleBounds(i),r.offset(this._bounds.x,this._bounds.y),r.contains(a))return i;return this._bounds.contains(a)?new q(0,0):e},_getHandleBounds:function(t){var n,i,r,o,a=this.options.editable;return a&&a.resize?(n=a.resize.handles||{},i=n.width,r=n.height,o=new U(0,0,i,r),0>t.x?o.x=-i/2:0===t.x?o.x=Math.floor(this._bounds.width/2)-i/2:t.x>0&&(o.x=this._bounds.width+1-i/2),0>t.y?o.y=-r/2:0===t.y?o.y=Math.floor(this._bounds.height/2)-r/2:t.y>0&&(o.y=this._bounds.height+1-r/2),o):e},_getCursor:function(t){var e=this._hitTest(t);if(e&&e.x>=-1&&1>=e.x&&e.y>=-1&&1>=e.y&&this.options.editable&&this.options.editable.resize){if(-1==e.x&&-1==e.y)return"nw-resize";if(1==e.x&&1==e.y)return"se-resize";if(-1==e.x&&1==e.y)return"sw-resize";if(1==e.x&&-1==e.y)return"ne-resize";if(0===e.x&&-1==e.y)return"n-resize";if(0===e.x&&1==e.y)return"s-resize";if(1==e.x&&0===e.y)return"e-resize";if(-1==e.x&&0===e.y)return"w-resize"}return this._manipulating?te.move:te.select},_initialize:function(){var t,e,n=this,i=n.diagram.select();for(n.shapes=[],t=0;i.length>t;t++)e=i[t],e instanceof N.Shape&&n.shapes.push(e);n._angle=1==n.shapes.length?n.shapes[0].rotate().angle:0,n._positions(),n.refreshBounds(),n.refresh(),n.redraw()},_positions:function(){var t,e,n=this;for(n.initialStates=[],t=0;n.shapes.length>t;t++)e=n.shapes[t],n.initialStates.push(e.bounds())},_hover:function(t,e){var n,i,r,o,a=this.options.editable;a&&a.resize&&(n=a.resize.handles,i=n.hover,r=n.stroke,o=n.fill,t&&j.isDefined(i.stroke)&&(r=X({},r,i.stroke)),t&&j.isDefined(i.fill)&&(o=i.fill),e.stroke(r.color,r.width,r.opacity),e.fill(o.color,o.opacity))},start:function(t){var e,n;for(this._sp=t,this._cp=t,this._lp=t,this._manipulating=!0,this._internalChange=!0,this.shapeStates=[],e=0;this.shapes.length>e;e++)n=this.shapes[e],this.shapeStates.push(n.bounds())},redraw:function(){var t,e,n=this,i=n.options.editable,r=i.resize,o=i&&r?!0:!1;for(t=0;this.map.length>t;t++)e=this.map[t],e.visual.visible(o)},move:function(t,n){var i,o,a,s,l,c,h,d,u,f,p,g,m=new q,v=new q,y=0;if(-2===t.y&&-1===t.x);else{if(this.diagram.options.snap.enabled===!0){if(f=this._truncateDistance(n.minus(this._lp)),0===f.x&&0===f.y)return this._cp=n,e;i=f,this._lp=new q(this._lp.x+f.x,this._lp.y+f.y)}else i=n.minus(this._cp);for(0===t.x&&0===t.y?(v=m=i,o=!0):(-1==t.x?m.x=i.x:1==t.x&&(v.x=i.x),-1==t.y?m.y=i.y:1==t.y&&(v.y=i.y)),o||(h=r(t,this._innerBounds),d=(this._innerBounds.width+i.x*t.x)/this._innerBounds.width,u=(this._innerBounds.height+i.y*t.y)/this._innerBounds.height),l=0;this.shapes.length>l;l++)s=this.shapes[l],a=s.bounds(),o?c=this._displaceBounds(a,m,v,o):(c=a.clone(),c.scale(d,u,h,this._innerBounds.center(),s.rotate().angle),p=c.center(),p.rotate(a.center(),-this._angle),c=new U(p.x-c.width/2,p.y-c.height/2,c.width,c.height)),c.width>=s.options.minWidth&&c.height>=s.options.minHeight&&(g=a,s.bounds(c),s.hasOwnProperty("layout")&&s.layout(s,g,c),y+=1);y==l&&(c=this._displaceBounds(this._innerBounds,m,v,o),this.bounds(c),this.refresh()),this._positions()}this._cp=n},_truncatePositionToGuides:function(t){return this.diagram.ruler?this.diagram.ruler.truncatePositionToGuides(t):t},_truncateSizeToGuides:function(t){return this.diagram.ruler?this.diagram.ruler.truncateSizeToGuides(t):t},_truncateAngle:function(t){var e=Math.max(this.diagram.options.snap.angle,5);return this.diagram.options.snap.enabled===!0?Math.floor(t%360/e)*e:t%360},_truncateDistance:function(t){if(t instanceof N.Point)return new N.Point(this._truncateDistance(t.x),this._truncateDistance(t.y));var e=Math.max(this.diagram.options.snap.size,5);return this.diagram.options.snap.enabled===!0?Math.floor(t/e)*e:t},_displaceBounds:function(t,e,n,i){var r,o=t.topLeft().plus(e),a=t.bottomRight().plus(n),s=U.fromPoints(o,a);return i||(r=s.center(),r.rotate(t.center(),-this._angle),s=new U(r.x-s.width/2,r.y-s.height/2,s.width,s.height)),s},stop:function(){var t,n,i,r;if(this._cp!=this._sp)if(this._rotating)t=new m(this,this.shapes,this.initialRotates);else{if(this.diagram.ruler)for(n=0;this.shapes.length>n;n++)i=this.shapes[n],r=i.bounds(),r=this._truncateSizeToGuides(this._truncatePositionToGuides(r)),i.bounds(r),this.refreshBounds(),this.refresh();for(n=0;this.shapes.length>n;n++)i=this.shapes[n],i.updateModel();t=new u(this.shapes,this.shapeStates,this)}return this._manipulating=e,this._internalChange=e,this._rotating=e,t},refreshBounds:function(){this.bounds(this.diagram.boundingBox(this.shapes,!0))},refresh:function(){var e,n,i,r,o=this;this.shapes.length>0?(n=this.bounds(),this.visual.visible(!0),this.visual.position(n.topLeft()),t.each(this.map,function(){e=o._getHandleBounds(new q(this.x,this.y)),this.visual.position(e.topLeft())}),this.visual.position(n.topLeft()),i=new q(n.width/2,n.height/2),this.visual.rotate(this._angle,i),this.rect.redraw({width:n.width,height:n.height}),this.rotationThumb&&(r=this.options.editable.rotate.thumb,this._rotationThumbBounds=new U(n.center().x,n.y+r.y,0,0).inflate(r.width),this.rotationThumb.redraw({x:n.width/2-r.width/2}))):this.visual.visible(!1)}}),z=V.extend({init:function(t){var e=t.options.selectable;this.options=X({},this.options,e),this.visual=new W(this.options),this.diagram=t},options:{stroke:{color:"#778899",width:1,dashType:"dash"},fill:{color:me}},start:function(t){this._sp=this._ep=t,this.refresh(),this.diagram._adorn(this,!0)},end:function(){this._sp=this._ep=e,this.diagram._adorn(this,!1)},bounds:function(t){return t&&(this._bounds=t),this._bounds},move:function(t){this._ep=t,this.refresh()},refresh:function(){if(this._sp){var t=U.fromPoints(this.diagram.modelToLayer(this._sp),this.diagram.modelToLayer(this._ep));this.bounds(U.fromPoints(this._sp,this._ep)),this.visual.position(t.topLeft()),this.visual.redraw({height:t.height+1,width:t.width+1})}}}),F=V.extend({init:function(t){this.options=X({},t.options),this._c=t,this.visual=new $(this.options),this.refresh()},_hover:function(t){var e=this.options,n=e.hover,i=e.stroke,r=e.fill;t&&j.isDefined(n.stroke)&&(i=X({},i,n.stroke)),t&&j.isDefined(n.fill)&&(r=n.fill),this.visual.redraw({stroke:i,fill:r})},refresh:function(){var t=this._c.shape.diagram.modelToView(this._c.position()),e=t.minus(this._c.shape.bounds("transformed").topLeft()),n=new U(t.x,t.y,0,0);n.inflate(this.options.width/2,this.options.height/2),this._visualBounds=n,this.visual.redraw({center:new q(e.x,e.y)})},_hitTest:function(t){var e=this._c.shape.diagram.modelToView(t);return this._visualBounds.contains(e)}}),X(N,{CompositeUnit:s,TransformUnit:u,PanUndoUnit:g,AddShapeUnit:p,AddConnectionUnit:f,DeleteShapeUnit:d,DeleteConnectionUnit:h,ConnectionEditAdorner:I,UndoRedoService:_,ResizingAdorner:B,Selector:z,ToolService:T,ConnectorsAdorner:L,LayoutUndoUnit:a,ConnectionEditUnit:l,ToFrontUnit:v,ToBackUnit:y,ConnectionRouterBase:D,PolylineRouter:P,CascadingRouter:M,SelectionTool:k,PointerTool:b,ConnectionEditTool:S,RotateUnit:m})}(window.kendo.jQuery),function(t){var e=window.kendo,n=e.dataviz.diagram,i=n.Graph,r=n.Node,o=n.Link,a=e.deepExtend,s=n.Size,l=n.Rect,c=n.Dictionary,h=n.Set,d=n.Graph,u=n.Utils,f=n.Point,p=1e-6,g=Math.PI/180,m=u.contains,v=t.grep,y=e.Class.extend({defaultOptions:{type:"Tree",subtype:"Down",roots:null,animate:!1,limitToView:!1,friction:.9,nodeDistance:50,iterations:300,horizontalSeparation:90,verticalSeparation:50,underneathVerticalTopOffset:15,underneathHorizontalOffset:15,underneathVerticalSeparation:15,grid:{width:1500,offsetX:50,offsetY:50,componentSpacingX:20,componentSpacingY:20},layerSeparation:50,layeredIterations:2,startRadialAngle:0,endRadialAngle:360,radialSeparation:150,radialFirstLevelSeparation:200,keepComponentsInOneRadialLayout:!1,ignoreContainers:!0,layoutContainerChildren:!1,ignoreInvisible:!0,animateTransitions:!1},init:function(){},gridLayoutComponents:function(t){var e,n,i,r,o,a,s,l,c,h,d,p,g,m,v;if(!t)throw"No components supplied.";for(u.forEach(t,function(t){t.calcBounds()}),t.sort(function(t,e){return e.bounds.width-t.bounds.width}),e=this.options.grid.width,n=this.options.grid.componentSpacingX,i=this.options.grid.componentSpacingY,r=0,o=this.options.grid.offsetX,a=this.options.grid.offsetY,s=o,l=a,h=[],d=[];t.length>0;){for(s>=e&&(s=o,l+=r+i,r=0),p=t.pop(),this.moveToOffset(p,new f(s,l)),c=0;p.nodes.length>c;c++)d.push(p.nodes[c]);for(c=0;p.links.length>c;c++)h.push(p.links[c]);g=p.bounds,m=g.height,(0>=m||isNaN(m))&&(m=0),v=g.width,(0>=v||isNaN(v))&&(v=0),m>=r&&(r=m),s+=v+n}return{nodes:d,links:h}},moveToOffset:function(t,e){var n,i,r,o,a,s,c,h,d=t.bounds,u=e.x-d.x,p=e.y-d.y;for(n=0;t.nodes.length>n;n++)r=t.nodes[n],o=r.bounds(),0===o.width&&0===o.height&&0===o.x&&0===o.y&&(o=new l(0,0,0,0)),o.x+=u,o.y+=p,r.bounds(o);for(n=0;t.links.length>n;n++)if(a=t.links[n],a.points){for(s=[],c=a.points,i=0;c.length>i;i++)h=c[i],h.x+=u,h.y+=p,s.push(h);a.points=s}return this.currentHorizontalOffset+=d.width+this.options.grid.offsetX,new f(u,p)},transferOptions:function(t){this.options=e.deepExtend({},this.defaultOptions),u.isUndefined(t)||(this.options=e.deepExtend(this.options,t||{}))}}),_=e.Class.extend({init:function(t){this.nodeMap=new c,this.shapeMap=new c,this.nodes=[],this.edges=[],this.edgeMap=new c,this.finalNodes=[],this.finalLinks=[],this.ignoredConnections=[],this.ignoredShapes=[],this.hyperMap=new c,this.hyperTree=new i,this.finalGraph=null,this.diagram=t},convert:function(t){if(u.isUndefined(this.diagram))throw"No diagram to convert.";return this.options=e.deepExtend({ignoreInvisible:!0,ignoreContainers:!0,layoutContainerChildren:!1},t||{}),this.clear(),this._renormalizeShapes(),this._renormalizeConnections(),this.finalNodes=new c(this.nodes),this.finalLinks=new c(this.edges),this.finalGraph=new i,this.finalNodes.forEach(function(t){this.finalGraph.addNode(t)},this),this.finalLinks.forEach(function(t){this.finalGraph.addExistingLink(t)},this),this.finalGraph},mapConnection:function(t){return this.edgeMap.first(function(e){return m(this.edgeMap.get(e),t)})},mapShape:function(t){var e,n,i,r=this.nodeMap.keys();for(e=0,n=r.length;n>e;e++)if(i=r[e],m(this.nodeMap.get(i),t))return i},getEdge:function(t,e){return u.first(t.links,function(n){return n.getComplement(t)===e})},clear:function(){this.finalGraph=null,this.hyperTree=!this.options.ignoreContainers&&this.options.layoutContainerChildren?new d:null,this.hyperMap=!this.options.ignoreContainers&&this.options.layoutContainerChildren?new c:null,this.nodeMap=new c,this.shapeMap=new c,this.nodes=[],this.edges=[],this.edgeMap=new c,this.ignoredConnections=[],this.ignoredShapes=[],this.finalNodes=[],this.finalLinks=[]
},listToRoot:function(t){var e=[],n=t.container;if(!n)return e;for(e.push(n);n.parentContainer;)n=n.parentContainer,e.push(n);return e.reverse(),e},firstNonIgnorableContainer:function(t){return t.isContainer&&!this._isIgnorableItem(t)?t:t.parentContainer?this.firstNonIgnorableContainer(t.parentContainer):null},isContainerConnection:function(t,e){return t.isContainer&&this.isDescendantOf(t,e)?!0:e.isContainer&&this.isDescendantOf(e,t)},isDescendantOf:function(t,e){var n,i,r,o;if(!t.isContainer)throw"Expecting a container.";if(t===e)return!1;if(m(t.children,e))return!0;for(n=[],i=0,r=t.children.length;r>i;i++)o=t.children[i],o.isContainer&&this.isDescendantOf(o,e)&&n.push(o);return n.length>0},isIgnorableItem:function(t){return this.options.ignoreInvisible?t.isCollapsed&&this._isVisible(t)?!1:!t.isCollapsed&&this._isVisible(t)?!1:!0:t.isCollapsed&&!this._isTop(t)},isShapeMapped:function(t){return t.isCollapsed&&!this._isVisible(t)&&!this._isTop(t)},leastCommonAncestor:function(t,e){var n,i,r,o,a,s;if(!t)throw"Parameter should not be null.";if(!e)throw"Parameter should not be null.";if(!this.hyperTree)throw"No hypertree available.";if(n=this.listToRoot(t),i=this.listToRoot(e),r=null,u.isEmpty(n)||u.isEmpty(i))return this.hyperTree.root.data;for(o=n[0],a=i[0],s=0;o===a&&(r=n[s],s++,!(s>=n.length||s>=i.length));)o=n[s],a=i[s];return r?v(this.hyperTree.nodes,function(t){return t.data.container===r}):this.hyperTree.root.data},_isTop:function(t){return!t.parentContainer},_isVisible:function(t){return t.visible()?t.parentContainer?this._isVisible(t.parentContainer):t.visible():!1},_isCollapsed:function(t){return t.isContainer&&t.isCollapsed?!0:t.parentContainer&&this._isCollapsed(t.parentContainer)},_renormalizeShapes:function(){var t,e,n,i;if(!this.options.ignoreContainers)throw"Containers are not supported yet, but stay tuned.";for(t=0,e=this.diagram.shapes.length;e>t;t++)n=this.diagram.shapes[t],this.options.ignoreInvisible&&!this._isVisible(n)||n.isContainer?this.ignoredShapes.push(n):(i=new r(n.id,n),i.isVirtual=!1,this.nodeMap.add(i,[n]),this.nodes.push(i))},_renormalizeConnections:function(){var t,e,n,i,r,a,s,l;if(0!==this.diagram.connections.length)for(t=0,e=this.diagram.connections.length;e>t;t++)if(n=this.diagram.connections[t],this.isIgnorableItem(n))this.ignoredConnections.push(n);else if(i=n.sourceConnector?n.sourceConnector.shape:null,r=n.targetConnector?n.targetConnector.shape:null,i&&r)if(!m(this.ignoredShapes,i)||this.shapeMap.containsKey(i))if(!m(this.ignoredShapes,r)||this.shapeMap.containsKey(r))if(this.shapeMap.containsKey(i)&&(i=this.shapeMap[i]),this.shapeMap.containsKey(r)&&(r=this.shapeMap[r]),a=this.mapShape(i),s=this.mapShape(r),a===s||this.areConnectedAlready(a,s))this.ignoredConnections.push(n);else{if(null===a||null===s)throw"A shape was not mapped to a node.";if(!this.options.ignoreContainers)throw"Containers are not supported yet, but stay tuned.";a.isVirtual||s.isVirtual?this.ignoredConnections.push(n):(l=new o(a,s,n.id,n),this.edgeMap.add(l,[n]),this.edges.push(l))}else this.ignoredConnections.push(n);else this.ignoredConnections.push(n);else this.ignoredConnections.push(n)},areConnectedAlready:function(t,e){return u.any(this.edges,function(n){return n.source===t&&n.target===e||n.source===e&&n.target===t})}}),w=y.extend({init:function(t){var e=this;if(y.fn.init.call(e),u.isUndefined(t))throw"Diagram is not specified.";this.diagram=t},layout:function(t){var e,i,r,o,a,s;if(this.transferOptions(t),e=new _(this.diagram),i=e.convert(t),!i.isEmpty()&&(r=i.getConnectedComponents(),!u.isEmpty(r))){for(o=0;r.length>o;o++)a=r[o],this.layoutGraph(a,t);return s=this.gridLayoutComponents(r),new n.LayoutState(this.diagram,s)}},layoutGraph:function(t,e){var n,i,r;for(u.isDefined(e)&&this.transferOptions(e),this.graph=t,n=9*this.options.nodeDistance,this.temperature=n,i=this._expectedBounds(),this.width=i.width,this.height=i.height,r=0;this.options.iterations>r;r++)this.refineStage=r>=5*this.options.iterations/6,this.tick(),this.temperature=this.refineStage?n/30:n*(1-r/(2*this.options.iterations))},tick:function(){var t,e,n;for(t=0;this.graph.nodes.length>t;t++)this._repulsion(this.graph.nodes[t]);for(t=0;this.graph.links.length>t;t++)this._attraction(this.graph.links[t]);for(t=0;this.graph.nodes.length>t;t++){if(e=this.graph.nodes[t],n=Math.sqrt(e.dx*e.dx+e.dy*e.dy),0===n)return;e.x+=Math.min(n,this.temperature)*e.dx/n,e.y+=Math.min(n,this.temperature)*e.dy/n,this.options.limitToView&&(e.x=Math.min(this.width,Math.max(e.width/2,e.x)),e.y=Math.min(this.height,Math.max(e.height/2,e.y)))}},_shake:function(t){var e=Math.random()*this.options.nodeDistance/4,n=2*Math.random()*Math.PI;t.x+=e*Math.cos(n),t.y-=e*Math.sin(n)},_InverseSquareForce:function(t,e,n){var i,r,o,a,s,l,c;return this.refineStage?(r=e.x-n.x,o=e.y-n.y,a=e.width/2,s=e.height/2,l=n.width/2,c=n.height/2,i=Math.pow(r,2)/Math.pow(a+l+this.options.nodeDistance,2)+Math.pow(o,2)/Math.pow(s+c+this.options.nodeDistance,2)):i=Math.pow(t,2)/Math.pow(this.options.nodeDistance,2),4*i/3},_SquareForce:function(t,e,n){return 1/this._InverseSquareForce(t,e,n)},_repulsion:function(t){t.dx=0,t.dy=0,u.forEach(this.graph.nodes,function(e){var n,i,r,o;if(e!==t){for(;t.x===e.x&&t.y===e.y;)this._shake(e);n=t.x-e.x,i=t.y-e.y,r=Math.sqrt(n*n+i*i),o=2*this._SquareForce(r,t,e),t.dx+=n/r*o,t.dy+=i/r*o}},this)},_attraction:function(t){var e,n,i,r,o,a,s=t.target,l=t.source;if(l!==s){for(;l.x===s.x&&l.y===s.y;)this._shake(s);e=l.x-s.x,n=l.y-s.y,i=Math.sqrt(e*e+n*n),r=5*this._InverseSquareForce(i,l,s),o=e/i*r,a=n/i*r,s.dx+=o,s.dy+=a,l.dx-=o,l.dy-=a}},_expectedBounds:function(){var t,e,n,i,r,o=this.graph.nodes.length,a=1.5,s=4;return 0===o?t:(t=u.fold(this.graph.nodes,function(t,e){var n=e.width*e.height;return n>0?t+=Math.sqrt(n):0},0,this),e=t/o,n=e*Math.ceil(Math.sqrt(o)),i=n*Math.sqrt(a),r=n/Math.sqrt(a),{width:i*s,height:r*s})}}),x=e.Class.extend({init:function(t){this.center=null,this.options=t},layout:function(t,e){if(this.graph=t,this.graph.nodes&&0!==this.graph.nodes.length){if(!m(this.graph.nodes,e))throw"The given root is not in the graph.";this.center=e,this.graph.cacheRelationships(),this.layoutSwitch()}},layoutLeft:function(t){var e,n,i,r,o,a,l,c;for(this.setChildrenDirection(this.center,"Left",!1),this.setChildrenLayout(this.center,"Default",!1),e=0,n=0,r=0;t.length>r;r++)o=t[r],o.TreeDirection="Left",a=this.measure(o,s.Empty),n=Math.max(n,a.Width),e+=a.height+this.options.verticalSeparation;for(e-=this.options.verticalSeparation,l=this.center.x-this.options.horizontalSeparation,i=this.center.y+(this.center.height-e)/2,r=0;t.length>r;r++)o=t[r],c=new f(l-o.Size.width,i),this.arrange(o,c),i+=o.Size.height+this.options.verticalSeparation},layoutRight:function(t){var e,n,i,r,o,a,l,c;for(this.setChildrenDirection(this.center,"Right",!1),this.setChildrenLayout(this.center,"Default",!1),e=0,n=0,r=0;t.length>r;r++)o=t[r],o.TreeDirection="Right",a=this.measure(o,s.Empty),n=Math.max(n,a.Width),e+=a.height+this.options.verticalSeparation;for(e-=this.options.verticalSeparation,l=this.center.x+this.options.horizontalSeparation+this.center.width,i=this.center.y+(this.center.height-e)/2,r=0;t.length>r;r++)o=t[r],c=new f(l,i),this.arrange(o,c),i+=o.Size.height+this.options.verticalSeparation},layoutUp:function(t){var e,n,i,r,o,a,l;for(this.setChildrenDirection(this.center,"Up",!1),this.setChildrenLayout(this.center,"Default",!1),e=0,r=0;t.length>r;r++)i=t[r],i.TreeDirection="Up",o=this.measure(i,s.Empty),e+=o.width+this.options.horizontalSeparation;for(e-=this.options.horizontalSeparation,a=this.center.x+this.center.width/2-e/2,r=0;t.length>r;r++)i=t[r],n=this.center.y-this.options.verticalSeparation-i.Size.height,l=new f(a,n),this.arrange(i,l),a+=i.Size.width+this.options.horizontalSeparation},layoutDown:function(t){var e,n,i,r,o,a,l;for(this.setChildrenDirection(this.center,"Down",!1),this.setChildrenLayout(this.center,"Default",!1),i=0,n=0;t.length>n;n++)e=t[n],e.treeDirection="Down",o=this.measure(e,s.Empty),i+=o.width+this.options.horizontalSeparation;for(i-=this.options.horizontalSeparation,a=this.center.x+this.center.width/2-i/2,r=this.center.y+this.options.verticalSeparation+this.center.height,n=0;t.length>n;n++)e=t[n],l=new f(a,r),this.arrange(e,l),a+=e.Size.width+this.options.horizontalSeparation},layoutRadialTree:function(){var t,e;if(this.setChildrenDirection(this.center,"Radial",!1),this.setChildrenLayout(this.center,"Default",!1),this.previousRoot=null,t=this.options.startRadialAngle*g,e=this.options.endRadialAngle*g,t>=e)throw"Final angle should not be less than the start angle.";this.maxDepth=0,this.origin=new f(this.center.x,this.center.y),this.calculateAngularWidth(this.center,0),this.maxDepth>0&&this.radialLayout(this.center,this.options.radialFirstLevelSeparation,t,e),this.center.Angle=e-t},tipOverTree:function(t,e){var n,i,r,o,a,l,c;for(u.isUndefined(e)&&(e=0),this.setChildrenDirection(this.center,"Down",!1),this.setChildrenLayout(this.center,"Default",!1),this.setChildrenLayout(this.center,"Underneath",!1,e),n=0,o=0;t.length>o;o++)r=t[o],r.TreeDirection="Down",a=this.measure(r,s.Empty),n+=a.width+this.options.horizontalSeparation;for(n-=this.options.horizontalSeparation,n-=t[t.length-1].width,n+=t[t.length-1].associatedShape.bounds().width,l=this.center.x+this.center.width/2-n/2,i=this.center.y+this.options.verticalSeparation+this.center.height,o=0;t.length>o;o++)r=t[o],c=new f(l,i),this.arrange(r,c),l+=r.Size.width+this.options.horizontalSeparation},calculateAngularWidth:function(t,e){var n,i,r,o,a,s,l;if(e>this.maxDepth&&(this.maxDepth=e),n=0,i=1e3,r=1e3,o=0===e?0:Math.sqrt(i*i+r*r)/e,t.children.length>0){for(a=0,s=t.children.length;s>a;a++)l=t.children[a],n+=this.calculateAngularWidth(l,e+1);n=Math.max(o,n)}else n=o;return t.sectorAngle=n,n},sortChildren:function(t){var e,n,i,r,o,a,s,l,c,h,d,p=0;if(t.parents.length>1)throw"Node is not part of a tree.";if(n=t.parents[0],n&&(i=new f(n.x,n.y),r=new f(t.x,t.y),p=this.normalizeAngle(Math.atan2(i.y-r.y,i.x-r.x))),o=t.children.length,0===o)return null;for(a=[],s=[],e=0;o>e;++e)l=t.children[e],c=new f(l.x,l.y),s[e]=e,a[e]=this.normalizeAngle(-p+Math.atan2(c.y-c.y,c.x-c.x));for(u.bisort(a,s),h=[],d=t.children,e=0;o>e;++e)h.push(d[s[e]]);return h},normalizeAngle:function(t){for(;t>2*Math.PI;)t-=2*Math.PI;for(;0>t;)t+=2*Math.PI;return t},radialLayout:function(t,e,n,i){var r,o,a,s,l,c=i-n,h=c/2,d=t.sectorAngle,u=0,f=this.sortChildren(t);for(r=0,o=f.length;o>r;r++)a=f[r],s=a,l=s.sectorAngle/d,a.children.length>0&&this.radialLayout(a,e+this.options.radialSeparation,n+u*c,n+(u+l)*c),this.setPolarLocation(a,e,n+u*c+l*h),s.angle=l*c,u+=l},setPolarLocation:function(t,e,n){t.x=this.origin.x+e*Math.cos(n),t.y=this.origin.y+e*Math.sin(n),t.BoundingRectangle=new l(t.x,t.y,t.width,t.height)},setChildrenDirection:function(t,e,n){var i=t.treeDirection;this.graph.depthFirstTraversal(t,function(t){t.treeDirection=e}),n||(t.treeDirection=i)},setChildrenLayout:function(t,e,n,i){u.isUndefined(i)&&(i=0);var r=t.childrenLayout;i>0?(this.graph.assignLevels(t),this.graph.depthFirstTraversal(t,function(t){t.level>=i+1&&(t.childrenLayout=e)})):(this.graph.depthFirstTraversal(t,function(t){t.childrenLayout=e}),n||(t.childrenLayout=r))},measure:function(t,e){var n,i,r,o,a,l,c,h=0,d=0,f=new s(0,0);if(!t)throw"";if(i=t.associatedShape.bounds(),r=i.width,o=i.height,1!==t.parents.length)throw"Node not in a spanning tree.";if(a=t.parents[0],"Undefined"===t.treeDirection&&(t.treeDirection=a.treeDirection),u.isEmpty(t.children))f=new s(Math.abs(r)<p?50:r,Math.abs(o)<p?25:o);else if(1===t.children.length){switch(t.treeDirection){case"Radial":n=this.measure(t.children[0],e),h=r+this.options.radialSeparation*Math.cos(t.AngleToParent)+n.width,d=o+Math.abs(this.options.radialSeparation*Math.sin(t.AngleToParent))+n.height;break;case"Left":case"Right":switch(t.childrenLayout){case"TopAlignedWithParent":break;case"BottomAlignedWithParent":break;case"Underneath":n=this.measure(t.children[0],e),h=r+n.width+this.options.underneathHorizontalOffset,d=o+this.options.underneathVerticalTopOffset+n.height;break;case"Default":n=this.measure(t.children[0],e),h=r+this.options.horizontalSeparation+n.width,d=Math.max(o,n.height);break;default:throw"Unhandled TreeDirection in the Radial layout measuring."}break;case"Up":case"Down":switch(t.childrenLayout){case"TopAlignedWithParent":case"BottomAlignedWithParent":break;case"Underneath":n=this.measure(t.children[0],e),h=Math.max(r,n.width+this.options.underneathHorizontalOffset),d=o+this.options.underneathVerticalTopOffset+n.height;break;case"Default":n=this.measure(t.children[0],e),d=o+this.options.verticalSeparation+n.height,h=Math.max(r,n.width);break;default:throw"Unhandled TreeDirection in the Down layout measuring."}break;default:throw"Unhandled TreeDirection in the layout measuring."}f=new s(h,d)}else{switch(t.treeDirection){case"Left":case"Right":switch(t.childrenLayout){case"TopAlignedWithParent":case"BottomAlignedWithParent":break;case"Underneath":for(h=r,d=o+this.options.underneathVerticalTopOffset,l=0;t.children.length>l;l++)c=t.children[l],n=this.measure(c,e),h=Math.max(h,n.width+this.options.underneathHorizontalOffset),d+=n.height+this.options.underneathVerticalSeparation;d-=this.options.underneathVerticalSeparation;break;case"Default":for(h=r,d=0,l=0;t.children.length>l;l++)c=t.children[l],n=this.measure(c,e),h=Math.max(h,r+this.options.horizontalSeparation+n.width),d+=n.height+this.options.verticalSeparation;d-=this.options.verticalSeparation;break;default:throw"Unhandled TreeDirection in the Right layout measuring."}break;case"Up":case"Down":switch(t.childrenLayout){case"TopAlignedWithParent":case"BottomAlignedWithParent":break;case"Underneath":for(h=r,d=o+this.options.underneathVerticalTopOffset,l=0;t.children.length>l;l++)c=t.children[l],n=this.measure(c,e),h=Math.max(h,n.width+this.options.underneathHorizontalOffset),d+=n.height+this.options.underneathVerticalSeparation;d-=this.options.underneathVerticalSeparation;break;case"Default":for(h=0,d=0,l=0;t.children.length>l;l++)c=t.children[l],n=this.measure(c,e),h+=n.width+this.options.horizontalSeparation,d=Math.max(d,n.height+this.options.verticalSeparation+o);h-=this.options.horizontalSeparation;break;default:throw"Unhandled TreeDirection in the Down layout measuring."}break;default:throw"Unhandled TreeDirection in the layout measuring."}f=new s(h,d)}return t.SectorAngle=Math.sqrt(h*h/4+d*d/4),t.Size=f,f},arrange:function(t,e){var n,i,r,o,a,s,c,h,d=t.associatedShape.bounds(),g=d.width,m=d.height;if(u.isEmpty(t.children))t.x=e.x,t.y=e.y,t.BoundingRectangle=new l(e.x,e.y,g,m);else switch(t.treeDirection){case"Left":switch(t.childrenLayout){case"TopAlignedWithParent":case"BottomAlignedWithParent":break;case"Underneath":for(h=e,t.x=h.x,t.y=h.y,t.BoundingRectangle=new l(t.x,t.y,t.width,t.height),c=e.y+m+this.options.underneathVerticalTopOffset,n=0;o.children.length>n;n++)o=o.children[n],s=h.x-o.associatedShape.width-this.options.underneathHorizontalOffset,i=new f(s,c),this.arrange(o,i),c+=o.Size.height+this.options.underneathVerticalSeparation;break;case"Default":for(h=new f(e.x+t.Size.width-g,e.y+(t.Size.height-m)/2),t.x=h.x,t.y=h.y,t.BoundingRectangle=new l(t.x,t.y,t.width,t.height),s=h.x-this.options.horizontalSeparation,c=e.y,n=0;t.children.length>n;n++)o=t.children[n],i=new f(s-o.Size.width,c),this.arrange(o,i),c+=o.Size.height+this.options.verticalSeparation;break;default:throw"Unsupported TreeDirection"}break;case"Right":switch(t.childrenLayout){case"TopAlignedWithParent":case"BottomAlignedWithParent":break;case"Underneath":for(h=e,t.x=h.x,t.y=h.y,t.BoundingRectangle=new l(t.x,t.y,t.width,t.height),s=e.x+g+this.options.underneathHorizontalOffset,c=e.y+m+this.options.underneathVerticalTopOffset,n=0;t.children.length>n;n++)o=t.children[n],i=new f(s,c),this.arrange(o,i),c+=o.Size.height+this.options.underneathVerticalSeparation;break;case"Default":for(h=new f(e.x,e.y+(t.Size.height-m)/2),t.x=h.x,t.y=h.y,t.BoundingRectangle=new l(t.x,t.y,t.width,t.height),s=e.x+g+this.options.horizontalSeparation,c=e.y,n=0;t.children.length>n;n++)o=t.children[n],i=new f(s,c),this.arrange(o,i),c+=o.Size.height+this.options.verticalSeparation;break;default:throw"Unsupported TreeDirection"}break;case"Up":if(h=new f(e.x+(t.Size.width-g)/2,e.y+t.Size.height-m),t.x=h.x,t.y=h.y,t.BoundingRectangle=new l(t.x,t.y,t.width,t.height),Math.abs(h.x-e.x)<p){for(a=0,n=0;t.children.length>n;n++)r=t.children[n],a+=r.Size.width+this.options.horizontalSeparation;a-=this.options.horizontalSeparation,s=e.x+(g-a)/2}else s=e.x;for(n=0;t.children.length>n;n++)o=t.children[n],c=h.y-this.options.verticalSeparation-o.Size.height,i=new f(s,c),this.arrange(o,i),s+=o.Size.width+this.options.horizontalSeparation;break;case"Down":switch(t.childrenLayout){case"TopAlignedWithParent":case"BottomAlignedWithParent":break;case"Underneath":for(h=e,t.x=h.x,t.y=h.y,t.BoundingRectangle=new l(t.x,t.y,t.width,t.height),s=e.x+this.options.underneathHorizontalOffset,c=e.y+m+this.options.underneathVerticalTopOffset,n=0;t.children.length>n;n++)o=t.children[n],i=new f(s,c),this.arrange(o,i),c+=o.Size.height+this.options.underneathVerticalSeparation;break;case"Default":if(h=new f(e.x+(t.Size.width-g)/2,e.y),t.x=h.x,t.y=h.y,t.BoundingRectangle=new l(t.x,t.y,t.width,t.height),Math.abs(h.x-e.x)<p){for(a=0,n=0;t.children.length>n;n++)r=t.children[n],a+=r.Size.width+this.options.horizontalSeparation;a-=this.options.horizontalSeparation,s=e.x+(g-a)/2}else s=e.x;for(n=0;t.children.length>n;n++)o=t.children[n],c=h.y+this.options.verticalSeparation+m,i=new f(s,c),this.arrange(o,i),s+=o.Size.width+this.options.horizontalSeparation;break;default:throw"Unsupported TreeDirection"}break;case"None":break;default:throw"Unsupported TreeDirection"}},layoutSwitch:function(){var t,e,n,i,r,o;if(this.center&&!u.isEmpty(this.center.children))switch(t=this.options.subtype,u.isUndefined(t)&&(t="Down"),o=this.center.children,t.toLowerCase()){case"radial":case"radialtree":this.layoutRadialTree();break;case"mindmaphorizontal":case"mindmap":e=this.center.children,1===this.center.children.length?this.layoutRight(e):(r=o.length/2,n=v(this.center.children,function(t){return u.indexOf(o,t)<r}),i=v(this.center.children,function(t){return u.indexOf(o,t)>=r}),this.layoutLeft(n),this.layoutRight(i));break;case"mindmapvertical":e=this.center.children,1===this.center.children.length?this.layoutDown(e):(r=o.length/2,n=v(this.center.children,function(t){return u.indexOf(o,t)<r}),i=v(this.center.children,function(t){return u.indexOf(o,t)>=r}),this.layoutUp(n),this.layoutDown(i));break;case"right":this.layoutRight(this.center.children);break;case"left":this.layoutLeft(this.center.children);break;case"up":case"bottom":this.layoutUp(this.center.children);break;case"down":case"top":this.layoutDown(this.center.children);break;case"tipover":case"tipovertree":if(0>this.options.tipOverTreeStartLevel)throw"The tip-over level should be a positive integer.";this.tipOverTree(this.center.children,this.options.tipOverTreeStartLevel);break;case"undefined":case"none":}}}),b=y.extend({init:function(t){var e=this;if(y.fn.init.call(e),u.isUndefined(t))throw"No diagram specified.";this.diagram=t},layout:function(t){var e,i;return this.transferOptions(t),e=new _(this.diagram),this.graph=e.convert(),i=this.layoutComponents(),new n.LayoutState(this.diagram,i)},layoutComponents:function(){var t,e,n,i,r,o,a,s;if(!this.graph.isEmpty()&&(t=this.graph.getConnectedComponents(),!u.isEmpty(t))){for(e=new x(this.options),n=[],i=0;t.length>i;i++){if(r=t[i],o=this.getTree(r),!o)throw"Failed to find a spanning tree for the component.";a=o.root,s=o.tree,e.layout(s,a),n.push(s)}return this.gridLayoutComponents(n)}},getTree:function(t){var e,n,i,r,o,a=null;if(this.options.roots&&this.options.roots.length>0)for(e=0,n=t.nodes.length;n>e;e++)for(i=t.nodes[e],r=0;this.options.roots.length>r;r++)if(o=this.options.roots[r],o===i.associatedShape){a=i;break}if(!a&&(a=t.root(),!a))throw"Unable to find a root for the tree.";return this.getTreeForRoot(t,a)},getTreeForRoot:function(t,e){var n=t.getSpanningTree(e);return u.isUndefined(n)||n.isEmpty()?null:{tree:n,root:n.root}}}),k=y.extend({init:function(t){var e=this;if(y.fn.init.call(e),u.isUndefined(t))throw"Diagram is not specified.";this.diagram=t},layout:function(t){var e,i,r,o,a,s;if(this.transferOptions(t),e=new _(this.diagram),i=e.convert(t),!i.isEmpty()&&(r=i.getConnectedComponents(),!u.isEmpty(r))){for(o=0;r.length>o;o++)a=r[o],this.layoutGraph(a,t);return s=this.gridLayoutComponents(r),new n.LayoutState(this.diagram,s)}},_initRuntimeProperties:function(){var t,e;for(t=0;this.graph.nodes.length>t;t++)e=this.graph.nodes[t],e.layer=-1,e.downstreamLinkCount=0,e.upstreamLinkCount=0,e.isVirtual=!1,e.uBaryCenter=0,e.dBaryCenter=0,e.upstreamPriority=0,e.downstreamPriority=0,e.gridPosition=0},_prepare:function(t){var e,n,i,r,o,a,s,l,h,d,f,p,g=[];for(n=0;t.links.length>n;n++)t.links[n].depthOfDumminess=0;for(r=new c,u.forEach(t.nodes,function(t){0===t.incoming.length&&(r.set(t,0),g.push(t))});g.length>0;)for(o=g.shift(),e=0;o.outgoing.length>e;e++)i=o.outgoing[e],a=i.target,r.containsKey(a)?r.set(a,Math.max(r.get(o)+1,r.get(a))):r.set(a,r.get(o)+1),m(g,a)||g.push(a);for(s=0,r.forEachValue(function(t){s=Math.max(s,t)}),l=[],u.addRange(l,r.keys()),l.sort(function(t,e){var n=r.get(t),i=r.get(e);return u.sign(i-n)}),h=0;l.length>h;++h)if(d=l[h],f=Number.MAX_VALUE,0!==d.outgoing.length){for(n=0;d.outgoing.length>n;++n)i=d.outgoing[n],f=Math.min(f,r.get(i.target));f>1&&r.set(d,f-1)}for(this.layers=[],e=0;s+1>e;e++)this.layers.push([]);for(r.forEach(function(t,e){t.layer=e,this.layers[e].push(t)},this),n=0;this.layers.length>n;n++)for(p=this.layers[n],e=0;p.length>e;e++)p[e].gridPosition=e},layoutGraph:function(t,e){if(u.isUndefined(t))throw"No graph given or graph analysis of the diagram failed.";u.isDefined(e)&&this.transferOptions(e),this.graph=t,t.setItemIndices();var n=t.makeAcyclic();this._initRuntimeProperties(),this._prepare(t,e),this._dummify(),this._optimizeCrossings(),this._swapPairs(),this.arrangeNodes(),this._moveThingsAround(),this._dedummify(),u.forEach(n,function(t){t.points&&t.points.reverse()})},setMinDist:function(t,e,n){var i=t.layer,r=t.layerIndex;this.minDistances[i][r]=n},getMinDist:function(t,e){var n,i=0,r=t.layerIndex,o=e.layerIndex,a=t.layer,s=Math.min(r,o),l=Math.max(r,o);for(n=s;l>n;++n)i+=this.minDistances[a][n];return i},placeLeftToRight:function(t){var e,n,i,r,o,a,s,l,h,d,f=new c;for(i=0;this.layers.length>i;++i)if(r=t[i]){for(e=0;r.length>e;e++)n=r[e],f.containsKey(n)||this.placeLeft(n,f,i);for(o=Number.POSITIVE_INFINITY,e=0;r.length>e;e++)n=r[e],a=this.rightSibling(n),a&&this.nodeLeftClass.get(a)!==i&&(o=Math.min(o,f.get(a)-f.get(n)-this.getMinDist(n,a)));if(o===Number.POSITIVE_INFINITY){for(s=[],e=0;r.length>e;e++)for(n=r[e],l=[],u.addRange(l,this.upNodes.get(n)),u.addRange(l,this.downNodes.get(n)),h=0;l.length>h;h++)d=l[h],this.nodeLeftClass.get(d)<i&&s.push(f.get(d)-f.get(n));s.sort(),o=0===s.length?0:s.length%2===1?s[this.intDiv(s.length,2)]:(s[this.intDiv(s.length,2)-1]+s[this.intDiv(s.length,2)])/2}for(e=0;r.length>e;e++)n=r[e],f.set(n,f.get(n)+o)}return f},placeRightToLeft:function(t){var e,n,i,r,o,a,s,l,h,d,f=new c;for(i=0;this.layers.length>i;++i)if(r=t[i]){for(e=0;r.length>e;e++)n=r[e],f.containsKey(n)||this.placeRight(n,f,i);for(o=Number.NEGATIVE_INFINITY,e=0;r.length>e;e++)n=r[e],a=this.leftSibling(n),a&&this.nodeRightClass.get(a)!==i&&(o=Math.max(o,f.get(a)-f.get(n)+this.getMinDist(a,n)));if(o===Number.NEGATIVE_INFINITY){for(s=[],e=0;r.length>e;e++)for(n=r[e],l=[],u.addRange(l,this.upNodes.get(n)),u.addRange(l,this.downNodes.get(n)),h=0;l.length>h;h++)d=l[h],this.nodeRightClass.get(d)<i&&s.push(f.get(n)-f.get(d));s.sort(),o=0===s.length?0:s.length%2===1?s[this.intDiv(s.length,2)]:(s[this.intDiv(s.length,2)-1]+s[this.intDiv(s.length,2)])/2}for(e=0;r.length>e;e++)n=r[e],f.set(n,f.get(n)+o)}return f},_getLeftWing:function(){var t={value:null},e=this.computeClasses(t,1);return this.nodeLeftClass=t.value,e},_getRightWing:function(){var t={value:null},e=this.computeClasses(t,-1);return this.nodeRightClass=t.value,e},computeClasses:function(t,e){var n,i,r,o,a,s,l,h,d,u=0,f=t.value=new c;for(n=0;this.layers.length>n;++n)for(u=n,i=this.layers[n],r=1===e?0:i.length-1;r>=0&&i.length>r;r+=e)if(o=i[r],f.containsKey(o))u=f.get(o);else if(f.set(o,u),o.isVirtual)for(a=this._nodesInLink(o),s=0;a.length>s;s++)l=a[s],f.set(l,u);for(h=[],d=0;this.layers.length>d;d++)h.push(null);return f.forEach(function(t,e){null===h[e]&&(h[e]=[]),h[e].push(t)}),h},_isVerticalLayout:function(){return"up"===this.options.subtype.toLowerCase()||"down"===this.options.subtype.toLowerCase()||"vertical"===this.options.subtype.toLowerCase()},_isHorizontalLayout:function(){return"right"===this.options.subtype.toLowerCase()||"left"===this.options.subtype.toLowerCase()||"horizontal"===this.options.subtype.toLowerCase()},_isIncreasingLayout:function(){return"right"===this.options.subtype.toLowerCase()||"down"===this.options.subtype.toLowerCase()},_moveThingsAround:function(){function t(t,e){var n,i,r=Number.MIN_VALUE;for(n=0;t.length>n;++n)i=t[n],r=e._isVerticalLayout()?Math.max(r,i.height):Math.max(r,i.width);return r}var e,n,i,r,o,a,s,l,h,d,f,p,g,m,v,y,_,w,x,b,k,C,S,T,D,A,P;for(n=0;this.layers.length>n;++n)r=this.layers[n],r.sort(this._gridPositionComparer);for(this.minDistances=[],n=0;this.layers.length>n;++n)for(r=this.layers[n],this.minDistances[n]=[],o=0;r.length>o;++o)i=r[o],i.layerIndex=o,this.minDistances[n][o]=this.options.nodeDistance,r.length-1>o&&(this.minDistances[n][o]+=this._isVerticalLayout()?(i.width+r[o+1].width)/2:(i.height+r[o+1].height)/2);for(this.downNodes=new c,this.upNodes=new c,u.forEach(this.graph.nodes,function(t){this.downNodes.set(t,[]),this.upNodes.set(t,[])},this),u.forEach(this.graph.links,function(t){var e=t.source,n=t.target,i=null,r=null;e.layer>n.layer?(i=t.source,r=t.target):(r=t.source,i=t.target),this.downNodes.get(r).push(i),this.upNodes.get(i).push(r)},this),this.downNodes.forEachValue(function(t){t.sort(this._gridPositionComparer)},this),this.upNodes.forEachValue(function(t){t.sort(this._gridPositionComparer)},this),n=0;this.layers.length-1>n;++n)for(r=this.layers[n],a=0;r.length-1>a;a++)if(s=r[a],s.isVirtual&&(l=this.downNodes.get(s)[0],l.isVirtual))for(o=a+1;r.length>o;++o)i=r[o],i.isVirtual&&(h=this.downNodes.get(i)[0],h.isVirtual&&l.gridPosition>h.gridPosition&&(d=l.gridPosition,l.gridPosition=h.gridPosition,h.gridPosition=d,f=l.layerIndex,p=h.layerIndex,this.layers[n+1][f]=h,this.layers[n+1][p]=l,l.layerIndex=p,h.layerIndex=f));for(g=this._getLeftWing(),m=this._getRightWing(),v=this.placeLeftToRight(g),y=this.placeRightToLeft(m),_=new c,u.forEach(this.graph.nodes,function(t){_.set(t,(v.get(t)+y.get(t))/2)}),w=new c,x=new c,n=0;this.layers.length>n;++n)for(r=this.layers[n],b=-1,k=-1,o=0;r.length>o;++o)i=r[o],w.set(i,0),x.set(i,!1),i.isVirtual&&(-1===b?b=o:b===o-1?b=o:(k=o,w.set(r[b],0),_.get(i)-_.get(r[b])===this.getMinDist(r[b],i)?x.set(r[b],!0):x.set(r[b],!1),b=o));for(C=[1,-1],u.forEach(C,function(t){var n,i,r,o,a,s,l,c=1===t?0:this.layers.length-1;for(n=c;n>=0&&this.layers.length>n;n+=t){if(i=this.layers[n],r=this._firstVirtualNode(i),o=null,a=null,-1!==r)for(o=i[r],a=[],e=0;r>e;e++)a.push(i[e]);else o=null,a=i;if(a.length>0){for(this._sequencer(_,null,o,t,a),e=0;a.length-1>e;++e)this.setMinDist(a[e],a[e+1],_.get(a[e+1])-_.get(a[e]));o&&this.setMinDist(a[a.length-1],o,_.get(o)-_.get(a[a.length-1]))}for(;o;){if(s=this.nextVirtualNode(i,o)){if(w.get(o)===t){for(r=o.layerIndex,l=s.layerIndex,a=[],e=r+1;l>e;e++)a.push(i[e]);a.length>0&&this._sequencer(_,o,s,t,a),x.set(o,!0)}}else{for(r=o.layerIndex,a=[],e=r+1;i.length>e;e++)a.push(i[e]);if(a.length>0){for(this._sequencer(_,o,null,t,a),e=0;a.length-1>e;++e)this.setMinDist(a[e],a[e+1],_.get(a[e+1])-_.get(a[e]));this.setMinDist(o,a[0],_.get(a[0])-_.get(o))}}o=s}this.adjustDirections(n,t,w,x)}},this),S=this._isIncreasingLayout()?0:this.layers.length-1,T=function(t,e){return e._isIncreasingLayout()?e.layers.length>t:t>=0},D=this._isIncreasingLayout()?1:-1,A=0,e=S;T(e,this);e+=D){for(r=this.layers[e],P=t(r,this),o=0;r.length>o;++o)i=r[o],this._isVerticalLayout()?(i.x=_.get(i),i.y=A+P/2):(i.x=A+P/2,i.y=_.get(i));A+=this.options.layerSeparation+P}},adjustDirections:function(t,e,n,i){var r,o,a,s,l,c,h,d,u,f,p,g,m,v;if(!(0>t+e||t+e>=this.layers.length))for(r=null,o=null,a=this.layers[t+e],s=0;a.length>s;++s)if(l=a[s],l.isVirtual&&(c=this.getNeighborOnLayer(l,t),c.isVirtual)){if(r){for(h=i.get(o),d=this.layers[t],u=o.layerIndex,f=c.layerIndex,p=u+1;f>p;++p)d[p].isVirtual&&(h=h&&i.get(d[p]));if(h)for(n.set(r,e),g=r.layerIndex,m=l.layerIndex,v=g+1;m>v;++v)a[v].isVirtual&&n.set(a[v],e)}r=l,o=c}},getNeighborOnLayer:function(t,e){var n=this.upNodes.get(t)[0];return n.layer===e?n:(n=this.downNodes.get(t)[0],n.layer===e?n:null)},_sequencer:function(t,e,n,i,r){if(1===r.length&&this._sequenceSingle(t,e,n,i,r[0]),r.length>1){var o=r.length,a=this.intDiv(o,2);this._sequencer(t,e,n,i,r.slice(0,a)),this._sequencer(t,e,n,i,r.slice(a)),this.combineSequences(t,e,n,i,r)}},_sequenceSingle:function(t,e,n,i,r){var o=-1===i?this.downNodes.get(r):this.upNodes.get(r),a=o.length;0!==a&&(a%2===1?t.set(r,t.get(o[this.intDiv(a,2)])):t.set(r,(t.get(o[this.intDiv(a,2)-1])+t.get(o[this.intDiv(a,2)]))/2),e&&t.set(r,Math.max(t.get(r),t.get(e)+this.getMinDist(e,r))),n&&t.set(r,Math.min(t.get(r),t.get(n)-this.getMinDist(r,n))))},combineSequences:function(t,e,n,i,r){var o,a,s,l,c,h,d,u,f,p,g=r.length,m=this.intDiv(g,2),v=[];for(o=0;m>o;++o){for(a=0,l=-1===i?this.downNodes.get(r[o]):this.upNodes.get(r[o]),s=0;l.length>s;++s)c=l[s],t.get(c)>=t.get(r[o])?a++:(a--,v.push({k:t.get(c)+this.getMinDist(r[o],r[m-1]),v:2}));v.push({k:t.get(r[o])+this.getMinDist(r[o],r[m-1]),v:a})}for(e&&v.push({k:t.get(e)+this.getMinDist(e,r[m-1]),v:Number.MAX_VALUE}),v.sort(this._positionDescendingComparer),d=[],o=m;g>o;++o){for(a=0,l=-1===i?this.downNodes.get(r[o]):this.upNodes.get(r[o]),s=0;l.length>s;++s)c=l[s],t.get(c)<=t.get(r[o])?a++:(a--,d.push({k:t.get(c)-this.getMinDist(r[o],r[m]),v:2}));d.push({k:t.get(r[o])-this.getMinDist(r[o],r[m]),v:a})}for(n&&d.push({k:t.get(n)-this.getMinDist(n,r[m]),v:Number.MAX_VALUE}),d.sort(this._positionAscendingComparer),u=0,f=0,p=this.getMinDist(r[m-1],r[m]);t.get(r[m])-t.get(r[m-1])<p;)if(f>u){if(0===v.length){t.set(r[m-1],t.get(r[m])-p);break}h=v.shift(),u+=h.v,t.set(r[m-1],h.k),t.set(r[m-1],Math.max(t.get(r[m-1]),t.get(r[m])-p))}else{if(0===d.length){t.set(r[m],t.get(r[m-1])+p);break}h=d.shift(),f+=h.v,t.set(r[m],h.k),t.set(r[m],Math.min(t.get(r[m]),t.get(r[m-1])+p))}for(o=m-2;o>=0;o--)t.set(r[o],Math.min(t.get(r[o]),t.get(r[m-1])-this.getMinDist(r[o],r[m-1])));for(o=m+1;g>o;o++)t.set(r[o],Math.max(t.get(r[o]),t.get(r[m])+this.getMinDist(r[o],r[m])))},placeLeft:function(t,e,n){var i=Number.NEGATIVE_INFINITY;u.forEach(this._getComposite(t),function(t){var r=this.leftSibling(t);r&&this.nodeLeftClass.get(r)===this.nodeLeftClass.get(t)&&(e.containsKey(r)||this.placeLeft(r,e,n),i=Math.max(i,e.get(r)+this.getMinDist(r,t)))},this),i===Number.NEGATIVE_INFINITY&&(i=0),u.forEach(this._getComposite(t),function(t){e.set(t,i)})},placeRight:function(t,e,n){var i=Number.POSITIVE_INFINITY;u.forEach(this._getComposite(t),function(t){var r=this.rightSibling(t);r&&this.nodeRightClass.get(r)===this.nodeRightClass.get(t)&&(e.containsKey(r)||this.placeRight(r,e,n),i=Math.min(i,e.get(r)-this.getMinDist(t,r)))},this),i===Number.POSITIVE_INFINITY&&(i=0),u.forEach(this._getComposite(t),function(t){e.set(t,i)})},leftSibling:function(t){var e=this.layers[t.layer],n=t.layerIndex;return 0===n?null:e[n-1]},rightSibling:function(t){var e=this.layers[t.layer],n=t.layerIndex;return n===e.length-1?null:e[n+1]},_getComposite:function(t){return t.isVirtual?this._nodesInLink(t):[t]},arrangeNodes:function(){var t,e,n,i,r,o,a,s;for(e=0;this.layers.length>e;e++)for(i=this.layers[e],n=0;i.length>n;n++)r=i[n],r.upstreamPriority=r.upstreamLinkCount,r.downstreamPriority=r.downstreamLinkCount;
for(o=2,a=0;o>a;a++){for(t=this.layers.length-1;t>=1;t--)this.layoutLayer(!1,t);for(t=0;this.layers.length-1>t;t++)this.layoutLayer(!0,t)}for(s=Number.MAX_VALUE,e=0;this.layers.length>e;e++)for(i=this.layers[e],n=0;i.length>n;n++)r=i[n],s=Math.min(s,r.gridPosition);if(0>s)for(e=0;this.layers.length>e;e++)for(i=this.layers[e],n=0;i.length>n;n++)r=i[n],r.gridPosition=r.gridPosition-s},layoutLayer:function(t,e){var n,i,r,o;for(i=t?this.layers[n=e+1]:this.layers[n=e-1],r=[],o=0;i.length>o;o++)r.push(i[o]);r.sort(function(t,e){var n=(t.upstreamPriority+t.downstreamPriority)/2,i=(e.upstreamPriority+e.downstreamPriority)/2;return Math.abs(n-i)<1e-4?0:i>n?1:-1}),u.forEach(r,function(t){var e=t.gridPosition,n=this.calcBaryCenter(t),r=(t.upstreamPriority+t.downstreamPriority)/2;if(!(Math.abs(e-n)<1e-4||Math.abs(e-n)<.2501))if(n>e)for(;n>e&&this.moveRight(t,i,r);)e=t.gridPosition;else for(;e>n&&this.moveLeft(t,i,r);)e=t.gridPosition},this),n>0&&this.calcDownData(n-1),this.layers.length-1>n&&this.calcUpData(n+1)},moveRight:function(t,e,n){var i,r,o=u.indexOf(e,t);return o===e.length-1?(t.gridPosition=t.gridPosition+.5,!0):(i=e[o+1],r=(i.upstreamPriority+i.downstreamPriority)/2,i.gridPosition>t.gridPosition+1?(t.gridPosition=t.gridPosition+.5,!0):r>n||Math.abs(r-n)<1e-4?!1:this.moveRight(i,e,n)?(t.gridPosition=t.gridPosition+.5,!0):!1)},moveLeft:function(t,e,n){var i,r,o=u.indexOf(e,t);return 0===o?(t.gridPosition=t.gridPosition-.5,!0):(i=e[o-1],r=(i.upstreamPriority+i.downstreamPriority)/2,t.gridPosition-1>i.gridPosition?(t.gridPosition=t.gridPosition-.5,!0):r>n||Math.abs(r-n)<1e-4?!1:this.moveLeft(i,e,n)?(t.gridPosition=t.gridPosition-.5,!0):!1)},mapVirtualNode:function(t,e){this.nodeToLinkMap.set(t,e),this.linkToNodeMap.containsKey(e)||this.linkToNodeMap.set(e,[]),this.linkToNodeMap.get(e).push(t)},_nodesInLink:function(t){return this.linkToNodeMap.get(this.nodeToLinkMap.get(t))},_dummify:function(){var t,e,n,i,a,s,l,h,d,f,p,g,m,v,y,_,w,x;for(this.linkToNodeMap=new c,this.nodeToLinkMap=new c,d=this.graph.links.slice(0),h=0;d.length>h;h++){if(f=d[h],p=f.source,g=f.target,m=p.layer,v=g.layer,y=p.gridPosition,_=g.gridPosition,w=(_-y)/Math.abs(v-m),x=p,m-v>1){for(l=m-1;l>v;l--){for(n=new r,n.x=p.x,n.y=p.y,n.width=p.width/100,n.height=p.height/100,t=this.layers[l],e=(l-v)*w+y,e>t.length&&(e=t.length),y>=this.layers[m].length-1&&_>=this.layers[v].length-1?e=t.length:0===y&&0===_&&(e=0),n.layer=l,n.uBaryCenter=0,n.dBaryCenter=0,n.upstreamLinkCount=0,n.downstreamLinkCount=0,n.gridPosition=e,n.isVirtual=!0,u.insert(t,n,e),a=e+1;t.length>a;a++)i=t[a],i.gridPosition=i.gridPosition+1;s=new o(x,n),s.depthOfDumminess=0,x=n,this.graph.nodes.push(n),this.graph.addLink(s),n.index=this.graph.nodes.length-1,this.mapVirtualNode(n,f)}f.changeSource(x),f.depthOfDumminess=m-v-1}if(-1>m-v){for(l=m+1;v>l;l++){for(n=new r,n.x=p.x,n.y=p.y,n.width=p.width/100,n.height=p.height/100,t=this.layers[l],e=(l-m)*w+y,e>t.length&&(e=t.length),y>=this.layers[m].length-1&&_>=this.layers[v].length-1?e=t.length:0===y&&0===_&&(e=0),n.layer=l,n.uBaryCenter=0,n.dBaryCenter=0,n.upstreamLinkCount=0,n.downstreamLinkCount=0,n.gridPosition=e,n.isVirtual=!0,e&=e,u.insert(t,n,e),a=e+1;t.length>a;a++)i=t[a],i.gridPosition=i.gridPosition+1;s=new o(x,n),s.depthOfDumminess=0,x=n,this.graph.nodes.push(n),this.graph.addLink(s),n.index=this.graph.nodes.length-1,this.mapVirtualNode(n,f)}f.changeSource(x),f.depthOfDumminess=v-m-1}}},_dedummify:function(){for(var t,e,n,i,r,o,a,s,l=!0;l;)for(l=!1,t=0;this.graph.links.length>t;t++)if(e=this.graph.links[t],0!==e.depthOfDumminess){for(n=[],n.unshift({x:e.target.x,y:e.target.y}),n.unshift({x:e.source.x,y:e.source.y}),i=e,r=e.depthOfDumminess,o=0;r>o;o++)a=i.source,s=a.incoming[0],n.unshift({x:s.source.x,y:s.source.y}),i=s;e.changeSource(i.source),e.depthOfDumminess=0,n.length>2?(n.splice(0,1),n.splice(n.length-1),e.points=n):e.points=[],l=!0;break}},_optimizeCrossings:function(){for(var t,e=-1,n=3,i=0;0!==e&&!(i++>n);){for(e=0,t=this.layers.length-1;t>=1;t--)e+=this.optimizeLayerCrossings(!1,t);for(t=0;this.layers.length-1>t;t++)e+=this.optimizeLayerCrossings(!0,t)}},calcUpData:function(t){var e,n,i,r,o,a,s,l,c;if(0!==t){for(e=this.layers[t],o=new h,a=this.layers[t-1],n=0;a.length>n;n++)o.add(a[n]);for(n=0;e.length>n;n++){for(s=e[n],l=0,c=0,i=0;s.incoming.length>i;i++)r=s.incoming[i],o.contains(r.source)&&(c++,l+=r.source.gridPosition);for(i=0;s.outgoing.length>i;i++)r=s.outgoing[i],o.contains(r.target)&&(c++,l+=r.target.gridPosition);c>0?(s.uBaryCenter=l/c,s.upstreamLinkCount=c):(s.uBaryCenter=n,s.upstreamLinkCount=0)}}},calcDownData:function(t){var e,n,i,r,o,a,s,l,c;if(t!==this.layers.length-1){for(e=this.layers[t],o=new h,a=this.layers[t+1],n=0;a.length>n;n++)o.add(a[n]);for(n=0;e.length>n;n++){for(s=e[n],l=0,c=0,i=0;s.incoming.length>i;i++)r=s.incoming[i],o.contains(r.source)&&(c++,l+=r.source.gridPosition);for(i=0;s.outgoing.length>i;i++)r=s.outgoing[i],o.contains(r.target)&&(c++,l+=r.target.gridPosition);c>0?(s.dBaryCenter=l/c,s.downstreamLinkCount=c):(s.dBaryCenter=n,s.downstreamLinkCount=0)}}},optimizeLayerCrossings:function(t,e){var n,i,r,o,a,s,l,c;for(i=t?this.layers[n=e+1]:this.layers[n=e-1],r=i.slice(0),t?this.calcUpData(n):this.calcDownData(n),o=this,i.sort(function(t,e){var n,i=o.calcBaryCenter(t),r=o.calcBaryCenter(e);return Math.abs(i-r)<1e-4?t.degree()===e.degree()?o.compareByIndex(t,e):t.degree()<e.degree()?1:-1:(n=1e3*(r-i),n>0?-1:0>n?1:o.compareByIndex(t,e))}),s=0,a=0;i.length>a;a++)i[a]!==r[a]&&s++;if(s>0)for(l=0,a=0;i.length>a;a++)c=i[a],c.gridPosition=l++;return s},_swapPairs:function(){for(var t,e,n,i,r,o,a,s,l,c,h,d,u,f,p,g,m,v=this.options.layeredIterations,y=0;;){if(y++>v)break;for(t=1>=y%4,e=y%4===1,n=t?0:this.layers.length-1;t?this.layers.length-1>=n:n>=0;n+=t?1:-1){for(i=this.layers[n],r=!1,o=!0,a=0,s=0;i.length-1>s;s++)l=0,c=0,h=0,o?(0!==n&&(l=this.countLinksCrossingBetweenTwoLayers(n-1,n)),n!==this.layers.length-1&&(c=this.countLinksCrossingBetweenTwoLayers(n,n+1)),t?l*=2:c*=2,h=l+c):h=a,0!==h&&(d=i[s],u=i[s+1],f=d.gridPosition,p=u.gridPosition,i[s]=u,i[s+1]=d,d.gridPosition=p,u.gridPosition=f,l=0,0!==n&&(l=this.countLinksCrossingBetweenTwoLayers(n-1,n)),c=0,n!==this.layers.length-1&&(c=this.countLinksCrossingBetweenTwoLayers(n,n+1)),t?l*=2:c*=2,g=l+c,m=!1,m=e?g>=h:g>h,m?(d=i[s],u=i[s+1],f=d.gridPosition,p=u.gridPosition,i[s]=u,i[s+1]=d,d.gridPosition=p,u.gridPosition=f,a=h,o=!1):(r=!0,o=!0));r&&(n!==this.layers.length-1&&this.calcUpData(n+1),0!==n&&this.calcDownData(n-1))}}},countLinksCrossingBetweenTwoLayers:function(t,e){var n,i,r,o,a,s,l,c,d,f,p,g,m,v,y,_,w,x,b,k,C=0,S=new h,T=this.layers[t];for(n=0;T.length>n;n++)S.add(T[n]);for(i=new h,r=this.layers[e],n=0;r.length>n;n++)i.add(r[n]);for(o=new h,a=[],s=[],S.forEach(function(t){u.addRange(s,t.incoming),u.addRange(s,t.outgoing)}),l=0;s.length>l;l++)c=s[l],S.contains(c.source)&&i.contains(c.target)?(o.add(c),a.push(c)):i.contains(c.source)&&S.contains(c.target)&&a.push(c);for(d=0;a.length>d;d++)for(f=a[d],p=0;a.length>p;p++)d!==p&&(g=a[p],o.contains(f)?(m=f.source,v=f.target):(m=f.target,v=f.source),o.contains(g)?(y=g.source,_=g.target):(y=g.target,_=g.source),w=m.gridPosition,x=v.gridPosition,b=y.gridPosition,k=_.gridPosition,0>(w-b)*(x-k)&&C++);return C/2},calcBaryCenter:function(t){var e=t.upstreamLinkCount,n=t.downstreamLinkCount,i=t.uBaryCenter,r=t.dBaryCenter;return e>0&&n>0?(i+r)/2:e>0?i:n>0?r:0},_gridPositionComparer:function(t,e){return e.gridPosition>t.gridPosition?-1:t.gridPosition>e.gridPosition?1:0},_positionAscendingComparer:function(t,e){return e.k>t.k?-1:t.k>e.k?1:0},_positionDescendingComparer:function(t,e){return e.k>t.k?1:t.k>e.k?-1:0},_firstVirtualNode:function(t){for(var e=0;t.length>e;e++)if(t[e].isVirtual)return e;return-1},compareByIndex:function(t,e){var n=t.index,i=e.index;return i>n?1:n>i?-1:0},intDiv:function(t,e){return(t-t%e)/e},nextVirtualNode:function(t,e){var n,i=e.layerIndex;for(n=i+1;t.length>n;++n)if(t[n].isVirtual)return t[n];return null}}),C=e.Class.extend({init:function(t,e){if(u.isUndefined(t))throw"No diagram given";this.diagram=t,this.nodeMap=new c,this.linkMap=new c,this.capture(e?e:t)},capture:function(t){var e,i,r,o,a,s,c,h,d;if(t instanceof n.Graph){for(o=0;t.nodes.length>o;o++)e=t.nodes[o],r=e.associatedShape,this.nodeMap.set(r.visual.id,new l(e.x,e.y,e.width,e.height));for(o=0;t.links.length>o;o++)s=t.links[o],a=s.associatedConnection,this.linkMap.set(a.visual.id,s.points())}else if(t instanceof Array)for(i=t,o=0;i.length>o;o++)e=i[o],r=e.associatedShape,r&&this.nodeMap.set(r.visual.id,new l(e.x,e.y,e.width,e.height));else if(t.hasOwnProperty("links")&&t.hasOwnProperty("nodes")){for(i=t.nodes,c=t.links,o=0;i.length>o;o++)e=i[o],r=e.associatedShape,r&&this.nodeMap.set(r.visual.id,new l(e.x,e.y,e.width,e.height));for(o=0;c.length>o;o++)s=c[o],a=s.associatedConnection,a&&this.linkMap.set(a.visual.id,s.points)}else{for(h=this.diagram.shapes,d=this.diagram.connections,o=0;h.length>o;o++)r=h[o],this.nodeMap.set(r.visual.id,r.bounds());for(o=0;d.length>o;o++)a=d[o],this.linkMap.set(a.visual.id,a.points())}}});a(n,{init:function(t){e.init(t,n.ui)},SpringLayout:w,TreeLayout:b,GraphAdapter:_,LayeredLayout:k,LayoutBase:y,LayoutState:C})}(window.kendo.jQuery),function(t,e){function n(n){var i=t(n.useButtonTag?"<button></button>":"<a></a>");return i.data({type:"button"}),i.attr($,n.uid),n.attributes&&i.attr(n.attributes),n.togglable&&(i.addClass(m),n.selected&&i.addClass(b)),n.enable===!1&&i.addClass(k),n.url===e||n.useButtonTag||(i.attr("href",n.url),n.mobile&&i.attr(c.attr("role"),"button")),n.group&&i.attr(c.attr("group"),n.group),!n.togglable&&n.click&&u(n.click)&&i.data("click",n.click),n.togglable&&n.toggle&&u(n.toggle)&&i.data("toggle",n.toggle),i}function i(t){var e,n=Y.button.base(t);return n.addClass(p),t.primary&&n.addClass(T),t.align&&n.addClass("k-align-"+t.align),t.id&&n.attr("id",t.id),"overflow"!=t.showText&&t.text&&n.html(t.mobile?'<span class="km-text">'+t.text+"</span>":t.text),e="overflow"!=t.showIcon&&(t.icon||t.spriteCssClass||t.imageUrl),e&&o(t,n),n}function r(t){var e,n=Y.button.base(t);return n.addClass(g+" "+p),t.primary&&n.addClass(T),t.id&&n.attr("id",t.id+"_overflow"),"toolbar"!=t.showText&&t.text&&n.html(t.mobile?'<span class="km-text">'+t.text+"</span>":t.text),e="toolbar"!=t.showIcon&&(t.icon||t.spriteCssClass||t.imageUrl),e&&o(t,n),n}function o(e,n){var i,r,o,a=e.icon,s=e.spriteCssClass,l=e.imageUrl;(s||l||a)&&(i=!0,n.contents().not("span.k-sprite,span."+D+",img.k-image").each(function(e,n){(1==n.nodeType||3==n.nodeType&&t.trim(n.nodeValue).length>0)&&(i=!1)}),n.addClass(i?P:M)),a?(r=n.children("span."+D).first(),r[0]||(r=t('<span class="'+D+'"></span>').prependTo(n)),r.addClass(A+a)):s?(r=n.children("span.k-sprite").first(),r[0]||(r=t('<span class="k-sprite"></span>').prependTo(n)),r.addClass(s)):l&&(o=n.children("img.k-image").first(),o[0]||(o=t('<img alt="icon" class="k-image" />').prependTo(n)),o.attr("src",l))}function a(){var t,e=this.options.anchor,n=e.outerWidth();c.wrap(this.element).addClass("k-split-wrapper"),t="border-box"!==this.element.css("box-sizing")?n-(this.element.outerWidth()-this.element.width()):n,this.element.css({fontFamily:e.css("font-family"),"min-width":t})}function s(t){t.target.is(".k-toggle-button")||t.target.toggleClass(b,"press"==t.type)}function l(e){return e=t(e),e.hasClass("km-actionsheet")?e.closest(".km-popup-wrapper"):e.addClass("km-widget km-actionsheet").wrap('<div class="km-actionsheet-wrapper km-actionsheet-tablet km-widget km-popup"></div>').parent().wrap('<div class="km-popup-wrapper k-popup"></div>').parent()}var c=window.kendo,h=c.ui.Widget,d=t.proxy,u=c.isFunction,f="k-toolbar",p="k-button",g="k-overflow-button",m="k-toggle-button",v="k-button-group",y="k-split-button",_="k-separator",w="k-popup",x="k-toolbar-resizable",b="k-state-active",k="k-state-disabled",C="k-group-start",S="k-group-end",T="k-primary",D="k-icon",A="k-i-",P="k-button-icon",M="k-button-icontext",E="k-list-container k-split-container",I="k-split-button-arrow",L="k-overflow-anchor",B="k-overflow-container",z="k-toolbar-first-visible",F="k-toolbar-last-visible",R="click",O="toggle",N="open",V="close",H="overflowOpen",U="overflowClose",W="never",j="auto",G="always",q="k-overflow-hidden",$=c.attr("uid"),Y={button:{base:n,toolbar:i,overflow:r},buttonGroup:{base:function(e,n,i){var r,o,a=e.buttons;for(i.data({type:"buttonGroup"}),i.attr($,e.uid),o=0;a.length>o;o++)a[o].uid||(a[o].uid=c.guid()),r=n(t.extend({mobile:e.mobile},a[o])),r.appendTo(i);i.children().first().addClass(C),i.children().last().addClass(S)},toolbar:function(e){var n=t('<div class="'+v+'"></div>');return Y.buttonGroup.base(e,Y.button.toolbar,n),e.align&&n.addClass("k-align-"+e.align),e.id&&n.attr("id",e.id),n},overflow:function(e){var n=t('<li class="'+(e.mobile?"":v)+' k-overflow-group"></li>');return Y.buttonGroup.base(e,Y.button.overflow,n),e.id&&n.attr("id",e.id+"_overflow"),n}},splitButton:{toolbar:function(e){var n,i,r,o=t('<div class="'+y+'"></div>'),s=Y.button.toolbar(e),c=t('<a class="'+p+" "+I+'"><span class="'+(e.mobile?"km-icon km-arrowdown":"k-icon k-i-arrow-s")+'"></span></a>'),h=t('<ul class="'+E+'"></ul>'),d=e.menuButtons;for(s.appendTo(o),c.appendTo(o),h.appendTo(o),r=0;d.length>r;r++)i=Y.button.toolbar(t.extend({mobile:e.mobile,click:e.click},d[r])),i.wrap("<li></li>").parent().appendTo(h);return e.align&&o.addClass("k-align-"+e.align),e.id||(e.id=e.uid),o.attr("id",e.id+"_wrapper"),h.attr("id",e.id+"_optionlist").attr($,e.rootUid),e.mobile&&(h=l(h)),n=h.kendoPopup({appendTo:e.mobile?t(e.mobile).children(".km-pane"):null,anchor:o,copyAnchorStyles:!1,animation:e.animation,open:a}).data("kendoPopup"),o.data({type:"splitButton",kendoPopup:n}),o.attr($,e.uid),o},overflow:function(e){var n,i,r=t('<li class="'+y+'"></li>'),o=Y.button.overflow(e),a=e.menuButtons;for(o.appendTo(r),i=0;a.length>i;i++)n=Y.button.overflow(t.extend({mobile:e.mobile},a[i])),n.appendTo(r);return e.id&&r.attr("id",e.id+"_overflow"),r.data({type:"splitButton"}),r.attr($,e.uid),r}},separator:{base:function(e,n){var i=t(n?"<li>&nbsp;</li>":"<div>&nbsp;</div>");return i.data({type:"separator"}),i.attr($,e.uid),e.attributes&&i.attr(e.attributes),i.addClass(_),i},toolbar:function(t){return Y.separator.base(t,!1)},overflow:function(t){return Y.separator.base(t,!0)}},overflowAnchor:'<div class="k-overflow-anchor"></div>',overflowContainer:'<ul class="k-overflow-container k-list-container"></ul>'},X=h.extend({init:function(e,n){var i,r=this;if(h.fn.init.call(r,e,n),n=r.options,e=r.wrapper=r.element,e.addClass(f+" k-widget"),this.uid=c.guid(),e.attr($,this.uid),r.isMobile="boolean"==typeof n.mobile?n.mobile:r.element.closest(".km-root")[0],r.animation=r.isMobile?{open:{effects:"fade"}}:{},r.isMobile&&(e.addClass("km-widget"),D="km-icon",A="km-",p="km-button",v="km-buttongroup km-widget",b="km-state-active",k="km-state-disabled"),n.resizable?(r._renderOverflow(),e.addClass(x),r.overflowUserEvents=new c.UserEvents(r.element,{threshold:5,allowSelection:!0,filter:"."+L,tap:d(r._toggleOverflow,r)}),c.onResize(function(){r.resize()})):r.popup={element:t([])},n.items&&n.items.length)for(i=0;n.items.length>i;i++)r.add(n.items[i]);r.userEvents=new c.UserEvents(document,{threshold:5,allowSelection:!0,filter:"["+$+"="+this.uid+"] ."+p+", ["+$+"="+this.uid+"] ."+g,tap:d(r._buttonClick,r),press:s,release:s}),n.resizable&&this._toggleOverflowAnchor(),c.notify(r)},events:[R,O,N,V,H,U],options:{name:"ToolBar",items:[],resizable:!0,mobile:null},destroy:function(){var e=this;e.element.find("."+y).each(function(e,n){t(n).data("kendoPopup").destroy()}),e.userEvents.destroy(),e.options.resizable&&(e.overflowUserEvents.destroy(),e.popup.destroy()),h.fn.destroy.call(e)},add:function(e){var n,i,r=Y[e.type],o=e.template,a=this,s=a.isMobile?"":"k-item k-state-default",l=e.overflowTemplate;t.extend(e,{uid:c.guid(),animation:a.animation,mobile:a.isMobile,rootUid:a.uid}),o&&!l&&(e.overflow=W),e.overflow!==W&&a.options.resizable&&(l?i=t(u(l)?l(e):l):r&&(i=(r.overflow||t.noop)(e)),i&&i.length&&("LI"!==i.prop("tagName")&&(i.removeAttr($),i=i.wrap("<li></li>").parent(),i.attr($,e.uid)),a._attributes(i,e),i.addClass(s).appendTo(a.popup.container),i.data("overflow")===j&&i.addClass(q),a.angular("compile",function(){return{elements:i.get()}}))),e.overflow!==G&&(o?(n=u(o)?o(e):o,n instanceof jQuery||(n=t(n.replace(/^\s+|\s+$/g,""))),n=n.wrap("<div></div>").parent(),n.attr($,e.uid)):r&&(n=(r.toolbar||t.noop)(e)),n&&n.length&&(a._attributes(n,e),a.options.resizable?(n.appendTo(a.element).css("visibility","hidden"),a._shrink(a.element.innerWidth()),n.css("visibility","visible")):n.appendTo(a.element),a.angular("compile",function(){return{elements:n.get()}})))},remove:function(t){var e,n,i=this.element.find(t);!i.length&&this.options.resizable?(i=this.popup.element.find(t),n=i.parent().attr($)):n=i.attr($),e=i.data("type"),i.parent("."+y).data("type")&&(e="splitButton",i=i.parent()),"splitButton"===e&&i.data("kendoPopup").destroy(),i.add(this.popup.element.find("["+$+"='"+n+"']")).remove()},enable:function(n,i){var r=this.element.find(n).attr($);!r&&this.popup&&(r=this.popup.element.find(n).parent("li").attr($)),e===i&&(i=!0),i?t("["+$+"='"+r+"']").removeClass(k):t("["+$+"='"+r+"']").addClass(k)},getSelectedFromGroup:function(t){return this.element.find("."+m+"[data-group='"+t+"']").filter("."+b)},toggle:function(e,n){var i,r=t(e),o=r.data("uid"),a=r.data("group");r.hasClass(m)&&(a&&this.element.add(this.popup.element).find("."+m+"[data-group='"+a+"']").filter("."+b).removeClass(b),t.contains(this.element[0],r[0])?(i=this.popup.element.find("["+$+"='"+o+"']"),"LI"===i.prop("tagName")&&(i=i.find("."+m+":first"))):(o=o?o:r.parent().data("uid"),i=this.element.find("["+$+"='"+o+"']")),r.add(i).toggleClass(b,n))},_attributes:function(t,e){t.attr(c.attr("overflow"),e.overflow||j)},_renderOverflow:function(){var e=this,n=Y.overflowContainer;e.overflowAnchor=t(Y.overflowAnchor).addClass(p),e.element.append(e.overflowAnchor),e.isMobile?(e.overflowAnchor.append('<span class="km-icon km-more"></span>'),n=l(n)):e.overflowAnchor.append('<span class="k-icon k-i-more"></span>'),e.popup=new c.ui.Popup(n,{origin:"bottom right",position:"top right",anchor:e.overflowAnchor,animation:e.animation,appendTo:e.isMobile?t(e.isMobile).children(".km-pane"):null,copyAnchorStyles:!1,open:function(n){var i=c.wrap(e.popup.element).addClass("k-overflow-wrapper");e.isMobile?e.popup.container.css("max-height",parseFloat(t(".km-content:visible").innerHeight())-15+"px"):i.css("margin-left",(i.outerWidth()-i.width())/2+1),e.trigger(H)&&n.preventDefault()},close:function(t){e.trigger(U)&&t.preventDefault()}}),e.popup.container=e.isMobile?e.popup.element.find("."+B):e.popup.element,e.popup.container.attr($,this.uid)},_toggleOverflowAnchor:function(){this.overflowAnchor.css(this.popup.element.children(":not(."+q+", ."+w+")").length>0?{visibility:"visible",width:""}:{visibility:"hidden",width:"1px"})},_buttonClick:function(n){var i,r,o,a,s,l,c,h,d,f=this;if(n.preventDefault(),r=t(n.target).closest("."+p,f.element),!r.hasClass(L)&&(!r.length&&f.popup&&(r=t(n.target).closest("."+g,f.popup.container)),a=r.hasClass(g)?r.parent("li").hasClass(k):r.hasClass(k),!a)){if(n.target.closest("."+I).length)return f._toggle(n),e;d=r.attr("id")?r.attr("id").replace(/(_overflow$)/,""):e,r.hasClass(m)?(l=r.data("group"),c=u(r.data("toggle"))?r.data("toggle"):null,f.toggle(r),s=r.hasClass(b),h={target:r,group:l,checked:s,id:d},c&&c.call(f,h),f.trigger(O,h)):(c=u(r.data("click"))?r.data("click"):null,h={target:r,id:d},c&&c.call(f,h),f.trigger(R,h)),r.hasClass(g)&&f.popup.close(),o=r.closest(".k-split-container"),o[0]&&(i=o.data("kendoPopup"),(i?i:o.parents(".km-popup-wrapper").data("kendoPopup")).close())}},_toggle:function(e){var n,i=t(e.target).closest("."+y),r=i.data("kendoPopup");e.preventDefault(),i.hasClass(k)||(n=r.element.is(":visible")?this.trigger(V,{target:i}):this.trigger(N,{target:i}),n||r.toggle())},_toggleOverflow:function(){this.popup.toggle()},_resize:function(t){var e=t.width;this.options.resizable&&(this.popup.close(),this._shrink(e),this._stretch(e),this._markVisibles(),this._toggleOverflowAnchor())},_childrenWidth:function(){var e=0;return this.element.children(":visible").each(function(){e+=t(this).outerWidth(!0)}),Math.ceil(e)},_shrink:function(t){var e,n,i;if(t<this._childrenWidth())for(n=this.element.children(":visible:not([data-overflow='never'], ."+L+")"),i=n.length-1;i>=0&&(e=n.eq(i),!(t>this._childrenWidth()));i--)this._hideItem(e)},_stretch:function(t){var e,n,i;if(t>this._childrenWidth())for(n=this.element.children(":hidden"),i=0;n.length>i&&(e=n.eq(i),!(t<this._childrenWidth())&&this._showItem(e,t));i++);},_hideItem:function(t){t.hide(),this.popup&&this.popup.container.find(">li[data-uid='"+t.data("uid")+"']").removeClass(q)},_showItem:function(t,e){return t.length&&e>this._childrenWidth()+t.outerWidth(!0)?(t.show(),this.popup&&this.popup.container.find(">li[data-uid='"+t.data("uid")+"']").addClass(q),!0):!1},_markVisibles:function(){var t=this.popup.container.children(),e=this.element.children(":not(.k-overflow-anchor)"),n=t.filter(":not(.k-overflow-hidden)"),i=e.filter(":visible");t.add(e).removeClass(z+" "+F),n.first().add(i.first()).addClass(z),n.last().add(i.last()).addClass(F)}});c.ui.plugin(X)}(window.kendo.jQuery),function(t,e){function n(t,e,n,i){var r,o=t.getFullYear(),a=e.getFullYear(),s=n.getFullYear();return o-=o%i,r=o+(i-1),a>o&&(o=a),r>s&&(r=s),o+"-"+r}function i(t){for(var e,n=0,i=t.min,r=t.max,o=t.start,a=t.setter,l=t.build,c=t.cells||12,h=t.perRow||4,d=t.content||E,u=t.empty||I,f=t.html||'<table tabindex="0" role="grid" class="k-content k-meta-view" cellspacing="0"><tbody><tr role="row">';c>n;n++)n>0&&n%h===0&&(f+='</tr><tr role="row">'),e=l(o,n),f+=s(o,i,r)?d(e):u(e),a(o,1);return f+"</tr></tbody></table>"}function r(t,e,n){var i=t.getFullYear(),r=e.getFullYear(),o=r,a=0;return n&&(r-=r%n,o=r-r%n+n-1),i>o?a=1:r>i&&(a=-1),a}function o(){var t=new pe;return new pe(t.getFullYear(),t.getMonth(),t.getDate())}function a(t,e,n){var i=o();return t&&(i=new pe(+t)),e>i?i=new pe(+e):i>n&&(i=new pe(+n)),i}function s(t,e,n){return+t>=+e&&+n>=+t}function l(t,e){return t.slice(e).concat(t.slice(0,e))}function c(t,e,n){e=e instanceof pe?e.getFullYear():t.getFullYear()+n*e,t.setFullYear(e)}function h(e){t(this).toggleClass($,ie.indexOf(e.type)>-1||e.type==ee)}function d(t){t.preventDefault()}function u(t){return A(t).calendars.standard}function f(t){var n=ge[t.start],i=ge[t.depth],r=A(t.culture);t.format=T(t.format||r.calendars.standard.patterns.d),isNaN(n)&&(n=0,t.start=U),(i===e||i>n)&&(t.depth=U),t.dates||(t.dates=[])}function p(t){B&&t.find("*").attr("unselectable","on")}function g(t,e){for(var n=0,i=e.length;i>n;n++)if(t===+e[n])return!0;return!1}function m(t,e){return t?t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate():!1}function v(t,e){return t?t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth():!1}var y,_=window.kendo,w=_.support,x=_.ui,b=x.Widget,k=_.keys,C=_.parseDate,S=_.date.adjustDST,T=_._extractFormat,D=_.template,A=_.getCulture,P=_.support.transitions,M=P?P.css+"transform-origin":"",E=D('<td#=data.cssClass# role="gridcell"><a tabindex="-1" class="k-link" href="\\#" data-#=data.ns#value="#=data.dateString#">#=data.value#</a></td>',{useWithBlock:!1}),I=D('<td role="gridcell">&nbsp;</td>',{useWithBlock:!1}),L=_.support.browser,B=L.msie&&9>L.version,z=".kendoCalendar",F="click"+z,R="keydown"+z,O="id",N="min",V="left",H="slideIn",U="month",W="century",j="change",G="navigate",q="value",$="k-state-hover",Y="k-state-disabled",X="k-state-focused",Q="k-other-month",K=' class="'+Q+'"',Z="k-nav-today",J="td:has(.k-link)",te="blur"+z,ee="focus",ne=ee+z,ie=w.touch?"touchstart":"mouseenter",re=w.touch?"touchstart"+z:"mouseenter"+z,oe=w.touch?"touchend"+z+" touchmove"+z:"mouseleave"+z,ae=6e4,se=864e5,le="_prevArrow",ce="_nextArrow",he="aria-disabled",de="aria-selected",ue=t.proxy,fe=t.extend,pe=Date,ge={month:0,year:1,decade:2,century:3},me=b.extend({init:function(e,n){var i,r,o=this;b.fn.init.call(o,e,n),e=o.wrapper=o.element,n=o.options,n.url=window.unescape(n.url),o._templates(),o._header(),o._footer(o.footer),r=e.addClass("k-widget k-calendar").on(re+" "+oe,J,h).on(R,"table.k-content",ue(o._move,o)).on(F,J,function(e){var n=e.currentTarget.firstChild;-1!=n.href.indexOf("#")&&e.preventDefault(),o._click(t(n))}).on("mouseup"+z,"table.k-content, .k-footer",function(){o._focusView(o.options.focusOnNav!==!1)}).attr(O),r&&(o._cellID=r+"_cell_selected"),f(n),i=C(n.value,n.format,n.culture),o._index=ge[n.start],o._current=new pe(+a(i,n.min,n.max)),o._addClassProxy=function(){o._active=!0,o._cell.addClass(X)},o._removeClassProxy=function(){o._active=!1,o._cell.removeClass(X)},o.value(i),_.notify(o)},options:{name:"Calendar",value:null,min:new pe(1900,0,1),max:new pe(2099,11,31),dates:[],url:"",culture:"",footer:"",format:"",month:{},start:U,depth:U,animation:{horizontal:{effects:H,reverse:!0,duration:500,divisor:2},vertical:{effects:"zoomIn",duration:400}}},events:[j,G],setOptions:function(t){var e=this;f(t),t.dates[0]||(t.dates=e.options.dates),b.fn.setOptions.call(e,t),e._templates(),e._footer(e.footer),e._index=ge[e.options.start],e.navigate()},destroy:function(){var t=this,e=t._today;t.element.off(z),t._title.off(z),t[le].off(z),t[ce].off(z),_.destroy(t._table),e&&_.destroy(e.off(z)),b.fn.destroy.call(t)},current:function(){return this._current},view:function(){return this._view},focus:function(t){t=t||this._table,this._bindTable(t),t.focus()},min:function(t){return this._option(N,t)},max:function(t){return this._option("max",t)},navigateToPast:function(){this._navigate(le,-1)},navigateToFuture:function(){this._navigate(ce,1)},navigateUp:function(){var t=this,e=t._index;t._title.hasClass(Y)||t.navigate(t._current,++e)},navigateDown:function(t){var n=this,i=n._index,r=n.options.depth;if(t)return i===ge[r]?(+n._value!=+t&&(n.value(t),n.trigger(j)),e):(n.navigate(t,--i),e)},navigate:function(n,i){i=isNaN(i)?ge[i]:i;var r,o,s,l,c=this,h=c.options,d=h.culture,u=h.min,f=h.max,g=c._title,m=c._table,v=c._oldTable,_=c._value,w=c._current,x=n&&+n>+w,b=i!==e&&i!==c._index;n||(n=w),c._current=n=new pe(+a(n,u,f)),i===e?i=c._index:c._index=i,c._view=o=y.views[i],s=o.compare,l=i===ge[W],g.toggleClass(Y,l).attr(he,l),l=s(n,u)<1,c[le].toggleClass(Y,l).attr(he,l),l=s(n,f)>-1,c[ce].toggleClass(Y,l).attr(he,l),m&&v&&v.data("animating")&&(v.kendoStop(!0,!0),m.kendoStop(!0,!0)),c._oldTable=m,(!m||c._changeView)&&(g.html(o.title(n,u,f,d)),c._table=r=t(o.content(fe({min:u,max:f,date:n,url:h.url,dates:h.dates,format:h.format,culture:d},c[o.name]))),p(r),c._animate({from:m,to:r,vertical:b,future:x}),c._focus(n),c.trigger(G)),i===ge[h.depth]&&_&&c._class("k-state-selected",o.toDateString(_)),c._class(X,o.toDateString(n)),!m&&c._cell&&c._cell.removeClass(X),c._changeView=!0},value:function(t){var n=this,i=n._view,r=n.options,o=n._view,a=r.min,l=r.max;return t===e?n._value:(t=C(t,r.format,r.culture),null!==t&&(t=new pe(+t),s(t,a,l)||(t=null)),n._value=t,o&&null===t&&n._cell?n._cell.removeClass("k-state-selected"):(n._changeView=!t||i&&0!==i.compare(t,n._current),n.navigate(t)),e)},_move:function(e){var n,i,r,o,s=this,l=s.options,c=e.keyCode,h=s._view,d=s._index,u=new pe(+s._current),f=_.support.isRtl(s.wrapper);return e.target===s._table[0]&&(s._active=!0),e.ctrlKey?c==k.RIGHT&&!f||c==k.LEFT&&f?(s.navigateToFuture(),i=!0):c==k.LEFT&&!f||c==k.RIGHT&&f?(s.navigateToPast(),i=!0):c==k.UP?(s.navigateUp(),i=!0):c==k.DOWN&&(s._click(t(s._cell[0].firstChild)),i=!0):(c==k.RIGHT&&!f||c==k.LEFT&&f?(n=1,i=!0):c==k.LEFT&&!f||c==k.RIGHT&&f?(n=-1,i=!0):c==k.UP?(n=0===d?-7:-4,i=!0):c==k.DOWN?(n=0===d?7:4,i=!0):c==k.ENTER?(s._click(t(s._cell[0].firstChild)),i=!0):c==k.HOME||c==k.END?(r=c==k.HOME?"first":"last",o=h[r](u),u=new pe(o.getFullYear(),o.getMonth(),o.getDate(),u.getHours(),u.getMinutes(),u.getSeconds(),u.getMilliseconds()),i=!0):c==k.PAGEUP?(i=!0,s.navigateToPast()):c==k.PAGEDOWN&&(i=!0,s.navigateToFuture()),(n||r)&&(r||h.setDate(u,n),s._focus(a(u,l.min,l.max)))),i&&e.preventDefault(),s._current},_animate:function(t){var e=this,n=t.from,i=t.to,r=e._active;n?n.parent().data("animating")?(n.off(z),n.parent().kendoStop(!0,!0).remove(),n.remove(),i.insertAfter(e.element[0].firstChild),e._focusView(r)):n.is(":visible")&&e.options.animation!==!1?e[t.vertical?"_vertical":"_horizontal"](n,i,t.future):(i.insertAfter(n),n.off(z).remove(),e._focusView(r)):(i.insertAfter(e.element[0].firstChild),e._bindTable(i))},_horizontal:function(t,e,n){var i=this,r=i._active,o=i.options.animation.horizontal,a=o.effects,s=t.outerWidth();a&&-1!=a.indexOf(H)&&(t.add(e).css({width:s}),t.wrap("<div/>"),i._focusView(r,t),t.parent().css({position:"relative",width:2*s,"float":V,"margin-left":n?0:-s}),e[n?"insertAfter":"insertBefore"](t),fe(o,{effects:H+":"+(n?"right":V),complete:function(){t.off(z).remove(),i._oldTable=null,e.unwrap(),i._focusView(r)}}),t.parent().kendoStop(!0,!0).kendoAnimate(o))},_vertical:function(t,e){var n,i,r=this,o=r.options.animation.vertical,a=o.effects,s=r._active;a&&-1!=a.indexOf("zoom")&&(e.css({position:"absolute",top:t.prev().outerHeight(),left:0}).insertBefore(t),M&&(n=r._cellByDate(r._view.toDateString(r._current)),i=n.position(),i=i.left+parseInt(n.width()/2,10)+"px "+(i.top+parseInt(n.height()/2,10)+"px"),e.css(M,i)),t.kendoStop(!0,!0).kendoAnimate({effects:"fadeOut",duration:600,complete:function(){t.off(z).remove(),r._oldTable=null,e.css({position:"static",top:0,left:0}),r._focusView(s)}}),e.kendoStop(!0,!0).kendoAnimate(o))},_cellByDate:function(e){return this._table.find("td:not(."+Q+")").filter(function(){return t(this.firstChild).attr(_.attr(q))===e})},_class:function(e,n){var i=this,r=i._cellID,o=i._cell;o&&o.removeAttr(de).removeAttr("aria-label").removeAttr(O),o=i._table.find("td:not(."+Q+")").removeClass(e).filter(function(){return t(this.firstChild).attr(_.attr(q))===n}).attr(de,!0),e!==X||i._active||i.options.focusOnNav===!1||(e=""),o.addClass(e),o[0]&&(i._cell=o),r&&(o.attr(O,r),i._table.removeAttr("aria-activedescendant").attr("aria-activedescendant",r))},_bindTable:function(t){t.on(ne,this._addClassProxy).on(te,this._removeClassProxy)},_click:function(t){var e=this,n=e.options,i=new Date(+e._current),r=t.attr(_.attr(q)).split("/");r=new pe(r[0],r[1],r[2]),S(r,0),e._view.setDate(i,r),e.navigateDown(a(i,n.min,n.max))},_focus:function(t){var e=this,n=e._view;0!==n.compare(t,e._current)?e.navigate(t):(e._current=t,e._class(X,n.toDateString(t)))},_focusView:function(t,e){t&&this.focus(e)},_footer:function(n){var i=this,r=o(),a=i.element,s=a.find(".k-footer");return n?(s[0]||(s=t('<div class="k-footer"><a href="#" class="k-link k-nav-today"></a></div>').appendTo(a)),i._today=s.show().find(".k-link").html(n(r)).attr("title",_.toString(r,"D",i.options.culture)),i._toggle(),e):(i._toggle(!1),s.hide(),e)},_header:function(){var t,e=this,n=e.element;n.find(".k-header")[0]||n.html('<div class="k-header"><a href="#" role="button" class="k-link k-nav-prev"><span class="k-icon k-i-arrow-w"></span></a><a href="#" role="button" aria-live="assertive" aria-atomic="true" class="k-link k-nav-fast"></a><a href="#" role="button" class="k-link k-nav-next"><span class="k-icon k-i-arrow-e"></span></a></div>'),t=n.find(".k-link").on(re+" "+oe+" "+ne+" "+te,h).click(!1),e._title=t.eq(1).on(F,function(){e._active=e.options.focusOnNav!==!1,e.navigateUp()}),e[le]=t.eq(0).on(F,function(){e._active=e.options.focusOnNav!==!1,e.navigateToPast()}),e[ce]=t.eq(2).on(F,function(){e._active=e.options.focusOnNav!==!1,e.navigateToFuture()})},_navigate:function(t,e){var n=this,i=n._index+1,r=new pe(+n._current);t=n[t],t.hasClass(Y)||(i>3?r.setFullYear(r.getFullYear()+100*e):y.views[i].setDate(r,e),n.navigate(r))},_option:function(t,n){var i,r=this,o=r.options,a=r._value||r._current;return n===e?o[t]:(n=C(n,o.format,o.culture),n&&(o[t]=new pe(+n),i=t===N?n>a:a>n,(i||v(a,n))&&(i&&(r._value=null),r._changeView=!0),r._changeView||(r._changeView=!(!o.month.content&&!o.month.empty)),r.navigate(r._value),r._toggle()),e)
},_toggle:function(t){var n=this,i=n.options,r=n._today;t===e&&(t=s(o(),i.min,i.max)),r&&(r.off(F),t?r.addClass(Z).removeClass(Y).on(F,ue(n._todayClick,n)):r.removeClass(Z).addClass(Y).on(F,d))},_todayClick:function(t){var e=this,n=ge[e.options.depth],i=o();t.preventDefault(),0===e._view.compare(e._current,i)&&e._index==n&&(e._changeView=!1),e._value=i,e.navigate(i,n),e.trigger(j)},_templates:function(){var t=this,e=t.options,n=e.footer,i=e.month,r=i.content,o=i.empty;t.month={content:D('<td#=data.cssClass# role="gridcell"><a tabindex="-1" class="k-link#=data.linkClass#" href="#=data.url#" '+_.attr("value")+'="#=data.dateString#" title="#=data.title#">'+(r||"#=data.value#")+"</a></td>",{useWithBlock:!!r}),empty:D('<td role="gridcell">'+(o||"&nbsp;")+"</td>",{useWithBlock:!!o})},t.footer=n!==!1?D(n||'#= kendo.toString(data,"D","'+e.culture+'") #',{useWithBlock:!1}):null}});x.plugin(me),y={firstDayOfMonth:function(t){return new pe(t.getFullYear(),t.getMonth(),1)},firstVisibleDay:function(t,e){e=e||_.culture().calendar;for(var n=e.firstDay,i=new pe(t.getFullYear(),t.getMonth(),0,t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds());i.getDay()!=n;)y.setTime(i,-1*se);return i},setTime:function(t,e){var n=t.getTimezoneOffset(),i=new pe(t.getTime()+e),r=i.getTimezoneOffset()-n;t.setTime(i.getTime()+r*ae)},views:[{name:U,title:function(t,e,n,i){return u(i).months.names[t.getMonth()]+" "+t.getFullYear()},content:function(t){for(var e=this,n=0,r=t.min,o=t.max,a=t.date,s=t.dates,c=t.format,h=t.culture,d=t.url,f=d&&s[0],p=u(h),m=p.firstDay,v=p.days,w=l(v.names,m),x=l(v.namesShort,m),b=y.firstVisibleDay(a,p),k=e.first(a),C=e.last(a),T=e.toDateString,D=new pe,A='<table tabindex="0" role="grid" class="k-content" cellspacing="0"><thead><tr role="row">';7>n;n++)A+='<th scope="col" title="'+w[n]+'">'+x[n]+"</th>";return D=new pe(D.getFullYear(),D.getMonth(),D.getDate()),S(D,0),D=+D,i({cells:42,perRow:7,html:A+='</tr></thead><tbody><tr role="row">',start:new pe(b.getFullYear(),b.getMonth(),b.getDate()),min:new pe(r.getFullYear(),r.getMonth(),r.getDate()),max:new pe(o.getFullYear(),o.getMonth(),o.getDate()),content:t.content,empty:t.empty,setter:e.setDate,build:function(t){var e=[],n=t.getDay(),i="",r="#";return(k>t||t>C)&&e.push(Q),+t===D&&e.push("k-today"),(0===n||6===n)&&e.push("k-weekend"),f&&g(+t,s)&&(r=d.replace("{0}",_.toString(t,c,h)),i=" k-action-link"),{date:t,dates:s,ns:_.ns,title:_.toString(t,"D",h),value:t.getDate(),dateString:T(t),cssClass:e[0]?' class="'+e.join(" ")+'"':"",linkClass:i,url:r}}})},first:function(t){return y.firstDayOfMonth(t)},last:function(t){var e=new pe(t.getFullYear(),t.getMonth()+1,0),n=y.firstDayOfMonth(t),i=Math.abs(e.getTimezoneOffset()-n.getTimezoneOffset());return i&&e.setHours(n.getHours()+i/60),e},compare:function(t,e){var n,i=t.getMonth(),r=t.getFullYear(),o=e.getMonth(),a=e.getFullYear();return n=r>a?1:a>r?-1:i==o?0:i>o?1:-1},setDate:function(t,e){var n=t.getHours();e instanceof pe?t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()):y.setTime(t,e*se),S(t,n)},toDateString:function(t){return t.getFullYear()+"/"+t.getMonth()+"/"+t.getDate()}},{name:"year",title:function(t){return t.getFullYear()},content:function(t){var e=u(t.culture).months.namesAbbr,n=this.toDateString,r=t.min,o=t.max;return i({min:new pe(r.getFullYear(),r.getMonth(),1),max:new pe(o.getFullYear(),o.getMonth(),1),start:new pe(t.date.getFullYear(),0,1),setter:this.setDate,build:function(t){return{value:e[t.getMonth()],ns:_.ns,dateString:n(t),cssClass:""}}})},first:function(t){return new pe(t.getFullYear(),0,t.getDate())},last:function(t){return new pe(t.getFullYear(),11,t.getDate())},compare:function(t,e){return r(t,e)},setDate:function(t,e){var n,i=t.getHours();e instanceof pe?(n=e.getMonth(),t.setFullYear(e.getFullYear(),n,t.getDate()),n!==t.getMonth()&&t.setDate(0)):(n=t.getMonth()+e,t.setMonth(n),n>11&&(n-=12),n>0&&t.getMonth()!=n&&t.setDate(0)),S(t,i)},toDateString:function(t){return t.getFullYear()+"/"+t.getMonth()+"/1"}},{name:"decade",title:function(t,e,i){return n(t,e,i,10)},content:function(t){var e=t.date.getFullYear(),n=this.toDateString;return i({start:new pe(e-e%10-1,0,1),min:new pe(t.min.getFullYear(),0,1),max:new pe(t.max.getFullYear(),0,1),setter:this.setDate,build:function(t,e){return{value:t.getFullYear(),ns:_.ns,dateString:n(t),cssClass:0===e||11==e?K:""}}})},first:function(t){var e=t.getFullYear();return new pe(e-e%10,t.getMonth(),t.getDate())},last:function(t){var e=t.getFullYear();return new pe(e-e%10+9,t.getMonth(),t.getDate())},compare:function(t,e){return r(t,e,10)},setDate:function(t,e){c(t,e,1)},toDateString:function(t){return t.getFullYear()+"/0/1"}},{name:W,title:function(t,e,i){return n(t,e,i,100)},content:function(t){var e=t.date.getFullYear(),n=t.min.getFullYear(),r=t.max.getFullYear(),o=this.toDateString,a=n,s=r;return a-=a%10,s-=s%10,10>s-a&&(s=a+9),i({start:new pe(e-e%100-10,0,1),min:new pe(a,0,1),max:new pe(s,0,1),setter:this.setDate,build:function(t,e){var i=t.getFullYear(),a=i+9;return n>i&&(i=n),a>r&&(a=r),{ns:_.ns,value:i+" - "+a,dateString:o(t),cssClass:0===e||11==e?K:""}}})},first:function(t){var e=t.getFullYear();return new pe(e-e%100,t.getMonth(),t.getDate())},last:function(t){var e=t.getFullYear();return new pe(e-e%100+99,t.getMonth(),t.getDate())},compare:function(t,e){return r(t,e,100)},setDate:function(t,e){c(t,e,10)},toDateString:function(t){var e=t.getFullYear();return e-e%10+"/0/1"}}]},y.isEqualDatePart=m,y.makeUnselectable=p,y.restrictValue=a,y.isInRange=s,y.normalize=f,y.viewsEnum=ge,_.calendar=y}(window.kendo.jQuery),function(t,e){function n(e){var n=e.parseFormats,i=e.format;F.normalize(e),n=t.isArray(n)?n:[n],-1===t.inArray(i,n)&&n.splice(0,0,e.format),e.parseFormats=n}function i(t){t.preventDefault()}var r,o=window.kendo,a=o.ui,s=a.Widget,l=o.parseDate,c=o.keys,h=o.template,d=o._activeElement,u="<div />",f="<span />",p=".kendoDatePicker",g="click"+p,m="open",v="close",y="change",_="disabled",w="readonly",x="k-state-default",b="k-state-focused",k="k-state-selected",C="k-state-disabled",S="k-state-hover",T="mouseenter"+p+" mouseleave"+p,D="mousedown"+p,A="id",P="min",M="max",E="month",I="aria-disabled",L="aria-expanded",B="aria-hidden",z="aria-readonly",F=o.calendar,R=F.isInRange,O=F.restrictValue,N=F.isEqualDatePart,V=t.extend,H=t.proxy,U=Date,W=function(e){var n,i=this,r=document.body,s=t(u).attr(B,"true").addClass("k-calendar-container").appendTo(r);i.options=e=e||{},n=e.id,n&&(n+="_dateview",s.attr(A,n),i._dateViewID=n),i.popup=new a.Popup(s,V(e.popup,e,{name:"Popup",isRtl:o.support.isRtl(e.anchor)})),i.div=s,i.value(e.value)};W.prototype={_calendar:function(){var e,n=this,r=n.calendar,s=n.options;r||(e=t(u).attr(A,o.guid()).appendTo(n.popup.element).on(D,i).on(g,"td:has(.k-link)",H(n._click,n)),n.calendar=r=new a.Calendar(e),n._setOptions(s),o.calendar.makeUnselectable(r.element),r.navigate(n._value||n._current,s.start),n.value(n._value))},_setOptions:function(t){this.calendar.setOptions({focusOnNav:!1,change:t.change,culture:t.culture,dates:t.dates,depth:t.depth,footer:t.footer,format:t.format,max:t.max,min:t.min,month:t.month,start:t.start})},setOptions:function(t){var e=this.options;this.options=V(e,t,{change:e.change,close:e.close,open:e.open}),this.calendar&&this._setOptions(this.options)},destroy:function(){this.popup.destroy()},open:function(){var t=this;t._calendar(),t.popup.open()},close:function(){this.popup.close()},min:function(t){this._option(P,t)},max:function(t){this._option(M,t)},toggle:function(){var t=this;t[t.popup.visible()?v:m]()},move:function(t){var n=this,i=t.keyCode,r=n.calendar,o=t.ctrlKey&&i==c.DOWN||i==c.ENTER;if(i==c.ESC)return n.close(),e;if(t.altKey)return i==c.DOWN?(n.open(),t.preventDefault()):i==c.UP&&(n.close(),t.preventDefault()),e;if(n.popup.visible())return o&&r._cell.hasClass(k)?(n.close(),t.preventDefault(),e):(n._current=r._move(t),e)},current:function(t){this._current=t,this.calendar._focus(t)},value:function(t){var e=this,n=e.calendar,i=e.options;e._value=t,e._current=new U(+O(t,i.min,i.max)),n&&n.value(t)},_click:function(t){-1!==t.currentTarget.className.indexOf(k)&&this.close()},_option:function(t,e){var n=this,i=n.calendar;n.options[t]=e,i&&i[t](e)}},W.normalize=n,o.DateView=W,r=s.extend({init:function(t,e){var i,r,a=this;s.fn.init.call(a,t,e),t=a.element,e=a.options,e.min=l(t.attr("min"))||l(e.min),e.max=l(t.attr("max"))||l(e.max),n(e),a._wrapper(),a.dateView=new W(V({},e,{id:t.attr(A),anchor:a.wrapper,change:function(){a._change(this.value()),a.close()},close:function(e){a.trigger(v)?e.preventDefault():(t.attr(L,!1),r.attr(B,!0))},open:function(e){var n,i=a.options;a.trigger(m)?e.preventDefault():(a.element.val()!==a._oldText&&(n=l(t.val(),i.parseFormats,i.culture),a.dateView[n?"current":"value"](n)),t.attr(L,!0),r.attr(B,!1),a._updateARIA(n))}})),r=a.dateView.div,a._icon();try{t[0].setAttribute("type","text")}catch(c){t[0].type="text"}t.addClass("k-input").attr({role:"combobox","aria-expanded":!1,"aria-owns":a.dateView._dateViewID}),a._reset(),a._template(),i=t.is("[disabled]"),i?a.enable(!1):a.readonly(t.is("[readonly]")),a._old=a._update(e.value||a.element.val()),a._oldText=t.val(),o.notify(a)},events:[m,v,y],options:{name:"DatePicker",value:null,footer:"",format:"",culture:"",parseFormats:[],min:new Date(1900,0,1),max:new Date(2099,11,31),start:E,depth:E,animation:{},month:{},dates:[],ARIATemplate:'Current focused date is #=kendo.toString(data.current, "D")#'},setOptions:function(t){var e=this,i=e._value;s.fn.setOptions.call(e,t),t=e.options,t.min=l(t.min),t.max=l(t.max),n(t),e.dateView.setOptions(t),i&&(e.element.val(o.toString(i,t.format,t.culture)),e._updateARIA(i))},_editable:function(t){var e=this,n=e._dateIcon.off(p),r=e.element.off(p),o=e._inputWrapper.off(p),a=t.readonly,s=t.disable;a||s?(o.addClass(s?C:x).removeClass(s?x:C),r.attr(_,s).attr(w,a).attr(I,s).attr(z,a)):(o.addClass(x).removeClass(C).on(T,e._toggleHover),r.removeAttr(_).removeAttr(w).attr(I,!1).attr(z,!1).on("keydown"+p,H(e._keydown,e)).on("focusout"+p,H(e._blur,e)).on("focus"+p,function(){e._inputWrapper.addClass(b)}),n.on(g,H(e._click,e)).on(D,i))},readonly:function(t){this._editable({readonly:t===e?!0:t,disable:!1})},enable:function(t){this._editable({readonly:!1,disable:!(t=t===e?!0:t)})},destroy:function(){var t=this;s.fn.destroy.call(t),t.dateView.destroy(),t.element.off(p),t._dateIcon.off(p),t._inputWrapper.off(p),t._form&&t._form.off("reset",t._resetHandler)},open:function(){this.dateView.open()},close:function(){this.dateView.close()},min:function(t){return this._option(P,t)},max:function(t){return this._option(M,t)},value:function(t){var n=this;return t===e?n._value:(n._old=n._update(t),null===n._old&&n.element.val(""),n._oldText=n.element.val(),e)},_toggleHover:function(e){t(e.currentTarget).toggleClass(S,"mouseenter"===e.type)},_blur:function(){var t=this,e=t.element.val();t.close(),e!==t._oldText&&t._change(e),t._inputWrapper.removeClass(b)},_click:function(){var t=this,e=t.element;t.dateView.toggle(),o.support.touch||e[0]===d()||e.focus()},_change:function(t){var e=this;t=e._update(t),+e._old!=+t&&(e._old=t,e._oldText=e.element.val(),e.element.trigger(y),e.trigger(y))},_keydown:function(t){var e=this,n=e.dateView,i=e.element.val();n.popup.visible()||t.keyCode!=c.ENTER||i===e._oldText?(n.move(t),e._updateARIA(n._current)):e._change(i)},_icon:function(){var e,n=this,i=n.element;e=i.next("span.k-select"),e[0]||(e=t('<span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-calendar">select</span></span>').insertAfter(i)),n._dateIcon=e.attr({role:"button","aria-controls":n.dateView._dateViewID})},_option:function(t,n){var i=this,r=i.options;return n===e?r[t]:(n=l(n,r.parseFormats,r.culture),n&&(r[t]=new U(+n),i.dateView[t](n)),e)},_update:function(t){var e,n=this,i=n.options,r=i.min,a=i.max,s=n._value,c=l(t,i.parseFormats,i.culture),h=null===c&&null===s||c instanceof Date&&s instanceof Date;return+c===+s&&h?(e=o.toString(c,i.format,i.culture),e!==t&&n.element.val(null===c?t:e),c):(null!==c&&N(c,r)?c=O(c,r,a):R(c,r,a)||(c=null),n._value=c,n.dateView.value(c),n.element.val(c?o.toString(c,i.format,i.culture):t),n._updateARIA(c),c)},_wrapper:function(){var e,n=this,i=n.element;e=i.parents(".k-datepicker"),e[0]||(e=i.wrap(f).parent().addClass("k-picker-wrap k-state-default"),e=e.wrap(f).parent()),e[0].style.cssText=i[0].style.cssText,i.css({width:"100%",height:i[0].style.height}),n.wrapper=e.addClass("k-widget k-datepicker k-header").addClass(i[0].className),n._inputWrapper=t(e[0].firstChild)},_reset:function(){var e=this,n=e.element,i=n.attr("form"),r=i?t("#"+i):n.closest("form");r[0]&&(e._resetHandler=function(){e.value(n[0].defaultValue)},e._form=r.on("reset",e._resetHandler))},_template:function(){this._ariaTemplate=h(this.options.ARIATemplate)},_updateARIA:function(t){var e,n=this,i=n.dateView.calendar;n.element.removeAttr("aria-activedescendant"),i&&(e=i._cell,e.attr("aria-label",n._ariaTemplate({current:t||i.current()})),n.element.attr("aria-activedescendant",e.attr("id")))}}),a.plugin(r)}(window.kendo.jQuery),function(t,e){function n(t,e){return'<span unselectable="on" class="k-link"><span unselectable="on" class="k-icon k-i-arrow-'+t+'" title="'+e+'">'+e+"</span></span>"}var i=window.kendo,r=i.caret,o=i.keys,a=i.ui,s=a.Widget,l=i._activeElement,c=i._extractFormat,h=i.parseFloat,d=i.support.placeholder,u=i.getCulture,f=i._round,p="change",g="disabled",m="readonly",v="k-input",y="spin",_=".kendoNumericTextBox",w="touchend",x="mouseleave"+_,b="mouseenter"+_+" "+x,k="k-state-default",C="k-state-focused",S="k-state-hover",T="focus",D=".",A="k-state-selected",P="k-state-disabled",M="aria-disabled",E="aria-readonly",I=/^(-)?(\d*)$/,L=null,B=t.proxy,z=s.extend({init:function(t,n){var r,o,a,l,h,d=this,u=n&&n.step!==e;s.fn.init.call(d,t,n),n=d.options,t=d.element.on("focusout"+_,B(d._focusout,d)).attr("role","spinbutton"),n.placeholder=n.placeholder||t.attr("placeholder"),d._reset(),d._wrapper(),d._arrows(),d._input(),i.support.mobileOS?d._text.on(w+_+" "+T+_,function(e){d._toggleText(!1),e.type===T&&t.focus()}):d._text.on(T+_,B(d._click,d)),r=d.min(t.attr("min")),o=d.max(t.attr("max")),a=d._parse(t.attr("step")),n.min===L&&r!==L&&(n.min=r),n.max===L&&o!==L&&(n.max=o),u||a===L||(n.step=a),t.attr("aria-valuemin",n.min).attr("aria-valuemax",n.max),n.format=c(n.format),l=n.value,d.value(l!==L?l:t.val()),h=t.is("[disabled]"),h?d.enable(!1):d.readonly(t.is("[readonly]")),i.notify(d)},options:{name:"NumericTextBox",decimals:L,min:L,max:L,value:L,step:1,culture:"",format:"n",spinners:!0,placeholder:"",upArrowText:"Increase value",downArrowText:"Decrease value"},events:[p,y],_editable:function(t){var e=this,n=e.element,i=t.disable,r=t.readonly,o=e._text.add(n),a=e._inputWrapper.off(b);e._toggleText(!0),e._upArrowEventHandler.unbind("press"),e._downArrowEventHandler.unbind("press"),n.off("keydown"+_).off("keypress"+_).off("paste"+_),r||i?(a.addClass(i?P:k).removeClass(i?k:P),o.attr(g,i).attr(m,r).attr(M,i).attr(E,r)):(a.addClass(k).removeClass(P).on(b,e._toggleHover),o.removeAttr(g).removeAttr(m).attr(M,!1).attr(E,!1),e._upArrowEventHandler.bind("press",function(t){t.preventDefault(),e._spin(1),e._upArrow.addClass(A)}),e._downArrowEventHandler.bind("press",function(t){t.preventDefault(),e._spin(-1),e._downArrow.addClass(A)}),e.element.on("keydown"+_,B(e._keydown,e)).on("keypress"+_,B(e._keypress,e)).on("paste"+_,B(e._paste,e)))},readonly:function(t){this._editable({readonly:t===e?!0:t,disable:!1})},enable:function(t){this._editable({readonly:!1,disable:!(t=t===e?!0:t)})},destroy:function(){var t=this;t.element.add(t._text).add(t._upArrow).add(t._downArrow).add(t._inputWrapper).off(_),t._upArrowEventHandler.destroy(),t._downArrowEventHandler.destroy(),t._form&&t._form.off("reset",t._resetHandler),s.fn.destroy.call(t)},min:function(t){return this._option("min",t)},max:function(t){return this._option("max",t)},step:function(t){return this._option("step",t)},value:function(t){var n,i=this;return t===e?i._value:(t=i._parse(t),n=i._adjust(t),t===n&&(i._update(t),i._old=i._value),e)},focus:function(){this._focusin()},_adjust:function(t){var e=this,n=e.options,i=n.min,r=n.max;return t===L?t:(i!==L&&i>t?t=i:r!==L&&t>r&&(t=r),t)},_arrows:function(){var e,r=this,o=function(){clearTimeout(r._spinning),e.removeClass(A)},a=r.options,s=a.spinners,l=r.element;e=l.siblings(".k-icon"),e[0]||(e=t(n("n",a.upArrowText)+n("s",a.downArrowText)).insertAfter(l),e.wrapAll('<span class="k-select"/>')),s||(e.parent().toggle(s),r._inputWrapper.addClass("k-expand-padding")),r._upArrow=e.eq(0),r._upArrowEventHandler=new i.UserEvents(r._upArrow,{release:o}),r._downArrow=e.eq(1),r._downArrowEventHandler=new i.UserEvents(r._downArrow,{release:o})},_blur:function(){var t=this;t._toggleText(!0),t._change(t.element.val())},_click:function(t){var e=this;clearTimeout(e._focusing),e._focusing=setTimeout(function(){var n,i,o,a=t.target,s=r(a)[0],l=a.value.substring(0,s),c=e._format(e.options.format),h=c[","],d=0;h&&(i=RegExp("\\"+h,"g"),o=RegExp("([\\d\\"+h+"]+)(\\"+c[D]+")?(\\d+)?")),o&&(n=o.exec(l)),n&&(d=n[0].replace(i,"").length,-1!=l.indexOf("(")&&0>e._value&&d++),e._focusin(),r(e.element[0],d)})},_change:function(t){var e=this;e._update(t),t=e._value,e._old!=t&&(e._old=t,e.element.trigger(p),e.trigger(p))},_culture:function(t){return t||u(this.options.culture)},_focusin:function(){var t=this;t._inputWrapper.addClass(C),t._toggleText(!1),t.element[0].focus()},_focusout:function(){var t=this;clearTimeout(t._focusing),t._inputWrapper.removeClass(C).removeClass(S),t._blur()},_format:function(t,e){var n=this._culture(e).numberFormat;return t=t.toLowerCase(),t.indexOf("c")>-1?n=n.currency:t.indexOf("p")>-1&&(n=n.percent),n},_input:function(){var e,n=this,i="k-formatted-value",r=n.element.addClass(v).show()[0],o=r.accessKey,a=n.wrapper;e=a.find(D+i),e[0]||(e=t('<input type="text"/>').insertBefore(r).addClass(i));try{r.setAttribute("type","text")}catch(s){r.type="text"}e[0].tabIndex=r.tabIndex,e[0].style.cssText=r.style.cssText,e.prop("placeholder",n.options.placeholder),o&&(e.attr("accesskey",o),r.accessKey=""),n._text=e.addClass(r.className)},_keydown:function(t){var e=this,n=t.keyCode;e._key=n,n==o.DOWN?e._step(-1):n==o.UP?e._step(1):n==o.ENTER&&e._change(e.element.val())},_keypress:function(t){var e,n,i,a,s,l,c,h,d,u,f;0===t.which||t.ctrlKey||t.keyCode===o.BACKSPACE||t.keyCode===o.ENTER||(e=this,n=e.options.min,i=e.element,a=r(i),s=a[0],l=a[1],c=String.fromCharCode(t.which),h=e._format(e.options.format),d=e._key===o.NUMPAD_DOT,u=i.val(),d&&(c=h[D]),u=u.substring(0,s)+c+u.substring(l),f=e._numericRegex(h).test(u),f&&d?(i.val(u),r(i,s+c.length),t.preventDefault()):(null!==n&&n>=0&&"-"===u.charAt(0)||!f)&&t.preventDefault(),e._key=0)},_numericRegex:function(t){var e=this,n=t[D],i=e.options.decimals;return n===D&&(n="\\"+n),i===L&&(i=t.decimals),0===i?I:(e._separator!==n&&(e._separator=n,e._floatRegExp=RegExp("^(-)?(((\\d+("+n+"\\d*)?)|("+n+"\\d*)))?$")),e._floatRegExp)},_paste:function(t){var e=this,n=t.target,i=n.value;setTimeout(function(){e._parse(n.value)===L&&e._update(i)})},_option:function(t,n){var i=this,r=i.options;return n===e?r[t]:(n=i._parse(n),(n||"step"!==t)&&(r[t]=n,i.element.attr("aria-value"+t,n).attr(t,n)),e)},_spin:function(t,e){var n=this;e=e||500,clearTimeout(n._spinning),n._spinning=setTimeout(function(){n._spin(t,50)},e),n._step(t)},_step:function(t){var e=this,n=e.element,i=e._parse(n.val())||0;l()!=n[0]&&e._focusin(),i+=e.options.step*t,e._update(e._adjust(i)),e.trigger(y)},_toggleHover:function(e){t(e.currentTarget).toggleClass(S,"mouseenter"===e.type)},_toggleText:function(t){var e=this;e._text.toggle(t),e.element.toggle(!t)},_parse:function(t,e){return h(t,this._culture(e),this.options.format)},_update:function(t){var e,n=this,r=n.options,o=r.format,a=r.decimals,s=n._culture(),l=n._format(o,s);a===L&&(a=l.decimals),t=n._parse(t,s),e=t!==L,e&&(t=parseFloat(f(t,a))),n._value=t=n._adjust(t),n._placeholder(i.toString(t,o,s)),e?(t=""+t,-1!==t.indexOf("e")&&(t=f(+t,a)),t=t.replace(D,l[D])):t="",n.element.val(t).attr("aria-valuenow",t)},_placeholder:function(t){this._text.val(t),d||t||this._text.val(this.options.placeholder)},_wrapper:function(){var e,n=this,i=n.element,r=i[0];e=i.parents(".k-numerictextbox"),e.is("span.k-numerictextbox")||(e=i.hide().wrap('<span class="k-numeric-wrap k-state-default" />').parent(),e=e.wrap("<span/>").parent()),e[0].style.cssText=r.style.cssText,r.style.width="",n.wrapper=e.addClass("k-widget k-numerictextbox").addClass(r.className).css("display",""),n._inputWrapper=t(e[0].firstChild)},_reset:function(){var e=this,n=e.element,i=n.attr("form"),r=i?t("#"+i):n.closest("form");r[0]&&(e._resetHandler=function(){setTimeout(function(){e.value(n[0].value)})},e._form=r.on("reset",e._resetHandler))}});a.plugin(z)}(window.kendo.jQuery),function(t){function e(e){var n,i=s.ui.validator.ruleResolvers||{},r={};for(n in i)t.extend(!0,r,i[n].resolve(e));return r}function n(t){return t.replace(/&amp/g,"&amp;").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">")}function i(t){return t=(t+"").split("."),t.length>1?t[1].length:0}function r(e){return t(t.parseHTML?t.parseHTML(e):e)}function o(e,n){var i,r,o,a,l=t();for(o=0,a=e.length;a>o;o++)i=e[o],d.test(i.className)&&(r=i.getAttribute(s.attr("for")),r===n&&(l=l.add(i)));return l}var a,s=window.kendo,l=s.ui.Widget,c=".kendoValidator",h="k-invalid-msg",d=RegExp(h,"i"),u="k-invalid",f=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,p=/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,g=":input:not(:button,[type=submit],[type=reset],[disabled],[readonly])",m=":checkbox:not([disabled],[readonly])",v="[type=number],[type=range]",y="blur",_="name",w="form",x="novalidate",b=t.proxy,k=function(t,e){return"string"==typeof e&&(e=RegExp("^(?:"+e+")$")),e.test(t)},C=function(t,e,n){var i=t.val();return t.filter(e).length&&""!==i?k(i,n):!0},S=function(t,e){return t.length?null!=t[0].attributes[e]:!1};s.ui.validator||(s.ui.validator={rules:{},messages:{}}),a=l.extend({init:function(n,i){var r=this,o=e(n),a="["+s.attr("validate")+"!=false]";i=i||{},i.rules=t.extend({},s.ui.validator.rules,o.rules,i.rules),i.messages=t.extend({},s.ui.validator.messages,o.messages,i.messages),l.fn.init.call(r,n,i),r._errorTemplate=s.template(r.options.errorTemplate),r.element.is(w)&&r.element.attr(x,x),r._inputSelector=g+a,r._checkboxSelector=m+a,r._errors={},r._attachEvents(),r._isValidated=!1},events:["validate","change"],options:{name:"Validator",errorTemplate:'<span class="k-widget k-tooltip k-tooltip-validation"><span class="k-icon k-warning"> </span> #=message#</span>',messages:{required:"{0} is required",pattern:"{0} is not valid",min:"{0} should be greater than or equal to {1}",max:"{0} should be smaller than or equal to {1}",step:"{0} is not valid",email:"{0} is not valid email",url:"{0} is not valid URL",date:"{0} is not valid date"},rules:{required:function(t){var e=t.filter("[type=checkbox]").length&&!t.is(":checked"),n=t.val();return!(S(t,"required")&&(""===n||!n||e))},pattern:function(t){return t.filter("[type=text],[type=email],[type=url],[type=tel],[type=search],[type=password]").filter("[pattern]").length&&""!==t.val()?k(t.val(),t.attr("pattern")):!0},min:function(t){if(t.filter(v+",["+s.attr("type")+"=number]").filter("[min]").length&&""!==t.val()){var e=parseFloat(t.attr("min"))||0,n=s.parseFloat(t.val());return n>=e}return!0},max:function(t){if(t.filter(v+",["+s.attr("type")+"=number]").filter("[max]").length&&""!==t.val()){var e=parseFloat(t.attr("max"))||0,n=s.parseFloat(t.val());return e>=n}return!0},step:function(t){if(t.filter(v+",["+s.attr("type")+"=number]").filter("[step]").length&&""!==t.val()){var e,n=parseFloat(t.attr("min"))||0,r=parseFloat(t.attr("step"))||1,o=parseFloat(t.val()),a=i(r);return a?(e=Math.pow(10,a),(o-n)*e%(r*e)/Math.pow(100,a)===0):(o-n)%r===0}return!0},email:function(t){return C(t,"[type=email],["+s.attr("type")+"=email]",f)},url:function(t){return C(t,"[type=url],["+s.attr("type")+"=url]",p)},date:function(t){return t.filter("[type^=date],["+s.attr("type")+"=date]").length&&""!==t.val()?null!==s.parseDate(t.val(),t.attr(s.attr("format"))):!0}},validateOnBlur:!0},destroy:function(){l.fn.destroy.call(this),this.element.off(c)},value:function(){return this._isValidated?0===this.errors().length:!1},_submit:function(t){return this.validate()?!0:(t.stopPropagation(),t.stopImmediatePropagation(),t.preventDefault(),!1)},_checkElement:function(t){var e=this.value();this.validateInput(t),this.value()!==e&&this.trigger("change")},_attachEvents:function(){var e=this;e.element.is(w)&&e.element.on("submit"+c,b(e._submit,e)),e.options.validateOnBlur&&(e.element.is(g)?(e.element.on(y+c,function(){e._checkElement(e.element)}),e.element.is(m)&&e.element.on("click"+c,function(){e._checkElement(e.element)})):(e.element.on(y+c,e._inputSelector,function(){e._checkElement(t(this))}),e.element.on("click"+c,e._checkboxSelector,function(){e._checkElement(t(this))})))},validate:function(){var t,e,n,i,r=!1,o=this.value();if(this._errors={},this.element.is(g))r=this.validateInput(this.element);else{for(i=!1,t=this.element.find(this._inputSelector),e=0,n=t.length;n>e;e++)this.validateInput(t.eq(e))||(i=!0);r=!i}return this.trigger("validate",{valid:r}),o!==r&&this.trigger("change"),r},validateInput:function(e){var i,o,a,s,l,c,d,f,p;return e=t(e),this._isValidated=!0,i=this,o=i._errorTemplate,a=i._checkValidity(e),s=a.valid,l="."+h,c=e.attr(_)||"",d=i._findMessageContainer(c).add(e.next(l)).hide(),e.removeAttr("aria-invalid"),s?delete i._errors[c]:(f=i._extractMessage(e,a.key),i._errors[c]=f,p=r(o({message:n(f)})),i._decorateMessageContainer(p,c),d.replaceWith(p).length||p.insertAfter(e),p.show(),e.attr("aria-invalid",!0)),e.toggleClass(u,!s),s},hideMessages:function(){var t=this,e="."+h,n=t.element;n.is(g)?n.next(e).hide():n.find(e).hide()},_findMessageContainer:function(e){var n,i,r,a=s.ui.validator.messageLocators,l=t();for(i=0,r=this.element.length;r>i;i++)l=l.add(o(this.element[i].getElementsByTagName("*"),e));for(n in a)l=l.add(a[n].locate(this.element,e));return l},_decorateMessageContainer:function(t,e){var n,i=s.ui.validator.messageLocators;t.addClass(h).attr(s.attr("for"),e||"");for(n in i)i[n].decorate(t,e);t.attr("role","alert")},_extractMessage:function(t,e){var n=this,i=n.options.messages[e],r=t.attr(_);return i=s.isFunction(i)?i(t):i,s.format(t.attr(s.attr(e+"-msg"))||t.attr("validationMessage")||t.attr("title")||i||"",r,t.attr(e))},_checkValidity:function(t){var e,n=this.options.rules;for(e in n)if(!n[e].call(this,t))return{valid:!1,key:e};return{valid:!0}},errors:function(){var t,e=[],n=this._errors;for(t in n)e.push(n[t]);return e}}),s.ui.plugin(a)}(window.kendo.jQuery),function(t,e){function n(e){return e=null!=e?e:"",e.type||t.type(e)||"string"}function i(e){e.find(":input:not(:button, ["+s.attr("role")+"=upload], ["+s.attr("skip")+"], [type=file]), select").each(function(){var e=s.attr("bind"),n=this.getAttribute(e)||"",i="checkbox"===this.type||"radio"===this.type?"checked:":"value:",r=this.name;-1===n.indexOf(i)&&r&&(n+=(n.length?",":"")+i+r,t(this).attr(e,n))})}function r(t){var e,i,r=(t.model.fields||t.model)[t.field],o=n(r),a=r?r.validation:{},l=s.attr("type"),c=s.attr("bind"),h={name:t.field};for(e in a)i=a[e],p(e,y)>=0?h[l]=e:u(i)||(h[e]=f(i)?i.value||e:i),h[s.attr(e+"-msg")]=i.message;return p(o,y)>=0&&(h[l]=o),h[c]=("boolean"===o?"checked:":"value:")+t.field,h}function o(t){var e,n,i,r,o,a;if(t&&t.length)for(a=[],e=0,n=t.length;n>e;e++)i=t[e],o=i.text||i.value||i,r=null==i.value?i.text||i:i.value,a[e]={text:o,value:r};return a}function a(t,e){var n,i,r=t?t.validation||{}:{};for(n in r)i=r[n],f(i)&&i.value&&(i=i.value),u(i)&&(e[n]=i)}var s=window.kendo,l=s.ui,c=l.Widget,h=t.extend,d=s.support.browser.msie&&9>s.support.browser.version,u=s.isFunction,f=t.isPlainObject,p=t.inArray,g=/("|\%|'|\[|\]|\$|\.|\,|\:|\;|\+|\*|\&|\!|\#|\(|\)|<|>|\=|\?|\@|\^|\{|\}|\~|\/|\||`)/g,m='<div class="k-widget k-tooltip k-tooltip-validation" style="margin:0.5em"><span class="k-icon k-warning"> </span>#=message#<div class="k-callout k-callout-n"></div></div>',v="change",y=["url","email","number","date","boolean"],_={number:function(e,n){var i=r(n);t('<input type="text"/>').attr(i).appendTo(e).kendoNumericTextBox({format:n.format}),t("<span "+s.attr("for")+'="'+n.field+'" class="k-invalid-msg"/>').hide().appendTo(e)},date:function(e,n){var i=r(n),o=n.format;o&&(o=s._extractFormat(o)),i[s.attr("format")]=o,t('<input type="text"/>').attr(i).appendTo(e).kendoDatePicker({format:n.format}),t("<span "+s.attr("for")+'="'+n.field+'" class="k-invalid-msg"/>').hide().appendTo(e)},string:function(e,n){var i=r(n);t('<input type="text" class="k-input k-textbox"/>').attr(i).appendTo(e)},"boolean":function(e,n){var i=r(n);t('<input type="checkbox" />').attr(i).appendTo(e)},values:function(e,n){var i=r(n);t("<select "+s.attr("text-field")+'="text"'+s.attr("value-field")+'="value"'+s.attr("source")+"='"+s.stringify(o(n.values)).replace(/\'/g,"&apos;")+"'"+s.attr("role")+'="dropdownlist"/>').attr(i).appendTo(e),t("<span "+s.attr("for")+'="'+n.field+'" class="k-invalid-msg"/>').hide().appendTo(e)}},w=c.extend({init:function(e,n){var i=this;n.target&&(n.$angular=n.target.options.$angular),c.fn.init.call(i,e,n),i._validateProxy=t.proxy(i._validate,i),i.refresh()},events:[v],options:{name:"Editable",editors:_,clearContainer:!0,errorTemplate:m},editor:function(t,e){var i=this,r=i.options.editors,o=f(t),a=o?t.field:t,l=i.options.model||{},c=o&&t.values,d=c?"values":n(e),u=o&&t.editor,p=u?t.editor:r[d],m=i.element.find("["+s.attr("container-for")+"="+a.replace(g,"\\$1")+"]");p=p?p:r.string,u&&"string"==typeof t.editor&&(p=function(e){e.append(t.editor)}),m=m.length?m:i.element,p(m,h(!0,{},o?t:{field:a},{model:l}))},_validate:function(e){var n,i=this,r=e.value,o=i._validationEventInProgress,a={},l=s.attr("bind"),c=e.field.replace(g,"\\$1"),h="checked:"+c,d="value:"+c;a[e.field]=e.value,n=t(":input["+l+'*="'+d+'"],:input['+l+'*="'+h+'"]',i.element).filter("["+s.attr("validate")+"!='false']"),n.length>1&&(n=n.filter(function(){var e=t(this),n=e.attr(l).split(","),i=p(d,n)>=0||p(h,n)>=0;
return i&&(!e.is(":radio")||e.val()==r)}));try{i._validationEventInProgress=!0,(!i.validatable.validateInput(n)||!o&&i.trigger(v,{values:a}))&&e.preventDefault()}finally{i._validationEventInProgress=!1}},end:function(){return this.validatable.validate()},destroy:function(){var t=this;t.angular("cleanup",function(){return{elements:t.element}}),c.fn.destroy.call(t),t.options.model.unbind("set",t._validateProxy),s.unbind(t.element),t.validatable&&t.validatable.destroy(),s.destroy(t.element),t.element.removeData("kendoValidator")},refresh:function(){var n,r,o,l,c,h,u,p,g=this,m=g.options.fields||[],v=g.options.clearContainer?g.element.empty():g.element,y=g.options.model||{},_={};for(t.isArray(m)||(m=[m]),n=0,r=m.length;r>n;n++)o=m[n],l=f(o),c=l?o.field:o,h=(y.fields||y)[c],a(h,_),g.editor(o,h);if(g.options.target&&g.angular("compile",function(){return{elements:v,data:[{dataItem:y}]}}),!r){u=y.fields||y;for(c in u)a(u[c],_)}i(v),g.validatable&&g.validatable.destroy(),s.bind(v,g.options.model),g.options.model.unbind("set",g._validateProxy),g.options.model.bind("set",g._validateProxy),g.validatable=new s.ui.Validator(v,{validateOnBlur:!1,errorTemplate:g.options.errorTemplate||e,rules:_}),p=v.find(":kendoFocusable").eq(0).focus(),d&&p.focus()}});l.plugin(w)}(window.kendo.jQuery),function(t,e){function n(t){return e!==t}function i(t,e,n){return Math.max(Math.min(parseInt(t,10),1/0===n?n:parseInt(n,10)),parseInt(e,10))}function r(t,e){return function(){var n=this,i=n.wrapper,r=i[0].style,o=n.options;if(!o.isMaximized&&!o.isMinimized)return n.restoreOptions={width:r.width,height:r.height},i.children(k).hide().end().children(x).find(G).parent().hide().eq(0).before(J.action({name:"Restore"})),e.call(n),"maximize"==t?n.wrapper.children(x).find(Y).parent().hide():n.wrapper.children(x).find(Y).parent().show(),n}}function o(){return!this.type||this.type.toLowerCase().indexOf("script")>=0}function a(t){var e=this;e.owner=t,e._draggable=new h(t.wrapper,{filter:">"+k,group:t.wrapper.id+"-resizing",dragstart:f(e.dragstart,e),drag:f(e.drag,e),dragend:f(e.dragend,e)}),e._draggable.userEvents.bind("press",f(e.addOverlay,e)),e._draggable.userEvents.bind("release",f(e.removeOverlay,e))}function s(t,e){var n=this;n.owner=t,n._draggable=new h(t.wrapper,{filter:e,group:t.wrapper.id+"-moving",dragstart:f(n.dragstart,n),drag:f(n.drag,n),dragend:f(n.dragend,n),dragcancel:f(n.dragcancel,n)}),n._draggable.userEvents.stopPropagation=!1}var l=window.kendo,c=l.ui.Widget,h=l.ui.Draggable,d=t.isPlainObject,u=l._activeElement,f=t.proxy,p=t.extend,g=t.each,m=l.template,v="body",y=".kendoWindow",_=".k-window",w=".k-window-title",x=w+"bar",b=".k-window-content",k=".k-resize-handle",C=".k-overlay",S="k-content-frame",T="k-loading",D="k-state-hover",A="k-state-focused",P="k-window-maximized",M=":visible",E="hidden",I="cursor",L="open",B="activate",z="deactivate",F="close",R="refresh",O="resize",N="resizeEnd",V="dragstart",H="dragend",U="error",W="overflow",j="zIndex",G=".k-window-actions .k-i-minimize,.k-window-actions .k-i-maximize",q=".k-i-pin",$=".k-i-unpin",Y=q+","+$,X=".k-window-titlebar .k-window-action",Q=".k-window-titlebar .k-i-refresh",K=l.isLocalUrl,Z=c.extend({init:function(i,r){var a,s,h,u,p,g,m,v=this,k={},C=!1,S=r&&r.actions&&!r.actions.length;c.fn.init.call(v,i,r),r=v.options,u=r.position,i=v.element,p=r.content,S&&(r.actions=[]),v.appendTo=t(r.appendTo),v._animations(),p&&!d(p)&&(p=r.content={url:p}),i.find("script").filter(o).remove(),i.parent().is(v.appendTo)||u.top!==e&&u.left!==e||(i.is(M)?(k=i.offset(),C=!0):(s=i.css("visibility"),h=i.css("display"),i.css({visibility:E,display:""}),k=i.offset(),i.css({visibility:s,display:h})),u.top===e&&(u.top=k.top),u.left===e&&(u.left=k.left)),n(r.visible)&&null!==r.visible||(r.visible=i.is(M)),a=v.wrapper=i.closest(_),i.is(".k-content")&&a[0]||(i.addClass("k-window-content k-content"),v._createWindow(i,r),a=v.wrapper=i.closest(_),v._dimensions()),v._position(),r.pinned&&v.pin(!0),p&&v.refresh(p),r.visible&&v.toFront(),g=a.children(b),v._tabindex(g),r.visible&&r.modal&&v._overlay(a.is(M)).css({opacity:.5}),a.on("mouseenter"+y,X,f(v._buttonEnter,v)).on("mouseleave"+y,X,f(v._buttonLeave,v)).on("click"+y,"> "+X,f(v._windowActionHandler,v)),g.on("keydown"+y,f(v._keydown,v)).on("focus"+y,f(v._focus,v)).on("blur"+y,f(v._blur,v)),this._resizable(),this._draggable(),m=i.attr("id"),m&&(m+="_wnd_title",a.children(x).children(w).attr("id",m),g.attr({role:"dialog","aria-labelledby":m})),a.add(a.children(".k-resize-handle,"+x)).on("mousedown"+y,f(v.toFront,v)),v.touchScroller=l.touchScroller(i),v._resizeHandler=f(v._onDocumentResize,v),v._marker=l.guid().substring(0,8),t(window).on("resize"+y+v._marker,v._resizeHandler),r.visible&&(v.trigger(L),v.trigger(B)),l.notify(v)},_buttonEnter:function(e){t(e.currentTarget).addClass(D)},_buttonLeave:function(e){t(e.currentTarget).removeClass(D)},_focus:function(){this.wrapper.addClass(A)},_blur:function(){this.wrapper.removeClass(A)},_dimensions:function(){var t,e,n=this.wrapper,r=this.options,o=r.width,a=r.height,s=r.maxHeight,l=["minWidth","minHeight","maxWidth","maxHeight"];for(this.title(r.title),t=0;l.length>t;t++)e=r[l[t]],e&&1/0!=e&&n.css(l[t],e);s&&1/0!=s&&this.element.css("maxHeight",s),o&&n.width((""+o).indexOf("%")>0?o:i(o,r.minWidth,r.maxWidth)),a&&n.height((""+a).indexOf("%")>0?a:i(a,r.minHeight,r.maxHeight)),r.visible||n.hide()},_position:function(){var t=this.wrapper,e=this.options.position;0===e.top&&(e.top=""+e.top),0===e.left&&(e.left=""+e.left),t.css({top:e.top||"",left:e.left||""})},_animations:function(){var t=this.options;t.animation===!1&&(t.animation={open:{effects:{}},close:{hide:!0,effects:{}}})},_resize:function(){l.resize(this.element.children())},_resizable:function(){var e=this.options.resizable,n=this.wrapper;this.resizing&&(n.off("dblclick"+y).children(k).remove(),this.resizing.destroy(),this.resizing=null),e&&(n.on("dblclick"+y,x,f(function(e){t(e.target).closest(".k-window-action").length||this.toggleMaximization()},this)),g("n e s w se sw ne nw".split(" "),function(t,e){n.append(J.resizeHandle(e))}),this.resizing=new a(this)),n=null},_draggable:function(){var t=this.options.draggable;this.dragging&&(this.dragging.destroy(),this.dragging=null),t&&(this.dragging=new s(this,t.dragHandle||x))},_actions:function(){var e=this.options.actions,n=this.wrapper.children(x),i=n.find(".k-window-actions");e=t.map(e,function(t){return{name:t}}),i.html(l.render(J.action,e))},setOptions:function(t){c.fn.setOptions.call(this,t),this._animations(),this._dimensions(),this._position(),this._resizable(),this._draggable(),this._actions()},events:[L,B,z,F,R,O,N,V,H,U],options:{name:"Window",animation:{open:{effects:{zoom:{direction:"in"},fade:{direction:"in"}},duration:350},close:{effects:{zoom:{direction:"out",properties:{scale:.7}},fade:{direction:"out"}},duration:350,hide:!0}},title:"",actions:["Close"],autoFocus:!0,modal:!1,resizable:!0,draggable:!0,minWidth:90,minHeight:50,maxWidth:1/0,maxHeight:1/0,pinned:!1,position:{},content:null,visible:null,height:null,width:null,appendTo:"body"},_closable:function(){return t.inArray("close",t.map(this.options.actions,function(t){return t.toLowerCase()}))>-1},_keydown:function(t){var e,n,r,o,a,s,c=this,h=c.options,d=l.keys,u=t.keyCode,f=c.wrapper,p=10,g=c.options.isMaximized;t.target!=t.currentTarget||c._closing||(u==d.ESC&&c._closable()&&c._close(!1),!h.draggable||t.ctrlKey||g||(e=l.getOffset(f),u==d.UP?n=f.css("top",e.top-p):u==d.DOWN?n=f.css("top",e.top+p):u==d.LEFT?n=f.css("left",e.left-p):u==d.RIGHT&&(n=f.css("left",e.left+p))),h.resizable&&t.ctrlKey&&!g&&(u==d.UP?(n=!0,o=f.height()-p):u==d.DOWN&&(n=!0,o=f.height()+p),u==d.LEFT?(n=!0,r=f.width()-p):u==d.RIGHT&&(n=!0,r=f.width()+p),n&&(a=i(r,h.minWidth,h.maxWidth),s=i(o,h.minHeight,h.maxHeight),isNaN(a)||(f.width(a),c.options.width=a+"px"),isNaN(s)||(f.height(s),c.options.height=s+"px"),c.resize())),n&&t.preventDefault())},_overlay:function(e){var n=this.appendTo.children(C),i=this.wrapper;return n.length||(n=t("<div class='k-overlay' />")),n.insertBefore(i[0]).toggle(e).css(j,parseInt(i.css(j),10)-1),n},_actionForIcon:function(t){var e=/\bk-i-\w+\b/.exec(t[0].className)[0];return{"k-i-close":"_close","k-i-maximize":"maximize","k-i-minimize":"minimize","k-i-restore":"restore","k-i-refresh":"refresh","k-i-pin":"pin","k-i-unpin":"unpin"}[e]},_windowActionHandler:function(n){var i,r;if(!this._closing)return i=t(n.target).closest(".k-window-action").find(".k-icon"),r=this._actionForIcon(i),r?(n.preventDefault(),this[r](),!1):e},_modals:function(){var e=this,n=t(_).filter(function(){var n=t(this),i=e._object(n),r=i&&i.options;return r&&r.modal&&r.visible&&n.is(M)}).sort(function(e,n){return+t(e).css("zIndex")-+t(n).css("zIndex")});return e=null,n},_object:function(t){var e=t.children(b);return e.data("kendoWindow")||e.data("kendo"+this.options.name)},center:function(){var e,n,i=this,r=i.options.position,o=i.wrapper,a=t(window),s=0,l=0;return i.options.isMaximized?i:(i.options.pinned||(s=a.scrollTop(),l=a.scrollLeft()),n=l+Math.max(0,(a.width()-o.width())/2),e=s+Math.max(0,(a.height()-o.height()-parseInt(o.css("paddingTop"),10))/2),o.css({left:n,top:e}),r.top=e,r.left=n,i)},title:function(t){var e,n=this,i=n.wrapper,r=n.options,o=i.children(x),a=o.children(w);return arguments.length?(t===!1?(i.addClass("k-window-titleless"),o.remove()):(o.length?a.text(t):(i.prepend(J.titlebar(r)),n._actions(),o=i.children(x)),e=o.outerHeight(),i.css("padding-top",e),o.css("margin-top",-e)),n.options.title=t,n):a.text()},content:function(t,e){var i=this.wrapper.children(b),r=i.children(".km-scroll-container");return i=r[0]?r:i,n(t)?(this.angular("cleanup",function(){return{elements:i.children()}}),l.destroy(this.element.children()),i.empty().html(t),this.angular("compile",function(){var t,n=[];for(t=i.length;--t>=0;)n.push({dataItem:e});return{elements:i.children(),data:n}}),this):i.html()},open:function(){var e,n,i=this,r=i.wrapper,o=i.options,a=o.animation.open,s=r.children(b);return i.trigger(L)||(i._closing&&r.kendoStop(!0,!0),i._closing=!1,i.toFront(),o.autoFocus&&i.element.focus(),o.visible=!0,o.modal&&(e=i._overlay(!1),e.kendoStop(!0,!0),a.duration&&l.effects.Fade?(n=l.fx(e).fadeIn(),n.duration(a.duration||0),n.endValue(.5),n.play()):e.css("opacity",.5),e.show()),r.is(M)||(s.css(W,E),r.show().kendoStop().kendoAnimate({effects:a.effects,duration:a.duration,complete:f(this._activate,this)}))),o.isMaximized&&(i._documentScrollTop=t(document).scrollTop(),t("html, body").css(W,E)),i},_activate:function(){this.options.autoFocus&&this.element.focus(),this.trigger(B),this.wrapper.children(b).css(W,"")},_removeOverlay:function(n){var i,r=this._modals(),o=this.options,a=o.modal&&!r.length,s=o.modal?this._overlay(!0):t(e),c=o.animation.close;a?!n&&c.duration&&l.effects.Fade?(i=l.fx(s).fadeOut(),i.duration(c.duration||0),i.startValue(.5),i.play()):this._overlay(!1).remove():r.length&&this._object(r.last())._overlay(!0)},_close:function(e){var n=this,i=n.wrapper,r=n.options,o=r.animation.open,a=r.animation.close;if(i.is(M)&&!n.trigger(F,{userTriggered:!e})){if(n._closing)return;n._closing=!0,r.visible=!1,t(_).each(function(e,n){var r=t(n).children(b);n!=i&&r.find("> ."+S).length>0&&r.children(C).remove()}),this._removeOverlay(),i.kendoStop().kendoAnimate({effects:a.effects||o.effects,reverse:a.reverse===!0,duration:a.duration,complete:f(this._deactivate,this)})}n.options.isMaximized&&(t("html, body").css(W,""),n._documentScrollTop&&n._documentScrollTop>0&&t(document).scrollTop(n._documentScrollTop))},_deactivate:function(){this.wrapper.hide().css("opacity",""),this.trigger(z);var t=this._object(this._modals().last());t&&t.toFront()},close:function(){return this._close(!0),this},_actionable:function(e){return t(e).is(X+","+X+" .k-icon,:input,a")},_shouldFocus:function(e){var n=u(),i=this.element;return!(!this.options.autoFocus||t(n).is(i)||this._actionable(e)||i.find(n).length&&i.find(e).length)},toFront:function(e){var n,i,r=this,o=r.wrapper,a=o[0],s=+o.css(j),l=s,c=e&&e.target||null;return t(_).each(function(e,n){var i=t(n),r=i.css(j),o=i.children(b);isNaN(r)||(s=Math.max(+r,s)),n!=a&&o.find("> ."+S).length>0&&o.append(J.overlay)}),(!o[0].style.zIndex||s>l)&&o.css(j,s+2),r.element.find("> .k-overlay").remove(),r._shouldFocus(c)&&(r.element.focus(),n=t(window).scrollTop(),i=parseInt(o.position().top,10),i>0&&n>i&&(n>0?t(window).scrollTop(i):o.css("top",n))),o=null,r},toggleMaximization:function(){return this._closing?this:this[this.options.isMaximized?"restore":"maximize"]()},restore:function(){var e=this,n=e.options,i=n.minHeight,r=e.restoreOptions;return n.isMaximized||n.isMinimized?(i&&1/0!=i&&e.wrapper.css("min-height",i),e.wrapper.css({position:n.pinned?"fixed":"absolute",left:r.left,top:r.top,width:r.width,height:r.height}).removeClass(P).find(".k-window-content,.k-resize-handle").show().end().find(".k-window-titlebar .k-i-restore").parent().remove().end().end().find(G).parent().show().end().end().find(Y).parent().show(),e.options.width=r.width,e.options.height=r.height,t("html, body").css(W,""),this._documentScrollTop&&this._documentScrollTop>0&&t(document).scrollTop(this._documentScrollTop),n.isMaximized=n.isMinimized=!1,e.resize(),e):e},maximize:r("maximize",function(){var e=this,n=e.wrapper,i=n.position();p(e.restoreOptions,{left:i.left,top:i.top}),n.css({left:0,top:0,position:"fixed"}).addClass(P),this._documentScrollTop=t(document).scrollTop(),t("html, body").css(W,E),e.options.isMaximized=!0,e._onDocumentResize()}),minimize:r("minimize",function(){var t=this;t.wrapper.css({height:"",minHeight:""}),t.element.hide(),t.options.isMinimized=!0}),pin:function(e){var n=this,i=t(window),r=n.wrapper,o=parseInt(r.css("top"),10),a=parseInt(r.css("left"),10);(e||!n.options.pinned&&!n.options.isMaximized)&&(r.css({position:"fixed",top:o-i.scrollTop(),left:a-i.scrollLeft()}),r.children(x).find(q).addClass("k-i-unpin").removeClass("k-i-pin"),n.options.pinned=!0)},unpin:function(){var e=this,n=t(window),i=e.wrapper,r=parseInt(i.css("top"),10),o=parseInt(i.css("left"),10);e.options.pinned&&!e.options.isMaximized&&(i.css({position:"",top:r+n.scrollTop(),left:o+n.scrollLeft()}),i.children(x).find($).addClass("k-i-pin").removeClass("k-i-unpin"),e.options.pinned=!1)},_onDocumentResize:function(){var e,n,i=this,r=i.wrapper,o=t(window);i.options.isMaximized&&(e=o.width(),n=o.height()-parseInt(r.css("padding-top"),10),r.css({width:e,height:n}),i.options.width=e,i.options.height=n,i.resize())},refresh:function(e){var i,r,o,a=this,s=a.options,l=t(a.element);return d(e)||(e={url:e}),e=p({},s.content,e),r=n(s.iframe)?s.iframe:e.iframe,o=e.url,o?(n(r)||(r=!K(o)),r?(i=l.find("."+S)[0],i?i.src=o||i.src:l.html(J.contentFrame(p({},s,{content:e}))),l.find("."+S).unbind("load"+y).on("load"+y,f(this._triggerRefresh,this))):a._ajaxRequest(e)):(e.template&&a.content(m(e.template)({})),a.trigger(R)),l.toggleClass("k-window-iframecontent",!!r),a},_triggerRefresh:function(){this.trigger(R)},_ajaxComplete:function(){clearTimeout(this._loadingIconTimeout),this.wrapper.find(Q).removeClass(T)},_ajaxError:function(t,e){this.trigger(U,{status:e,xhr:t})},_ajaxSuccess:function(t){return function(e){var n=e;t&&(n=m(t)(e||{})),this.content(n,e),this.element.prop("scrollTop",0),this.trigger(R)}},_showLoading:function(){this.wrapper.find(Q).addClass(T)},_ajaxRequest:function(e){this._loadingIconTimeout=setTimeout(f(this._showLoading,this),100),t.ajax(p({type:"GET",dataType:"html",cache:!1,error:f(this._ajaxError,this),complete:f(this._ajaxComplete,this),success:f(this._ajaxSuccess(e.template),this)},e))},destroy:function(){var n=this;n.resizing&&n.resizing.destroy(),n.dragging&&n.dragging.destroy(),n.wrapper.off(y).children(b).off(y).end().find(".k-resize-handle,.k-window-titlebar").off(y),t(window).off("resize"+y+n._marker),clearTimeout(n._loadingIconTimeout),c.fn.destroy.call(n),n.unbind(e),l.destroy(n.wrapper),n._removeOverlay(!0),n.wrapper.empty().remove(),n.wrapper=n.appendTo=n.element=t()},_createWindow:function(){var e,n,i=this.element,r=this.options,o=l.support.isRtl(i);r.scrollable===!1&&i.attr("style","overflow:hidden;"),n=t(J.wrapper(r)),e=i.find("iframe:not(.k-content)").map(function(){var t=this.getAttribute("src");return this.src="",t}),n.toggleClass("k-rtl",o).appendTo(this.appendTo).append(i).find("iframe:not(.k-content)").each(function(t){this.src=e[t]}),n.find(".k-window-title").css(o?"left":"right",n.find(".k-window-actions").outerWidth()+10),i.css("visibility","").show(),i.find("[data-role=editor]").each(function(){var e=t(this).data("kendoEditor");e&&e.refresh()}),n=i=null}}),J={wrapper:m("<div class='k-widget k-window' />"),action:m("<a role='button' href='\\#' class='k-window-action k-link'><span role='presentation' class='k-icon k-i-#= name.toLowerCase() #'>#= name #</span></a>"),titlebar:m("<div class='k-window-titlebar k-header'>&nbsp;<span class='k-window-title'>#= title #</span><div class='k-window-actions' /></div>"),overlay:"<div class='k-overlay' />",contentFrame:m("<iframe frameborder='0' title='#= title #' class='"+S+"' src='#= content.url #'>This page requires frames in order to show content</iframe>"),resizeHandle:m("<div class='k-resize-handle k-resize-#= data #'></div>")};a.prototype={addOverlay:function(){this.owner.wrapper.append(J.overlay)},removeOverlay:function(){this.owner.wrapper.find(C).remove()},dragstart:function(e){var n=this,i=n.owner,r=i.wrapper;n.elementPadding=parseInt(r.css("padding-top"),10),n.initialPosition=l.getOffset(r,"position"),n.resizeDirection=e.currentTarget.prop("className").replace("k-resize-handle k-resize-",""),n.initialSize={width:r.width(),height:r.height()},n.containerOffset=l.getOffset(i.appendTo,"position"),r.children(k).not(e.currentTarget).hide(),t(v).css(I,e.currentTarget.css(I))},drag:function(t){var e,n,r,o,a=this,s=a.owner,l=s.wrapper,c=s.options,h=a.resizeDirection,d=a.containerOffset,u=a.initialPosition,f=a.initialSize,p=Math.max(t.x.location,d.left),g=Math.max(t.y.location,d.top);h.indexOf("e")>=0?(e=p-u.left,l.width(i(e,c.minWidth,c.maxWidth))):h.indexOf("w")>=0&&(o=u.left+f.width,e=i(o-p,c.minWidth,c.maxWidth),l.css({left:o-e-d.left,width:e})),h.indexOf("s")>=0?(n=g-u.top-a.elementPadding,l.height(i(n,c.minHeight,c.maxHeight))):h.indexOf("n")>=0&&(r=u.top+f.height,n=i(r-g,c.minHeight,c.maxHeight),l.css({top:r-n-d.top,height:n})),e&&(s.options.width=e+"px"),n&&(s.options.height=n+"px"),s.resize()},dragend:function(e){var n=this,i=n.owner,r=i.wrapper;return r.children(k).not(e.currentTarget).show(),t(v).css(I,""),i.touchScroller&&i.touchScroller.reset(),27==e.keyCode&&r.css(n.initialPosition).css(n.initialSize),i.trigger(N),!1},destroy:function(){this._draggable&&this._draggable.destroy(),this._draggable=this.owner=null}},s.prototype={dragstart:function(e){var n=this.owner,i=n.element,r=i.find(".k-window-actions"),o=l.getOffset(n.appendTo);n.trigger(V),n.initialWindowPosition=l.getOffset(n.wrapper,"position"),n.startPosition={left:e.x.client-n.initialWindowPosition.left,top:e.y.client-n.initialWindowPosition.top},n.minLeftPosition=r.length>0?r.outerWidth()+parseInt(r.css("right"),10)-i.outerWidth():20-i.outerWidth(),n.minLeftPosition-=o.left,n.minTopPosition=-o.top,n.wrapper.append(J.overlay).children(k).hide(),t(v).css(I,e.currentTarget.css(I))},drag:function(e){var n=this.owner,i=n.options.position,r=Math.max(e.y.client-n.startPosition.top,n.minTopPosition),o=Math.max(e.x.client-n.startPosition.left,n.minLeftPosition),a={left:o,top:r};t(n.wrapper).css(a),i.top=r,i.left=o},_finishDrag:function(){var e=this.owner;e.wrapper.children(k).toggle(!e.options.isMinimized).end().find(C).remove(),t(v).css(I,"")},dragcancel:function(t){this._finishDrag(),t.currentTarget.closest(_).css(this.owner.initialWindowPosition)},dragend:function(){return this._finishDrag(),this.owner.trigger(H),!1},destroy:function(){this._draggable&&this._draggable.destroy(),this._draggable=this.owner=null}},l.ui.plugin(Z)}(window.kendo.jQuery),function(t,e){function n(e,i){var r,o=!1;return e.filters&&(r=t.grep(e.filters,function(t){return o=n(t,i),t.filters?t.filters.length:t.field!=i}),o||e.filters.length===r.length||(o=!0),e.filters=r),o}var i=window.kendo,r=i.ui,o=r.Widget,a=i.keys,s=i.support,l=i.htmlEncode,c=i._activeElement,h="id",d="li",u="change",f="k-state-focused",p="k-state-hover",g="k-loading",m="open",v="close",y="select",_="selected",w="progress",x="requestEnd",b="width",k=t.extend,C=t.proxy,S=s.browser,T=S.msie&&9>S.version,D=/"/g,A={ComboBox:"DropDownList",DropDownList:"ComboBox"},P=i.ui.DataBoundWidget.extend({init:function(e,n){var i,r=this,a=r.ns;o.fn.init.call(r,e,n),e=r.element,r._isSelect=e.is(y),r._template(),r.ul=t('<ul unselectable="on" class="k-list k-reset"/>').css({overflow:s.kineticScrollNeeded?"":"auto"}).on("mouseenter"+a,d,function(){t(this).addClass(p)}).on("mouseleave"+a,d,function(){t(this).removeClass(p)}).on("click"+a,d,C(r._click,r)).attr({tabIndex:-1,role:"listbox","aria-hidden":!0}),r.list=t("<div class='k-list-container'/>").append(r.ul).on("mousedown"+a,C(r._listMousedown,r)),i=e.attr(h),i&&(r.list.attr(h,i+"-list"),r.ul.attr(h,i+"_listbox"),r._optionID=i+"_option_selected"),r._header(),r._accessors(),r._initValue()},options:{valuePrimitive:!1,headerTemplate:""},setOptions:function(t){o.fn.setOptions.call(this,t),t&&t.enable!==e&&(t.enabled=t.enable)},focus:function(){this._focused.focus()},readonly:function(t){this._editable({readonly:t===e?!0:t,disable:!1})},enable:function(t){this._editable({readonly:!1,disable:!(t=t===e?!0:t)})},_listMousedown:function(t){this.filterInput&&this.filterInput[0]===t.target||t.preventDefault()},_filterSource:function(t,e){var i=this,r=i.options,o=i.dataSource,a=k({},o.filter()||{}),s=n(a,r.dataTextField);(t||s)&&i.trigger("filtering",{filter:t})||(t&&(a=a.filters||[],a.push(t)),e?o.read(a):o.filter(a))},_header:function(){var e,n=this,i=n.options.headerTemplate;t.isFunction(i)&&(i=i({})),i&&(n.list.prepend(i),e=n.ul.prev(),n.header=e[0]?e:null,n.header&&n.angular("compile",function(){return{elements:n.header}}))},_initValue:function(){var t=this,e=t.options.value;null!==e?t.element.val(e):(e=t._accessor(),t.options.value=e),t._old=e},_ignoreCase:function(){var t,e=this,n=e.dataSource.reader.model;n&&n.fields&&(t=n.fields[e.options.dataTextField],t&&t.type&&"string"!==t.type&&(e.options.ignoreCase=!1))},items:function(){return this.ul[0].children},current:function(t){var n=this,i=n._focused.add(n.filterInput),r=n._optionID;return t===e?n._current:(n._current&&(n._current.removeClass(f).removeAttr("aria-selected").removeAttr(h),i.removeAttr("aria-activedescendant")),t&&(t.addClass(f),n._scroll(t),r&&(t.attr("id",r),i.attr("aria-activedescendant",r))),n._current=t,e)},destroy:function(){var t=this,e=t.ns;o.fn.destroy.call(t),t._unbindDataSource(),t.ul.off(e),t.list.off(e),t._touchScroller&&t._touchScroller.destroy(),t.popup.destroy(),t._form&&t._form.off("reset",t._resetHandler)},dataItem:function(n){var i=this;return n===e?n=i.selectedIndex:"number"!=typeof n&&(n=t(i.items()).index(n)),i._data()[n]},_accessors:function(){var t=this,e=t.element,n=t.options,r=i.getter,o=e.attr(i.attr("text-field")),a=e.attr(i.attr("value-field"));!n.dataTextField&&o&&(n.dataTextField=o),!n.dataValueField&&a&&(n.dataValueField=a),t._text=r(n.dataTextField),t._value=r(n.dataValueField)},_aria:function(t){var n=this,i=n.options,r=n._focused.add(n.filterInput);i.suggest!==e&&r.attr("aria-autocomplete",i.suggest?"both":"list"),t=t?t+" "+n.ul[0].id:n.ul[0].id,r.attr("aria-owns",t),n.ul.attr("aria-live",i.filter&&"none"!==i.filter?"polite":"off")},_blur:function(){var t=this;t._change(),t.close()},_change:function(){var t,n=this,i=n.selectedIndex,r=n.options.value,o=n.value();n._isSelect&&!n._bound&&r&&(o=r),o!==n._old?t=!0:i!==e&&i!==n._oldIndex&&(t=!0),t&&(n._old=o,n._oldIndex=i,n.element.trigger(u),n.trigger(u))},_click:function(e){e.isDefaultPrevented()||this._accept(t(e.currentTarget))},_data:function(){return this.dataSource.view()},_enable:function(){var t=this,n=t.options,i=t.element.is("[disabled]");n.enable!==e&&(n.enabled=n.enable),!n.enabled||i?t.enable(!1):t.readonly(t.element.is("[readonly]"))},_focus:function(t){var n=this,i=!0;return n.popup.visible()&&t&&n.trigger(y,{item:t})?(n.close(),e):(n._select(t),n._triggerCascade(i),n._blur(),e)},_index:function(t){var e,n,i=this,r=i._data();for(e=0,n=r.length;n>e;e++)if(i._dataValue(r[e])==t)return e;return-1},_dataValue:function(t){var n=this._value(t);return n===e&&(n=this._text(t)),n},_height:function(t){if(t){var e,n,i=this,r=i.list,o=i.options.height,a=i.popup.visible();n=r.add(r.parent(".k-animation-container")).show(),o=i.ul[0].scrollHeight>o?o:"auto",n.height(o),"auto"!==o&&(e=i.ul[0].offsetTop,e&&(o=r.height()-e)),i.ul.height(o),a||n.hide()}},_adjustListWidth:function(){var t,e,n=this.list,i=n[0].style.width,r=this.wrapper;if(n.data(b)||!i)return t=window.getComputedStyle?window.getComputedStyle(r[0],null):0,e=t?parseFloat(t.width):r.outerWidth(),t&&S.msie&&(e+=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight)+parseFloat(t.borderLeftWidth)+parseFloat(t.borderRightWidth)),i="border-box"!==n.css("box-sizing")?e-(n.outerWidth()-n.width()):e,n.css({fontFamily:r.css("font-family"),width:i}).data(b,i),!0},_openHandler:function(t){this._adjustListWidth(),this.trigger(m)?t.preventDefault():(this._focused.attr("aria-expanded",!0),this.ul.attr("aria-hidden",!1))},_closeHandler:function(t){this.trigger(v)?t.preventDefault():(this._focused.attr("aria-expanded",!1),this.ul.attr("aria-hidden",!0))},_firstOpen:function(){this._height(this._data().length)},_popup:function(){var t=this;t.popup=new r.Popup(t.list,k({},t.options.popup,{anchor:t.wrapper,open:C(t._openHandler,t),close:C(t._closeHandler,t),animation:t.options.animation,isRtl:s.isRtl(t.wrapper)})),t.popup.one(m,C(t._firstOpen,t)),t._touchScroller=i.touchScroller(t.popup.element)},_makeUnselectable:function(){T&&this.list.find("*").not(".k-textbox").attr("unselectable","on")},_toggleHover:function(e){t(e.currentTarget).toggleClass(p,"mouseenter"===e.type)},_toggle:function(t,n){var i=this,r=s.touch&&s.MSPointers&&s.pointers;t=t!==e?t:!i.popup.visible(),n||r||i._focused[0]===c()||i._focused.focus(),i[t?m:v]()},_scroll:function(t){if(t){t[0]&&(t=t[0]);var e,n,i=this.ul[0],r=t.offsetTop,o=t.offsetHeight,a=i.scrollTop,s=i.clientHeight,l=r+o,c=this._touchScroller;c?(e=c.dimensions.y,e.enabled&&r>e.size&&(r=r-e.size+o+4,c.scrollTo(0,-r))):(n=this.header?this.header.outerHeight():0,n+=this.filterInput?this.filterInput.outerHeight():0,i.scrollTop=a>r?r-n:l>a+s?l-s-n:a)}},_template:function(){var t=this,e=t.options,n=e.template,r=e.dataSource;t._isSelect&&t.element[0].length&&(r||(e.dataTextField=e.dataTextField||"text",e.dataValueField=e.dataValueField||"value")),n?(n=i.template(n),t.template=function(t){return'<li tabindex="-1" role="option" unselectable="on" class="k-item">'+n(t)+"</li>"}):t.template=i.template('<li tabindex="-1" role="option" unselectable="on" class="k-item">${'+i.expr(e.dataTextField,"data")+"}</li>",{useWithBlock:!1})},_triggerCascade:function(t){var e=this,n=e.value();(!e._bound&&n||e._old!==n)&&e.trigger("cascade",{userTriggered:t})},_unbindDataSource:function(){var t=this;t.dataSource.unbind(u,t._refreshHandler).unbind(w,t._progressHandler).unbind(x,t._requestEndHandler).unbind("error",t._errorHandler)}});k(P,{inArray:function(t,e){var n,i,r=e.children;if(!t||t.parentNode!==e)return-1;for(n=0,i=r.length;i>n;n++)if(t===r[n])return n;return-1}}),i.ui.List=P,r.Select=P.extend({init:function(t,e){P.fn.init.call(this,t,e),this._initial=this.element.val()},setDataSource:function(t){this.options.dataSource=t,this._dataSource(),this._bound=!1,this.options.autoBind&&this.dataSource.fetch()},close:function(){this.popup.close()},select:function(t){var n=this;return t===e?n.selectedIndex:(n._select(t),n._triggerCascade(),n._old=n._accessor(),n._oldIndex=n.selectedIndex,e)},search:function(t){var e,n,i,r,o,a;t="string"==typeof t?t:this.text(),e=this,n=t.length,i=e.options,r=i.ignoreCase,o=i.filter,a=i.dataTextField,clearTimeout(e._typing),(!n||n>=i.minLength)&&(e._state="filter","none"===o?e._filter(t):(e._open=!0,e._filterSource({value:r?t.toLowerCase():t,field:a,operator:o,ignoreCase:r})))},_accessor:function(t,n){var i,r=this.element[0],o=this._isSelect,a=r.selectedIndex;return t===e?(o?a>-1&&(i=r.options[a],i&&(t=i.value)):t=r.value,t):(o?(a>-1&&r.options[a].removeAttribute(_),r.selectedIndex=n,i=r.options[n],i&&i.setAttribute(_,_)):r.value=t,e)},_hideBusy:function(){var t=this;clearTimeout(t._busy),t._arrow.removeClass(g),t._focused.attr("aria-busy",!1),t._busy=null},_showBusy:function(){var t=this;t._request=!0,t._busy||(t._busy=setTimeout(function(){t._arrow&&(t._focused.attr("aria-busy",!0),t._arrow.addClass(g))},100))},_requestEnd:function(){this._request=!1},_dataSource:function(){var e,n=this,r=n.element,o=n.options,a=o.dataSource||{};a=t.isArray(a)?{data:a}:a,n._isSelect&&(e=r[0].selectedIndex,e>-1&&(o.index=e),a.select=r,a.fields=[{field:o.dataTextField},{field:o.dataValueField}]),n.dataSource&&n._refreshHandler?n._unbindDataSource():(n._refreshHandler=C(n.refresh,n),n._progressHandler=C(n._showBusy,n),n._requestEndHandler=C(n._requestEnd,n),n._errorHandler=C(n._hideBusy,n)),n.dataSource=i.data.DataSource.create(a).bind(u,n._refreshHandler).bind(w,n._progressHandler).bind(x,n._requestEndHandler).bind("error",n._errorHandler)},_get:function(e){var n,i,r=this,o=r._data();if("function"==typeof e)for(n=0,i=o.length;i>n;n++)if(e(o[n])){e=n;break}if("number"==typeof e){if(0>e)return t();e=t(r.ul[0].children[e])}return e&&e.nodeType&&(e=t(e)),e},_move:function(t){var e,n,i=this,r=t.keyCode,o=i.ul[0],s=i.popup.visible()?"_select":"_accept",l=i._current,c=r===a.DOWN;if(r===a.UP||c){if(t.altKey)i.toggle(c);else{if(e=o.firstChild,!e&&!i._accessor()&&"filter"!==i._state)return i._fetch||(i.dataSource.one(u,function(){i._move(t),i._fetch=!1}),i._fetch=!0,i._filterSource()),t.preventDefault(),!0;c?(!l||-1===i.selectedIndex&&!i.value()&&l[0]===e?l=e:(l=l[0].nextSibling,l||e!==o.lastChild||(l=e)),i[s](l)):(l=l?l[0].previousSibling:o.lastChild,l||e!==o.lastChild||(l=e),i[s](l))}t.preventDefault(),n=!0}else r===a.ENTER||r===a.TAB?(i.popup.visible()&&t.preventDefault(),i.popup.visible()||l&&l.hasClass("k-state-selected")||(l=null),i._accept(l,r),n=!0):r===a.ESC&&(i.popup.visible()&&t.preventDefault(),i.close(),n=!0);return n},_selectItem:function(){var t,n,i=this,r=i._bound===e,o=i.options;t=i._isSelect&&!i._initial&&!o.value&&o.index&&!i._bound,t||(n=i._selectedValue||r&&o.value||i._accessor()),n?i.value(n):r&&i.select(o.index)},_fetchItems:function(t){var n=this,i=n.ul[0].firstChild;return n._request?!0:n._bound||n._fetch||i?e:n.options.cascadeFrom?!i:(n.dataSource.one(u,function(){n._old=e,n.value(t),n._fetch=!1}),n._fetch=!0,n.dataSource.fetch(),!0)},_options:function(t,n){var i,r,o,a,s=this,c=s.element,h=t.length,d="",u=0;for(n&&(u=1,d=n);h>u;u++)i="<option",r=t[u],o=s._text(r),a=s._value(r),a!==e&&(a+="",-1!==a.indexOf('"')&&(a=a.replace(D,"&quot;")),i+=' value="'+a+'"'),i+=">",o!==e&&(i+=l(o)),i+="</option>",d+=i;c.html(d)},_reset:function(){var e=this,n=e.element,i=n.attr("form"),r=i?t("#"+i):n.closest("form");r[0]&&(e._resetHandler=function(){setTimeout(function(){e.value(e._initial)})},e._form=r.on("reset",e._resetHandler))},_cascade:function(){var e,i,r,o,a,s=this,l=s.options,c=l.cascadeFrom;if(c){if(s._selectedValue=l.value||s._accessor(),i=t("#"+c),e=i.data("kendo"+l.name),e||(e=i.data("kendo"+A[l.name])),!e)return;l.autoBind=!1,o=l.cascadeFromField||e.options.dataValueField,a=function(){s.dataSource.unbind(u,a);var t=s._selectedValue||s.value();s._userTriggered?s._clearSelection(e,!0):t?(s.value(t),s.dataSource.view()[0]&&-1!==s.selectedIndex||s._clearSelection(e,!0)):s.select(l.index),s.enable(),s._triggerCascade(s._userTriggered),s._userTriggered=!1},r=function(){var t,i,r,l=e.dataItem(),c=l?e._value(l):null;c||0===c?(t=s.dataSource.filter()||{},n(t,o),i=t.filters||[],i.push({field:o,operator:"eq",value:c}),r=function(){s.unbind("dataBound",r),a.apply(s,arguments)
},s.first("dataBound",r),s.dataSource.filter(i)):(s.enable(!1),s._clearSelection(e),s._triggerCascade(s._userTriggered),s._userTriggered=!1)},e.first("cascade",function(t){s._userTriggered=t.userTriggered,r()}),e._bound?r():e.value()||s.enable(!1)}}})}(window.kendo.jQuery),function(t,e){function n(t,e,n){for(var i,r=0,o=e.length-1;o>r;++r)i=e[r],i in t||(t[i]={}),t=t[i];t[e[o]]=n}var i=window.kendo,r=i.ui,o=r.Select,a=i.support.mobileOS,s=i._activeElement,l=i.keys,c=".kendoDropDownList",h="disabled",d="readonly",u="change",f="k-state-focused",p="k-state-default",g="k-state-disabled",m="aria-disabled",v="aria-readonly",y="k-state-selected",_="mouseenter"+c+" mouseleave"+c,w="tabindex",x="filter",b="accept",k=t.proxy,C=o.extend({init:function(n,r){var a,s,l,h=this,d=r&&r.index;h.ns=c,r=t.isArray(r)?{dataSource:r}:r,o.fn.init.call(h,n,r),r=h.options,n=h.element.on("focus"+c,k(h._focusHandler,h)),h._inputTemplate(),h._reset(),h._prev="",h._word="",h._wrapper(),h._tabindex(),h.wrapper.data(w,h.wrapper.attr(w)),h._span(),h._popup(),h._mobile(),h._dataSource(),h._ignoreCase(),h._filterHeader(),h._aria(),h._enable(),h._oldIndex=h.selectedIndex=-1,h._cascade(),d!==e&&(r.index=d),r.autoBind?h.dataSource.fetch():-1===h.selectedIndex&&(l=r.text||"",l||(a=r.optionLabel,s=a&&0===r.index,h._isSelect?l=s?a:n.children(":selected").text():!n[0].value&&s&&(l=a)),h._textAccessor(l)),i.notify(h)},options:{name:"DropDownList",enabled:!0,autoBind:!0,index:0,text:null,value:null,template:"",valueTemplate:"",delay:500,height:200,dataTextField:"",dataValueField:"",optionLabel:"",cascadeFrom:"",cascadeFromField:"",ignoreCase:!0,animation:{},filter:"none",minLength:1},events:["open","close",u,"select","filtering","dataBinding","dataBound","cascade"],setOptions:function(t){o.fn.setOptions.call(this,t),this._template(),this._inputTemplate(),this._accessors(),this._filterHeader(),this._enable(),this._aria()},destroy:function(){var t=this;t.wrapper.off(c),t.element.off(c),t._inputWrapper.off(c),t._arrow.off(),t._arrow=null,o.fn.destroy.call(t)},open:function(){var t=this;t.popup.visible()||(t.ul[0].firstChild&&t._state!==b?(t.popup.open(),t._focusElement(t.filterInput),t._scroll(t._current)):(t._open=!0,t._state="rebind",t.filterInput&&t.filterInput.val(""),t._filterSource()))},toggle:function(t){this._toggle(t,!0)},refresh:function(){var e,n,r=this,o=r._data(),a=o.length,s=r.options.optionLabel,l=r._state===x,c=r.element[0];r.trigger("dataBinding"),r._current&&r.current(null),r._angularItems("cleanup"),r.ul[0].innerHTML=i.render(r.template,o),r._angularItems("compile"),r._height(l?a||1:a),r.popup.visible()&&r.popup._position(),r._isSelect&&(e=c.selectedIndex,n=r.value(),a?s&&(s=r._option("",r._optionLabelText(s))):n&&(e=0,s=r._option(n,r.text())),r._options(o,s),c.selectedIndex=-1===e?0:e),r._hideBusy(),r._makeUnselectable(),l?r.current(t(r.ul[0].firstChild)):(r._open&&r.toggle(!!a),r._open=!1,r._fetch||(a?r._selectItem():r._textAccessor()!==s&&(r.element.val(""),r._textAccessor("")))),r._bound=!!a,r.trigger("dataBound")},text:function(t){var n,i,r=this,o=r.options.ignoreCase;return t=null===t?"":t,t===e?r._textAccessor():("string"==typeof t&&(i=o?t.toLowerCase():t,n=r._select(function(t){return t=r._text(t),o&&(t=(t+"").toLowerCase()),t===i}),n&&(t=n)),r._textAccessor(t),e)},value:function(t){var n,i,r=this;return t===e?r._accessor():(null!==t&&(t=""+t),r._selectedValue=t,i=t||r.options.optionLabel&&!r.element[0].disabled&&""===t,i&&r._fetchItems(t)||(n=r._index(t),r.select(n>-1?n:0)),e)},_focusHandler:function(){this.wrapper.focus()},_focusinHandler:function(){this._inputWrapper.addClass(f),this._prevent=!1},_focusoutHandler:function(){var t=this,e=t._state===x,n=window.self!==window.top;t._prevent||(e&&t._select(t._current),(!e||t.dataItem())&&t._triggerCascade(),i.support.mobileOS.ios&&n?t._change():t._blur(),t._inputWrapper.removeClass(f),t._prevent=!0,t._open=!1,t.element.blur())},_wrapperMousedown:function(){this._prevent=!!this.filterInput},_wrapperClick:function(t){t.preventDefault(),this._focused=this.wrapper,this._toggle()},_editable:function(t){var e=this,n=e.element,i=t.disable,r=t.readonly,o=e.wrapper.add(e.filterInput).off(c),a=e._inputWrapper.off(_);r||i?i?(o.removeAttr(w),a.addClass(g).removeClass(p)):(a.addClass(p).removeClass(g),o.on("focusin"+c,k(e._focusinHandler,e)).on("focusout"+c,k(e._focusoutHandler,e))):(n.removeAttr(h).removeAttr(d),a.addClass(p).removeClass(g).on(_,e._toggleHover),o.attr(w,o.data(w)).attr(m,!1).attr(v,!1).on("keydown"+c,k(e._keydown,e)).on("focusin"+c,k(e._focusinHandler,e)).on("focusout"+c,k(e._focusoutHandler,e)).on("mousedown"+c,k(e._wrapperMousedown,e)),e.wrapper.on("click"+c,k(e._wrapperClick,e)),e.filterInput||o.on("keypress"+c,k(e._keypress,e))),n.attr(h,i).attr(d,r),o.attr(m,i).attr(v,r)},_accept:function(t,e){var n=this,i=n.filterInput&&n.filterInput[0]===s();n._focus(t),n._focusElement(n.wrapper),i&&e===l.TAB&&n.wrapper.focusout()},_option:function(t,e){return'<option value="'+t+'">'+e+"</option>"},_optionLabelText:function(){var t=this.options,e=t.dataTextField,n=t.optionLabel;return n&&e&&"object"==typeof n?this._text(n):n},_data:function(){var t=this,e=t.options,r=e.optionLabel,o=e.dataTextField,a=e.dataValueField,s=t.dataSource.view(),l=s.length,c=r,h=0;if(r&&l){for("object"==typeof r?c=r:o&&(c={},o=o.split("."),a=a.split("."),n(c,a,""),n(c,o,r)),c=new i.data.ObservableArray([c]);l>h;h++)c.push(s[h]);s=c}return s},_selectItem:function(){o.fn._selectItem.call(this),this.current()||this.select(0)},_keydown:function(t){var e,n=this,i=t.keyCode,r=t.altKey,o=n.ul[0];i===l.LEFT?i=l.UP:i===l.RIGHT&&(i=l.DOWN),t.keyCode=i,e=n._move(t),n.popup.visible()&&n.filterInput||(i===l.HOME?(e=!0,t.preventDefault(),n._select(o.firstChild)):i===l.END&&(e=!0,t.preventDefault(),n._select(o.lastChild))),r&&i===l.UP&&n._focusElement(n.wrapper),r||e||!n.filterInput||n._search()},_selectNext:function(t,n){for(var i,r=this,o=n,a=r._data(),s=a.length,l=r.options.ignoreCase,c=function(n,i){return n+="",l&&(n=n.toLowerCase()),0===n.indexOf(t)?(r._select(i),r._triggerEvents(),!0):e};s>n;n++)if(i=r._text(a[n]),i&&c(i,n))return!0;if(o>0&&s>o)for(n=0;o>=n;n++)if(i=r._text(a[n]),i&&c(i,n))return!0;return!1},_keypress:function(t){var e,n,r,o=this;0!==t.which&&t.keyCode!==i.keys.ENTER&&(e=String.fromCharCode(t.charCode||t.keyCode),n=o.selectedIndex,r=o._word,o.options.ignoreCase&&(e=e.toLowerCase())," "===e&&t.preventDefault(),o._last===e&&1>=r.length&&n>-1&&(r||(r=e),o._selectNext(r,n+1))||(o._word=r+e,o._last=e,o._search()))},_popupOpen:function(){var t=this.popup;t.wrapper=i.wrap(t.element),t.element.closest(".km-root")[0]&&(t.wrapper.addClass("km-popup km-widget"),this.wrapper.addClass("km-widget"))},_popup:function(){o.fn._popup.call(this),this.popup.one("open",k(this._popupOpen,this))},_focusElement:function(t){var e=s(),n=this.wrapper,i=this.filterInput,r=t===i?n:i;i&&r[0]===e&&(this._prevent=!0,this._focused=t.focus())},_filter:function(t){var n,i;t&&(n=this,i=n.options.ignoreCase,i&&(t=t.toLowerCase()),n._select(function(r){var o=n._text(r);return o!==e?(o+="",i&&(o=o.toLowerCase()),0===o.indexOf(t)):e}))},_search:function(){var t=this,n=t.dataSource,i=t.selectedIndex,r=t._word;if(clearTimeout(t._typing),"none"!==t.options.filter)t._typing=setTimeout(function(){var e=t.filterInput.val();t._prev!==e&&(t._prev=e,t.search(e)),t._typing=null},t.options.delay);else{if(t._typing=setTimeout(function(){t._word=""},t.options.delay),-1===i&&(i=0),!t.ul[0].firstChild)return n.one(u,function(){n.data()[0]&&i>-1&&t._selectNext(r,i)}).fetch(),e;t._selectNext(r,i),t._triggerEvents()}},_select:function(t){var n,i,o=this,a=o._current,s=null;return t=o._get(t),t&&t[0]&&!t.hasClass(y)&&(o._state===x&&(o._state=b),a&&a.removeClass(y),i=r.List.inArray(t[0],o.ul[0]),i>-1&&(o.selectedIndex=i,s=o._data()[i],n=o._value(s),null===n&&(n=""),o._textAccessor(s),o._accessor(n!==e?n:o._text(s),i),o._selectedValue=o._accessor(),o.current(t.addClass(y)),o._optionID&&o._current.attr("aria-selected",!0))),s},_triggerEvents:function(){this.popup.visible()||(this._triggerCascade(),this._change())},_mobile:function(){var t=this,e=t.popup,n=e.element.parents(".km-root").eq(0);n.length&&a&&(e.options.animation.open.effects=a.android||a.meego?"fadeIn":a.ios||a.wp?"slideIn:up":e.options.animation.open.effects)},_filterHeader:function(){var e,n=this.options,i="none"!==n.filter;this.filterInput&&(this.filterInput.off(c).parent().remove(),this.filterInput=null),i&&(e='<span unselectable="on" class="k-icon k-i-search">select</span>',this.filterInput=t('<input class="k-textbox"/>').attr({role:"listbox","aria-haspopup":!0,"aria-expanded":!1}),this.list.prepend(t('<span class="k-list-filter" />').append(this.filterInput.add(e))))},_span:function(){var e,n=this,i=n.wrapper,r="span.k-input";e=i.find(r),e[0]||(i.append('<span unselectable="on" class="k-dropdown-wrap k-state-default"><span unselectable="on" class="k-input">&nbsp;</span><span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-arrow-s">select</span></span></span>').append(n.element),e=i.find(r)),n.span=e,n._inputWrapper=t(i[0].firstChild),n._arrow=i.find(".k-icon")},_wrapper:function(){var t,e=this,n=e.element,i=n[0];t=n.parent(),t.is("span.k-widget")||(t=n.wrap("<span />").parent(),t[0].style.cssText=i.style.cssText),n.hide(),e._focused=e.wrapper=t.addClass("k-widget k-dropdown k-header").addClass(i.className).css("display","").attr({unselectable:"on",role:"listbox","aria-haspopup":!0,"aria-expanded":!1})},_clearSelection:function(){var t=this,n=t.options.optionLabel;return t.options.value="",t._selectedValue="",t.dataSource.view()[0]&&(n||t._userTriggered)?(t.select(0),e):(t.selectedIndex=-1,t.element.val(""),t._textAccessor(t.options.optionLabel),e)},_inputTemplate:function(){var e=this,n=e.options.valueTemplate;n=n?i.template(n):t.proxy(i.template("#:this._text(data)#",{useWithBlock:!1}),e),e.valueTemplate=n},_textAccessor:function(r){var o,a=this.dataItem(),s=this.options,l=this.span;return r===e?l.text():(t.isPlainObject(r)||r instanceof i.data.ObservableObject?a=r:a&&this._text(a)===r||(s.dataTextField?(a={},n(a,s.dataTextField.split("."),r),n(a,s.dataValueField.split("."),this._accessor())):a=r),o=function(){return{elements:l.get(),data:[{dataItem:a}]}},this.angular("cleanup",o),l.html(this.valueTemplate(a)),this.angular("compile",o),e)}});r.plugin(C)}(window.kendo.jQuery),function(t,e){function n(t){var e=t.originalEvent,n=0;return e.wheelDelta?(n=-e.wheelDelta/40,n=n>0?se.ceil(n):se.floor(n)):e.detail&&(n=e.detail),n}function i(t){return t.options.name.toLowerCase()===ge.toLowerCase()}function r(t){var e,n,r,a,s,l,c,h,d,f,p=we,g=t.source(),m=t.target(),v=[0,2,3,1,4];if(g instanceof O?e=g:g instanceof u&&(i(g)?r=g.shape:(t._resolvedSourceConnector=g,e=g.position())),m instanceof O?n=m:m instanceof u&&(i(m)?a=m.shape:(t._resolvedTargetConnector=m,n=m.position())),e)a&&(t._resolvedTargetConnector=o(e,a));else if(r)if(n)t._resolvedSourceConnector=o(n,r);else if(a)for(c=0;r.connectors.length>c;c++)l=5==r.connectors.length?v[c]:c,s=r.connectors[l],i(s)||(h=s.position(),d=o(h,a),f=se.round(d.position().distanceTo(h)),p>f&&(p=f,t._resolvedSourceConnector=s,t._resolvedTargetConnector=d))}function o(t,e){var n,r,o,a,s=we,l=e.connectors;for(r=0;l.length>r;r++)o=l[r],i(o)||(a=t.distanceTo(o.position()),s>a&&(s=a,n=o));return n}function a(t,e){var n,i,r,o=[],a=t.drawingContainer().children,s=a.length;for(n=0;e.length>n;n++)for(i=e[n],r=0;s>r;r++)if(a[r]==i.drawingContainer()){o.push(r);break}return o}function s(t){var e={};return t=t||{},ne(t.text)&&null!==t.text&&(e.text=t.text),ne(t.x)&&null!==t.x&&(e.x=t.x),ne(t.y)&&null!==t.y&&(e.y=t.y),ne(t.width)&&null!==t.width&&(e.width=t.width),ne(t.height)&&null!==t.height&&(e.height=t.height),ne(t.type)&&null!==t.type&&(e.type=t.type),e}function l(t){var e={};return t=t||{},ne(t.text)&&null!==t.text&&(e.content=t.text),ne(t.type)&&null!==t.type&&(e.type=t.type),ne(t.from)&&null!==t.from&&(e.from=t.from),ne(t.fromX)&&null!==t.fromX&&(e.fromX=t.fromX),ne(t.fromY)&&null!==t.fromY&&(e.fromY=t.fromY),ne(t.to)&&null!==t.to&&(e.to=t.to),ne(t.toX)&&null!==t.toX&&(e.toX=t.toX),ne(t.toY)&&null!==t.toY&&(e.toY=t.toY),e}function c(e,n){var i=this.dataSource.reader.model,r=i.fn.fields.text?"text":"id";t("<input name='"+n.field+"' />").appendTo(e).kendoDropDownList({dataValueField:"id",dataTextField:r,dataSource:this.dataSource.data().toJSON(),optionLabel:" "})}var h,d,u,f,p,g,m,v,y,_=kendo.dataviz,w=_.diagram,x=kendo.ui.Widget,b=kendo.Class,k=t.proxy,C=kendo.deepExtend,S=t.extend,T=kendo.data.HierarchicalDataSource,D=w.Canvas,A=w.Group,P=w.Rectangle,M=w.Circle,E=w.CompositeTransform,I=w.Rect,L=w.Path,B=w.DeleteShapeUnit,z=w.DeleteConnectionUnit,F=w.TextBlock,R=w.Image,O=w.Point,N=w.Intersect,V=w.ConnectionEditAdorner,H=w.UndoRedoService,U=w.ToolService,W=w.Selector,j=w.ResizingAdorner,G=w.ConnectorsAdorner,q=w.Cursors,$=w.Utils,Y=kendo.Observable,X=w.ToBackUnit,Q=w.ToFrontUnit,K=w.Dictionary,Z=w.PolylineRouter,J=w.CascadingRouter,te=$.isUndefined,ee=$.isDefined,ne=kendo.util.defined,ie=t.isArray,re=kendo.isFunction,oe=$.isString,ae=t.isPlainObject,se=Math,le=".kendoDiagram",ce="Cascading",he="Polyline",de="itemBoundsChange",ue="change",fe="click",pe="error",ge="Auto",me="Top",ve="Right",ye="Left",_e="Bottom",we=9007199254740992,xe="select",be="itemRotate",ke="pan",Ce="zoomStart",Se="zoomEnd",Te="none",De=600,Ae=600,Pe="rectangle",Me=100,Ee=100,Ie=20,Le=20,Be=0,ze="Yellow",Fe=Number.MAX_VALUE,Re=-Number.MAX_VALUE,Oe="absolute",Ne="transformed",Ve="rotated",He="transparent",Ue="width",We="height",je="x",Ge="y",qe="DOMMouseScroll"+le+" mousewheel"+le,$e=.05,Ye=5,Xe='<a class="k-button k-button-icontext #=className#" href="\\#"><span class="#=iconClass# #=imageClass#"></span>#=text#</a>';w.DefaultConnectors=[{name:me,description:"Top Connector"},{name:ve,description:"Right Connector"},{name:_e,description:"Bottom Connector"},{name:ye,Description:"Left Connector"},{name:ge,Description:"Auto Connector",position:function(t){return t.getPosition("center")}}],h={cancel:{text:"Cancel",imageClass:"k-cancel",className:"k-diagram-cancel",iconClass:"k-icon"},update:{text:"Update",imageClass:"k-update",className:"k-diagram-update",iconClass:"k-icon"}},w.shapeDefaults=function(t){var e={type:Pe,path:"",autoSize:!0,visual:null,x:Be,y:Be,minWidth:Ie,minHeight:Le,width:Me,height:Ee,hover:{},editable:{connect:!0},connectors:w.DefaultConnectors,rotation:{angle:0}};return $.simpleExtend(e,t),e},d=Y.extend({init:function(t){var e=this;e.dataItem=(t||{}).dataItem,Y.fn.init.call(e),e.options=C({id:w.randomId()},e.options,t),e.dataItem&&(e.options.dataItem=e.dataItem),e.isSelected=!1,e.visual=new A({id:e.options.id,autoSize:e.options.autoSize}),e._template()},options:{hover:{},cursor:q.grip,content:{align:"center middle"},selectable:!0,serializable:!0,enable:!0},_getCursor:function(t){return this.adorner?this.adorner._getCursor(t):this.options.cursor},visible:function(t){return te(t)?this.visual.visible():(this.visual.visible(t),e)},bounds:function(){},refresh:function(){this.visual.redraw()},position:function(t){this.options.x=t.x,this.options.y=t.y,this.visual.position(t)},toString:function(){return this.options.id},serialize:function(){var t=C({},{options:this.options});return this.options.dataItem&&(t.dataItem=""+this.options.dataItem),t},_content:function(t){var n,i,r,o;return t!==e&&(n=this.options,i=this.bounds(),w.Utils.isString(t)?n.content.text=t:C(n.content,t),r=n.content,o=this._contentVisual,!o&&r.text?(this._contentVisual=new F(r),this._contentVisual._includeInBBox=!1,this.visual.append(this._contentVisual)):o&&o.redraw(r)),this.options.content.text},_hitTest:function(t){var e=this.bounds();return this.visible()&&e.contains(t)&&this.options.enable},_template:function(){var t,e,n=this;n.options.content.template&&(t=n.options.dataItem||{},e=kendo.template(n.options.content.template,{paramName:"item"}),n.options.content.text=e(t))},_canSelect:function(){return this.options.selectable!==!1}}),u=b.extend({init:function(t,e){this.options=C({},this.options,e),this.connections=[],this.shape=t},options:{width:7,height:7,fill:{color:ze},hover:{}},position:function(){return this.options.position?this.options.position(this.shape):this.shape.getPosition(this.options.name)},toJSON:function(){return{shapeId:""+this.shape,connector:this.options.name}}}),u.parse=function(t,e){var n,i,r=e.split(":"),o=r[0],a=r[1]||ge;for(n=0;t.shapes.length>n;n++)if(i=t.shapes[n],i.options.id==o)return i.getConnector(a.trim())},f=d.extend({init:function(t){var n=this;d.fn.init.call(n,t),this.updateOptionsFromModel(),t=n.options,n.connectors=[],n.type=t.type,n.shapeVisual=f.createShapeVisual(n.options),n.visual.append(this.shapeVisual),n.updateBounds(),n.content(n.content()),n._createConnectors(),n.parentContainer=null,n.isContainer=!1,n.isCollapsed=!1,n.id=n.visual.id,t.hasOwnProperty("layout")&&t.layout!==e&&(n.layout=t.layout.bind(t))},options:w.shapeDefaults(),updateOptionsFromModel:function(t,e){if(this.diagram&&this.diagram._isEditable){var n=s(t||this.options.dataItem);t?(this._template(),_.inArray(e,["x","y","width","height"])||this.redrawVisual(),this.redraw(n)):this.options=C({},this.options,n)}},redrawVisual:function(){this.visual.clear(),this.shapeVisual=f.createShapeVisual(this.options),this.visual.append(this.shapeVisual),this.updateBounds()},updateModel:function(){var t,e;this.diagram&&this.diagram._isEditable&&(t=this._bounds,this.options.dataItem&&(e=this.diagram.dataSource.getByUid(this.options.dataItem.uid)),e&&(t.x!==e.x&&e.set("x",t.x),t.y!==e.y&&e.set("y",t.y),t.width!==e.width&&e.set("width",t.width),t.height!==e.height&&e.set("height",t.height),this.dataItem=this.options.dataItem=e))},updateBounds:function(){var t=this.visual._measure(!0),e=this.options;this.bounds(new I(e.x,e.y,t.width,t.height)),this._rotate(),this._alignContent()},content:function(t){var e=this._content(t);return this._alignContent(),e},_alignContent:function(){var t,e,n,i,r,o=this.options.content||{},a=this._contentVisual;a&&o.align&&(t=this.visual._measure(),e=new w.RectAlign(t),n=a.drawingElement.bbox(null),i=new I(0,0,n.width(),n.height()),r=e.align(i,o.align),a.position(r.topLeft()))},_createConnectors:function(){var t,e,n=this.options,i=n.connectors.length,r=n.connectorDefaults;for(e=0;i>e;e++)t=new u(this,C({},r,n.connectors[e])),this.connectors.push(t)},bounds:function(t){var e,n;if(t)if(oe(t))switch(t){case Ne:e=this._transformedBounds();break;case Oe:e=this._transformedBounds(),n=this.diagram._pan,e.x+=n.x,e.y+=n.y;break;case Ve:e=this._rotatedBounds();break;default:e=this._bounds}else this._setBounds(t),this.refreshConnections(),this._triggerBoundsChange();else e=this._bounds;return e},_setBounds:function(t){var e=this.options,n=t.topLeft(),i=e.x=n.x,r=e.y=n.y,o=e.width=se.max(t.width,e.minWidth),a=e.height=se.max(t.height,e.minHeight);this._bounds=new I(i,r,o,a),this.visual.redraw({x:i,y:r,width:o,height:a})},position:function(t){return t?(this.bounds(new I(t.x,t.y,this._bounds.width,this._bounds.height)),e):this._bounds.topLeft()},clone:function(){var t=this.serialize();return t.options.id=w.randomId(),this.diagram&&this.diagram._isEditable&&ne(this.options.dataItem)&&(this.options.dataItem[this.options.dataItem.idField]=this.options.dataItem._defaultId),new f(t.options)},select:function(t){var n,i,r=this.diagram;return te(t)&&(t=!0),this._canSelect()&&this.isSelected!=t?(n=[],i=[],this.isSelected=t,this.isSelected?(r._selectedItems.push(this),n.push(this)):($.remove(r._selectedItems,this),i.push(this)),r._internalSelection||r._selectionChanged(n,i),!0):e},rotate:function(t,n,i){var r,o,a,s,l=this.visual.rotate();return t!==e&&(i!==!1&&this.diagram&&this.diagram.undoRedoService&&this.diagram.undoRedoService.add(new w.RotateUnit(this.diagram._resizingAdorner,[this],[l.angle]),!1),r=this.bounds(),o=new O(r.width/2,r.height/2),n&&(a=t-l.angle,s=r.center().rotate(n,360-a).minus(o),this._rotationOffset=this._rotationOffset.plus(s.minus(r.topLeft())),this.position(s)),this.visual.rotate(t,o),this.options.rotation.angle=t,this.diagram&&this.diagram._connectorsAdorner&&this.diagram._connectorsAdorner.refresh(),this.refreshConnections(),this.diagram&&this.diagram.trigger(be,{item:this})),l},connections:function(t){var e,n,i,r,o,a,s,l=[];for(e=0;this.connectors.length>e;e++)for(o=this.connectors[e],r=o.connections,n=0,r;r.length>n;n++)i=r[n],"out"==t?(a=i.source(),a.shape&&a.shape==this&&l.push(i)):"in"==t?(s=i.target(),s.shape&&s.shape==this&&l.push(i)):l.push(i);return l},refreshConnections:function(){t.each(this.connections(),function(){this.refresh()})},getConnector:function(t){var e,n;if(!oe(t))return t instanceof O?o(t,this):this.connectors.length?this.connectors[0]:null;for(t=t.toLocaleLowerCase(),e=0;this.connectors.length>e;e++)if(n=this.connectors[e],n.options.name.toLocaleLowerCase()==t)return n},getPosition:function(t){var e=this.bounds(),n=t.charAt(0).toLowerCase()+t.slice(1);return re(e[n])?this._transformPoint(e[n]()):e.center()},redraw:function(t){var e,n;t&&(e=this.options,this.shapeVisual.redraw(this._visualOptions(t)),this._diffNumericOptions(t,[Ue,We,je,Ge])&&(this.bounds(new I(e.x,e.y,e.width,e.height)),n=!0),e=C(e,t),(t.rotation||n)&&this._rotate(),e.content&&this.content(e.content))},_diffNumericOptions:w.diffNumericOptions,_visualOptions:function(t){return{data:t.path,source:t.source,hover:t.hover,fill:t.fill,stroke:t.stroke,startCap:t.startCap,endCap:t.endCap}},_triggerBoundsChange:function(){this.diagram&&this.diagram.trigger(de,{item:this,bounds:this._bounds.clone()})},_transformPoint:function(t){var e=this.rotate(),n=this.bounds(),i=n.topLeft();return e.angle&&t.rotate(e.center().plus(i),360-e.angle),t},_transformedBounds:function(){var t=this.bounds(),e=t.topLeft(),n=t.bottomRight();return I.fromPoints(this.diagram.modelToView(e),this.diagram.modelToView(n))},_rotatedBounds:function(){var t=this.bounds().rotatedBounds(this.rotate().angle),e=t.topLeft(),n=t.bottomRight();return I.fromPoints(e,n)},_rotate:function(){var t=this.options.rotation;t&&t.angle&&this.rotate(t.angle),this._rotationOffset=new O},_hover:function(t){var e=this.options,n=e.hover,i=e.stroke,r=e.fill;t&&ee(n.stroke)&&(i=C({},i,n.stroke)),t&&ee(n.fill)&&(r=n.fill),this.shapeVisual.redraw({stroke:i,fill:r}),e.editable&&e.editable.connect&&this.diagram._showConnectors(this,t)},_hitTest:function(t){if(this.visible()){var e,n=this.bounds(),i=this.rotate().angle;if(t.isEmpty&&!t.isEmpty())return N.rects(t,n,i?i:0);if(e=t.clone().rotate(n.center(),i),n.contains(e))return this}}}),f.createShapeVisual=function(t){function e(t,e){switch(t.toLocaleLowerCase()){case"rectangle":return new P(e);case"circle":return new M(e);case"text":return new F(e);case"image":return new R(e);default:var n=new L(e);return n}}function n(t,e){return e.data=t,new L(e)}function i(t,e,n){return t.call(e,n)}var r,o,a;return delete t.diagram,r=C({},t,{x:0,y:0}),o=r.visual,a=r.type,re(o)?i(o,this,r):r.path?n(r.path,r):oe(a)?e(r.type.toLocaleLowerCase(),r):new P(r)},p=d.extend({init:function(t,e,n){var i=this;d.fn.init.call(i,n),this.updateOptionsFromModel(),i._router=new Z(this),i.path=new w.Polyline(i.options),i.path.fill(He),i.visual.append(i.path),i._sourcePoint=i._targetPoint=new O,i.source(t),i.target(e),i.content(i.options.content),i.definers=[],ne(n)&&n.points&&i.points(n.points),i.refresh()},options:{hover:{stroke:{}},startCap:Te,endCap:Te,points:[],selectable:!0},updateOptionsFromModel:function(t){if(this.diagram&&this.diagram._isEditable){var e=l(t||this.options.dataItem);t?(ne(e.from)?this.source(e.from):ne(e.fromX)&&ne(e.fromY)&&this.source(new O(e.fromX,e.fromY)),ne(e.to)?this.target(e.to):ne(e.toX)&&ne(e.toY)&&this.target(new O(e.toX,e.toY)),this.options.dataItem=t,this._template(),this.redraw(this.options)):this.options=C({},e,this.options)}},updateModel:function(t){if(this.diagram&&this.diagram._isEditable&&this.diagram.connectionsDataSource){var e=this.diagram.connectionsDataSource.getByUid(this.options.dataItem.uid);e&&(this.diagram._shouldRefresh=!1,ne(this.options.fromX)&&null!==this.options.fromX?(e._set("from",null),e._set("fromX",this.options.fromX),e._set("fromY",this.options.fromY)):(e._set("from",this.options.from),e._set("fromX",null),e._set("fromY",null)),ne(this.options.toX)&&null!==this.options.toX?(e._set("to",null),e._set("toX",this.options.toX),e._set("toY",this.options.toY)):(e._set("to",this.options.to),e._set("toX",null),e._set("toY",null)),this.dataItem=this.options.dataItem=e,t!==!1&&(this.diagram._shouldRefresh=!0,e.trigger("change")))}},sourcePoint:function(){return this._resolvedSourceConnector?this._resolvedSourceConnector.position():this._sourcePoint},source:function(t,n){var i;return ee(t)&&(n&&this.diagram?this.diagram.undoRedoService.addCompositeItem(new w.ConnectionEditUnit(this,t)):(t!==e&&(this.from=t),null===t?this.sourceConnector&&(this._sourcePoint=this._resolvedSourceConnector.position(),this._clearSourceConnector()):t instanceof u?(i=t.shape.options.dataItem,i&&(this.options.from=i.id,this.options.fromX=null,this.options.fromY=null),this.sourceConnector=t,this.sourceConnector.connections.push(this)):t instanceof O?(this.options.fromX=t.x,this.options.fromY=t.y,this.options.from=null,this._sourcePoint=t,this.sourceConnector&&this._clearSourceConnector()):t instanceof f&&(i=t.options.dataItem,i&&(this.options.from=i.id,this.options.fromX=null,this.options.fromY=null),this.sourceConnector=t.getConnector(ge),this.sourceConnector.connections.push(this)),this.refresh())),this.sourceConnector?this.sourceConnector:this._sourcePoint},sourceDefiner:function(t){if(!t)return this._sourceDefiner||(this._sourceDefiner=new w.PathDefiner(this.sourcePoint(),null,null)),this._sourceDefiner;if(!(t instanceof w.PathDefiner))throw"The sourceDefiner needs to be a PathDefiner.";t.left=null,this._sourceDefiner=t,this.source(t.point)},targetPoint:function(){return this._resolvedTargetConnector?this._resolvedTargetConnector.position():this._targetPoint},target:function(t,n){var i;return ee(t)&&(n&&this.diagram?this.diagram.undoRedoService.addCompositeItem(new w.ConnectionEditUnit(this,t)):(t!==e&&(this.to=t),null===t?this.targetConnector&&(this._targetPoint=this._resolvedTargetConnector.position(),this._clearTargetConnector()):t instanceof u?(i=t.shape.options.dataItem,i&&(this.options.to=i.id,this.options.toX=null,this.options.toY=null),this.targetConnector=t,this.targetConnector.connections.push(this)):t instanceof O?(this.options.toX=t.x,this.options.toY=t.y,this.options.to=null,this._targetPoint=t,this.targetConnector&&this._clearTargetConnector()):t instanceof f&&(i=t.options.dataItem,i&&(this.options.to=i.id,this.options.toX=null,this.options.toY=null),this.targetConnector=t.getConnector(ge),this.targetConnector.connections.push(this))),this.refresh()),this.targetConnector?this.targetConnector:this._targetPoint},targetDefiner:function(t){if(!t)return this._targetDefiner||(this._targetDefiner=new w.PathDefiner(this.targetPoint(),null,null)),this._targetDefiner;if(!(t instanceof w.PathDefiner))throw"The sourceDefiner needs to be a PathDefiner.";t.right=null,this._targetDefiner=t,this.target(t.point)},content:function(t){return this._content(t)},select:function(t){var n,i,r=this.diagram;return this._canSelect()&&this.isSelected!==t?(this.isSelected=t,n=[],i=[],this.isSelected?(this.adorner=new V(this,this.options.selection),r._adorn(this.adorner,!0),r._selectedItems.push(this),n.push(this)):this.adorner&&(r._adorn(this.adorner,!1),$.remove(r._selectedItems,this),this.adorner=e,i.push(this)),this.refresh(),r._internalSelection||r._selectionChanged(n,i),!0):e},bounds:function(t){return!t||oe(t)?this._bounds:(this._bounds=t,e)},type:function(t){if(!t)return this._type;if(t!==this._type){switch(this._type=t,t.toLowerCase()){case ce.toLowerCase():this._router=new J(this);break;case he.toLowerCase():this._router=new Z(this);break;default:throw"Unsupported connection type."}this.refresh()}},points:function(t){var e,n,i,r;if(!t){if(i=[],ee(this.definers))for(r=0;this.definers.length>r;r++)i.push(this.definers[r].point);return i}for(this.definers=[],e=0;t.length>e;e++)if(n=t[e],n instanceof w.Point)this.definers.push(new w.PathDefiner(n));else{if(!n.hasOwnProperty("x")||!n.hasOwnProperty("y"))throw"A Connection point needs to be a Point or an object with x and y properties.";this.definers.push(new w.PathDefiner(new O(n.x,n.y)))}},allPoints:function(){var t,e=[this.sourcePoint()];if(this.definers)for(t=0;this.definers.length>t;t++)e.push(this.definers[t].point);return e.push(this.targetPoint()),e},refresh:function(){r(this);var t,e,n,i,o=this.sourcePoint(),a=this.targetPoint();this._refreshPath(),t=this._bounds.topLeft(),e=o.minus(t),n=a.minus(t),this._contentVisual&&(i=O.fn.middleOf(e,n),this._contentVisual.position(new O(i.x+t.x,i.y+t.y))),this.adorner&&this.adorner.refresh()},redraw:function(t){if(t){this.options=C({},this.options,t);var e=this.options.points;(t&&t.content||t.text)&&this.content(t.content),ne(e)&&e.length>0&&(this.points(e),this._refreshPath()),this.path.redraw({fill:t.fill,stroke:t.stroke,startCap:t.startCap,endCap:t.endCap})}},clone:function(){var t=this.serialize();return this.diagram&&this.diagram._isEditable&&ne(this.dataItem)&&(this.dataItem[this.dataItem.idField]=this.dataItem._defaultId),new p(this.from,this.to,t.options)},serialize:function(){var t=this.from.toJSON?this.from.toJSON:""+this.from,e=this.to.toJSON?this.to.toJSON:""+this.to,n=C({},{options:this.options,from:t,to:e});return ne(this.dataItem)&&(n.dataItem=""+this.dataItem),n.options.points=this.points(),n},_hitTest:function(t){if(this.visible()){var e=new O(t.x,t.y),n=this.sourcePoint(),i=this.targetPoint();if(t.isEmpty&&!t.isEmpty()&&t.contains(n)&&t.contains(i))return this;if(this._router.hitTest(e))return this}},_hover:function(t){var e=(this.options.stroke||{}).color;t&&ee(this.options.hover.stroke.color)&&(e=this.options.hover.stroke.color),this.path.redraw({stroke:{color:e}})},_refreshPath:function(){ne(this.path)&&(this._drawPath(),this.bounds(this._router.getBounds()))},_drawPath:function(){var t,e,n;this._router&&this._router.route(),t=this.sourcePoint(),e=this.targetPoint(),n=this.points(),this.path.redraw({points:[t].concat(n,[e])})},_clearSourceConnector:function(){$.remove(this.sourceConnector.connections,this),this.sourceConnector=e,this._resolvedSourceConnector=e},_clearTargetConnector:function(){$.remove(this.targetConnector.connections,this),this.targetConnector=e,this._resolvedTargetConnector=e}}),g=x.extend({init:function(t,e){var n=this;kendo.destroy(t),x.fn.init.call(n,t,e),n._initElements(),n._initTheme(),n._extendLayoutOptions(n.options),n._initShapeDefaults(),n._initCanvas(),n.mainLayer=new A({id:"main-layer"}),n.canvas.append(n.mainLayer),n._pan=new O,n._adorners=[],n.adornerLayer=new A({id:"adorner-layer"}),n.canvas.append(n.adornerLayer),n._createHandlers(),n._initialize(),n._fetchFreshData(),n._resizingAdorner=new j(n,{editable:n.options.editable}),n._connectorsAdorner=new G(n),n._adorn(n._resizingAdorner,!0),n._adorn(n._connectorsAdorner,!0),n.selector=new W(n),n._clipboard=[],n.options.layout&&n.layout(n.options.layout),n.pauseMouseHandlers=!1,n._createShapes(),n._createConnections(),n.zoom(n.options.zoom),n.canvas.draw(),this._shouldRefresh=!0},options:{name:"Diagram",theme:"default",layout:"",zoomRate:.1,zoom:1,minZoom:0,maxZoom:2,dataSource:{},draggable:!0,template:"",autoBind:!0,editable:{rotate:{},resize:{},text:!0},tooltip:{enabled:!0,format:"{0}"},copy:{enabled:!0,offsetX:20,offsetY:20},snap:{enabled:!0,size:10,angle:10},shapeDefaults:w.shapeDefaults({undoable:!0}),connectionDefaults:{},shapes:[],connections:[]},events:[Se,Ce,ke,xe,be,de,ue,fe,"toolBarClick","save","cancel","edit","remove","add","dataBound"],edit:function(t){var e,n,i,r,o;if(this.cancelEdit(),r=this.options.editable,t instanceof f)e="shape",n=r.shapeEditors,i=r.shapeTemplate;else{if(!(t instanceof p))return;
e="connection",o=k(c,this),n=C({},{from:o,to:o},r.connectionEditors),i=r.connectionTemplate}t.options.dataItem&&(this.editor=new y(this.element,{update:k(this._update,this),cancel:k(this._cancel,this),model:t.dataItem,type:e,target:this,editors:n,template:i}),this.trigger("edit",this._editArgs()))},cancelEdit:function(){this.editor&&(this._getEditDataSource().cancelChanges(this.editor.model),this._destroyEditor())},saveEdit:function(){this.editor&&this.editor.end()&&!this.trigger("save",this._editArgs())&&this._getEditDataSource().sync()},_update:function(){this.editor&&this.editor.end()&&!this.trigger("save",this._editArgs())&&(this._getEditDataSource().sync(),this._destroyEditor())},_cancel:function(){this.editor&&!this.trigger("cancel",this._editArgs())&&(this._getEditDataSource().cancelChanges(this.editor.model),this._destroyEditor())},_getEditDataSource:function(){return"shape"===this.editor.options.type?this.dataSource:this.connectionsDataSource},_editArgs:function(){var t={container:this.editor.element};return t[this.editor.options.type]=this.editor.model,t},_destroyEditor:function(){this.editor&&(this.editor.close(),this.editor=null)},_initElements:function(){this.wrapper=this.element.empty().css("position","relative").attr("tabindex",0).addClass("k-widget k-diagram"),this.scrollable=t("<div />").appendTo(this.element)},_initShapeDefaults:function(){var t=this.options;t.editable===!1&&C(t.shapeDefaults,{editable:{connect:!1}})},_initCanvas:function(){var e=t("<div class='k-layer'></div>").appendTo(this.scrollable)[0],n=this.viewport();this.canvas=new D(e,{width:n.width||De,height:n.height||Ae})},_createHandlers:function(){var t=this,e=t.element;e.on(qe,k(t._wheel,t)),kendo.support.touch||kendo.support.mobileOS?(t._userEvents=new kendo.UserEvents(e,{multiTouch:!0,tap:k(t._tap,t)}),t._userEvents.bind(["gesturestart","gesturechange","gestureend"],{gesturestart:k(t._gestureStart,t),gesturechange:k(t._gestureChange,t),gestureend:k(t._gestureEnd,t)}),t.toolService=new U(t),t.scroller.enable()):(t.toolService=new U(t),e.find(".k-layer").on("mousemove"+le,k(t._mouseMove,t)).on("mouseup"+le,k(t._mouseUp,t)).on("mousedown"+le,k(t._mouseDown,t)).on("mouseover"+le,k(t._mouseover,t)).on("mouseout"+le,k(t._mouseout,t)),e.on("keydown"+le,k(t._keydown,t))),t._resizeHandler=k(t.resize,t),kendo.onResize(t._resizeHandler),this.bind("zoom",k(t._destroyToolBar,t)),this.bind("pan",k(t._destroyToolBar,t))},_tap:function(t){var e=this._caculateMobilePosition(t),n=this._meta(t);this.toolService.start(e,n)&&(this._destroyToolBar(),this.toolService.end(e,n)&&(this._createToolBar(),t.preventDefault()))},_caculateMobilePosition:function(t){return this.documentToModel(O(t.x.location,t.y.location))},_gestureStart:function(t){this._destroyToolBar(),this.scroller.disable(),this._gesture=t,this._initialCenter=this.documentToModel(new O(t.center.x,t.center.y)),this.trigger(Ce,{point:this._initialCenter,zoom:this.zoom()})},_gestureChange:function(t){var e,n,i=this._gesture,r=this._initialCenter,o=this.documentToView(new O(t.center.x,t.center.y)),a=t.distance/i.distance,s=this._zoom,l=!1;se.abs(a-1)>=$e&&(this._zoom=s=this._getValidZoom(s*a),this.options.zoom=s,this._gesture=t,l=!0),e=r.times(s),n=o.minus(e),(l||this._pan.distanceTo(n)>=Ye)&&(this._panTransform(n),this._updateAdorners()),t.preventDefault()},_gestureEnd:function(){this.scroller.enable(),this.trigger(Se,{point:this._initialCenter,zoom:this.zoom()})},_resize:function(t){this.canvas&&this.canvas.size(t)},_mouseover:function(t){var e=t.target._kendoNode;e&&e.srcElement._hover&&e.srcElement._hover(!0,e.srcElement)},_mouseout:function(t){var e=t.target._kendoNode;e&&e.srcElement._hover&&e.srcElement._hover(!1,e.srcElement)},_initTheme:function(){var t=this,e=_.ui.themes||{},n=((t.options||{}).theme||"").toLowerCase(),i=(e[n]||{}).diagram;t.options=C({},i,t.options)},_createShapes:function(){var t,e,n=this,i=n.options,r=i.shapes;for(e=0;r.length>e;e++)t=r[e],n.addShape(t)},_createConnections:function(){var t,e,n,i,r=this,o=r.options,a=o.connectionDefaults,s=o.connections;for(i=0;s.length>i;i++)t=s[i],e=r._findConnectionShape(t.from),n=r._findConnectionShape(t.to),r.connect(e,n,C({},a,t))},_findConnectionShape:function(t){var e=this,n=oe(t)?t:t.shapeId,i=e.getShapeById(n);return i.getConnector(t.connector||ge)},destroy:function(){var t=this;x.fn.destroy.call(t),this._userEvents&&this._userEvents.destroy(),kendo.unbindResize(t._resizeHandler),t.clear(),t.element.off(le),t.canvas.destroy(!0),t.canvas=e,t.destroyScroller()},destroyScroller:function(){var t=this.scroller;t&&(t.destroy(),t.element.remove(),this.scroller=null)},save:function(){var t,e,n,i,r={};for(r.shapes=[],r.connections=[],t=0;this.shapes.length>t;t++)e=this.shapes[t],e.options.serializable&&r.shapes.push(e.options);for(t=0;this.connections.length>t;t++)n=this.connections[t],i=C({},{from:n.from.toJSON(),to:n.to.toJSON()},n.options),r.connections.push(i);return r},focus:function(){if(!this.element.is(kendo._activeElement())){var t,e=this.element,n=e[0],i=[],r=[],o=document.documentElement;do n=n.parentNode,n.scrollHeight>n.clientHeight&&(i.push(n),r.push(n.scrollTop));while(n!=o);for(e.focus(),t=0;i.length>t;t++)i[t].scrollTop=r[t]}},load:function(t){this.clear(),this.setOptions(t),this._createShapes(),this._createConnections()},setOptions:function(t){C(this.options,t)},clear:function(){var t=this;t.select(!1),t.mainLayer.clear(),t._initialize()},connect:function(t,e,n){var i,r;return this.connectionsDataSource&&this._isEditable?(r=this.connectionsDataSource.add({}),i=this._connectionsDataMap[r.uid],i.source(t),i.target(e),this.connectionsDataSource.sync()):(i=new p(t,e,C({},this.options.connectionDefaults,n)),this.addConnection(i)),i},connected:function(t,e){var n,i;for(n=0;this.connections.length>n;n++)if(i=this.connections[n],i.from==t&&i.to==e)return!0;return!1},addConnection:function(t,e){return e!==!1&&this.undoRedoService.add(new w.AddConnectionUnit(t,this),!1),t.diagram=this,this.mainLayer.append(t.visual),this.connections.push(t),t.updateOptionsFromModel(),t},_addConnection:function(t,e){if(this.connectionsDataSource&&this._isEditable){var n=this.connectionsDataSource.add(t.options.dataItem);t.dataItem=t.options.dataItem=n,t.updateModel(!1),this.connectionsDataSource.sync(),this._connectionsDataMap[t.options.dataItem.uid]=t}return this.addConnection(t,e)},addShape:function(t,e){var n,i=this.options.shapeDefaults;if(t instanceof f)i=C({},i,e),t.redraw(e),n=t;else{if(t instanceof kendo.Class)return;i=C({},i,t||{}),n=new f(i)}return i.undoable&&this.undoRedoService.add(new w.AddShapeUnit(n,this),!1),this.shapes.push(n),n.diagram=this,this.mainLayer.append(n.visual),this.trigger(ue,{added:[n],removed:[]}),n.hasOwnProperty("layout")&&n.layout(n),n},_addShape:function(t,e){if(this.dataSource&&this._isEditable)if(this.trigger("add",{shape:t.options.dataItem}))this._remove(t,!1);else{var n=this.dataSource.add(t.options.dataItem);this.dataSource.sync(),t.options.dataItem&&(this._dataMap[t.options.dataItem.id]=t,t.options.dataItem=n)}return this.addShape(t,e)},remove:function(t,e){var n,i=ie(t);if(te(e)&&(e=!0),e&&this.undoRedoService.begin(),i)for(t=t.slice(0),n=0;t.length>n;n++)this._removeItem(t[n],e);else(t instanceof f||t instanceof p)&&this._removeItem(t,e);e&&this.undoRedoService.commit(),this.trigger(ue,{added:[],removed:i?t:[t]})},_remove:function(t,e){var n,i={};this._isEditable&&(t.length?this._destroyToolBar():(t instanceof p?this.connectionsDataSource&&(n=this.ConnectionsDataSource,i.connection=t.options.dataItem):this.dataSource&&(n=this.dataSource,i.shape=t.options.dataItem),n&&!this.trigger("remove",i)&&(n.remove(t.options.dataItem),n.sync()))),this.remove(t,e)},undo:function(){this.undoRedoService.undo()},redo:function(){this.undoRedoService.redo()},select:function(t,e){if(!ee(t))return this._selectedItems;e=C({addToSelection:!1},e);var n,i,r=e.addToSelection,o=[],a=[];for(r||this.deselect(),this._internalSelection=!0,t instanceof Array?o=t:t instanceof d&&(o=[t]),n=0;o.length>n;n++)i=o[n],i.select(!0)&&a.push(i);this._selectionChanged(a,[]),this._internalSelection=!1},selectAll:function(){this.select(this.shapes.concat(this.connections))},selectArea:function(t){var e,n,i,r;if(this._internalSelection=!0,r=[],t instanceof I)for(n=this.shapes.concat(this.connections),e=0;n.length>e;e++)i=n[e],t&&!i._hitTest(t)||!i.options.enable||i.select(!0)&&r.push(i);this._selectionChanged(r,[]),this._internalSelection=!1},deselect:function(t){this._internalSelection=!0;var e,n,i=[],r=[];for(t instanceof Array?r=t:t instanceof d?r.push(t):ee(t)||(r=this._selectedItems.slice(0)),n=0;r.length>n;n++)e=r[n],e.select(!1)&&i.push(e);this._selectionChanged([],i),this._internalSelection=!1},toFront:function(t,e){var n,i,r;t||(t=this._selectedItems.slice()),n=this._getDiagramItems(t),!ne(e)||e?(i=a(this.mainLayer,n.visuals),r=new Q(this,t,i),this.undoRedoService.add(r)):(this.mainLayer.toFront(n.visuals),this._fixOrdering(n,!0))},toBack:function(t,e){var n,i,r;t||(t=this._selectedItems.slice()),n=this._getDiagramItems(t),!ne(e)||e?(i=a(this.mainLayer,n.visuals),r=new X(this,t,i),this.undoRedoService.add(r)):(this.mainLayer.toBack(n.visuals),this._fixOrdering(n,!1))},bringIntoView:function(t,e){var n,i,r,o,a=this.viewport(),s=new w.RectAlign(a);0!==a.width&&0!==a.height&&(e=C({animate:!1,align:"center middle"},e),"none"==e.align&&(e.align="center middle"),t instanceof d?i=t.bounds(Ne):ie(t)?i=this.boundingBox(t):t instanceof I&&(i=t.clone()),r=i.clone(),i.zoom(this._zoom),this._storePan(new O),(i.width>a.width||i.height>a.height)&&(this._zoom=this._getValidZoom(se.min(a.width/r.width,a.height/r.height)),i=r.clone().zoom(this._zoom)),this._zoomMainLayer(),n=i.clone(),s.align(i,e.align),o=i.topLeft().minus(n.topLeft()),this.pan(o.times(-1),e.animate))},alignShapes:function(t){var e,n,i,r,o,a,s;if(te(t)&&(t="Left"),e=this.select(),0!==e.length){switch(t.toLowerCase()){case"left":case"top":n=Fe;break;case"right":case"bottom":n=Re}for(r=0;e.length>r;r++)if(i=e[r],i instanceof f)switch(t.toLowerCase()){case"left":n=se.min(n,i.options.x);break;case"top":n=se.min(n,i.options.y);break;case"right":n=se.max(n,i.options.x);break;case"bottom":n=se.max(n,i.options.y)}for(o=[],a=[],r=0;e.length>r;r++)if(i=e[r],i instanceof f)switch(a.push(i),o.push(i.bounds()),t.toLowerCase()){case"left":case"right":i.position(new O(n,i.options.y));break;case"top":case"bottom":i.position(new O(i.options.x,n))}s=new w.TransformUnit(a,o),this.undoRedoService.add(s,!1)}},zoom:function(t,e){var n,i,r,o;return t&&(n=e?e.point:new w.Point(0,0),t=this._zoom=this._getValidZoom(t),te(n)||(n=new w.Point(se.round(n.x),se.round(n.y)),i=n.times(t),r=this.modelToView(n),o=r.minus(i),this._storePan(new w.Point(se.round(o.x),se.round(o.y)))),e&&(e.zoom=t),this._panTransform(),this._updateAdorners()),this._zoom},_getPan:function(t){var e=this.canvas;return e.translate||(t=t.plus(this._pan)),t},pan:function(t,e){var n,i;t instanceof O&&(n=this,i=n.scroller,t=n._getPan(t),t=t.times(-1),e?i.animatedScrollTo(t.x,t.y,function(){n._updateAdorners()}):(i.scrollTo(t.x,t.y),n._updateAdorners()))},viewport:function(){var t=this.element;return new I(0,0,t.width(),t.height())},copy:function(){var t,e;if(this.options.copy.enabled)for(this._clipboard=[],this._copyOffset=1,t=0;this._selectedItems.length>t;t++)e=this._selectedItems[t],this._clipboard.push(e)},cut:function(){var t,e;if(this.options.copy.enabled){for(this._clipboard=[],this._copyOffset=0,t=0;this._selectedItems.length>t;t++)e=this._selectedItems[t],this._clipboard.push(e);this.remove(this._clipboard)}},paste:function(){var t,e,n,i,r,o,a,s;if(this._clipboard.length>0){for(s=new K,t=this._copyOffset*this.options.copy.offsetX,e=this._copyOffset*this.options.copy.offsetY,this.deselect(),a=0;this._clipboard.length>a;a++)n=this._clipboard[a],n instanceof p||(i=n.clone(),s.set(n.id,i.id),this._addShape(i),i.position(new O(n.options.x+t,n.options.y+e)),i.select(!0),i.updateModel());for(a=0;this._clipboard.length>a;a++)n=this._clipboard[a],n instanceof f||(i=n.clone(),n.source()instanceof u&&(r=n.source(),s.containsKey(r.shape.id)?(o=this.getShapeById(s.get(r.shape.id)),i.source(o.getConnector(r.options.name))):i.source(new O(n.sourcePoint().x+t,n.sourcePoint().y+e))),n.target()instanceof u&&(r=n.target(),s.containsKey(r.shape.id)?(o=this.getShapeById(s.get(r.shape.id)),i.target(o.getConnector(r.options.name))):i.target(new O(n.targetPoint().x+t,n.targetPoint().y+e))),this._addConnection(i),i.position(new O(n.options.x+t,n.options.y+e)),i.select(!0),i.updateModel());this._copyOffset+=1}},boundingBox:function(t,e){var n,i,r,o=I.empty(),a=ee(t)?this._getDiagramItems(t):{shapes:this.shapes};if(a.shapes.length>0)for(i=a.shapes[0],e===!0&&(o.x-=i._rotationOffset.x,o.y-=i._rotationOffset.y),o=i.bounds(Ve),r=1;a.shapes.length>r;r++)i=a.shapes[r],n=i.bounds(Ve),e===!0&&(n.x-=i._rotationOffset.x,n.y-=i._rotationOffset.y),o=o.union(n);return o},documentToView:function(t){var e=this.element.offset();return new O(t.x-e.left,t.y-e.top)},viewToDocument:function(t){var e=this.element.offset();return new O(t.x+e.left,t.y+e.top)},viewToModel:function(t){return this._transformWithMatrix(t,this._matrixInvert)},modelToView:function(t){return this._transformWithMatrix(t,this._matrix)},modelToLayer:function(t){return this._transformWithMatrix(t,this._layerMatrix)},layerToModel:function(t){return this._transformWithMatrix(t,this._layerMatrixInvert)},documentToModel:function(t){var e=this.documentToView(t);return this.canvas.translate||(e.x=e.x+this.scroller.scrollLeft,e.y=e.y+this.scroller.scrollTop),this.viewToModel(e)},modelToDocument:function(t){return this.viewToDocument(this.modelToView(t))},_transformWithMatrix:function(t,e){var n,i,r=t;return t instanceof O?e&&(r=e.apply(t)):(n=this._transformWithMatrix(t.topLeft(),e),i=this._transformWithMatrix(t.bottomRight(),e),r=I.fromPoints(n,i)),r},setDataSource:function(t){this.options.dataSource=t,this._dataSource(),this.options.autoBind&&this.dataSource.fetch()},layout:function(t){var e,n,i,r,o;switch(this.isLayouting=!0,te(t)&&(t=this.options.layout),e=te(t)||te(t.type)?"Tree":t.type,e.toLowerCase()){case"tree":n=new w.TreeLayout(this);break;case"layered":n=new w.LayeredLayout(this);break;case"forcedirected":case"force":case"spring":case"springembedder":n=new w.SpringLayout(this);break;default:throw"Layout algorithm '"+e+"' is not supported."}i=new w.LayoutState(this),r=n.layout(t),r&&(o=new w.LayoutUndoUnit(i,r,t?t.animate:null),this.undoRedoService.add(o)),this.isLayouting=!1},getShapeById:function(t){var e;return(e=$.first(this.shapes,function(e){return e.visual.id===t}))?e:e=$.first(this.connections,function(e){return e.visual.id===t})},_extendLayoutOptions:function(t){t.layout&&(t.layout=C(w.LayoutBase.fn.defaultOptions||{},t.layout))},_selectionChanged:function(t,e){(t.length||e.length)&&this.trigger(xe,{selected:t,deselected:e})},_getValidZoom:function(t){return se.min(se.max(t,this.options.minZoom),this.options.maxZoom)},_panTransform:function(t){var e=this,n=t||e._pan;e.canvas.translate?(e.scroller.scrollTo(n.x,n.y),e._zoomMainLayer()):(e._storePan(n),e._transformMainLayer())},_finishPan:function(){this.trigger(ke,{total:this._pan,delta:Number.NaN})},_storePan:function(t){this._pan=t,this._storeViewMatrix()},_zoomMainLayer:function(){var t=this._zoom,e=new E(0,0,t,t);e.render(this.mainLayer),this._storeLayerMatrix(e),this._storeViewMatrix()},_transformMainLayer:function(){var t=this._pan,e=this._zoom,n=new E(t.x,t.y,e,e);n.render(this.mainLayer),this._storeLayerMatrix(n),this._storeViewMatrix()},_storeLayerMatrix:function(t){this._layerMatrix=t.toMatrix(),this._layerMatrixInvert=t.invert().toMatrix()},_storeViewMatrix:function(){var t=this._pan,e=this._zoom,n=new E(t.x,t.y,e,e);this._matrix=n.toMatrix(),this._matrixInvert=n.invert().toMatrix()},_toIndex:function(t,e){var n=this._getDiagramItems(t);this.mainLayer.toIndex(n.visuals,e),this._fixOrdering(n,!1)},_fixOrdering:function(t,e){var n,i,r=e?this.shapes.length-1:0,o=e?this.connections.length-1:0;for(n=0;t.shapes.length>n;n++)i=t.shapes[n],$.remove(this.shapes,i),$.insert(this.shapes,i,r);for(n=0;t.cons.length>n;n++)i=t.cons[n],$.remove(this.connections,i),$.insert(this.connections,i,o)},_getDiagramItems:function(t){var e,n,i={},r=t;for(i.visuals=[],i.shapes=[],i.cons=[],t?ie(t)||(r=[t]):r=this._selectedItems.slice(),e=0;r.length>e;e++)n=r[e],n instanceof f?(i.shapes.push(n),i.visuals.push(n.visual)):n instanceof p&&(i.cons.push(n),i.visuals.push(n.visual));return i},_removeItem:function(t,e){t.select(!1),t instanceof f?this._removeShape(t,e):t instanceof p&&this._removeConnection(t,e),e||this.mainLayer.remove(t.visual)},_removeShape:function(t,e){var n,i,r,o,a=[],s=[];for(this.toolService._removeHover(),e?this.undoRedoService.addCompositeItem(new B(t)):$.remove(this.shapes,t),n=0;t.connectors.length>n;n++)for(r=t.connectors[n],o=0;r.connections.length>o;o++)i=r.connections[o],i.sourceConnector==r?a.push(i):i.targetConnector==r&&s.push(i);for(n=0;a.length>n;n++)a[n].source(null,e);for(n=0;s.length>n;n++)s[n].target(null,e)},_removeConnection:function(t,e){t.sourceConnector&&$.remove(t.sourceConnector.connections,t),t.targetConnector&&$.remove(t.targetConnector.connections,t),e?this.undoRedoService.addCompositeItem(new z(t)):$.remove(this.connections,t)},_removeDataItems:function(t,e){var n,i,r,o;for(t=ie(t)?t:[t];t.length;)if(n=t.shift(),r=this._dataMap[n.uid],r&&(this._removeShapeConnections(r),this._removeItem(r,!1),delete this._dataMap[n.uid],e&&n.hasChildren&&n.loaded()))for(i=n.children.data(),o=0;i.length>o;o++)t.push(i[o])},_removeShapeConnections:function(t){var e,n=t.connections();if(n)for(e=0;n.length>e;e++)this._removeItem(n[e],!1)},_addDataItem:function(t,e){if(ne(t)){var n=this._dataMap[t.id];return n?n:(e=C({},this.options.shapeDefaults,e),e.dataItem=t,n=new f(e),this.addShape(n),this._dataMap[t.id]=n,n)}},_addDataItemByUid:function(t){var e,n;if(ne(t))return(e=this._dataMap[t.uid])?e:(n=C({},this.options.shapeDefaults),n.dataItem=t,e=new f(n),this.addShape(e),this._dataMap[t.uid]=e,e)},_addDataItems:function(t,e){var n,i,r,o,a;for(i=0;t.length>i;i++)n=t[i],r=this._addDataItemByUid(n),o=this._addDataItemByUid(e),o&&!this.connected(o,r)&&(a=this.connect(o,r),a.type(ce))},_refreshSource:function(t){var e,n=this,i=t.node,r=t.action,o=t.items,a=n.options;if(!t.field){if("remove"==r)this._removeDataItems(t.items,!0);else for(r||i||n.clear(),this._addDataItems(o,i),e=0;o.length>e;e++)o[e].load();a.layout&&n.layout(a.layout)}},_mouseDown:function(t){var e=this._calculatePosition(t);1==t.which&&this.toolService.start(e,this._meta(t))&&(this._destroyToolBar(),t.preventDefault())},_addItem:function(t){t instanceof f?this.addShape(t):t instanceof p&&this.addConnection(t)},_mouseUp:function(t){var e=this._calculatePosition(t);1==t.which&&this.toolService.end(e,this._meta(t))&&(this._isEditable&&this._createToolBar(),t.preventDefault())},_createToolBar:function(){var t,e,n,i,r,o,a,s,l,c,h,d,u,g,v=this.toolService.diagram;this.toolBar||1!==v.select().length||(t=this.toolService.hoveredItem,t&&(e=t.options.editable.tools,e&&(n=20,this.toolBar=new m(v,{tools:e,click:k(this._toolBarClick,this)}),r=this.toolBar.element,o=this.toolBar._popup.element.outerWidth(),a=this.toolBar._popup.element.outerHeight(),t instanceof f?(s=this._resizingAdorner.bounds(),l=t._transformedBounds(),i=O(l.x,l.y).minus(O((o-s.width)/2,a+n))):t instanceof p&&(c=t.bounds(),h=c.topLeft(),d=c.bottomRight(),u=I.fromPoints(this.modelToView(h),this.modelToView(d)),i=O(u.x,u.y).minus(O((o-c.width-20)/2,a+n))),i?(g=this.element.offset(),i=O(i.x+g.left-8,i.y+g.top),i=O(se.max(i.x,0),se.max(i.y,0)),this.toolBar.show(i)):this._destroyToolBar())))},_toolBarClick:function(t){this.trigger("toolBarClick",t),this._destroyToolBar()},_mouseMove:function(t){if(!this.pauseMouseHandlers){var e=this._calculatePosition(t);0!==t.which&&1!=t.which||!this.toolService.move(e,this._meta(t))||t.preventDefault()}},_keydown:function(t){this.toolService.keyDown(t.keyCode,this._meta(t))&&t.preventDefault()},_wheel:function(t){var e=n(t),i=this._calculatePosition(t),r=C(this._meta(t),{delta:e});this.toolService.wheel(i,r)&&t.preventDefault()},_meta:function(t){return{ctrlKey:t.ctrlKey,metaKey:t.metaKey,altKey:t.altKey}},_calculatePosition:function(t){var n=t.pageX===e?t.originalEvent:t,i=new O(n.pageX,n.pageY),r=this.documentToModel(i);return r},_normalizePointZoom:function(t){return t.times(1/this.zoom())},_initialize:function(){this.shapes=[],this._selectedItems=[],this.connections=[],this._dataMap={},this._connectionsDataMap={},this._inactiveShapeItems=[],this._inactiveConnectionItems=[],this.undoRedoService=new H,this.id=w.randomId()},_fetchFreshData:function(){this._dataSource(),this._isEditable&&this._connectionDataSource(),this.options.autoBind&&(this.dataSource.fetch(),this._isEditable&&this.connectionsDataSource&&this.connectionsDataSource.fetch())},_dataSource:function(){var t,e;this._isTreeDataSource()?(this._treeDataSource(),this._isEditable=!1):(this._isEditable=!0,t=this.options.dataSource||{},e=ie(t)?{data:t}:t,this.dataSource&&this._shapesRefreshHandler?this.dataSource.unbind("change",this._shapesRefreshHandler).unbind("error",this._shapesErrorHandler):(this._shapesRefreshHandler=k(this._refreshShapes,this),this._shapesErrorHandler=k(this._error,this)),this.dataSource=kendo.data.DataSource.create(e).bind("change",this._shapesRefreshHandler).bind("error",this._shapesErrorHandler))},_isTreeDataSource:function(){var t=this.options.dataSource||{},e=ne(t.schema)&&ne(t.schema.model)&&ne(t.schema.model.children);return t instanceof kendo.data.HierarchicalDataSource||e},_connectionDataSource:function(){var t,e=this.options.connectionsDataSource;e&&(t=ie(e)?{data:e}:e,this.connectionsDataSource&&this._connectionsRefreshHandler?this.connectionsDataSource.unbind("change",this._connectionsRefreshHandler).unbind("error",this._connectionsErrorHandler):(this._connectionsRefreshHandler=k(this._refreshConnections,this),this._connectionsErrorHandler=k(this._error,this)),this.connectionsDataSource=kendo.data.DataSource.create(t).bind("change",this._connectionsRefreshHandler).bind("error",this._connectionsErrorHandler))},_refreshShapes:function(t){"remove"===t.action?this._removeShapes(t.items):"itemchange"===t.action?this._updateShapes(t.items,t.field):"add"===t.action?this._inactiveShapeItems=this._inactiveShapeItems.concat(t.items):"sync"===t.action?this._syncShapes(t.items):(this._shapeLoaded=!0,this._connectionsLoaded&&this._shapeLoaded&&(this._connectionsLoaded=this._shapeLoaded=!1,this.trigger("dataBound")),this.clear(),this._addShapes(t.sender.view()),this.connectionsDataSource&&this._addConnections(this.connectionsDataSource.view()),this.options.layout&&this.layout(this.options.layout))},_removeShapes:function(t){for(var e=0;t.length>e;e++)this._dataMap[t[e].id]=null},_syncShapes:function(t){var e,n,i,r,o=[],a=!1;for(n=0;this._inactiveShapeItems.length>n;n++){for(r=this._inactiveShapeItems[n],e=0;t.length>e;e++)if(i=t[e],r.uid===i.uid){this._addDataItem(i),a=!0;break}a||(o.push(r),a=!1)}this._inactiveShapeItems=o},_updateShapes:function(t){var e,n,i;for(e=0;t.length>e;e++)n=t[e],i=this._dataMap[n.id],i.updateOptionsFromModel(n)},_addShapes:function(t){for(var e=0;t.length>e;e++)this._addDataItem(t[e])},_refreshConnections:function(t){"remove"===t.action?this._removeConnections(t.items):"add"===t.action?(this._inactiveConnectionItems=this._inactiveConnectionItems.concat(t.items),this._addConnections(t.items)):"sync"===t.action?this._syncConnections(t.items):"itemchange"===t.action?this._shouldRefresh&&this._updateConnections(t.items):(this._connectionsLoaded=!0,this._connectionsLoaded&&this._shapeLoaded&&(this._connectionsLoaded=this._shapeLoaded=!1,this.trigger("dataBound")),this._addConnections(t.sender.view()),this.options.layout&&this.layout(this.options.layout))},_removeConnections:function(t){for(var e=0;t.length>e;e++)this.remove(this._connectionsDataMap[t[e].uid],!1),this._connectionsDataMap[t[e].uid]=null},_syncConnections:function(t){var e,n,i,r,o=[],a=!1;for(n=0;this._inactiveConnectionItems.length>n;n++){for(r=this._inactiveConnectionItems[n],e=0;t.length>e;e++)if(i=t[e],r.uid===i.uid){this._addConnectionDataItem(i),a=!0;break}a||(o.push(r),a=!1)}this._inactiveConnectionDataMaps=o},_updateConnections:function(t){var e,n,i,r,o;for(e=0;t.length>e;e++)n=t[e],i=this._connectionsDataMap[n.uid],i.updateOptionsFromModel(n),r=this._validateConnector(n.from),r&&i.source(r),o=this._validateConnector(n.to),o&&i.target(o)},_addConnections:function(t){var e,n,i=t.length;for(e=0;i>e;e++)n=t[e],this._addConnectionDataItem(n)},_addConnectionDataItem:function(t){var e,n,i,r;this._connectionsDataMap[t.uid]||(e=this._validateConnector(t.from),ne(e)&&null!==e||(e=new O(t.fromX,t.fromY)),n=this._validateConnector(t.to),ne(n)&&null!==n||(n=new O(t.toX,t.toY)),ne(e)&&ne(n)&&(i=C({},this.options.connectionDefaults),i.dataItem=t,r=new p(e,n,i),r.type(ce),this._connectionsDataMap[t.uid]=r,this.addConnection(r)))},_validateConnector:function(t){var e;return ne(t)&&null!==t&&(e=this._dataMap[t]),e},_treeDataSource:function(){var t=this,e=t.options,n=e.dataSource;n=ie(n)?{data:n}:n,n.fields||(n.fields=[{field:"text"},{field:"url"},{field:"spriteCssClass"},{field:"imageUrl"}]),t.dataSource&&t._refreshHandler&&t._unbindDataSource(),t._refreshHandler=k(t._refreshSource,t),t._errorHandler=k(t._error,t),t.dataSource=T.create(n).bind(ue,t._refreshHandler).bind(pe,t._errorHandler)},_unbindDataSource:function(){var t=this;t.dataSource.unbind(ue,t._refreshHandler).unbind(pe,t._errorHandler)},_error:function(){},_adorn:function(t,n){n!==e&&t&&(n?(this._adorners.push(t),this.adornerLayer.append(t.visual)):($.remove(this._adorners,t),this.adornerLayer.remove(t.visual)))},_showConnectors:function(t,e){e?this._connectorsAdorner.show(t):this._connectorsAdorner.destroy()},_updateAdorners:function(){var t,e,n=this._adorners;for(t=0;n.length>t;t++)e=n[t],e.refreshBounds&&e.refreshBounds(),e.refresh()},_refresh:function(){for(var t=0;this.connections.length>t;t++)this.connections[t].refresh()},_destroyToolBar:function(){this.toolBar&&(this.toolBar.hide(),this.toolBar.destroy(),this.toolBar=null)}}),m=kendo.Observable.extend({init:function(t,e){kendo.Observable.fn.init.call(this),this.diagram=t,this.options=C({},this.options,e),this.createToolBar(),this.createTools(this.options.tools),this.createPopup(),this.bind(this.events,e)},events:["click"],createPopup:function(){this.container=t("<div></div>").append(this.element),this._popup=this.container.kendoPopup({}).getKendoPopup()},createToolBar:function(){this.element=t("<div id='diagramToolBar'></div>"),this._toolBar=this.element.kendoToolBar({click:k(this.click,this),resizable:!1}).getKendoToolBar()},createTools:function(){var t,e;for(t=0;this.options.tools.length>t;t++)e=this.options.tools[t],this.createTool(e)},createTool:function(t){ae(t)?t.type?this[t.type+"Tool"]():t.template&&this._toolBar.add({template:t.template}):(t=this[t+"Tool"](),t&&t.call(this))},show:function(t){this._popup.open(t.x,t.y)},hide:function(){this._popup.close()},editTool:function(){this._toolBar.add({spriteCssClass:"k-icon k-i-pencil",type:"button",showText:"overflow",text:"Edit",attributes:this._getAttribute("edit")})},deleteTool:function(){this._toolBar.add({spriteCssClass:"k-icon k-i-close",showText:"overflow",type:"button",text:"delete",attributes:this._getAttribute("delete")})},rotateTool:function(){this._toolBar.add({type:"buttonGroup",buttons:[{spriteCssClass:"k-icon k-i-rotateccw",attributes:this._getAttribute("rotateAnticlockwise"),showText:"overflow",text:"rotateAnticlockwise",group:"rotate"},{spriteCssClass:"k-icon k-i-rotatecw",attributes:this._getAttribute("rotateClockwise"),showText:"overflow",text:"rotateClockwise",group:"rotate"}]})},_getAttribute:function(t){var e={};return e[kendo.attr("action")]=t,e},_getActionFromElement:function(t){return t.attr(kendo.attr("action"))},click:function(e){var n=this._getActionFromElement(t(e.target));this[n]&&this[n](),this.trigger("click",this.eventData(n))},eventData:function(t){var e=this.selectedElement(),n=[],i=[];return e instanceof f?n.push(e):i.push(e),{shapes:n,connections:i,action:t}},"delete":function(){this.diagram._remove(this.selectedElement(),!0)},edit:function(){this.diagram.edit(this.selectedElement())},rotateClockwise:function(){var t=this.selectedElement(),e=t.rotate().angle;t.rotate(e+90),this.diagram._updateAdorners()},rotateAnticlockwise:function(){var t=this.selectedElement(),e=t.rotate().angle;t.rotate(e-90),this.diagram._updateAdorners()},selectedElement:function(){return this.diagram.select()[0]},destroy:function(){this.diagram=null,this.element=null,this.options=null,this._toolBar.destroy(),this._popup.destroy()}}),v=kendo.Observable.extend({init:function(t,e){kendo.Observable.fn.init.call(this),this.options=S(!0,{},this.options,e),this.element=t,this.model=this.options.model,this.fields=this._getFields(),this._initContainer(),this.createEditable()},options:{editors:{}},_initContainer:function(){this.wrapper=this.element},createEditable:function(){var t=this.options;this.editable=new kendo.ui.Editable(this.wrapper,{fields:this.fields,target:t.target,clearContainer:!1,model:this.model})},_isEditable:function(t){return this.model.editable&&this.model.editable(t)},_getFields:function(){var t,e,n,i=[],r=this.model.fields;for(t in r)e={},this._isEditable(t)&&(n=this.options.editors[t],n&&(e.editor=n),e.field=t,i.push(e));return i},end:function(){return this.editable.end()},destroy:function(){this.editable.destroy(),this.editable.element.find("["+kendo.attr("container-for")+"]").empty(),this.model=this.wrapper=this.element=this.columns=this.editable=null}}),y=v.extend({init:function(t,e){v.fn.init.call(this,t,e),this.bind(this.events,this.options),this.open()},events:["update","cancel"],options:{window:{modal:!0,resizable:!1,draggable:!0,title:"Edit",visible:!1}},_initContainer:function(){var e,n=this;this.wrapper=t('<div class="k-popup-edit-form"/>').attr(kendo.attr("uid"),this.model.uid),e="",this.options.template?(e+=this._renderTemplate(),this.fields=[]):e+=this._renderFields(),e+=this._renderButtons(),this.wrapper.append(t('<div class="k-edit-form-container"/>').append(e)),this.window=new kendo.ui.Window(this.wrapper,this.options.window),this.window.bind("close",function(t){t.userTriggered&&(t.sender.element.focus(),n._cancelClick())}),this._attachButtonEvents()},_renderTemplate:function(){var t=this.options.template;return"string"==typeof t&&(t=window.unescape(t)),t=kendo.template(t)(this.model)},_renderFields:function(){var t,e,n="";for(t=0;this.fields.length>t;t++)e=this.fields[t],n+='<div class="k-edit-label"><label for="'+e.field+'">'+(e.field||"")+"</label></div>",this._isEditable(e.field)&&(n+="<div "+kendo.attr("container-for")+'="'+e.field+'" class="k-edit-field"></div>');return n},_renderButtons:function(){var t='<div class="k-edit-buttons k-state-default">';return t+=this._createButton("update"),t+=this._createButton("cancel"),t+="</div>"},_createButton:function(t){return kendo.template(Xe)(h[t])},_attachButtonEvents:function(){this._cancelClickHandler=k(this._cancelClick,this),this.window.element.on(fe+le,"a.k-diagram-cancel",this._cancelClickHandler),this._updateClickHandler=k(this._updateClick,this),this.window.element.on(fe+le,"a.k-diagram-update",this._updateClickHandler)},_updateClick:function(){this.trigger("update")},_cancelClick:function(){this.trigger("cancel")},open:function(){this.window.center().open()},close:function(){this.window.bind("deactivate",k(this.destroy,this)).close()},destroy:function(){this.window.close().destroy(),this.window.element.off(fe+le,"a.k-diagram-cancel",this._cancelClickHandler),this.window.element.off(fe+le,"a.k-diagram-update",this._updateClickHandler),this._cancelClickHandler=null,this._editUpdateClickHandler=null,this.window=null,v.fn.destroy.call(this)}}),_.ui.plugin(g),C(w,{Shape:f,Connection:p,Connector:u})
}(window.kendo.jQuery),function(t,e){function n(t,e){if(null===e)return e;var n=x(t,!0);return n(e)}function i(t){return typeof t!==M}function r(t,e,n){var i,r,l=s(t),c=s(e),h=d(t)-d(e)<0,u=[];for(u.push(t),i=0;n>i;i++)r={r:o(l.r,c.r,i,n,h),g:o(l.g,c.g,i,n,h),b:o(l.b,c.b,i,n,h)},u.push(a(r));return u.push(e),u}function o(t,e,n,i,r){var o,a=f.min(f.abs(t),f.abs(e)),s=f.max(f.abs(t),f.abs(e)),l=(s-a)/(i+1),c=l*(n+1);return o=r?a+c:s-c}function a(t){return"#"+l(t.r)+l(t.g)+l(t.b)}function s(t){t=t.replace("#","");var e=c(t);return{r:h(e.r),g:h(e.g),b:h(e.b)}}function l(t){var e=f.round(t).toString(16).toUpperCase();return 1===e.length&&(e="0"+e),e}function c(t){var e=t.length,n={};return 3===e?(n.r=t[0],n.g=t[1],n.b=t[2]):(n.r=t.substring(0,2),n.g=t.substring(2,4),n.b=t.substring(4,6)),n}function h(t){return parseInt(t.toString(16),16)}function d(t){var e=0;return t&&(t=s(t),e=f.sqrt(.241*t.r*t.r+.691*t.g*t.g+.068*t.b*t.b)),e}function u(t){var e=f.pow(10,4);return f.round(t*e)/e}var f=Math,p=t.proxy,g=window.kendo,m=g.Class,v=g.ui.Widget,y=g.template,_=g.deepExtend,w=g.data.HierarchicalDataSource,x=g.getter,b=g.dataviz,k=".kendoTreeMap",C="change",S="dataBound",T="itemCreated",D=Number.MAX_VALUE,A="mouseover"+k,P="mouseleave"+k,M="undefined",E=v.extend({init:function(e,n){g.destroy(e),t(e).empty(),v.fn.init.call(this,e,n),this._initTheme(this.options),this.element.addClass("k-widget k-treemap"),this._setLayout(),this._originalOptions=_({},this.options),this._initDataSource(),this._attachEvents(),g.notify(this,b.ui)},options:{name:"TreeMap",theme:"default",autoBind:!0,textField:"",valueField:""},events:[S,T],_initTheme:function(t){var e=this,n=b.ui.themes||{},i=((t||{}).theme||"").toLowerCase(),r=(n[i]||{}).treeMap;e.options=_({},r,t)},_attachEvents:function(){this.element.on(A,p(this._mouseover,this)).on(P,p(this._mouseleave,this))},_setLayout:function(){"horizontal"===this.options.type?(this._layout=new B(!1),this._view=new z(this,this.options)):"vertical"===this.options.type?(this._layout=new B(!0),this._view=new z(this,this.options)):(this._layout=new I,this._view=new L(this,this.options))},_initDataSource:function(){var t=this,e=t.options,n=e.dataSource;t._dataChangeHandler=p(t._onDataChange,t),t.dataSource=w.create(n).bind(C,t._dataChangeHandler),n&&t.options.autoBind&&t.dataSource.fetch()},setDataSource:function(t){var e=this;e.dataSource.unbind(C,e._dataChangeHandler),e.dataSource=t.bind(C,e._dataChangeHandler),t&&e.options.autoBind&&e.dataSource.fetch()},_onDataChange:function(t){var e,n,o,a,s,l,c=t.node,h=t.items,d=this.options;if(c){if(h.length){for(a=this._getByUid(c.uid),a.children=[],o=i(a.minColor)||i(a.maxColor)?r(a.minColor,a.maxColor,h.length)||[]:d.colors||[],n=0;h.length>n;n++)e=h[n],a.children.push(this._wrapItem(e));for(s=this._view.htmlSize(a),this._layout.compute(a.children,a.coord,s),n=0;a.children.length>n;n++)e=a.children[n],i(e.color)||("string"==typeof o[0]?e.color=o[n%o.length]:(l=o[n%o.length],l&&(e.color=l[0],e.minColor=l[0],e.maxColor=l[1])));this._view.render(a)}}else this.element.empty(),e=this._wrapItem(h[0]),this._layout.createRoot(e,this.element.outerWidth(),this.element.outerHeight(),"vertical"===this.options.type),this._view.createRoot(e),this._root=e;for(n=0;h.length>n;n++)h[n].load();c&&this.trigger(S,{node:c})},_contentSize:function(t){this.view.renderHeight(t)},_wrapItem:function(t){var e={};return i(this.options.valueField)&&(e.value=n(this.options.valueField,t)),i(this.options.colorField)&&(e.color=n(this.options.colorField,t)),i(this.options.textField)&&(e.text=n(this.options.textField,t)),e.level=t.level(),e.dataItem=t,e},_getByUid:function(t){for(var e,n=[this._root];n.length;){if(e=n.pop(),e.dataItem.uid===t)return e;e.children&&(n=n.concat(e.children))}},dataItem:function(e){var n=t(e).attr(g.attr("uid")),i=this.dataSource;return i&&i.getByUid(n)},findByUid:function(t){return this.element.find(".k-treemap-tile["+g.attr("uid")+"='"+t+"']")},_mouseover:function(e){var n=t(e.target);n.hasClass("k-leaf")&&(this._removeActiveState(),n.removeClass("k-state-hover").addClass("k-state-hover"))},_removeActiveState:function(){this.element.find(".k-state-hover").removeClass("k-state-hover")},_mouseleave:function(){this._removeActiveState()},destroy:function(){v.fn.destroy.call(this),this.element.off(k),this.dataSource&&this.dataSource.unbind(C,this._dataChangeHandler),this._root=null,g.destroy(this.element)},items:function(){return t()},getSize:function(){return g.dimensions(this.element)},_resize:function(){this.dataSource.fetch()},setOptions:function(t){var n=t.dataSource;t.dataSource=e,this._originalOptions=_(this._originalOptions,t),this.options=_({},this._originalOptions),this._setLayout(),this._initTheme(this.options),v.fn._setEvents.call(this,t),n&&this.setDataSource(w.create(n)),this.options.autoBind&&this.dataSource.fetch()}}),I=m.extend({createRoot:function(t,e,n){t.coord={width:e,height:n,top:0,left:0}},leaf:function(t){return!t.children},layoutChildren:function(t,e){var n,i,r,o,a=e.width*e.height,s=0,l=[];for(n=0;t.length>n;n++)l[n]=parseFloat(t[n].value),s+=l[n];for(n=0;l.length>n;n++)t[n].area=a*l[n]/s;i=this.layoutHorizontal()?e.height:e.width,t=new g.data.Query(t)._sortForGrouping("value","desc"),r=[t[0]],o=t.slice(1),this.squarify(o,r,i,e)},squarify:function(t,e,n,i){this.computeDim(t,e,n,i)},computeDim:function(t,n,i,r){var o,a,s;return t.length+n.length==1?(o=1==t.length?t:n,this.layoutLast(o,i,r),e):(t.length>=2&&0===n.length&&(n=[t[0]],t=t.slice(1)),0===t.length?(n.length>0&&this.layoutRow(n,i,r),e):(a=t[0],this.worstAspectRatio(n,i)>=this.worstAspectRatio([a].concat(n),i)?this.computeDim(t.slice(1),n.concat([a]),i,r):(s=this.layoutRow(n,i,r),this.computeDim(t,[],s.dim,s)),e))},layoutLast:function(t,e,n){t[0].coord=n},layoutRow:function(t,e,n){return this.layoutHorizontal()?this.layoutV(t,e,n):this.layoutH(t,e,n)},orientation:"h",layoutVertical:function(){return"v"===this.orientation},layoutHorizontal:function(){return"h"===this.orientation},layoutChange:function(){this.orientation=this.layoutVertical()?"h":"v"},worstAspectRatio:function(t,e){var n,i,r,o,a;if(!t||0===t.length)return D;for(n=0,i=0,r=D,o=0;t.length>o;o++)a=t[o].area,n+=a,r=a>r?r:a,i=i>a?i:a;return f.max(e*e*i/(n*n),n*n/(e*e*r))},compute:function(t,e,n){if(e.width>=e.height&&this.layoutHorizontal()||this.layoutChange(),t&&t.length>0){var i={width:e.width,height:e.height-n.text,top:0,left:0};this.layoutChildren(t,i)}},layoutV:function(t,e,n){var i,r,o,a=this._totalArea(t),s=0;for(e=u(a/e),i=0;t.length>i;i++)r=u(t[i].area/e),t[i].coord={height:r,width:e,top:n.top+s,left:n.left},s+=r;return o={height:n.height,width:n.width-e,top:n.top,left:n.left+e},o.dim=f.min(o.width,o.height),o.dim!=o.height&&this.layoutChange(),o},layoutH:function(t,e,n){var i,r,o=this._totalArea(t),a=u(o/e),s=n.top,l=0;for(i=0;t.length>i;i++)t[i].coord={height:a,width:u(t[i].area/a),top:s,left:n.left+l},l+=t[i].coord.width;return r={height:n.height-a,width:n.width,top:n.top+a,left:n.left},r.dim=f.min(r.width,r.height),r.dim!=r.width&&this.layoutChange(),r},_totalArea:function(t){var e,n=0;for(e=0;t.length>e;e++)n+=t[e].area;return n}}),L=m.extend({init:function(e,n){this.options=_({},this.options,n),this.treeMap=e,this.element=t(e.element),this.offset=0},htmlSize:function(t){var e,n,i=this._getByUid(t.dataItem.uid),r={text:0};return t.children&&(this._clean(i),e=this._getText(t),e&&(n=this._createTitle(t),i.append(n),r.text=n.height()),i.append(this._createWrap()),this.offset=(i.outerWidth()-i.innerWidth())/2),r},_getByUid:function(t){return this.element.find(".k-treemap-tile["+g.attr("uid")+"='"+t+"']")},render:function(t){var e,n,i,r,o=this._getByUid(t.dataItem.uid),a=t.children;if(a)for(e=o.find(".k-treemap-wrap"),n=0;a.length>n;n++)i=a[n],r=this._createLeaf(i),e.append(r),this.treeMap.trigger(T,{element:r})},createRoot:function(t){var e=this._createLeaf(t);this.element.append(e),this.treeMap.trigger(T,{element:e})},_clean:function(t){t.css("background-color",""),t.removeClass("k-leaf"),t.removeClass("k-inverse"),t.empty()},_createLeaf:function(e){return this._createTile(e).css("background-color",e.color).addClass("k-leaf").toggleClass("k-inverse",this._tileColorBrightness(e)>180).append(t("<div></div>").html(this._getText(e)))},_createTile:function(e){var n,r={width:e.coord.width,height:e.coord.height,left:e.coord.left,top:e.coord.top};return r.width+=r.left&&this.offset?2*this.offset:this.offset,r.height+=r.top?2*this.offset:this.offset,n=t("<div class='k-treemap-tile'></div>").css({width:r.width,height:r.height,left:r.left,top:r.top}),i(e.dataItem)&&i(e.dataItem.uid)&&n.attr(g.attr("uid"),e.dataItem.uid),n},_getText:function(t){var e=t.text;return this.options.template&&(e=this._renderTemplate(t)),e},_renderTemplate:function(t){var e=y(this.options.template);return e({dataItem:t.dataItem,text:t.text})},_createTitle:function(e){return t("<div class='k-treemap-title'></div>").append(t("<div></div>").html(this._getText(e)))},_createWrap:function(){return t("<div class='k-treemap-wrap'></div>")},_tileColorBrightness:function(t){return d(t.color)}}),B=m.extend({createRoot:function(t,e,n,i){t.coord={width:e,height:n,top:0,left:0},t.vertical=i},init:function(t){this.vertical=t,this.quotient=t?1:0},compute:function(t,e,n){var i,r,o;t.length>0&&(i=e.width,r=e.height,this.vertical?r-=n.text:i-=n.text,o={width:i,height:r,top:0,left:0},this.layoutChildren(t,o))},layoutChildren:function(t,e){var n,i,r=e.width*e.height,o=0,a=[];for(n=0;t.length>n;n++)i=t[n],a[n]=parseFloat(t[n].value),o+=a[n],i.vertical=this.vertical;for(n=0;a.length>n;n++)t[n].area=r*a[n]/o;t=new g.data.Query(t)._sortForGrouping("value","desc"),this.sliceAndDice(t,e)},sliceAndDice:function(t,e){var n=this._totalArea(t);t[0].level%2===this.quotient?this.layoutHorizontal(t,e,n):this.layoutVertical(t,e,n)},layoutHorizontal:function(t,e,n){var i,r,o,a=0;for(i=0;t.length>i;i++)r=t[i],o=r.area/(n/e.width),r.coord={height:e.height,width:o,top:e.top,left:e.left+a},a+=o},layoutVertical:function(t,e,n){var i,r,o,a=0;for(i=0;t.length>i;i++)r=t[i],o=r.area/(n/e.height),r.coord={height:o,width:e.width,top:e.top+a,left:e.left},a+=o},_totalArea:function(t){var e,n=0;for(e=0;t.length>e;e++)n+=t[e].area;return n}}),z=L.extend({htmlSize:function(t){var e,n,i=this._getByUid(t.dataItem.uid),r={text:0,offset:0};return t.children&&(this._clean(i),e=this._getText(t),e&&(n=this._createTitle(t),i.append(n),r.text=t.vertical?n.height():n.width()),i.append(this._createWrap()),this.offset=(i.outerWidth()-i.innerWidth())/2),r},_createTitle:function(e){var n;return n=t(e.vertical?"<div class='k-treemap-title'></div>":"<div class='k-treemap-title-vertical'></div>"),n.append(t("<div></div>").html(this._getText(e)))}});b.ui.plugin(E)}(window.kendo.jQuery),function(t,e,n){"use strict";function i(t){var e=b;try{return b=function(t){return t()},t()}finally{b=e}}function r(t,i,r,o){i[r]=e.copy(t.$eval(o)),i[r]===n&&o.match(/^\w*$/)&&C.warn(r+" attribute resolved to undefined. Maybe you meant to use a string literal like: '"+o+"'?")}function o(i,o,s,l,c){function h(){var n,h,u,p,g,m,v,y,_;return s.kRebind&&(n=t(t(o)[0].cloneNode(!0))),h=l.replace(/^kendo/,""),u=e.extend({},s.defaultOptions,i.$eval(s.kOptions||s.options)),(p=t(o)[l])?(g=p.widget.prototype.options,m=p.widget.prototype.events,t.each(s,function(t,e){var n,o,a,s;"source"!==t&&"kDataSource"!==t&&(n="data"+t.charAt(0).toUpperCase()+t.slice(1),0===t.indexOf("on")&&(o=t.replace(/^on./,function(t){return t.charAt(2).toLowerCase()}),m.indexOf(o)>-1&&(u[o]=e)),g.hasOwnProperty(n)?r(i,u,n,e):g.hasOwnProperty(t)&&!A[t]?r(i,u,t,e):D[t]||(a=t.match(/^k(On)?([A-Z].*)/),a&&(s=a[2].charAt(0).toLowerCase()+a[2].slice(1),a[1]&&"kOnLabel"!=t?u[s]=e:("kOnLabel"==t&&(s="onLabel"),r(i,u,s,e)))))}),v=s.kDataSource||s.source,v&&(u.dataSource=T(i,o,h,v)),u.$angular=[i],o.is("select")&&!function(e){if(e.length>0){var n=t(e[0]);!/\S/.test(n.text())&&/^\?/.test(n.val())&&n.remove()}}(o[0].options),y=p.call(o,S=u).data(l),a(y,i,s,l,c),i.$emit("kendoWidgetCreated",y),_=d(i,y),s.kRebind&&f(y,i,o,n,s.kRebind,_),y):(window.console.error("Could not find: "+l),null)}var u,p=s.kNgDelay;return p?(u=i.$watch(p,function(t,e){t!==e&&(u(),p=null,b(h))}),n):h()}function a(t,e,n,i,r){if(n[r]){var o=x(n[r]).assign;if(!o)throw Error(r+" attribute used but expression in it is not assignable: "+n[i]);o(e,t)}}function s(t){return/checkbox|radio/i.test(t.attr("type"))?t.prop("checked"):t.val()}function l(t){return P.test(t[0].tagName)}function c(t,e,i,r,o){var a,c,h,d;t.value&&(a=l(i)?function(){return s(i)}:function(){return t.value()},r.$render=function(){var e=r.$viewValue;e===n&&(e=r.$modelValue),setTimeout(function(){t&&t.value(e)},0)},c=!1,l(i)&&i.on("change",function(){c=!0}),h=function(t){return function(){var n;c||(c=!1,t&&o&&(n=o.$pristine),r.$setViewValue(a()),t&&(r.$setPristine(),n&&o.$setPristine()),m(e))}},t.first("change",h(!1)),t.first("dataBound",h(!0)),d=a(),d!=r.$viewValue&&(r.$isEmpty(r.$viewValue)?null!=d&&""!==d&&d!=r.$viewValue&&r.$setViewValue(d):t.value(r.$viewValue)),r.$setPristine())}function h(t,e,i){var r,o,a;return"function"!=typeof t.value?(C.warn("k-ng-model specified on a widget that does not have the value() method: "+t.options.name),n):(r=x(i),o=r.assign,a=!1,t.$angular_setLogicValue(r(e)),e.$watch(i,function(e,i){e===n&&(e=null),a||e!==i&&t.$angular_setLogicValue(e)}),t.first("change",function(){a=!0,e.$apply(function(){o(e,t.$angular_getLogicValue())}),a=!1}),n)}function d(t,e){var n=t.$on("$destroy",function(){n(),e&&(e.element&&(e=g(e.element),e&&e.destroy()),e=null)});return n}function u(e,n){function i(){a.disconnect()}function r(){a.observe(t(n)[0],{attributes:!0})}var o,a;window.MutationObserver&&e.wrapper&&(o=[].slice.call(t(n)[0].classList),a=new MutationObserver(function(n){i(),e&&(n.forEach(function(n){var i,r=t(e.wrapper)[0];switch(n.attributeName){case"class":i=[].slice.call(n.target.classList),i.forEach(function(t){o.indexOf(t)<0&&(r.classList.add(t),kendo.ui.ComboBox&&e instanceof kendo.ui.ComboBox&&e.input[0].classList.add(t))}),o.forEach(function(t){i.indexOf(t)<0&&(r.classList.remove(t),kendo.ui.ComboBox&&e instanceof kendo.ui.ComboBox&&e.input[0].classList.remove(t))}),o=i;break;case"disabled":"function"==typeof e.enable&&e.enable(!t(n.target).attr("disabled"));break;case"readonly":"function"==typeof e.readonly&&e.readonly(!!t(n.target).attr("readonly"))}}),r())}),r(),e.first("destroy",i))}function f(e,n,i,r,o,a){var s=n.$watch(o,function(o,l){var c,h,d;o!==l&&(s(),c=t(e.wrapper)[0],h=t(e.element)[0],d=i.injector().get("$compile"),e.destroy(),a&&a(),e=null,c&&h&&(c.parentNode.replaceChild(h,c),t(i).replaceWith(r)),d(r)(n))},!0);m(n)}function p(t,n){function i(t,e){_.directive(t,["directiveFactory",function(n){return n.create(e,t)}])}var r,o,a,s,l=n?"Mobile":"";l+=t.fn.options.name,r=l,o="kendo"+l.charAt(0)+l.substr(1).toLowerCase(),l="kendo"+l,a=l.replace(/([A-Z])/g,"-$1"),-1==E.indexOf(l.replace("kendo",""))&&(s=l===o?[l]:[l,o],e.forEach(s,function(t){_.directive(t,function(){return{restrict:"E",replace:!0,template:function(t){var e=M[r]||"div";return"<"+e+" "+a+">"+t.html()+"</"+e+">"}}})})),I.indexOf(l.replace("kendo",""))>-1||(i(l,l),o!=l&&i(o,l))}function g(e){return e=t(e),kendo.widgetInstance(e,kendo.ui)||kendo.widgetInstance(e,kendo.mobile.ui)||kendo.widgetInstance(e,kendo.dataviz.ui)}function m(t,e){var n=t.$root||t,i=/^\$(digest|apply)$/.test(n.$$phase);e?i?e():n.$apply(e):i||n.$digest()}function v(e,n){e.$destroy(),n&&t(n).removeData("$scope").removeData("$isolateScope").removeData("$isolateScopeNoTemplate").removeClass("ng-scope")}function y(n,i,r){var o,a,s;if(t.isArray(n))return e.forEach(n,function(t){y(t,i,r)});if("string"==typeof n){for(o=n.split("."),a=kendo;a&&o.length>0;)a=a[o.shift()];if(!a)return L.push([n,i,r]),!1;n=a.prototype}return s=n[i],n[i]=function(){var t=this,e=arguments;return r.apply({self:t,next:function(){return s.apply(t,arguments.length>0?arguments:e)}},e)},!0}var _,w,x,b,k,C,S,T,D,A,P,M,E,I,L,B;e&&(_=e.module("kendo.directives",[]),w=e.injector(["ng"]),x=w.get("$parse"),b=w.get("$timeout"),C=w.get("$log"),T=function(){var t={TreeList:"TreeListDataSource",TreeView:"HierarchicalDataSource",Scheduler:"SchedulerDataSource",PanelBar:"$PLAIN",Menu:"$PLAIN",ContextMenu:"$PLAIN"},e=function(t,e){return"$PLAIN"==e?t:kendo.data[e].create(t)};return function(n,i,r,o){var a=t[r]||"DataSource",s=e(n.$eval(o),a);return n.$watch(o,function(t,n){var r,o;t!==n&&(r=e(t,a),o=g(i),o&&"function"==typeof o.setDataSource&&o.setDataSource(r))}),s}}(),D={kDataSource:!0,kOptions:!0,kRebind:!0,kNgModel:!0,kNgDelay:!0},A={name:!0,title:!0,style:!0},P=/^(input|select|textarea)$/i,_.factory("directiveFactory",["$compile",function(e){var n,i=0,r=!1;return k=e,n=function(e,n){return{restrict:"AC",require:["?ngModel","^?form"],scope:!1,controller:["$scope","$attrs","$element",function(t,e){this.template=function(t,n){e[t]=kendo.stringify(n)}}],link:function(a,s,l,d){var f=d[0],p=d[1],g=e.replace(/([A-Z])/g,"-$1");t(s).attr(g,t(s).attr("data-"+g)),t(s)[0].removeAttribute("data-"+g),++i,b(function(){var d=o(a,s,l,e,n);d&&(f&&c(d,a,s,f,p),l.kNgModel&&h(d,a,l.kNgModel),u(d,s),--i,0===i&&(r||(r=!0,a.$emit("kendoRendered"),t("form").each(function(){var e=t(this).controller("form");e&&e.$setPristine()}))))})}}},{create:n}}]),M={Editor:"textarea",NumericTextBox:"input",DatePicker:"input",DateTimePicker:"input",TimePicker:"input",AutoComplete:"input",ColorPicker:"input",MaskedTextBox:"input",MultiSelect:"input",Upload:"input",Validator:"form",Button:"button",MobileButton:"a",MobileBackButton:"a",MobileDetailButton:"a",ListView:"ul",MobileListView:"ul",TreeView:"ul",Menu:"ul",ContextMenu:"ul",ActionSheet:"ul"},E=["MobileView","MobileLayout","MobileSplitView","MobilePane","MobileModalView"],I=["MobileApplication","MobileView","MobileModalView","MobileLayout","MobileActionSheet","MobileDrawer","MobileSplitView","MobilePane","MobileScrollView","MobilePopOver"],e.forEach(["MobileNavBar","MobileButton","MobileBackButton","MobileDetailButton","MobileTabStrip","MobileScrollView"],function(t){I.push(t),t="kendo"+t,_.directive(t,function(){return{restrict:"A",link:function(e,n,i){o(e,n,i,t,t)}}})}),function(){function t(t){return function(n){e.forEach(n,function(e){e.fn&&e.fn.options&&e.fn.options.name&&/^[A-Z]/.test(e.fn.options.name)&&p(e,t)})}}e.forEach([kendo.ui,kendo.dataviz&&kendo.dataviz.ui],t(!1)),e.forEach([kendo.mobile&&kendo.mobile.ui],t(!0))}(),L=[],y(kendo.ui,"plugin",function(e,n,i){this.next(),L=t.grep(L,function(t){return!y.apply(null,t)}),p(e,"Mobile"==i)}),y(["ui.Widget","mobile.ui.Widget"],"angular",function(r,o){var a,s=this.self;return"init"==r?(!o&&S&&(o=S),S=null,o&&o.$angular&&(s.$angular_scope=o.$angular[0],s.$angular_init(s.element,o)),n):(a=s.$angular_scope||e.element(s.element).scope(),a&&i(function(){var i,l,c=o(),h=c.elements,d=c.data;if(h.length>0)switch(r){case"cleanup":e.forEach(h,function(t){var n=e.element(t).scope();n&&n!==a&&n.$$kendoScope&&v(n,t)});break;case"compile":i=s.element.injector(),l=i?i.get("$compile"):k,e.forEach(h,function(i,r){var o,s;c.scopeFrom?o=e.element(c.scopeFrom).scope():(s=d&&d[r],s!==n&&(o=t.extend(a.$new(),s),o.$$kendoScope=!0)),l(i)(o||a)}),m(a)}}),n)}),y("ui.Widget","$angular_getLogicValue",function(){return this.self.value()}),y("ui.Widget","$angular_setLogicValue",function(t){this.self.value(t)}),y("ui.Select","$angular_getLogicValue",function(){var t=this.self.dataItem();return t?t.toJSON():null}),y("ui.Select","$angular_setLogicValue",function(t){var e=this.self,n=null!=t?t[e.options.dataValueField||e.options.dataTextField]:null;e.value(n)}),y("ui.MultiSelect","$angular_getLogicValue",function(){return t.map(this.self.dataItems(),function(t){return t.toJSON()})}),y("ui.MultiSelect","$angular_setLogicValue",function(e){var n,i;null==e&&(e=[]),n=this.self,i=t.map(e,function(t){return t[n.options.dataValueField]}),n.value(i)}),y("ui.AutoComplete","$angular_getLogicValue",function(){var t,e,n,i,r,o=this.self.options,a=this.self.value().split(o.separator),s=this.self.dataSource.data(),l=[];for(t=0,e=s.length;e>t;t++)for(n=s[t],i=o.dataTextField?n[o.dataTextField]:n,r=0;a.length>r;r++)if(i===a[r]){l.push(n.toJSON());break}return l}),y("ui.AutoComplete","$angular_setLogicValue",function(e){var n,i;null==e&&(e=[]),n=this.self,i=t.map(e,function(t){return t[n.options.dataTextField]}),n.value(i)}),y("ui.Widget","$angular_init",function(e,n){var i,r,o,a,s=this.self;if(n&&!t.isArray(n))for(i=s.$angular_scope,r=s.events.length;--r>=0;)o=s.events[r],a=n[o],a&&"string"==typeof a&&(n[o]=s.$angular_makeEventHandler(o,i,a))}),y("ui.Widget","$angular_makeEventHandler",function(t,e,n){return n=x(n),function(t){m(e,function(){n(e,{kendoEvent:t})})}}),y(["ui.Grid","ui.ListView","ui.TreeView"],"$angular_makeEventHandler",function(t,n,i){return"change"!=t?this.next():(i=x(i),function(t){var r,o,a,s,l,c,h,d,u,f=t.sender,p=f.options,g={kendoEvent:t};for(e.isString(p.selectable)&&(r=-1!==p.selectable.indexOf("cell"),o=-1!==p.selectable.indexOf("multiple")),a=g.selected=this.select(),s=g.data=[],l=g.columns=[],h=0;a.length>h;h++)d=r?a[h].parentNode:a[h],u=f.dataItem(d),r?(e.element.inArray(u,s)<0&&s.push(u),c=e.element(a[h]).index(),e.element.inArray(c,l)<0&&l.push(c)):s.push(u);o||(g.dataItem=g.data=s[0],g.selected=a[0]),m(n,function(){i(n,g)})})}),y("ui.Grid","$angular_init",function(i,r){if(this.next(),r.columns){var o=t.extend({},kendo.Template,r.templateSettings);e.forEach(r.columns,function(t){!t.field||t.template||t.format||t.values||t.encoded!==n&&!t.encoded||(t.template="<span ng-bind='"+kendo.expr(t.field,"dataItem")+"'>#: "+kendo.expr(t.field,o.paramName)+"#</span>")})}}),y("mobile.ui.ButtonGroup","value",function(t){var e=this.self;return null!=t&&(e.select(e.element.children("li.km-button").eq(t)),e.trigger("change"),e.trigger("select",{index:e.selectedIndex})),e.selectedIndex}),y("mobile.ui.ButtonGroup","_select",function(){this.next(),this.self.trigger("change")}),_.directive("kendoMobileApplication",function(){return{terminal:!0,link:function(t,e,n){o(t,e,n,"kendoMobileApplication","kendoMobileApplication")}}}).directive("kendoMobileView",function(){return{scope:!0,link:{pre:function(t,e,n){n.defaultOptions=t.viewOptions,n._instance=o(t,e,n,"kendoMobileView","kendoMobileView")},post:function(t,e,n){n._instance._layout(),n._instance._scroller()}}}}).directive("kendoMobileDrawer",function(){return{scope:!0,link:{pre:function(t,e,n){n.defaultOptions=t.viewOptions,n._instance=o(t,e,n,"kendoMobileDrawer","kendoMobileDrawer")},post:function(t,e,n){n._instance._layout(),n._instance._scroller()}}}}).directive("kendoMobileModalView",function(){return{scope:!0,link:{pre:function(t,e,n){n.defaultOptions=t.viewOptions,n._instance=o(t,e,n,"kendoMobileModalView","kendoMobileModalView")},post:function(t,e,n){n._instance._layout(),n._instance._scroller()}}}}).directive("kendoMobileSplitView",function(){return{terminal:!0,link:{pre:function(t,e,n){n.defaultOptions=t.viewOptions,n._instance=o(t,e,n,"kendoMobileSplitView","kendoMobileSplitView")},post:function(t,e,n){n._instance._layout()}}}}).directive("kendoMobilePane",function(){return{terminal:!0,link:{pre:function(t,e,n){n.defaultOptions=t.viewOptions,o(t,e,n,"kendoMobilePane","kendoMobilePane")}}}}).directive("kendoMobileLayout",function(){return{link:{pre:function(t,e,n){o(t,e,n,"kendoMobileLayout","kendoMobileLayout")}}}}).directive("kendoMobileActionSheet",function(){return{restrict:"A",link:function(e,n,i){n.find("a[k-action]").each(function(){t(this).attr("data-"+kendo.ns+"action",t(this).attr("k-action"))}),o(e,n,i,"kendoMobileActionSheet","kendoMobileActionSheet")}}}).directive("kendoMobilePopOver",function(){return{terminal:!0,link:{pre:function(t,e,n){n.defaultOptions=t.viewOptions,o(t,e,n,"kendoMobilePopOver","kendoMobilePopOver")}}}}).directive("kendoViewTitle",function(){return{restrict:"E",replace:!0,template:function(t){return"<span data-"+kendo.ns+"role='view-title'>"+t.html()+"</span>"}}}).directive("kendoMobileHeader",function(){return{restrict:"E",link:function(t,e){e.addClass("km-header").attr("data-role","header")}}}).directive("kendoMobileFooter",function(){return{restrict:"E",link:function(t,e){e.addClass("km-footer").attr("data-role","footer")}}}).directive("kendoMobileScrollViewPage",function(){return{restrict:"E",replace:!0,template:function(t){return"<div data-"+kendo.ns+"role='page'>"+t.html()+"</div>"}}}),e.forEach(["align","icon","rel","transition","actionsheetContext"],function(t){var e="k"+t.slice(0,1).toUpperCase()+t.slice(1);_.directive(e,function(){return{restrict:"A",priority:2,link:function(n,i,r){i.attr(kendo.attr(kendo.toHyphens(t)),n.$eval(r[e]))}}})}),B={TreeMap:["Template"],MobileListView:["HeaderTemplate","Template"],MobileScrollView:["EmptyTemplate","Template"],Grid:["AltRowTemplate","DetailTemplate","RowTemplate"],ListView:["EditTemplate","Template","AltTemplate"],Pager:["SelectTemplate","LinkTemplate"],PivotGrid:["ColumnHeaderTemplate","DataCellTemplate","RowHeaderTemplate"],Scheduler:["AllDayEventTemplate","DateHeaderTemplate","EventTemplate","MajorTimeHeaderTemplate","MinorTimeHeaderTemplate"],TreeView:["Template"],Validator:["ErrorTemplate"]},function(){var t={};e.forEach(B,function(n,i){e.forEach(n,function(e){t[e]||(t[e]=[]),t[e].push("?^^kendo"+i)})}),e.forEach(t,function(t,e){var n="k"+e,i=kendo.toHyphens(n);_.directive(n,function(){return{restrict:"A",require:t,replace:!0,template:"",compile:function(e){e.removeAttr(i);var r=e[0].outerHTML;return function(e,o,a,s){for(var l;!l&&s.length;)l=s.shift();l?l.template(n,r):C.warn(i+" without a matching parent widget found. It can be one of the following: "+t.join(", "))}}}})})}())}(window.kendo.jQuery,window.angular),function(t){var e=window.kendo,n=e.ui.Widget,i=t.proxy,r=Math.abs,o=20,a=e.Class.extend({init:function(n,i,o){o=t.extend({minXDelta:30,maxYDelta:20,maxDuration:1e3},o),new e.UserEvents(n,{surface:o.surface,allowSelection:!0,start:function(t){2*r(t.x.velocity)>=r(t.y.velocity)&&t.sender.capture()},move:function(t){var e=t.touch,n=t.event.timeStamp-e.startTime,a=e.x.initialDelta>0?"right":"left";r(e.x.initialDelta)>=o.minXDelta&&r(e.y.initialDelta)<o.maxYDelta&&o.maxDuration>n&&(i({direction:a,touch:e,target:e.target}),e.cancel())}})}}),s=n.extend({init:function(t,r){function o(t){return function(e){s._triggerTouch(t,e)}}function a(t){return function(e){s.trigger(t,{touches:e.touches,distance:e.distance,center:e.center,event:e.event})}}var s=this;n.fn.init.call(s,t,r),r=s.options,t=s.element,s.events=new e.UserEvents(t,{filter:r.filter,surface:r.surface,minHold:r.minHold,multiTouch:r.multiTouch,allowSelection:!0,press:o("touchstart"),hold:o("hold"),tap:i(s,"_tap"),gesturestart:a("gesturestart"),gesturechange:a("gesturechange"),gestureend:a("gestureend")}),r.enableSwipe?(s.events.bind("start",i(s,"_swipestart")),s.events.bind("move",i(s,"_swipemove"))):(s.events.bind("start",i(s,"_dragstart")),s.events.bind("move",o("drag")),s.events.bind("end",o("dragend"))),e.notify(s)},events:["touchstart","dragstart","drag","dragend","tap","doubletap","hold","swipe","gesturestart","gesturechange","gestureend"],options:{name:"Touch",surface:null,global:!1,multiTouch:!1,enableSwipe:!1,minXDelta:30,maxYDelta:20,maxDuration:1e3,minHold:800,doubleTapTimeout:800},cancel:function(){this.events.cancel()},_triggerTouch:function(t,e){this.trigger(t,{touch:e.touch,event:e.event})&&e.preventDefault()},_tap:function(t){var n=this,i=n.lastTap,r=t.touch;i&&n.options.doubleTapTimeout>r.endTime-i.endTime&&e.touchDelta(r,i).distance<o?(n._triggerTouch("doubletap",t),n.lastTap=null):(n._triggerTouch("tap",t),n.lastTap=r)},_dragstart:function(t){this._triggerTouch("dragstart",t)},_swipestart:function(t){2*r(t.x.velocity)>=r(t.y.velocity)&&t.sender.capture()},_swipemove:function(t){var e=this,n=e.options,i=t.touch,o=t.event.timeStamp-i.startTime,a=i.x.initialDelta>0?"right":"left";r(i.x.initialDelta)>=n.minXDelta&&r(i.y.initialDelta)<n.maxYDelta&&n.maxDuration>o&&(e.trigger("swipe",{direction:a,touch:t.touch}),i.cancel())}});window.jQuery.fn.kendoMobileSwipe=function(t,e){this.each(function(){new a(this,t,e)})},e.ui.plugin(s)}(window.kendo.jQuery),function(t,e){function n(t){var e,n,i=t.find(b("popover")),r=s.roles;for(e=0,n=i.length;n>e;e++)o.initWidget(i[e],{},r)}function i(t){o.triggeredByInput(t)||t.preventDefault()}function r(e){e.each(function(){o.initWidget(t(this),{},s.roles)})}var o=window.kendo,a=o.mobile,s=a.ui,l=o.attr,c=s.Widget,h=o.ViewClone,d="init",u='<div style="height: 100%; width: 100%; position: absolute; top: 0; left: 0; z-index: 20000; display: none" />',f="beforeShow",p="show",g="afterShow",m="beforeHide",v="transitionEnd",y="transitionStart",_="hide",w="destroy",x=o.attrValue,b=o.roleSelector,k=o.directiveSelector,C=o.compileMobileDirective,S=c.extend({init:function(e,n){c.fn.init.call(this,e,n),this.params={},t.extend(this,n),this.transition=this.transition||this.defaultTransition,this._id(),this.options.$angular?this._overlay():(this._layout(),this._overlay(),this._scroller(),this._model())},events:[d,f,p,g,m,_,w,y,v],options:{name:"View",title:"",layout:null,getLayout:t.noop,reload:!1,transition:"",defaultTransition:"",useNativeScrolling:!1,stretch:!1,zoom:!1,model:null,modelScope:window,scroller:{},initWidgets:!0},enable:function(t){e===t&&(t=!0),t?this.overlay.hide():this.overlay.show()},destroy:function(){this.layout&&this.layout.detach(this),this.trigger(w),c.fn.destroy.call(this),this.scroller&&this.scroller.destroy(),this.options.$angular&&this.element.scope().$destroy(),o.destroy(this.element)},purge:function(){this.destroy(),this.element.remove()},triggerBeforeShow:function(){return this.trigger(f,{view:this})?!1:!0},showStart:function(){var t=this.element;t.css("display",""),this.inited?this._invokeNgController():(this.inited=!0,this.trigger(d,{view:this})),this.layout&&this.layout.attach(this),this._padIfNativeScrolling(),this.trigger(p,{view:this}),o.resize(t)},showEnd:function(){this.trigger(g,{view:this}),this._padIfNativeScrolling()},hideStart:function(){this.trigger(m,{view:this})},hideEnd:function(){var t=this;t.element.hide(),t.trigger(_,{view:t}),t.layout&&t.layout.trigger(_,{view:t,layout:t.layout})},beforeTransition:function(t){this.trigger(y,{type:t})},afterTransition:function(t){this.trigger(v,{type:t})},_padIfNativeScrolling:function(){if(a.appLevelNativeScrolling()){var t=o.support.mobileOS&&o.support.mobileOS.android,e=t?"footer":"header",n=t?"header":"footer";this.content.css({paddingTop:this[e].height(),paddingBottom:this[n].height()})}},contentElement:function(){var t=this;return t.options.stretch?t.content:t.scrollerContent},clone:function(){return new h(this)},_scroller:function(){var e=this;a.appLevelNativeScrolling()||(e.options.stretch?e.content.addClass("km-stretched-view"):(e.content.kendoMobileScroller(t.extend(e.options.scroller,{zoom:e.options.zoom,useNative:e.options.useNativeScrolling})),e.scroller=e.content.data("kendoMobileScroller"),e.scrollerContent=e.scroller.scrollElement),o.support.kineticScrollNeeded&&(t(e.element).on("touchmove",".km-header",i),e.options.useNativeScrolling||t(e.element).on("touchmove",".km-content",i)))},_model:function(){var t=this,e=t.element,i=t.options.model;"string"==typeof i&&(i=o.getter(i)(t.options.modelScope)),t.model=i,n(e),t.element.css("display",""),t.options.initWidgets&&(i?o.bind(e,i,s,o.ui,o.dataviz.ui):a.init(e.children())),t.element.css("display","none")},_id:function(){var t=this.element,e=t.attr("id")||"";this.id=x(t,"url")||"#"+e,"#"==this.id&&(this.id=o.guid(),t.attr("id",this.id))},_layout:function(){var t=b("content"),e=this.element;e.addClass("km-view"),this.header=e.children(b("header")).addClass("km-header"),this.footer=e.children(b("footer")).addClass("km-footer"),e.children(t)[0]||e.wrapInner("<div "+l("role")+'="content"></div>'),this.content=e.children(b("content")).addClass("km-content"),this.element.prepend(this.header).append(this.footer),this.layout=this.options.getLayout(this.layout),this.layout&&this.layout.setup(this)
},_overlay:function(){this.overlay=t(u).appendTo(this.element)},_invokeNgController:function(){var t,e,n=this.element;this.options.$angular&&(t=n.controller(),e=n.scope(),t&&e.$apply(function(){n.injector().invoke(t.constructor,null,{$scope:e})}))}}),T=c.extend({init:function(t,e){c.fn.init.call(this,t,e),t=this.element,this.header=t.children(this._locate("header")).addClass("km-header"),this.footer=t.children(this._locate("footer")).addClass("km-footer"),this.elements=this.header.add(this.footer),n(t),this.options.$angular||o.mobile.init(this.element.children()),this.element.detach(),this.trigger(d,{layout:this})},_locate:function(t){return this.options.$angular?k(t):b(t)},options:{name:"Layout",id:null,platform:null},events:[d,p,_],setup:function(t){t.header[0]||(t.header=this.header),t.footer[0]||(t.footer=this.footer)},detach:function(t){var e=this;t.header===e.header&&e.header[0]&&t.element.prepend(e.header.detach()[0].cloneNode(!0)),t.footer===e.footer&&e.footer.length&&t.element.append(e.footer.detach()[0].cloneNode(!0))},attach:function(t){var e=this,n=e.currentView;n&&e.detach(n),t.header===e.header&&(e.header.detach(),t.element.children(b("header")).remove(),t.element.prepend(e.header)),t.footer===e.footer&&(e.footer.detach(),t.element.children(b("footer")).remove(),t.element.append(e.footer)),e.trigger(p,{layout:e,view:t}),e.currentView=t}}),D=o.Observable,A=/<body[^>]*>(([\u000a\u000d\u2028\u2029]|.)*)<\/body>/i,P="loadStart",M="loadComplete",E="showStart",I="sameViewRequested",L="viewShow",B="viewTypeDetermined",z="after",F=D.extend({init:function(e){var n,i,a,s,l=this;if(D.fn.init.call(l),t.extend(l,e),l.sandbox=t("<div />"),a=l.container,n=l._hideViews(a),l.rootView=n.first(),!l.rootView[0]&&e.rootNeeded)throw i=a[0]==o.mobile.application.element[0]?'Your kendo mobile application element does not contain any direct child elements with data-role="view" attribute set. Make sure that you instantiate the mobile application using the correct container.':'Your pane element does not contain any direct child elements with data-role="view" attribute set.',Error(i);l.layouts={},l.viewContainer=new o.ViewContainer(l.container),l.viewContainer.bind("accepted",function(t){t.view.params=l.params}),l.viewContainer.bind("complete",function(t){l.trigger(L,{view:t.view})}),l.viewContainer.bind(z,function(){l.trigger(z)}),this.getLayoutProxy=t.proxy(this,"_getLayout"),l._setupLayouts(a),s=a.children(l._locate("modalview drawer")),l.$angular?s.each(function(e,n){C(t(n),function(){})}):r(s),this.bind(this.events,e)},events:[E,z,L,P,M,I,B],destroy:function(){o.destroy(this.container);for(var t in this.layouts)this.layouts[t].destroy()},view:function(){return this.viewContainer.view},showView:function(t,e,n){if(t=t.replace(RegExp("^"+this.remoteViewURLPrefix),""),""===t&&this.remoteViewURLPrefix&&(t="/"),t===this.url)return this.trigger(I),!1;this.trigger(E);var i=this,r=function(n){return i.viewContainer.show(n,e,t)},a=i._findViewElement(t),s=o.widgetInstance(a);return i.url=t,i.params=n,s&&s.reload&&(s.purge(),a=[]),this.trigger(B,{remote:0===a.length,url:t}),a[0]?(s||(s=i._createView(a)),r(s)):(this.serverNavigation?location.href=t:i._loadView(t,r),!0)},append:function(t,e){var n,i,o,a=this.sandbox,s=(e||"").split("?")[0],c=this.container;return A.test(t)&&(t=RegExp.$1),a[0].innerHTML=t,c.append(a.children("script, style")),n=this._hideViews(a),o=n.first(),o.length||(n=o=a.wrapInner("<div data-role=view />").children()),s&&o.hide().attr(l("url"),s),this._setupLayouts(a),i=a.children(this._locate("modalview drawer")),c.append(a.children(this._locate("layout modalview drawer")).add(n)),r(i),this._createView(o)},_locate:function(t){return this.$angular?k(t):b(t)},_findViewElement:function(t){var e,n=t.split("?")[0];return n?(e=this.container.children("["+l("url")+"='"+n+"']"),e[0]||-1!==n.indexOf("/")||(e=this.container.children("#"===n.charAt(0)?n:"#"+n)),e):this.rootView},_createView:function(t){if(this.$angular){var e=this;return C(t,function(t){t.viewOptions={defaultTransition:e.transition,loader:e.loader,container:e.container,getLayout:e.getLayoutProxy}})}return o.initWidget(t,{defaultTransition:this.transition,loader:this.loader,container:this.container,getLayout:this.getLayoutProxy,modelScope:this.modelScope,reload:x(t,"reload")},s.roles)},_getLayout:function(t){return""===t?null:t?this.layouts[t]:this.layouts[this.layout]},_loadView:function(e,n){this._xhr&&this._xhr.abort(),this.trigger(P),this._xhr=t.get(o.absoluteURL(e,this.remoteViewURLPrefix),"html").always(t.proxy(this,"_xhrComplete",n,e))},_xhrComplete:function(t,e,n){var i=!0;"object"==typeof n&&(i=0===n.status&&n.responseText.length>0,n=n.responseText),this.trigger(M),i&&t(this.append(n,e))},_hideViews:function(t){return t.children(this._locate("view splitview")).hide()},_setupLayouts:function(e){var n,i=this;e.children(i._locate("layout")).each(function(){n=i.$angular?C(t(this)):o.initWidget(t(this),{},s.roles);var e=n.options.platform;e&&e!==a.application.os.name?n.destroy():i.layouts[n.options.id]=n})}});o.mobile.ViewEngine=F,s.plugin(S),s.plugin(T)}(window.kendo.jQuery),function(t){var e=window.kendo,n=e.mobile.ui,i=n.Widget,r=t.map(e.eventMap,function(t){return t}).join(" ").split(" "),o=i.extend({init:function(e,n){var r=this,o=t('<div class="km-loader"><span class="km-loading km-spin"></span><span class="km-loading-left"></span><span class="km-loading-right"></span></div>');i.fn.init.call(r,o,n),r.container=e,r.captureEvents=!1,r._attachCapture(),o.append(r.options.loading).hide().appendTo(e)},options:{name:"Loader",loading:"<h1>Loading...</h1>",timeout:100},show:function(){var t=this;clearTimeout(t._loading),t.options.loading!==!1&&(t.captureEvents=!0,t._loading=setTimeout(function(){t.element.show()},t.options.timeout))},hide:function(){this.captureEvents=!1,clearTimeout(this._loading),this.element.hide()},changeMessage:function(t){this.options.loading=t,this.element.find(">h1").html(t)},transition:function(){this.captureEvents=!0,this.container.css("pointer-events","none")},transitionDone:function(){this.captureEvents=!1,this.container.css("pointer-events","")},_attachCapture:function(){function t(t){n.captureEvents&&t.preventDefault()}var e,n=this;for(n.captureEvents=!1,e=0;r.length>e;e++)n.container[0].addEventListener(r[e],t,!0)}});n.plugin(o)}(window.kendo.jQuery),function(t,e){var n=window.kendo,i=n.mobile,r=n.roleSelector,o=i.ui,a=o.Widget,s=i.ViewEngine,l=o.View,c=i.ui.Loader,h="external",d="href",u="#!",f="navigate",p="viewShow",g="sameViewRequested",m=n.support.mobileOS,v=m.ios&&!m.appMode&&m.flatVersion>=700,y=/popover|actionsheet|modalview|drawer/,_="#:back",w=n.attrValue,x="button backbutton detailbutton listview-link",b="tab",k=a.extend({init:function(t,e){var i=this;a.fn.init.call(i,t,e),e=i.options,t=i.element,t.addClass("km-pane"),i.options.collapsible&&t.addClass("km-collapsible-pane"),this.history=[],this.historyCallback=function(t,e,n){var r=i.transition;return i.transition=null,v&&n&&(r="none"),i.viewEngine.showView(t,r,e)},this._historyNavigate=function(t){if(t===_){if(1===i.history.length)return;i.history.pop(),t=i.history[i.history.length-1]}else i.history.push(t);i.historyCallback(t,n.parseQueryStringParams(t))},this._historyReplace=function(t){var e=n.parseQueryStringParams(t);i.history[i.history.length-1]=t,i.historyCallback(t,e)},i.loader=new c(t,{loading:i.options.loading}),i.viewEngine=new s({container:t,transition:e.transition,modelScope:e.modelScope,rootNeeded:!e.initial,serverNavigation:e.serverNavigation,remoteViewURLPrefix:e.root||"",layout:e.layout,$angular:e.$angular,loader:i.loader,showStart:function(){i.loader.transition(),i.closeActiveDialogs()},after:function(){i.loader.transitionDone()},viewShow:function(t){i.trigger(p,t)},loadStart:function(){i.loader.show()},loadComplete:function(){i.loader.hide()},sameViewRequested:function(){i.trigger(g)},viewTypeDetermined:function(t){t.remote&&i.options.serverNavigation||i.trigger(f,{url:t.url})}}),this._setPortraitWidth(),n.onResize(function(){i._setPortraitWidth()}),i._setupAppLinks()},closeActiveDialogs:function(){var e=this.element.find(r("actionsheet popover modalview")).filter(":visible");e.each(function(){n.widgetInstance(t(this),o).close()})},navigateToInitial:function(){var t=this.options.initial;t&&this.navigate(t)},options:{name:"Pane",portraitWidth:"",transition:"",layout:"",collapsible:!1,initial:null,modelScope:window,loading:"<h1>Loading...</h1>"},events:[f,p,g],append:function(t){return this.viewEngine.append(t)},destroy:function(){a.fn.destroy.call(this),this.viewEngine.destroy(),this.userEvents.destroy()},navigate:function(t,e){t instanceof l&&(t=t.id),this.transition=e,this._historyNavigate(t)},replace:function(t,e){t instanceof l&&(t=t.id),this.transition=e,this._historyReplace(t)},bindToRouter:function(t){var e=this,i=e.options,r=i.initial,o=this.viewEngine;t.bind("init",function(e){var i=e.url,a=t.pushState?i:"/";o.rootView.attr(n.attr("url"),a),"/"===i&&r&&(t.navigate(r,!0),e.preventDefault())}),t.bind("routeMissing",function(t){e.historyCallback(t.url,t.params,t.backButtonPressed)||t.preventDefault()}),t.bind("same",function(){e.trigger(g)}),e._historyNavigate=function(e){t.navigate(e)},e._historyReplace=function(e){t.replace(e)}},hideLoading:function(){this.loader.hide()},showLoading:function(){this.loader.show()},changeLoadingMessage:function(t){this.loader.changeMessage(t)},view:function(){return this.viewEngine.view()},_setPortraitWidth:function(){var t,e=this.options.portraitWidth;e&&(t=n.mobile.application.element.is(".km-vertical")?e:"auto",this.element.css("width",t))},_setupAppLinks:function(){var t=this;this.element.handler(this).on("down",r(b),"_mouseup").on("click",r(b+" "+x),"_appLinkClick"),this.userEvents=new n.UserEvents(this.element,{filter:r(x),tap:function(e){e.event.currentTarget=e.touch.currentTarget,t._mouseup(e.event)}})},_appLinkClick:function(e){var n=t(e.currentTarget).attr("href"),i=n&&"#"!==n[0]&&this.options.serverNavigation;i||w(t(e.currentTarget),"rel")==h||e.preventDefault()},_mouseup:function(r){if(!(r.which>1||r.isDefaultPrevented())){var a=this,s=t(r.currentTarget),l=w(s,"transition"),c=w(s,"rel")||"",f=w(s,"target"),p=s.attr(d),g=v&&0===s[0].offsetHeight,m=p&&"#"!==p[0]&&this.options.serverNavigation;g||m||c===h||e===p||p===u||(s.attr(d,u),setTimeout(function(){s.attr(d,p)}),c.match(y)?(n.widgetInstance(t(p),o).openFor(s),("actionsheet"===c||"drawer"===c)&&r.stopPropagation()):("_top"===f?a=i.application.pane:f&&(a=t("#"+f).data("kendoMobilePane")),a.navigate(p,l)),r.preventDefault())}}});k.wrap=function(t){t.is(r("view"))||(t=t.wrap("<div data-"+n.ns+'role="view" data-stretch="true"></div>').parent());var e=t.wrap('<div class="km-pane-wrapper"><div></div></div>').parent(),i=new k(e);return i.navigate(""),i},o.plugin(k)}(window.kendo.jQuery),function(t){var e=window.kendo,n=e.mobile,i=n.ui,r="hide",o="open",a="close",s='<div class="km-popup-wrapper" />',l='<div class="km-popup-arrow" />',c='<div class="km-popup-overlay" />',h="km-up km-down km-left km-right",d=i.Widget,u={down:{origin:"bottom center",position:"top center"},up:{origin:"top center",position:"bottom center"},left:{origin:"center left",position:"center right",collision:"fit flip"},right:{origin:"center right",position:"center left",collision:"fit flip"}},f={animation:{open:{effects:"fade:in",duration:0},close:{effects:"fade:out",duration:400}}},p={horizontal:{offset:"top",size:"height"},vertical:{offset:"left",size:"width"}},g={up:"down",down:"up",left:"right",right:"left"},m=d.extend({init:function(n,i){var o,a,h=this,g=n.closest(".km-modalview-wrapper"),m=n.closest(".km-root").children(".km-pane").first(),v=g[0]?g:m;i.viewport?m=i.viewport:m[0]||(m=window),i.container?v=i.container:v[0]||(v=document.body),o={viewport:m,copyAnchorStyles:!1,autosize:!0,open:function(){h.overlay.show()},activate:t.proxy(h._activate,h),deactivate:function(){h.overlay.hide(),h._apiCall||h.trigger(r),h._apiCall=!1}},d.fn.init.call(h,n,i),n=h.element,i=h.options,n.wrap(s).addClass("km-popup").show(),a=h.options.direction.match(/left|right/)?"horizontal":"vertical",h.dimensions=p[a],h.wrapper=n.parent().css({width:i.width,height:i.height}).addClass("km-popup-wrapper km-"+i.direction).hide(),h.arrow=t(l).prependTo(h.wrapper).hide(),h.overlay=t(c).appendTo(v).hide(),o.appendTo=h.overlay,i.className&&h.overlay.addClass(i.className),h.popup=new e.ui.Popup(h.wrapper,t.extend(!0,o,f,u[i.direction]))},options:{name:"Popup",width:240,height:"",direction:"down",container:null,viewport:null},events:[r],show:function(e){this.popup.options.anchor=t(e),this.popup.open()},hide:function(){this._apiCall=!0,this.popup.close()},destroy:function(){d.fn.destroy.call(this),this.popup.destroy(),this.overlay.remove()},target:function(){return this.popup.options.anchor},_activate:function(){var e=this,n=e.options.direction,i=e.dimensions,r=i.offset,o=e.popup,a=o.options.anchor,s=t(a).offset(),l=t(o.element).offset(),c=o.flipped?g[n]:n,d=2*e.arrow[i.size](),u=e.element[i.size]()-e.arrow[i.size](),f=t(a)[i.size](),p=s[r]-l[r]+f/2;d>p&&(p=d),p>u&&(p=u),e.wrapper.removeClass(h).addClass("km-"+c),e.arrow.css(r,p).show()}}),v=d.extend({init:function(n,r){var o,s=this;s.initialOpen=!1,d.fn.init.call(s,n,r),o=t.extend({className:"km-popover-root",hide:function(){s.trigger(a)}},this.options.popup),s.popup=new m(s.element,o),s.popup.overlay.on("move",function(t){t.target==s.popup.overlay[0]&&t.preventDefault()}),s.pane=new i.Pane(s.element,t.extend(this.options.pane,{$angular:this.options.$angular})),s.pane.navigateToInitial(),e.notify(s,i)},options:{name:"PopOver",popup:{},pane:{}},events:[o,a],open:function(t){this.popup.show(t),this.initialOpen?this.pane.view()._invokeNgController():(this.pane.navigate(""),this.popup.popup._position(),this.initialOpen=!0)},openFor:function(t){this.open(t),this.trigger(o,{target:this.popup.target()})},close:function(){this.popup.hide()},destroy:function(){d.fn.destroy.call(this),this.pane.destroy(),this.popup.destroy(),e.destroy(this.element)}});i.plugin(m),i.plugin(v)}(window.kendo.jQuery),function(t,e){var n=window.kendo,i=n.mobile.ui,r=n.ui.Popup,o='<div class="km-shim"/>',a="hide",s=i.Widget,l=s.extend({init:function(e,i){var l=this,c=n.mobile.application,h=n.support.mobileOS,d=c?c.os.name:h?h.name:"ios",u="ios"===d||"wp"===d||(c?c.os.skin:!1),f="blackberry"===d,p=i.align||(u?"bottom center":f?"center right":"center center"),g=i.position||(u?"bottom center":f?"center right":"center center"),m=i.effect||(u?"slideIn:up":f?"slideIn:left":"fade:in"),v=t(o).handler(l).hide();s.fn.init.call(l,e,i),l.shim=v,e=l.element,i=l.options,i.className&&l.shim.addClass(i.className),i.modal||l.shim.on("up","_hide"),(c?c.element:t(document.body)).append(v),l.popup=new r(l.element,{anchor:v,modal:!0,appendTo:v,origin:p,position:g,animation:{open:{effects:m,duration:i.duration},close:{duration:i.duration}},close:function(t){var e=!1;l._apiCall||(e=l.trigger(a)),e&&t.preventDefault(),l._apiCall=!1},deactivate:function(){v.hide()},open:function(){v.show()}}),n.notify(l)},events:[a],options:{name:"Shim",modal:!1,align:e,position:e,effect:e,duration:200},show:function(){this.popup.open()},hide:function(){this._apiCall=!0,this.popup.close()},destroy:function(){s.fn.destroy.call(this),this.shim.kendoDestroy(),this.popup.destroy(),this.shim.remove()},_hide:function(e){e&&t.contains(this.shim.children().children(".k-popup")[0],e.target)||this.popup.close()}});i.plugin(l)}(window.kendo.jQuery),function(t){var e=window.kendo,n=e.mobile.ui,i=n.Shim,r=n.Widget,o="beforeOpen",a="open",s="close",l="init",c='<div class="km-modalview-wrapper" />',h=n.View.extend({init:function(t,e){var n=this;r.fn.init.call(n,t,e),n._id(),n._wrap(),n._shim(),this.options.$angular||(n._layout(),n._scroller(),n._model()),n.element.css("display",""),n.trigger(l)},events:[l,o,a,s],options:{name:"ModalView",modal:!0,width:null,height:null},destroy:function(){r.fn.destroy.call(this),this.shim.destroy()},open:function(e){var n=this;n.target=t(e),n.shim.show(),n._invokeNgController(),n.trigger("show",{view:n})},openFor:function(t){this.trigger(o,{target:t})||(this.open(t),this.trigger(a,{target:t}))},close:function(){this.element.is(":visible")&&!this.trigger(s)&&this.shim.hide()},_wrap:function(){var t,e,n=this,i=n.element,r=n.options;t=i[0].style.width||"auto",e=i[0].style.height||"auto",i.addClass("km-modalview").wrap(c),n.wrapper=i.parent().css({width:r.width||t||300,height:r.height||e||300}).addClass("auto"==e?" km-auto-height":""),i.css({width:"",height:""})},_shim:function(){var t=this;t.shim=new i(t.wrapper,{modal:t.options.modal,position:"center center",align:"center center",effect:"fade:in",className:"km-modalview-root",hide:function(e){t.trigger(s)&&e.preventDefault()}})}});n.plugin(h)}(window.kendo.jQuery),function(t,e){var n=window.kendo,i=n.mobile,r=n.support.mobileOS,o=n.effects.Transition,a=n.roleSelector,s="x",l=i.ui,c=!(r.ios&&7==r.majorVersion&&!r.appMode),h="beforeShow",d="init",u="show",f="hide",p="afterHide",g={enable:t.noop},m=l.View.extend({init:function(e,r){var o,s,l,h,u;if(t(e).parent().prepend(e),i.ui.Widget.fn.init.call(this,e,r),this.options.$angular||(this._layout(),this._scroller()),this._model(),o=this.element.closest(a("pane")).data("kendoMobilePane"))this.pane=o,this.pane.bind("viewShow",function(t){h._viewShow(t)}),this.pane.bind("sameViewRequested",function(){h.hide()}),s=this.userEvents=new n.UserEvents(o.element,{filter:a("view splitview"),allowSelection:!0});else{if(this.currentView=g,l=t(this.options.container),!l)throw Error("The drawer needs a container configuration option set.");s=this.userEvents=new n.UserEvents(l,{allowSelection:!0}),this._attachTransition(l)}h=this,u=function(t){h.visible&&(h.hide(),t.preventDefault())},this.options.swipeToOpen&&c?(s.bind("press",function(){h.transition.cancel()}),s.bind("start",function(t){h._start(t)}),s.bind("move",function(t){h._update(t)}),s.bind("end",function(t){h._end(t)}),s.bind("tap",u)):s.bind("press",u),this.leftPositioned="left"===this.options.position,this.visible=!1,this.element.hide().addClass("km-drawer").addClass(this.leftPositioned?"km-left-drawer":"km-right-drawer"),this.trigger(d)},options:{name:"Drawer",position:"left",views:[],swipeToOpenViews:[],swipeToOpen:!0,title:"",container:null},events:[h,f,p,d,u],show:function(){this._activate()&&this._show()},hide:function(){this.currentView&&(this.currentView.enable(),m.current=null,this._moveViewTo(0),this.trigger(f,{view:this}))},openFor:function(){this.visible?this.hide():this.show()},destroy:function(){l.View.fn.destroy.call(this),this.userEvents.destroy()},_activate:function(){if(this.visible)return!0;var t=this._currentViewIncludedIn(this.options.views);return!t||this.trigger(h,{view:this})?!1:(this._setAsCurrent(),this.element.show(),this.trigger(u,{view:this}),this._invokeNgController(),!0)},_currentViewIncludedIn:function(e){if(!this.pane||!e.length)return!0;var n=this.pane.view();return t.inArray(n.id.replace("#",""),e)>-1||t.inArray(n.element.attr("id"),e)>-1},_show:function(){this.currentView.enable(!1),this.visible=!0;var t=this.element.width();this.leftPositioned||(t=-t),this._moveViewTo(t)},_setAsCurrent:function(){m.last!==this&&(m.last&&m.last.element.hide(),this.element.show()),m.last=this,m.current=this},_moveViewTo:function(t){this.userEvents.cancel(),this.transition.moveTo({location:t,duration:400,ease:o.easeOutExpo})},_viewShow:function(t){return this.currentView&&this.currentView.enable(),this.currentView===t.view?(this.hide(),e):(this.currentView=t.view,this._attachTransition(t.view.element),e)},_attachTransition:function(t){var e=this,i=this.movable,r=i&&i.x;this.transition&&(this.transition.cancel(),this.movable.moveAxis("x",0)),i=this.movable=new n.ui.Movable(t),this.transition=new o({axis:s,movable:this.movable,onEnd:function(){0===i[s]&&(t[0].style.cssText="",e.element.hide(),e.trigger(p),e.visible=!1)}}),r&&(t.addClass("k-fx-hidden"),n.animationFrame(function(){t.removeClass("k-fx-hidden"),e.movable.moveAxis(s,r),e.hide()}))},_start:function(t){var i,r,o,a,s,l=t.sender;return Math.abs(t.x.velocity)<Math.abs(t.y.velocity)||n.triggeredByInput(t.event)||!this._currentViewIncludedIn(this.options.swipeToOpenViews)?(l.cancel(),e):(i=this.leftPositioned,r=this.visible,o=i&&r||!i&&!m.current,a=!i&&r||i&&!m.current,s=0>t.x.velocity,(o&&s||a&&!s)&&this._activate()?(l.capture(),e):(l.cancel(),e))},_update:function(t){var e,n=this.movable,i=n.x+t.x.delta;e=this.leftPositioned?Math.min(Math.max(0,i),this.element.width()):Math.max(Math.min(0,i),-this.element.width()),this.movable.moveAxis(s,e),t.event.preventDefault(),t.event.stopPropagation()},_end:function(t){var e,n=t.x.velocity,i=Math.abs(this.movable.x)>this.element.width()/2,r=.8;e=this.leftPositioned?n>-r&&(n>r||i):r>n&&(-r>n||i),e?this._show():this.hide()}});l.plugin(m)}(window.kendo.jQuery),function(t){var e=window.kendo,n=e.mobile.ui,i=n.Widget,r="<div class='km-expanded-pane-shim' />",o=n.View,a=o.extend({init:function(o,a){var s,l,c=this;i.fn.init.call(c,o,a),o=c.element,t.extend(c,a),c._id(),c.options.$angular?c._overlay():(c._layout(),c._overlay()),c._style(),l=o.children(c._locate("modalview")),c.options.$angular?l.each(function(n,i){e.compileMobileDirective(t(i))}):e.mobile.init(l),c.panes=[],c._paramsHistory=[],c.options.$angular?c.element.children(e.directiveSelector("pane")).each(function(){s=e.compileMobileDirective(t(this)),c.panes.push(s)}):c.content.children(e.roleSelector("pane")).each(function(){s=e.initWidget(this,{},n.roles),c.panes.push(s)}),c.expandedPaneShim=t(r).appendTo(c.element),c._shimUserEvents=new e.UserEvents(c.expandedPaneShim,{tap:function(){c.collapsePanes()}})},_locate:function(t){return this.options.$angular?e.directiveSelector(t):e.roleSelector(t)},options:{name:"SplitView",style:"horizontal"},expandPanes:function(){this.element.addClass("km-expanded-splitview")},collapsePanes:function(){this.element.removeClass("km-expanded-splitview")},_layout:function(){var t=this,n=t.element;t.transition=e.attrValue(n,"transition"),e.mobile.ui.View.prototype._layout.call(this),e.mobile.init(this.header.add(this.footer)),t.element.addClass("km-splitview"),t.content.addClass("km-split-content")},_style:function(){var e,n=this.options.style,i=this.element;n&&(e=n.split(" "),t.each(e,function(){i.addClass("km-split-"+this)}))},showStart:function(){var e=this;e.element.css("display",""),e.inited||(e.inited=!0,t.each(e.panes,function(){this.options.initial?this.navigateToInitial():this.navigate("")}),e.trigger("init",{view:e})),e.trigger("show",{view:e})}});n.plugin(a)}(window.kendo.jQuery),function(t,e){function n(t,e){var n=[];return p&&n.push("km-on-"+p.name),n.push(t.skin?"km-"+t.skin:"ios"==t.name&&t.majorVersion>6?"km-ios7":"km-"+t.name),("ios"==t.name&&7>t.majorVersion||"ios"!=t.name)&&n.push("km-"+t.name+t.majorVersion),n.push("km-"+t.majorVersion),n.push("km-m"+(t.minorVersion?t.minorVersion[0]:0)),t.variant&&(t.skin&&t.skin===t.name||!t.skin)&&n.push("km-"+(t.skin?t.skin:t.name)+"-"+t.variant),t.cordova&&n.push("km-cordova"),n.push(t.appMode?"km-app":"km-web"),e&&e.statusBarStyle&&n.push("km-"+e.statusBarStyle+"-status-bar"),n.join(" ")}function i(e){return"km-wp-"+(e.noVariantSet?0===parseInt(t("<div style='background: Background' />").css("background-color").split(",")[1],10)?"dark":"light":e.variant+" km-wp-"+e.variant+"-force")}function r(t){return p.wp?"-kendo-landscape"==t.css("animation-name"):Math.abs(window.orientation)/90==1}function o(t){return r(t)?w:m}function a(t){t.parent().addBack().css("min-height",window.innerHeight)}function s(){t("meta[name=viewport]").remove(),z.append(b({height:", width=device-width"+(r()?", height="+window.innerHeight+"px":h.mobileOS.flatVersion>=600&&700>h.mobileOS.flatVersion?", height="+window.innerWidth+"px":", height=device-height")}))}var l=window.kendo,c=l.mobile,h=l.support,d=c.ui.Widget,u=c.ui.Pane,f="ios7",p=h.mobileOS,g="blackberry"==p.device&&p.flatVersion>=600&&1e3>p.flatVersion&&p.appMode,m="km-vertical",v="chrome"===p.browser,y=p.ios&&p.flatVersion>=700&&800>p.flatVersion&&(p.appMode||v),_=Math.abs(window.orientation)/90==1,w="km-horizontal",x={ios7:{ios:!0,browser:"default",device:"iphone",flatVersion:"700",majorVersion:"7",minorVersion:"0.0",name:"ios",tablet:!1},ios:{ios:!0,browser:"default",device:"iphone",flatVersion:"612",majorVersion:"6",minorVersion:"1.2",name:"ios",tablet:!1},android:{android:!0,browser:"default",device:"android",flatVersion:"442",majorVersion:"4",minorVersion:"4.2",name:"android",tablet:!1},blackberry:{blackberry:!0,browser:"default",device:"blackberry",flatVersion:"710",majorVersion:"7",minorVersion:"1.0",name:"blackberry",tablet:!1},meego:{meego:!0,browser:"default",device:"meego",flatVersion:"850",majorVersion:"8",minorVersion:"5.0",name:"meego",tablet:!1},wp:{wp:!0,browser:"default",device:"wp",flatVersion:"800",majorVersion:"8",minorVersion:"0.0",name:"wp",tablet:!1}},b=l.template('<meta content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no#=data.height#" name="viewport" />',{usedWithBlock:!1}),k=l.template('<meta name="apple-mobile-web-app-capable" content="#= data.webAppCapable === false ? \'no\' : \'yes\' #" /> <meta name="apple-mobile-web-app-status-bar-style" content="#=data.statusBarStyle#" /> <meta name="msapplication-tap-highlight" content="no" /> ',{usedWithBlock:!1}),C=l.template("<style>.km-view { clip: rect(0 #= data.width #px #= data.height #px 0); }</style>",{usedWithBlock:!1}),S=p.android&&"chrome"!=p.browser||p.blackberry,T=b({height:""}),D=l.template('<link rel="apple-touch-icon'+(p.android?"-precomposed":"")+'" # if(data.size) { # sizes="#=data.size#" #}# href="#=data.icon#" />',{usedWithBlock:!1}),A=("iphone"==p.device||"ipod"==p.device)&&7>p.majorVersion,P=("iphone"==p.device||"ipod"==p.device)&&p.majorVersion>=7,M=P?"none":null,E="mobilesafari"==p.browser?60:0,I=20,L=t(window),B=window.screen,z=t("head"),F="init",R=t.proxy,O=d.extend({init:function(e,n){e=t(e),e[0]||(e=t(document.body)),c.application=this,d.fn.init.call(this,e,n),this.element.removeAttr("data-"+l.ns+"role"),t(t.proxy(this,"bootstrap"))},bootstrap:function(){var e,n,i;this._setupPlatform(),this._attachMeta(),this._setupElementClass(),this._attachHideBarHandlers(),e=t.extend({},this.options),delete e.name,n=this,i=function(){n.pane=new u(n.element,e),n.pane.navigateToInitial(),n.options.updateDocumentTitle&&n._setupDocumentTitle(),n._startHistory(),n.trigger(F)},this.options.$angular?setTimeout(i):i()},options:{name:"Application",hideAddressBar:!0,historyTransition:M,modelScope:window,statusBarStyle:"black",transition:"",platform:null,skin:null,updateDocumentTitle:!0,useNativeScrolling:!1},events:[F],navigate:function(t,e){this.pane.navigate(t,e)},replace:function(t,e){this.pane.replace(t,e)},scroller:function(){return this.view().scroller},hideLoading:function(){if(!this.pane)throw Error("The mobile application instance is not fully instantiated. Please consider activating loading in the application init event handler.");this.pane.hideLoading()},showLoading:function(){if(!this.pane)throw Error("The mobile application instance is not fully instantiated. Please consider activating loading in the application init event handler.");this.pane.showLoading()},changeLoadingMessage:function(t){if(!this.pane)throw Error("The mobile application instance is not fully instantiated. Please consider changing the message in the application init event handler.");this.pane.changeLoadingMessage(t)},view:function(){return this.pane.view()},skin:function(t){var e=this;return arguments.length?(e.options.skin=t||"",e.element[0].className="km-pane",e._setupPlatform(),e._setupElementClass(),e.options.skin):e.options.skin},destroy:function(){d.fn.destroy.call(this),this.pane.destroy(),this.router.destroy()},_setupPlatform:function(){var e=this,r=e.options.platform,o=e.options.skin,a=[],s=p||x[f];r&&("string"==typeof r?(a=r.split("-"),s=t.extend({variant:a[1]},s,x[a[0]])):s=r),o&&(a=o.split("-"),s=t.extend({},s,{skin:a[0],variant:a[1]})),s.variant||(s.noVariantSet=!0,s.variant="dark"),e.os=s,e.osCssClass=n(e.os,e.options),"wp"==s.name&&(e.refreshBackgroundColorProxy||(e.refreshBackgroundColorProxy=t.proxy(function(){(e.os.variant&&e.os.skin&&e.os.skin===e.os.name||!e.os.skin)&&e.element.removeClass("km-wp-dark km-wp-light km-wp-dark-force km-wp-light-force").addClass(i(e.os))},e)),t(document).off("visibilitychange",e.refreshBackgroundColorProxy),t(document).off("resume",e.refreshBackgroundColorProxy),s.skin||(e.element.parent().css("overflow","hidden"),t(document).on("visibilitychange",e.refreshBackgroundColorProxy),t(document).on("resume",e.refreshBackgroundColorProxy),e.refreshBackgroundColorProxy()))},_startHistory:function(){this.router=new l.Router({pushState:this.options.pushState,root:this.options.root,hashBang:this.options.hashBang}),this.pane.bindToRouter(this.router),this.router.start()},_resizeToScreenHeight:function(){var e,n=t("meta[name=apple-mobile-web-app-status-bar-style]").attr("content").match(/black-translucent|hidden/),i=this.element;e=v?window.innerHeight:r(i)?n?_?B.availWidth+I:B.availWidth:_?B.availWidth:B.availWidth-I:n?_?B.availHeight:B.availHeight+I:_?B.availHeight-I:B.availHeight,i.height(e)},_setupElementClass:function(){var e,n=this,i=n.element;i.parent().addClass("km-root km-"+(n.os.tablet?"tablet":"phone")),i.addClass(n.osCssClass+" "+o(i)),this.options.useNativeScrolling&&i.parent().addClass("km-native-scrolling"),v&&i.addClass("km-ios-chrome"),h.wpDevicePixelRatio&&i.parent().css("font-size",h.wpDevicePixelRatio+"em"),g&&s(),n.options.useNativeScrolling?i.parent().addClass("km-native-scrolling"):S&&(e=(screen.availWidth>screen.availHeight?screen.availWidth:screen.availHeight)+200,t(C({width:e,height:e})).appendTo(z)),y&&n._resizeToScreenHeight(),l.onResize(function(){i.removeClass("km-horizontal km-vertical").addClass(o(i)),n.options.useNativeScrolling&&a(i),y&&n._resizeToScreenHeight(),g&&s(),l.resize(i)})},_clearExistingMeta:function(){z.find("meta").filter("[name|='apple-mobile-web-app'],[name|='msapplication-tap'],[name='viewport']").remove()},_attachMeta:function(){var t,e=this.options,n=e.icon;if(this._clearExistingMeta(),g||z.prepend(T),z.prepend(k(e)),n){"string"==typeof n&&(n={"":n});for(t in n)z.prepend(D({icon:n[t],size:t}))}e.useNativeScrolling&&a(this.element)},_attachHideBarHandlers:function(){var t=this,e=R(t,"_hideBar");!h.mobileOS.appMode&&t.options.hideAddressBar&&A&&!t.options.useNativeScrolling&&(t._initialHeight={},L.on("load",e),l.onResize(function(){setTimeout(window.scrollTo,0,0,1)}))},_setupDocumentTitle:function(){var t=this,n=document.title;t.pane.bind("viewShow",function(t){var i=t.view.title;document.title=i!==e?i:n})},_hideBar:function(){var e=this,n=e.element;n.height(l.support.transforms.css+"calc(100% + "+E+"px)"),t(window).trigger(l.support.resize)}});l.mobile.Application=O,l.ui.plugin(O,l.mobile,"Mobile")}(window.kendo.jQuery),function(t){var e=window.kendo,n=e.support,i=e.mobile.ui,r=i.Shim,o=i.Popup,a=i.Widget,s="open",l="close",c="command",h="li>a",d="actionsheetContext",u='<div class="km-actionsheet-wrapper" />',f=e.template('<li class="km-actionsheet-cancel"><a href="\\#">#:cancel#</a></li>'),p=a.extend({init:function(s,l){var c,d,p,g=this,m=n.mobileOS;a.fn.init.call(g,s,l),l=g.options,p=l.type,s=g.element,d="auto"===p?m&&m.tablet:"tablet"===p,c=d?o:r,l.cancelTemplate&&(f=e.template(l.cancelTemplate)),s.addClass("km-actionsheet").append(f({cancel:g.options.cancel})).wrap(u).on("up",h,"_click").on("click",h,e.preventDefault),g.view().bind("destroy",function(){g.destroy()}),g.wrapper=s.parent().addClass(p?" km-actionsheet-"+p:""),g.shim=new c(g.wrapper,t.extend({modal:m.ios&&7>m.majorVersion,className:"km-actionsheet-root"},g.options.popup)),g._closeProxy=t.proxy(g,"_close"),g.shim.bind("hide",g._closeProxy),d&&e.onResize(g._closeProxy),e.notify(g,i)},events:[s,l,c],options:{name:"ActionSheet",cancel:"Cancel",type:"auto",popup:{height:"auto"}},open:function(e,n){var i=this;
i.target=t(e),i.context=n,i.shim.show(e)},close:function(){this.context=this.target=null,this.shim.hide()},openFor:function(t){var e=this,n=t.data(d);e.open(t,n),e.trigger(s,{target:t,context:n})},destroy:function(){a.fn.destroy.call(this),e.unbindResize(this._closeProxy),this.shim.destroy()},_click:function(n){var i,r,o,a;n.isDefaultPrevented()||(i=t(n.currentTarget),r=i.data("action"),r&&(o={target:this.target,context:this.context},a=this.options.$angular,a?this.element.injector().get("$parse")(r)(a[0])(o):e.getter(r)(window)(o)),this.trigger(c,{target:this.target,context:this.context,currentTarget:i}),n.preventDefault(),this._close())},_close:function(t){this.trigger(l)?t.preventDefault():this.close()}});i.plugin(p)}(window.kendo.jQuery),function(t,e){function n(e,n,i){t(n.target).closest(".km-button,.km-detail").toggleClass("km-state-active",i),h&&e.deactivateTimeoutID&&(clearTimeout(e.deactivateTimeoutID),e.deactivateTimeoutID=0)}function i(e){return t('<span class="km-badge">'+e+"</span>")}var r=window.kendo,o=r.mobile,a=o.ui,s=a.Widget,l=r.support,c=l.mobileOS,h=c.android&&c.flatVersion>=300,d="click",u="disabled",f="km-state-disabled",p=s.extend({init:function(t,e){var i=this;s.fn.init.call(i,t,e),i._wrap(),i._style(),i.options.enable=i.options.enable&&!i.element.attr(u),i.enable(i.options.enable),i._userEvents=new r.UserEvents(i.element,{press:function(t){i._activate(t)},tap:function(t){i._release(t)},release:function(t){n(i,t,!1)}}),h&&i.element.on("move",function(t){i._timeoutDeactivate(t)})},destroy:function(){s.fn.destroy.call(this),this._userEvents.destroy()},events:[d],options:{name:"Button",icon:"",style:"",badge:"",enable:!0},badge:function(t){var e=this.badgeElement=this.badgeElement||i(t).appendTo(this.element);return t||0===t?(e.html(t),this):t===!1?(e.empty().remove(),this.badgeElement=!1,this):e.html()},enable:function(t){var n=this.element;e===t&&(t=!0),this.options.enable=t,t?n.removeAttr(u):n.attr(u,u),n.toggleClass(f,!t)},_timeoutDeactivate:function(t){this.deactivateTimeoutID||(this.deactivateTimeoutID=setTimeout(n,500,this,t,!1))},_activate:function(t){var e=document.activeElement,i=e?e.nodeName:"";this.options.enable&&(n(this,t,!0),("INPUT"==i||"TEXTAREA"==i)&&e.blur())},_release:function(n){var i=this;if(!(n.which>1))return i.options.enable?(i.trigger(d,{target:t(n.target),button:i.element})&&n.preventDefault(),e):(n.preventDefault(),e)},_style:function(){var e,n=this.options.style,i=this.element;n&&(e=n.split(" "),t.each(e,function(){i.addClass("km-"+this)}))},_wrap:function(){var e=this,n=e.options.icon,r=e.options.badge,o='<span class="km-icon km-'+n,a=e.element.addClass("km-button"),s=a.children("span:not(.km-icon)").addClass("km-text"),l=a.find("img").addClass("km-image");!s[0]&&a.html()&&(s=a.wrapInner('<span class="km-text" />').children("span.km-text")),!l[0]&&n&&(s[0]||(o+=" km-notext"),e.iconElement=a.prepend(t(o+'" />'))),(r||0===r)&&(e.badgeElement=i(r).appendTo(a))}}),g=p.extend({options:{name:"BackButton",style:"back"},init:function(t,n){var i=this;p.fn.init.call(i,t,n),e===i.element.attr("href")&&i.element.attr("href","#:back")}}),m=p.extend({options:{name:"DetailButton",style:""},init:function(t,e){p.fn.init.call(this,t,e)},_style:function(){var e,n=this.options.style+" detail",i=this.element;n&&(e=n.split(" "),t.each(e,function(){i.addClass("km-"+this)}))},_wrap:function(){var e=this,n=e.options.icon,i='<span class="km-icon km-'+n,r=e.element,o=r.children("span"),a=r.find("img").addClass("km-image");!a[0]&&n&&(o[0]||(i+=" km-notext"),r.prepend(t(i+'" />')))}});a.plugin(p),a.plugin(g),a.plugin(m)}(window.kendo.jQuery),function(t,e){function n(e){return t('<span class="km-badge">'+e+"</span>")}var i=window.kendo,r=i.mobile.ui,o=r.Widget,a="km-state-active",s="km-state-disabled",l="select",c="li:not(."+a+")",h=o.extend({init:function(t,e){var n=this;o.fn.init.call(n,t,e),n.element.addClass("km-buttongroup").find("li").each(n._button),n.element.on(n.options.selectOn,c,"_select"),n._enable=!0,n.select(n.options.index),n.options.enable||(n._enable=!1,n.wrapper.addClass(s))},events:[l],options:{name:"ButtonGroup",selectOn:"down",index:-1,enable:!0},current:function(){return this.element.find("."+a)},select:function(n){var i=this,r=-1;n!==e&&-1!==n&&i._enable&&!t(n).is("."+s)&&(i.current().removeClass(a),"number"==typeof n?(r=n,n=t(i.element[0].children[n])):n.nodeType&&(n=t(n),r=n.index()),n.addClass(a),i.selectedIndex=r)},badge:function(e,i){var r,o=this.element;return isNaN(e)||(e=o.children().get(e)),e=o.find(e),r=t(e.children(".km-badge")[0]||n(i).appendTo(e)),i||0===i?(r.html(i),this):i===!1?(r.empty().remove(),this):r.html()},enable:function(t){var n=this.wrapper;e===t&&(t=!0),t?n.removeClass(s):n.addClass(s),this._enable=this.options.enable=t},_button:function(){var e=t(this).addClass("km-button"),r=i.attrValue(e,"icon"),o=i.attrValue(e,"badge"),a=e.children("span"),s=e.find("img").addClass("km-image");a[0]||(a=e.wrapInner("<span/>").children("span")),a.addClass("km-text"),!s[0]&&r&&e.prepend(t('<span class="km-icon km-'+r+'"/>')),(o||0===o)&&n(o).appendTo(e)},_select:function(t){t.which>1||t.isDefaultPrevented()||!this._enable||(this.select(t.currentTarget),this.trigger(l,{index:this.selectedIndex}))}});r.plugin(h)}(window.kendo.jQuery),function(t,e){function n(){return this.nodeType===v.TEXT_NODE&&this.nodeValue.match(U)}function i(t,e){e&&!t[0].querySelector(".km-icon")&&t.prepend('<span class="km-icon km-'+e+'"/>')}function r(t){i(t,T(t,"icon")),i(t,T(t.children(C),"icon"))}function o(t){var e=t.parent(),r=t.add(e.children(m.roleSelector("detailbutton"))),o=e.contents().not(r).not(n);o.length||(t.addClass("km-listview-link").attr(m.attr("role"),"listview-link"),i(t,T(e,"icon")),i(t,T(t,"icon")))}function a(t){if(t[0].querySelector("input[type=checkbox],input[type=radio]")){var e=t.parent();e.contents().not(t).not(function(){return 3==this.nodeType})[0]||(t.addClass("km-listview-label"),t.children("[type=checkbox],[type=radio]").addClass("km-widget km-icon km-check"))}}function s(e,n){t(e).css("transform","translate3d(0px, "+n+"px, 0px)")}var l,c,h,d,u,f,p,g,m=window.kendo,v=window.Node,y=m.mobile,_=y.ui,w=m.data.DataSource,x=_.DataBoundWidget,b=".km-list > li, > li:not(.km-group-container)",k=".km-listview-link, .km-listview-label",C="["+m.attr("icon")+"]",S=t.proxy,T=m.attrValue,D="km-group-title",A="km-state-active",P='<div class="'+D+'"><div class="km-text"></div></div>',M=m.template('<li><div class="'+D+'"><div class="km-text">#= this.headerTemplate(data) #</div></div><ul>#= kendo.render(this.template, data.items)#</ul></li>'),E='<div class="km-listview-wrapper" />',I=m.template('<form class="km-filter-form"><div class="km-filter-wrap"><input type="search" placeholder="#=placeholder#"/><a href="\\#" class="km-filter-reset" title="Clear"><span class="km-icon km-clear"></span><span class="km-text">Clear</span></a></div></form>'),L=".kendoMobileListView",B="styled",z="dataBound",F="dataBinding",R="itemChange",O="click",N="change",V="progress",H="function",U=/^\s+$/,W=/button/,j=m.Class.extend({init:function(t){var e,n,i=t.scroller();i&&(this.options=t.options,this.element=t.element,this.scroller=t.scroller(),this._shouldFixHeaders(),e=this,n=function(){e._cacheHeaders()},t.bind("resize",n),t.bind(B,n),t.bind(z,n),i.bind("scroll",function(t){e._fixHeader(t)}))},_fixHeader:function(e){if(this.fixedHeaders){var n,i,r,o=0,a=this.scroller,s=this.headers,l=e.scrollTop;do{if(n=s[o++],!n){r=t("<div />");break}i=n.offset,r=n.header}while(i+1>l);this.currentHeader!=o&&(a.fixedContainer.html(r.clone()),this.currentHeader=o)}},_shouldFixHeaders:function(){this.fixedHeaders="group"===this.options.type&&this.options.fixedHeaders},_cacheHeaders:function(){if(this._shouldFixHeaders(),this.fixedHeaders){var e=[],n=this.scroller.scrollTop;this.element.find("."+D).each(function(i,r){r=t(r),e.unshift({offset:r.position().top+n,header:r})}),this.headers=e,this._fixHeader({scrollTop:n})}}}),G=function(){return{page:1}},q=m.Class.extend({init:function(t){var e=this,n=t.options,i=t.scroller(),r=n.pullParameters||G;this.listView=t,this.scroller=i,t.bind("_dataSource",function(t){e.setDataSource(t.dataSource)}),i.setOptions({pullToRefresh:!0,pull:function(){e._pulled||(e._pulled=!0,e.dataSource.read(r.call(t,e._first)))},pullTemplate:n.messages.pullTemplate,releaseTemplate:n.messages.releaseTemplate,refreshTemplate:n.messages.refreshTemplate})},setDataSource:function(t){var e=this;this._first=t.view()[0],this.dataSource=t,t.bind("change",function(){e._change()}),t.bind("error",function(){e._change()})},_change:function(){var t,e=this.scroller,n=this.dataSource;this._pulled&&e.pullHandled(),(this._pulled||!this._first)&&(t=n.view(),t[0]&&(this._first=t[0])),this._pulled=!1}}),$=m.Observable.extend({init:function(t){var e=this;m.Observable.fn.init.call(e),e.buffer=t.buffer,e.height=t.height,e.item=t.item,e.items=[],e.footer=t.footer,e.buffer.bind("reset",function(){e.refresh()})},refresh:function(){for(var t,e,n,i,r=this.buffer,o=this.items,a=!1;o.length;)o.pop().destroy();for(this.offset=r.offset,t=this.item,i=0;r.viewSize>i;i++){if(i===r.total()){a=!0;break}n=t(this.content(this.offset+o.length)),n.below(e),e=n,o.push(n)}this.itemCount=o.length,this.trigger("reset"),this._resize(),a&&this.trigger("endReached")},totalHeight:function(){if(!this.items[0])return 0;var t=this,e=t.items,n=e[0].top,i=e[e.length-1].bottom,r=(i-n)/t.itemCount,o=t.buffer.length-t.offset-t.itemCount;return(this.footer?this.footer.height:0)+i+o*r},batchUpdate:function(t){var e,n,i=this.height(),r=this.items,o=this.offset;if(r[0]){if(this.lastDirection)for(;r[r.length-1].bottom>t+2*i&&0!==this.offset;)this.offset--,e=r.pop(),e.update(this.content(this.offset)),e.above(r[0]),r.unshift(e);else for(;t-i>r[0].top;){if(n=this.offset+this.itemCount,n===this.buffer.total()){this.trigger("endReached");break}if(n===this.buffer.length)break;e=r.shift(),e.update(this.content(this.offset+this.itemCount)),e.below(r[r.length-1]),r.push(e),this.offset++}o!==this.offset&&this._resize()}},update:function(t){var e,n,i,r,o=this,a=this.items,s=this.height(),l=this.itemCount,c=s/2,h=(this.lastTop||0)>t,d=t-c,u=t+s+c;a[0]&&(this.lastTop=t,this.lastDirection=h,h?a[0].top>d&&a[a.length-1].bottom>u+c&&this.offset>0&&(this.offset--,e=a.pop(),n=a[0],e.update(this.content(this.offset)),a.unshift(e),e.above(n),o._resize()):u>a[a.length-1].bottom&&d-c>a[0].top&&(r=this.offset+l,r===this.buffer.total()?this.trigger("endReached"):r!==this.buffer.length&&(e=a.shift(),i=a[a.length-1],a.push(e),e.update(this.content(this.offset+this.itemCount)),o.offset++,e.below(i),o._resize())))},content:function(t){return this.buffer.at(t)},destroy:function(){this.unbind()},_resize:function(){var t=this.items,e=0,n=0,i=t[0],r=t[t.length-1];i&&(e=i.top,n=r.bottom),this.trigger("resize",{top:e,bottom:n}),this.footer&&this.footer.below(r)}});m.mobile.ui.VirtualList=$,l=m.Class.extend({init:function(e,n){var i=e.append([n],!0)[0],r=i.offsetHeight;t.extend(this,{top:0,element:i,listView:e,height:r,bottom:r})},update:function(t){this.element=this.listView.setDataItem(this.element,t)},above:function(t){t&&(this.height=this.element.offsetHeight,this.top=t.top-this.height,this.bottom=t.top,s(this.element,this.top))},below:function(t){t&&(this.height=this.element.offsetHeight,this.top=t.bottom,this.bottom=this.top+this.height,s(this.element,this.top))},destroy:function(){m.destroy(this.element),t(this.element).remove()}}),c='<div><span class="km-icon"></span><span class="km-loading-left"></span><span class="km-loading-right"></span></div>',h=m.Class.extend({init:function(e){this.element=t('<li class="km-load-more km-scroller-refresh" style="display: none"></li>').appendTo(e.element),this._loadIcon=t(c).appendTo(this.element)},enable:function(){this.element.show(),this.height=this.element.outerHeight(!0)},disable:function(){this.element.hide(),this.height=0},below:function(t){t&&(this.top=t.bottom,this.bottom=this.height+this.top,s(this.element,this.top))}}),d=h.extend({init:function(e,n){this._loadIcon=t(c).hide(),this._loadButton=t('<a class="km-load">'+e.options.messages.loadMoreText+"</a>").hide(),this.element=t('<li class="km-load-more" style="display: none"></li>').append(this._loadIcon).append(this._loadButton).appendTo(e.element);var i=this;this._loadButton.kendoMobileButton().data("kendoMobileButton").bind("click",function(){i._hideShowButton(),n.next()}),n.bind("resize",function(){i._showLoadButton()}),this.height=this.element.outerHeight(!0),this.disable()},_hideShowButton:function(){this._loadButton.hide(),this.element.addClass("km-scroller-refresh"),this._loadIcon.css("display","block")},_showLoadButton:function(){this._loadButton.show(),this.element.removeClass("km-scroller-refresh"),this._loadIcon.hide()}}),u=m.Class.extend({init:function(t){var e=this;this.chromeHeight=t.wrapper.children().not(t.element).outerHeight()||0,this.listView=t,this.scroller=t.scroller(),this.options=t.options,t.bind("_dataSource",function(t){e.setDataSource(t.dataSource,t.empty)}),t.bind("resize",function(){e.list.items.length&&(e.scroller.reset(),e.buffer.range(0),e.list.refresh())}),this.scroller.makeVirtual(),this.scroller.bind("scroll",function(t){e.list.update(t.scrollTop)}),this.scroller.bind("scrollEnd",function(t){e.list.batchUpdate(t.scrollTop)})},destroy:function(){this.list.unbind(),this.buffer.unbind()},setDataSource:function(e,n){var i,r,o,a,s=this,c=this.options,u=this.listView,f=u.scroller(),p=c.loadMore;if(this.dataSource=e,i=e.pageSize()||c.virtualViewSize,!i&&!n)throw Error("the DataSource does not have page size configured. Page Size setting is mandatory for the mobile listview virtual scrolling to work as expected.");this.buffer&&this.buffer.destroy(),r=new m.data.Buffer(e,Math.floor(i/2),p),o=p?new d(u,r):new h(u),this.list&&this.list.destroy(),a=new $({buffer:r,footer:o,item:function(t){return new l(u,t)},height:function(){return f.height()}}),a.bind("resize",function(){s.updateScrollerSize()}),a.bind("reset",function(){s.footer.enable()}),a.bind("endReached",function(){o.disable(),s.updateScrollerSize()}),r.bind("expand",function(){a.lastDirection=!1,a.batchUpdate(f.scrollTop)}),t.extend(this,{buffer:r,scroller:f,list:a,footer:o})},updateScrollerSize:function(){this.scroller.virtualSize(0,this.list.totalHeight()+this.chromeHeight)},refresh:function(){this.list.refresh()},reset:function(){this.buffer.range(0),this.list.refresh()}}),f=m.Class.extend({init:function(t){var e,n=this;this.listView=t,this.options=t.options,e=this,this._refreshHandler=function(t){e.refresh(t)},this._progressHandler=function(){t.showLoading()},t.bind("_dataSource",function(t){n.setDataSource(t.dataSource)})},destroy:function(){this._unbindDataSource()},reset:function(){},refresh:function(t){var n,i,r,o,a,s,l,c=t&&t.action,h=t&&t.items,d=this.listView,u=this.dataSource,f=this.options.appendOnRefresh,p=u.view(),g=u.group(),m=g&&g[0];return"itemchange"===c?(n=d.findByDataItem(h)[0],n&&d.setDataItem(n,h[0]),e):(a="add"===c&&!m||f&&!d._filter,s="remove"===c&&!m,a?i=[]:s&&(i=d.findByDataItem(h)),d.trigger(F,{action:c||"rebind",items:h,removedItems:i,index:t&&t.index})?(this._shouldShowLoading()&&d.hideLoading(),e):("add"!==c||m?"remove"!==c||m?m?d.replaceGrouped(p):f&&!d._filter?(r=d.prepend(p),o=p):d.replace(p):(r=[],d.remove(h)):(l=p.indexOf(h[0]),l>-1&&(r=d.insertAt(h,l),o=h)),this._shouldShowLoading()&&d.hideLoading(),d.trigger(z,{ns:_,addedItems:r,addedDataItems:o}),e))},setDataSource:function(t){this.dataSource&&this._unbindDataSource(),this.dataSource=t,t.bind(N,this._refreshHandler),this._shouldShowLoading()&&this.dataSource.bind(V,this._progressHandler)},_unbindDataSource:function(){this.dataSource.unbind(N,this._refreshHandler).unbind(V,this._progressHandler)},_shouldShowLoading:function(){var t=this.options;return!t.pullToRefresh&&!t.loadMore&&!t.endlessScroll}}),p=m.Class.extend({init:function(t){var e=this,n=t.options.filterable,i="change paste";this.listView=t,this.options=n,t.element.before(I({placeholder:n.placeholder||"Search..."})),n.autoFilter!==!1&&(i+=" keyup"),this.element=t.wrapper.find(".km-search-form"),this.searchInput=t.wrapper.find("input[type=search]").closest("form").on("submit"+L,function(t){t.preventDefault()}).end().on("focus"+L,function(){e._oldFilter=e.searchInput.val()}).on(i.split(" ").join(L+" ")+L,S(this._filterChange,this)),this.clearButton=t.wrapper.find(".km-filter-reset").on(O,S(this,"_clearFilter")).hide()},_search:function(t){this._filter=!0,this.clearButton[t?"show":"hide"](),this.listView.dataSource.filter(t)},_filterChange:function(t){var e=this;"paste"==t.type&&this.options.autoFilter!==!1?setTimeout(function(){e._applyFilter()},1):this._applyFilter()},_applyFilter:function(){var t=this.options,e=this.searchInput.val(),n=e.length?{field:t.field,operator:t.operator||"startsWith",ignoreCase:t.ignoreCase,value:e}:null;e!==this._oldFilter&&(this._oldFilter=e,this._search(n))},_clearFilter:function(t){this.searchInput.val(""),this._search(null),t.preventDefault()}}),g=x.extend({init:function(t,e){var n=this;x.fn.init.call(this,t,e),t=this.element,e=this.options,e.scrollTreshold&&(e.scrollThreshold=e.scrollTreshold),t.on("down",k,"_highlight").on("move up cancel",k,"_dim"),this._userEvents=new m.UserEvents(t,{filter:b,allowSelection:!0,tap:function(t){n._click(t)}}),t.css("-ms-touch-action","auto"),t.wrap(E),this.wrapper=this.element.parent(),this._headerFixer=new j(this),this._itemsCache={},this._templates(),this.virtual=e.endlessScroll||e.loadMore,this._style(),this.options.filterable&&(this._filter=new p(this)),this._itemBinder=this.virtual?new u(this):new f(this),this.options.pullToRefresh&&(this._pullToRefreshHandler=new q(this)),this.setDataSource(e.dataSource),this._enhanceItems(this.items()),m.notify(this,_)},events:[O,F,z,R],options:{name:"ListView",style:"",type:"flat",autoBind:!0,fixedHeaders:!1,template:"#:data#",headerTemplate:'<span class="km-text">#:value#</span>',appendOnRefresh:!1,loadMore:!1,endlessScroll:!1,scrollThreshold:30,pullToRefresh:!1,messages:{loadMoreText:"Press to load more",pullTemplate:"Pull to refresh",releaseTemplate:"Release to refresh",refreshTemplate:"Refreshing"},pullOffset:140,filterable:!1,virtualViewSize:null},refresh:function(){this._itemBinder.refresh()},reset:function(){this._itemBinder.reset()},setDataSource:function(t){var e=!t;this.dataSource=w.create(t),this.trigger("_dataSource",{dataSource:this.dataSource,empty:e}),this.options.autoBind&&!e&&(this.items().remove(),this.dataSource.fetch())},destroy:function(){x.fn.destroy.call(this),m.destroy(this.element),this._userEvents.destroy(),this._itemBinder&&this._itemBinder.destroy(),this.element.unwrap(),delete this.element,delete this.wrapper,delete this._userEvents},items:function(){return"group"===this.options.type?this.element.find(".km-list").children():this.element.children().not(".km-load-more")},scroller:function(){return this._scrollerInstance||(this._scrollerInstance=this.element.closest(".km-scroll-wrapper").data("kendoMobileScroller")),this._scrollerInstance},showLoading:function(){var t=this.view();t&&t.loader&&t.loader.show()},hideLoading:function(){var t=this.view();t&&t.loader&&t.loader.hide()},insertAt:function(t,e,n){var i=this;return i._renderItems(t,function(r){if(0===e?i.element.prepend(r):-1===e?i.element.append(r):i.items().eq(e-1).after(r),n)for(var o=0;r.length>o;o++)i.trigger(R,{item:r.eq(o),data:t[o],ns:_})})},append:function(t,e){return this.insertAt(t,-1,e)},prepend:function(t,e){return this.insertAt(t,0,e)},replace:function(t){return this.options.type="flat",this._angularItems("cleanup"),this.element.empty(),this._style(),this.insertAt(t,0)},replaceGrouped:function(e){this.options.type="group",this._angularItems("cleanup"),this.element.empty();var n=t(m.render(this.groupTemplate,e));this._enhanceItems(n.children("ul").children("li")),this.element.append(n),y.init(n),this._style(),this._angularItems("compile")},remove:function(t){var e=this.findByDataItem(t);this.angular("cleanup",function(){return{elements:e}}),m.destroy(e),e.remove()},findByDataItem:function(t){var e,n,i=[];for(e=0,n=t.length;n>e;e++)i[e]="[data-"+m.ns+"uid="+t[e].uid+"]";return this.element.find(i.join(","))},setDataItem:function(e,n){var i=this,r=function(r){var o=t(r[0]);m.destroy(e),t(e).replaceWith(o),i.trigger(R,{item:o,data:n,ns:_})};return this._renderItems([n],r)[0]},_renderItems:function(e,n){var i=t(m.render(this.template,e));return this.angular("compile",function(){return{elements:i,data:e.map(function(t){return{dataItem:t}})}}),n(i),y.init(i),this._enhanceItems(i),i},_dim:function(t){this._toggle(t,!1)},_highlight:function(t){this._toggle(t,!0)},_toggle:function(e,n){if(!(e.which>1)){var i=t(e.currentTarget),r=i.parent(),o=T(i,"role")||"",a=!o.match(W),s=e.isDefaultPrevented();a&&r.toggleClass(A,n&&!s)}},_templates:function(){var t=this.options.template,e=this.options.headerTemplate,n=' data-uid="#=arguments[0].uid || ""#"',i={},r={};typeof t===H&&(i.template=t,t="#=this.template(data)#"),this.template=S(m.template("<li"+n+">"+t+"</li>"),i),r.template=this.template,typeof e===H&&(r._headerTemplate=e,e="#=this._headerTemplate(data)#"),r.headerTemplate=m.template(e),this.groupTemplate=S(M,r)},_click:function(e){if(!(e.event.which>1||e.event.isDefaultPrevented())){var n,i=e.target,r=t(e.event.target),o=r.closest(m.roleSelector("button","detailbutton","backbutton")),a=m.widgetInstance(o,_),s=i.attr(m.attr("uid"));s&&(n=this.dataSource.getByUid(s)),this.trigger(O,{target:r,item:i,dataItem:n,button:a})&&e.preventDefault()}},_styleGroups:function(){var e=this.element.children();e.children("ul").addClass("km-list"),e.each(function(){var e=t(this),n=e.contents().first();e.addClass("km-group-container"),n.is("ul")||n.is("div."+D)||n.wrap(P)})},_style:function(){var t=this.options,e="group"===t.type,n=this.element,i="inset"===t.style;n.addClass("km-listview").toggleClass("km-list",!e).toggleClass("km-virtual-list",this.virtual).toggleClass("km-listinset",!e&&i).toggleClass("km-listgroup",e&&!i).toggleClass("km-listgroupinset",e&&i),n.parents(".km-listview")[0]||n.closest(".km-content").toggleClass("km-insetcontent",i),e&&this._styleGroups(),this.trigger(B)},_enhanceItems:function(e){e.each(function(){var e,n=t(this),i=!1;n.children().each(function(){e=t(this),e.is("a")?(o(e),i=!0):e.is("label")&&(a(e),i=!0)}),i||r(n)})}}),_.plugin(g)}(window.kendo.jQuery),function(t,e){function n(n,i){var o=i.find("["+r.attr("align")+"="+n+"]");return o[0]?t('<div class="km-'+n+'item" />').append(o).prependTo(i):e}function i(e){var n=e.siblings(),i=!!e.children("ul")[0],r=!!n[0]&&""===t.trim(e.text());e.prevAll().toggleClass("km-absolute",i),e.toggleClass("km-show-title",r),e.toggleClass("km-fill-title",r&&!t.trim(e.html())),e.toggleClass("km-no-title",i),e.toggleClass("km-hide-title","hidden"==e.css("visibility")&&!n.children().is(":visible"))}var r=window.kendo,o=r.mobile,a=o.ui,s=a.Widget,l=s.extend({init:function(e,i){var r=this;s.fn.init.call(r,e,i),e=r.element,r.container().bind("show",t.proxy(this,"refresh")),e.addClass("km-navbar").wrapInner(t('<div class="km-view-title km-show-title" />')),r.leftElement=n("left",e),r.rightElement=n("right",e),r.centerElement=e.find(".km-view-title")},options:{name:"NavBar"},title:function(t){this.element.find(r.roleSelector("view-title")).text(t),i(this.centerElement)},refresh:function(t){var e=t.view;e.options.title?this.title(e.options.title):i(this.centerElement)},destroy:function(){s.fn.destroy.call(this),r.destroy(this.element)}});a.plugin(l)}(window.kendo.jQuery),function(t,e){var n,i,r,o,a,s,l,c,h=window.kendo,d=h.mobile,u=d.ui,f=t.proxy,p=h.effects.Transition,g=h.ui.Pane,m=h.ui.PaneDimensions,v=u.DataBoundWidget,y=h.data.DataSource,_=h.data.Buffer,w=h.data.BatchBuffer,x=Math,b=x.abs,k=x.ceil,C=x.round,S=x.max,T=x.min,D=x.floor,A="change",P="changing",M="refresh",E="km-current-page",I="km-virtual-page",L="function",B="itemChange",z="cleanup",F=3,R=-1,O=0,N=1,V=-1,H=0,U=1,W=h.Class.extend({init:function(e){var n=this,i=t("<ol class='km-pages'/>");e.element.append(i),this._changeProxy=f(n,"_change"),this._refreshProxy=f(n,"_refresh"),e.bind(A,this._changeProxy),e.bind(M,this._refreshProxy),t.extend(n,{element:i,scrollView:e})},items:function(){return this.element.children()},_refresh:function(t){var e,n="";for(e=0;t.pageCount>e;e++)n+="<li/>";this.element.html(n),this.items().eq(t.page).addClass(E)},_change:function(t){this.items().removeClass(E).eq(t.page).addClass(E)},destroy:function(){this.scrollView.unbind(A,this._changeProxy),this.scrollView.unbind(M,this._refreshProxy),this.element.remove()}});h.mobile.ui.ScrollViewPager=W,n="transitionEnd",i="dragStart",r="dragEnd",o=h.Observable.extend({init:function(e,o){var a,s,l,c,d,u,f=this;h.Observable.fn.init.call(this),this.element=e,this.container=e.parent(),a=new h.ui.Movable(f.element),s=new p({axis:"x",movable:a,onEnd:function(){f.trigger(n)}}),l=new h.UserEvents(e,{start:function(t){2*b(t.x.velocity)>=b(t.y.velocity)?l.capture():l.cancel(),f.trigger(i,t),s.cancel()},allowSelection:!0,end:function(t){f.trigger(r,t)}}),c=new m({element:f.element,container:f.container}),d=c.x,d.bind(A,function(){f.trigger(A)}),u=new g({dimensions:c,userEvents:l,movable:a,elastic:!0}),t.extend(f,{duration:o&&o.duration||1,movable:a,transition:s,userEvents:l,dimensions:c,dimension:d,pane:u}),this.bind([n,i,r,A],o)},size:function(){return{width:this.dimensions.x.getSize(),height:this.dimensions.y.getSize()}},total:function(){return this.dimension.getTotal()},offset:function(){return-this.movable.x},updateDimension:function(){this.dimension.update(!0)},refresh:function(){this.dimensions.refresh()},moveTo:function(t){this.movable.moveAxis("x",-t)},transitionTo:function(t,e,n){n?this.moveTo(-t):this.transition.moveTo({location:t,duration:this.duration,ease:e})}}),h.mobile.ui.ScrollViewElasticPane=o,a=h.Observable.extend({init:function(t,e,n){var i=this;h.Observable.fn.init.call(this),i.element=t,i.pane=e,i._getPages(),this.page=0,this.pageSize=n.pageSize||1,this.contentHeight=n.contentHeight,this.enablePager=n.enablePager},scrollTo:function(t,e){this.page=t,this.pane.transitionTo(-t*this.pane.size().width,p.easeOutExpo,e)},paneMoved:function(t,e,n,i){var r,o,a=this,s=a.pane,l=s.size().width*a.pageSize,c=C,h=e?p.easeOutBack:p.easeOutExpo;t===V?c=k:t===U&&(c=D),o=c(s.offset()/l),r=S(a.minSnap,T(-o*l,a.maxSnap)),o!=a.page&&n&&n({currentPage:a.page,nextPage:o})&&(r=-a.page*s.size().width),s.transitionTo(r,h,i)},updatePage:function(){var t=this.pane,e=C(t.offset()/t.size().width);return e!=this.page?(this.page=e,!0):!1},forcePageUpdate:function(){return this.updatePage()},resizeTo:function(t){var e,n,i=this.pane,r=t.width;this.pageElements.width(r),"100%"===this.contentHeight&&(e=this.element.parent().height(),this.enablePager===!0&&(n=this.element.parent().find("ol.km-pages"),n.length&&(e-=n.outerHeight(!0))),this.element.css("height",e),this.pageElements.css("height",e)),i.updateDimension(),this._paged||(this.page=D(i.offset()/r)),this.scrollTo(this.page,!0),this.pageCount=k(i.total()/r),this.minSnap=-(this.pageCount-1)*r,this.maxSnap=0},_getPages:function(){this.pageElements=this.element.find(h.roleSelector("page")),this._paged=this.pageElements.length>0}}),h.mobile.ui.ScrollViewContent=a,s=h.Observable.extend({init:function(t,e,n){var i=this;h.Observable.fn.init.call(this),i.element=t,i.pane=e,i.options=n,i._templates(),i.page=n.page||0,i.pages=[],i._initPages(),i.resizeTo(i.pane.size()),i.pane.dimension.forceEnabled()},setDataSource:function(t){this.dataSource=y.create(t),this._buffer(),this._pendingPageRefresh=!1,this._pendingWidgetRefresh=!1},_viewShow:function(){var t=this;t._pendingWidgetRefresh&&(setTimeout(function(){t._resetPages()},0),t._pendingWidgetRefresh=!1)},_buffer:function(){var t=this.options.itemsPerPage;this.buffer&&this.buffer.destroy(),this.buffer=t>1?new w(this.dataSource,t):new _(this.dataSource,3*t),this._resizeProxy=f(this,"_onResize"),this._resetProxy=f(this,"_onReset"),this._endReachedProxy=f(this,"_onEndReached"),this.buffer.bind({resize:this._resizeProxy,reset:this._resetProxy,endreached:this._endReachedProxy})},_templates:function(){var t=this.options.template,e=this.options.emptyTemplate,n={},i={};typeof t===L&&(n.template=t,t="#=this.template(data)#"),this.template=f(h.template(t),n),typeof e===L&&(i.emptyTemplate=e,e="#=this.emptyTemplate(data)#"),this.emptyTemplate=f(h.template(e),i)},_initPages:function(){var t,e,n=this.pages,i=this.element;for(e=0;F>e;e++)t=new l(i),n.push(t);this.pane.updateDimension()},resizeTo:function(t){var e,n,i,r=this.pages,o=this.pane;for(e=0;r.length>e;e++)r[e].setWidth(t.width);"auto"===this.options.contentHeight?this.element.css("height",this.pages[1].element.height()):"100%"===this.options.contentHeight&&(n=this.element.parent().height(),this.options.enablePager===!0&&(i=this.element.parent().find("ol.km-pages"),i.length&&(n-=i.outerHeight(!0))),this.element.css("height",n),r[0].element.css("height",n),r[1].element.css("height",n),r[2].element.css("height",n)),o.updateDimension(),this._repositionPages(),this.width=t.width},scrollTo:function(t){var e,n=this.buffer;n.syncDataSource(),e=n.at(t),e&&(this._updatePagesContent(t),this.page=t)},paneMoved:function(t,e,n,i){var r,o=this,a=o.pane,s=a.size().width,l=a.offset(),c=Math.abs(l)>=s/3,d=e?h.effects.Transition.easeOutBack:h.effects.Transition.easeOutExpo,u=o.page+2>o.buffer.total(),f=0;t===U?0!==o.page&&(f=-1):t!==V||u?l>0&&c&&!u?f=1:0>l&&c&&0!==o.page&&(f=-1):f=1,r=o.page,f&&(r=f>0?r+1:r-1),n&&n({currentPage:o.page,nextPage:r})&&(f=0),0===f?o._cancelMove(d,i):-1===f?o._moveBackward(i):1===f&&o._moveForward(i)},updatePage:function(){var t=this.pages;return 0===this.pane.offset()?!1:(this.pane.offset()>0?(t.push(this.pages.shift()),this.page++,this.setPageContent(t[2],this.page+1)):(t.unshift(this.pages.pop()),this.page--,this.setPageContent(t[0],this.page-1)),this._repositionPages(),this._resetMovable(),!0)},forcePageUpdate:function(){var t=this.pane.offset(),e=3*this.pane.size().width/4;return b(t)>e?this.updatePage():!1},_resetMovable:function(){this.pane.moveTo(0)},_moveForward:function(t){this.pane.transitionTo(-this.width,h.effects.Transition.easeOutExpo,t)},_moveBackward:function(t){this.pane.transitionTo(this.width,h.effects.Transition.easeOutExpo,t)},_cancelMove:function(t,e){this.pane.transitionTo(0,t,e)},_resetPages:function(){this.page=this.options.page||0,this._updatePagesContent(this.page),this._repositionPages(),this.trigger("reset")},_onResize:function(){this.pageCount=k(this.dataSource.total()/this.options.itemsPerPage),this._pendingPageRefresh&&(this._updatePagesContent(this.page),this._pendingPageRefresh=!1),this.trigger("resize")},_onReset:function(){this.pageCount=k(this.dataSource.total()/this.options.itemsPerPage),this._resetPages()},_onEndReached:function(){this._pendingPageRefresh=!0},_repositionPages:function(){var t=this.pages;t[0].position(R),t[1].position(O),t[2].position(N)},_updatePagesContent:function(t){var e=this.pages,n=t||0;this.setPageContent(e[0],n-1),this.setPageContent(e[1],n),this.setPageContent(e[2],n+1)},setPageContent:function(e,n){var i=this.buffer,r=this.template,o=this.emptyTemplate,a=null;n>=0&&(a=i.at(n),t.isArray(a)&&!a.length&&(a=null)),this.trigger(z,{item:e.element}),e.content(null!==a?r(a):o({})),h.mobile.init(e.element),this.trigger(B,{item:e.element,data:a,ns:h.mobile.ui})}}),h.mobile.ui.VirtualScrollViewContent=s,l=h.Class.extend({init:function(e){this.element=t("<div class='"+I+"'></div>"),this.width=e.width(),this.element.width(this.width),e.append(this.element)},content:function(t){this.element.html(t)},position:function(t){this.element.css("transform","translate3d("+this.width*t+"px, 0, 0)")},setWidth:function(t){this.width=t,this.element.width(t)}}),h.mobile.ui.VirtualPage=l,c=v.extend({init:function(t,e){var n,i,r,l=this;v.fn.init.call(l,t,e),e=l.options,t=l.element,h.stripWhitespace(t[0]),t.wrapInner("<div/>").addClass("km-scrollview"),this.options.enablePager&&(this.pager=new W(this)),l.inner=t.children().first(),l.page=0,l.inner.css("height",e.contentHeight),l.pane=new o(l.inner,{duration:this.options.duration,transitionEnd:f(this,"_transitionEnd"),dragStart:f(this,"_dragStart"),dragEnd:f(this,"_dragEnd"),change:f(this,M)}),l.bind("resize",function(){l.pane.refresh()
}),l.page=e.page,n=0===this.inner.children().length,i=n?new s(l.inner,l.pane,e):new a(l.inner,l.pane,e),i.page=l.page,i.bind("reset",function(){l._syncWithContent(),l.trigger(M,{pageCount:i.pageCount,page:i.page})}),i.bind("resize",function(){l.trigger(M,{pageCount:i.pageCount,page:i.page})}),i.bind(B,function(t){l.trigger(B,t),l.angular("compile",function(){return{elements:t.item,data:[{dataItem:t.data}]}})}),i.bind(z,function(t){l.angular("cleanup",function(){return{elements:t.item}})}),l._content=i,l.setDataSource(e.dataSource),r=l.container(),r.nullObject?(l.viewInit(),l.viewShow()):r.bind("show",f(this,"viewShow")).bind("init",f(this,"viewInit"))},options:{name:"ScrollView",page:0,duration:400,velocityThreshold:.8,contentHeight:"auto",pageSize:1,itemsPerPage:1,bounceVelocityThreshold:1.6,enablePager:!0,autoBind:!0,template:"",emptyTemplate:""},events:[P,A,M],destroy:function(){v.fn.destroy.call(this),h.destroy(this.element)},viewInit:function(){this.options.autoBind&&this._content.scrollTo(this._content.page,!0)},viewShow:function(){this.pane.refresh()},refresh:function(){var t=this._content;t.resizeTo(this.pane.size()),this.page=t.page,this.trigger(M,{pageCount:t.pageCount,page:t.page})},content:function(t){this.element.children().first().html(t),this._content._getPages(),this.pane.refresh()},value:function(t){var n=this.dataSource;return t?(this.scrollTo(n.indexOf(t),!0),e):n.at(this.page)},scrollTo:function(t,e){this._content.scrollTo(t,e),this._syncWithContent()},prev:function(){var t=this,n=t.page-1;t._content instanceof s?t._content.paneMoved(U,e,function(e){return t.trigger(P,e)}):n>-1&&t.scrollTo(n)},next:function(){var t=this,n=t.page+1;t._content instanceof s?t._content.paneMoved(V,e,function(e){return t.trigger(P,e)}):t._content.pageCount>n&&t.scrollTo(n)},setDataSource:function(t){if(this._content instanceof s){var e=!t;this.dataSource=y.create(t),this._content.setDataSource(this.dataSource),this.options.autoBind&&!e&&this.dataSource.fetch()}},items:function(){return this.element.find("."+I)},_syncWithContent:function(){var t,n,i=this._content.pages,r=this._content.buffer;this.page=this._content.page,t=r?r.at(this.page):e,t instanceof Array||(t=[t]),n=i?i[1].element:e,this.trigger(A,{page:this.page,element:n,data:t})},_dragStart:function(){this._content.forcePageUpdate()&&this._syncWithContent()},_dragEnd:function(t){var e=this,n=t.x.velocity,i=this.options.velocityThreshold,r=H,o=b(n)>this.options.bounceVelocityThreshold;n>i?r=U:-i>n&&(r=V),this._content.paneMoved(r,o,function(t){return e.trigger(P,t)})},_transitionEnd:function(){this._content.updatePage()&&this._syncWithContent()}}),u.plugin(c)}(window.kendo.jQuery),function(t,e){function n(t,e,n){return Math.max(e,Math.min(n,t))}var i=window.kendo,r=i.mobile.ui,o=r.Widget,a=i.support,s="change",l="km-switch-on",c="km-switch-off",h="margin-left",d="km-state-active",u="km-state-disabled",f="disabled",p=a.transitions.css+"transform",g=t.proxy,m='<span class="km-switch km-widget">        <span class="km-switch-wrapper"><span class="km-switch-background"></span></span>         <span class="km-switch-container"><span class="km-switch-handle" >             <span class="km-switch-label-on">{0}</span>             <span class="km-switch-label-off">{1}</span>         </span>     </span>',v=o.extend({init:function(e,n){var r,a=this;o.fn.init.call(a,e,n),n=a.options,a.wrapper=t(i.format(m,n.onLabel,n.offLabel)),a.handle=a.wrapper.find(".km-switch-handle"),a.background=a.wrapper.find(".km-switch-background"),a.wrapper.insertBefore(a.element).prepend(a.element),a._drag(),a.origin=parseInt(a.background.css(h),10),a.constrain=0,a.snapPoint=0,e=a.element[0],e.type="checkbox",a._animateBackground=!0,r=a.options.checked,null===r&&(r=e.checked),a.check(r),a.options.enable=a.options.enable&&!a.element.attr(f),a.enable(a.options.enable),a.refresh(),i.notify(a,i.mobile.ui)},refresh:function(){var t=this,e=t.handle.outerWidth(!0);t.width=t.wrapper.width(),t.constrain=t.width-e,t.snapPoint=t.constrain/2,"number"!=typeof t.origin&&(t.origin=parseInt(t.background.css(h),10)),t.background.data("origin",t.origin),t.check(t.element[0].checked)},events:[s],options:{name:"Switch",onLabel:"on",offLabel:"off",checked:null,enable:!0},check:function(t){var n=this,i=n.element[0];return t===e?i.checked:(n._position(t?n.constrain:0),i.checked=t,n.wrapper.toggleClass(l,t).toggleClass(c,!t),e)},value:function(){return this.check.apply(this,arguments)},destroy:function(){o.fn.destroy.call(this),this.userEvents.destroy()},toggle:function(){var t=this;t.check(!t.element[0].checked)},enable:function(t){var n=this.element,i=this.wrapper;e===t&&(t=!0),this.options.enable=t,t?n.removeAttr(f):n.attr(f,f),i.toggleClass(u,!t)},_resize:function(){this.refresh()},_move:function(t){var e=this;t.preventDefault(),e._position(n(e.position+t.x.delta,0,e.width-e.handle.outerWidth(!0)))},_position:function(t){var e=this;e.position=t,e.handle.css(p,"translatex("+t+"px)"),e._animateBackground&&e.background.css(h,e.origin+t)},_start:function(){this.options.enable?(this.userEvents.capture(),this.handle.addClass(d)):this.userEvents.cancel()},_stop:function(){var t=this;t.handle.removeClass(d),t._toggle(t.position>t.snapPoint)},_toggle:function(t){var e,n=this,r=n.handle,o=n.element[0],a=o.checked,h=i.mobile.application&&i.mobile.application.os.wp?100:200;n.wrapper.toggleClass(l,t).toggleClass(c,!t),n.position=e=t*n.constrain,n._animateBackground&&n.background.kendoStop(!0,!0).kendoAnimate({effects:"slideMargin",offset:e,reset:!0,reverse:!t,axis:"left",duration:h}),r.kendoStop(!0,!0).kendoAnimate({effects:"slideTo",duration:h,offset:e+"px,0",reset:!0,complete:function(){a!==t&&(o.checked=t,n.trigger(s,{checked:t}))}})},_drag:function(){var t=this;t.userEvents=new i.UserEvents(t.wrapper,{tap:function(){t.options.enable&&t._toggle(!t.element[0].checked)},start:g(t._start,t),move:g(t._move,t),end:g(t._stop,t)})}});r.plugin(v)}(window.kendo.jQuery),function(t){function e(e){return t('<span class="km-badge">'+e+"</span>")}var n=window.kendo,i=n.mobile.ui,r=i.Widget,o="km-state-active",a="select",s=r.extend({init:function(e,n){var i=this;r.fn.init.call(i,e,n),i.container().bind("show",t.proxy(this,"refresh")),i.element.addClass("km-tabstrip").find("a").each(i._buildButton).eq(i.options.selectedIndex).addClass(o),i.element.on("down","a","_release")},events:[a],switchTo:function(e){var n,i,r=this.element.find("a"),o=0,a=r.length;if(!isNaN(e))return this._setActiveItem(r.eq(e)),!0;for(;a>o;o++)if(n=r[o],i=n.href.replace(/(\#.+)(\?.+)$/,"$1"),-1!==i.indexOf(e,i.length-e.length))return this._setActiveItem(t(n)),!0;return!1},switchByFullUrl:function(t){var e;e=this.element.find("a[href$='"+t+"']"),this._setActiveItem(e)},clear:function(){this.currentItem().removeClass(o)},currentItem:function(){return this.element.children("."+o)},badge:function(n,i){var r,o=this.element;return isNaN(n)||(n=o.children().get(n)),n=o.find(n),r=t(n.find(".km-badge")[0]||e(i).insertAfter(n.children(".km-icon"))),i||0===i?(r.html(i),this):i===!1?(r.empty().remove(),this):r.html()},_release:function(e){if(!(e.which>1)){var n=this,i=t(e.currentTarget);i[0]!==n.currentItem()[0]&&(n.trigger(a,{item:i})?e.preventDefault():n._setActiveItem(i))}},_setActiveItem:function(t){t[0]&&(this.clear(),t.addClass(o))},_buildButton:function(){var i=t(this),r=n.attrValue(i,"icon"),o=n.attrValue(i,"badge"),a=i.find("img"),s=t('<span class="km-icon"/>');i.addClass("km-button").attr(n.attr("role"),"tab").contents().not(a).wrapAll('<span class="km-text"/>'),a[0]?a.addClass("km-image").prependTo(i):(i.prepend(s),r&&(s.addClass("km-"+r),(o||0===o)&&e(o).insertAfter(s)))},refresh:function(t){var e=t.view.element.attr(n.attr("url"));!this.switchTo(t.view.id)&&e&&this.switchTo(e)},options:{name:"TabStrip",selectedIndex:0,enable:!0}});i.plugin(s)}(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(_,f){f()});